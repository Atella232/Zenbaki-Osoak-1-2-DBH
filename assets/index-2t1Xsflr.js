(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function t1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jp={exports:{}},Qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function wN(){if(zx)return Qc;zx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:n,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Qc.Fragment=e,Qc.jsx=s,Qc.jsxs=s,Qc}var Ux;function EN(){return Ux||(Ux=1,Jp.exports=wN()),Jp.exports}var y=EN(),eg={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function TN(){if(Bx)return Le;Bx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function k(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function B(z,ee,le){this.props=z,this.context=ee,this.refs=V,this.updater=le||j}B.prototype.isReactComponent={},B.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function H(z,ee,le){this.props=z,this.context=ee,this.refs=V,this.updater=le||j}var ce=H.prototype=new Q;ce.constructor=H,D(ce,B.prototype),ce.isPureReactComponent=!0;var oe=Array.isArray;function de(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(z,ee,le){var he=le.ref;return{$$typeof:n,type:z,key:ee,ref:he!==void 0?he:null,props:le}}function P(z,ee){return N(z.type,ee,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function q(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return ee[le]})}var M=/\/+/g;function Ge(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):ee.toString(36)}function tt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(de,de):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,ee,le,he,Se){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var me=!1;if(z===null)me=!0;else switch(De){case"bigint":case"string":case"number":me=!0;break;case"object":switch(z.$$typeof){case n:case e:me=!0;break;case v:return me=z._init,X(me(z._payload),ee,le,he,Se)}}if(me)return Se=Se(z),me=he===""?"."+Ge(z,0):he,oe(Se)?(le="",me!=null&&(le=me.replace(M,"$&/")+"/"),X(Se,ee,le,"",function(Un){return Un})):Se!=null&&(L(Se)&&(Se=P(Se,le+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+me)),ee.push(Se)),1;me=0;var Et=he===""?".":he+":";if(oe(z))for(var ot=0;ot<z.length;ot++)he=z[ot],De=Et+Ge(he,ot),me+=X(he,ee,le,De,Se);else if(ot=k(z),typeof ot=="function")for(z=ot.call(z),ot=0;!(he=z.next()).done;)he=he.value,De=Et+Ge(he,ot++),me+=X(he,ee,le,De,Se);else if(De==="object"){if(typeof z.then=="function")return X(tt(z),ee,le,he,Se);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return me}function re(z,ee,le){if(z==null)return z;var he=[],Se=0;return X(z,he,"","",function(De){return ee.call(le,De,Se++)}),he}function te(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var Ae=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ie={map:re,forEach:function(z,ee,le){re(z,function(){ee.apply(this,arguments)},le)},count:function(z){var ee=0;return re(z,function(){ee++}),ee},toArray:function(z){return re(z,function(ee){return ee})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Le.Activity=_,Le.Children=Ie,Le.Component=B,Le.Fragment=s,Le.Profiler=o,Le.PureComponent=H,Le.StrictMode=r,Le.Suspense=m,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Le.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Le.cache=function(z){return function(){return z.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(z,ee,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var he=D({},z.props),Se=z.key;if(ee!=null)for(De in ee.key!==void 0&&(Se=""+ee.key),ee)!S.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(he[De]=ee[De]);var De=arguments.length-2;if(De===1)he.children=le;else if(1<De){for(var me=Array(De),Et=0;Et<De;Et++)me[Et]=arguments[Et+2];he.children=me}return N(z.type,Se,he)},Le.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},Le.createElement=function(z,ee,le){var he,Se={},De=null;if(ee!=null)for(he in ee.key!==void 0&&(De=""+ee.key),ee)S.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=ee[he]);var me=arguments.length-2;if(me===1)Se.children=le;else if(1<me){for(var Et=Array(me),ot=0;ot<me;ot++)Et[ot]=arguments[ot+2];Se.children=Et}if(z&&z.defaultProps)for(he in me=z.defaultProps,me)Se[he]===void 0&&(Se[he]=me[he]);return N(z,De,Se)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:h,render:z}},Le.isValidElement=L,Le.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:te}},Le.memo=function(z,ee){return{$$typeof:g,type:z,compare:ee===void 0?null:ee}},Le.startTransition=function(z){var ee=C.T,le={};C.T=le;try{var he=z(),Se=C.S;Se!==null&&Se(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(de,Ae)}catch(De){Ae(De)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),C.T=ee}},Le.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Le.use=function(z){return C.H.use(z)},Le.useActionState=function(z,ee,le){return C.H.useActionState(z,ee,le)},Le.useCallback=function(z,ee){return C.H.useCallback(z,ee)},Le.useContext=function(z){return C.H.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z,ee){return C.H.useDeferredValue(z,ee)},Le.useEffect=function(z,ee){return C.H.useEffect(z,ee)},Le.useEffectEvent=function(z){return C.H.useEffectEvent(z)},Le.useId=function(){return C.H.useId()},Le.useImperativeHandle=function(z,ee,le){return C.H.useImperativeHandle(z,ee,le)},Le.useInsertionEffect=function(z,ee){return C.H.useInsertionEffect(z,ee)},Le.useLayoutEffect=function(z,ee){return C.H.useLayoutEffect(z,ee)},Le.useMemo=function(z,ee){return C.H.useMemo(z,ee)},Le.useOptimistic=function(z,ee){return C.H.useOptimistic(z,ee)},Le.useReducer=function(z,ee,le){return C.H.useReducer(z,ee,le)},Le.useRef=function(z){return C.H.useRef(z)},Le.useState=function(z){return C.H.useState(z)},Le.useSyncExternalStore=function(z,ee,le){return C.H.useSyncExternalStore(z,ee,le)},Le.useTransition=function(){return C.H.useTransition()},Le.version="19.2.3",Le}var qx;function Vy(){return qx||(qx=1,eg.exports=TN()),eg.exports}var I=Vy();const n1=t1(I);var tg={exports:{}},Zc={},ng={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function SN(){return Fx||(Fx=1,(function(n){function e(X,re){var te=X.length;X.push(re);e:for(;0<te;){var Ae=te-1>>>1,Ie=X[Ae];if(0<o(Ie,re))X[Ae]=re,X[te]=Ie,te=Ae;else break e}}function s(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],te=X.pop();if(te!==re){X[0]=te;e:for(var Ae=0,Ie=X.length,z=Ie>>>1;Ae<z;){var ee=2*(Ae+1)-1,le=X[ee],he=ee+1,Se=X[he];if(0>o(le,te))he<Ie&&0>o(Se,le)?(X[Ae]=Se,X[he]=te,Ae=he):(X[Ae]=le,X[ee]=te,Ae=ee);else if(he<Ie&&0>o(Se,te))X[Ae]=Se,X[he]=te,Ae=he;else break e}}return re}function o(X,re){var te=X.sortIndex-re.sortIndex;return te!==0?te:X.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],g=[],v=1,_=null,w=3,k=!1,j=!1,D=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ce(X){for(var re=s(g);re!==null;){if(re.callback===null)r(g);else if(re.startTime<=X)r(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=s(g)}}function oe(X){if(D=!1,ce(X),!j)if(s(m)!==null)j=!0,de||(de=!0,q());else{var re=s(g);re!==null&&tt(oe,re.startTime-X)}}var de=!1,C=-1,S=5,N=-1;function P(){return V?!0:!(n.unstable_now()-N<S)}function L(){if(V=!1,de){var X=n.unstable_now();N=X;var re=!0;try{e:{j=!1,D&&(D=!1,Q(C),C=-1),k=!0;var te=w;try{t:{for(ce(X),_=s(m);_!==null&&!(_.expirationTime>X&&P());){var Ae=_.callback;if(typeof Ae=="function"){_.callback=null,w=_.priorityLevel;var Ie=Ae(_.expirationTime<=X);if(X=n.unstable_now(),typeof Ie=="function"){_.callback=Ie,ce(X),re=!0;break t}_===s(m)&&r(m),ce(X)}else r(m);_=s(m)}if(_!==null)re=!0;else{var z=s(g);z!==null&&tt(oe,z.startTime-X),re=!1}}break e}finally{_=null,w=te,k=!1}re=void 0}}finally{re?q():de=!1}}}var q;if(typeof H=="function")q=function(){H(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ge=M.port2;M.port1.onmessage=L,q=function(){Ge.postMessage(null)}}else q=function(){B(L,0)};function tt(X,re){C=B(function(){X(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(X){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var te=w;w=re;try{return X()}finally{w=te}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=w;w=X;try{return re()}finally{w=te}},n.unstable_scheduleCallback=function(X,re,te){var Ae=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ae+te:Ae):te=Ae,X){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=te+Ie,X={id:v++,callback:re,priorityLevel:X,startTime:te,expirationTime:Ie,sortIndex:-1},te>Ae?(X.sortIndex=te,e(g,X),s(m)===null&&X===s(g)&&(D?(Q(C),C=-1):D=!0,tt(oe,te-Ae))):(X.sortIndex=Ie,e(m,X),j||k||(j=!0,de||(de=!0,q()))),X},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(X){var re=w;return function(){var te=w;w=re;try{return X.apply(this,arguments)}finally{w=te}}}})(sg)),sg}var Hx;function AN(){return Hx||(Hx=1,ng.exports=SN()),ng.exports}var ig={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function kN(){if(Gx)return Nn;Gx=1;var n=Vy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(m,g,null,v)},Nn.flushSync=function(m){var g=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=g,r.p=v,r.d.f()}},Nn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Nn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Nn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:k}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Nn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Nn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Nn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Nn.requestFormReset=function(m){r.d.r(m)},Nn.unstable_batchedUpdates=function(m,g){return m(g)},Nn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},Nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nn.version="19.2.3",Nn}var $x;function RN(){if($x)return ig.exports;$x=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ig.exports=kN(),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function CN(){if(Kx)return Zc;Kx=1;var n=AN(),e=Vy(),s=RN();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function m(i){if(c(i)!==i)throw Error(r(188))}function g(i){var a=i.alternate;if(!a){if(a=c(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,d=a;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return m(p),i;if(b===d)return m(p),a;b=b.sibling}throw Error(r(188))}if(l.return!==d.return)l=p,d=b;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,d=b;break}if(A===d){E=!0,d=p,l=b;break}A=A.sibling}if(!E){for(A=b.child;A;){if(A===l){E=!0,l=b,d=p;break}if(A===d){E=!0,d=b,l=p;break}A=A.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case B:return"Profiler";case V:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case H:return i.displayName||"Context";case Q:return(i._context.displayName||"Context")+".Consumer";case ce:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return a=i.displayName||null,a!==null?a:Ge(i.type)||"Memo";case S:a=i._payload,i=i._init;try{return Ge(i(a))}catch{}}return null}var tt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ae=[],Ie=-1;function z(i){return{current:i}}function ee(i){0>Ie||(i.current=Ae[Ie],Ae[Ie]=null,Ie--)}function le(i,a){Ie++,Ae[Ie]=i.current,i.current=a}var he=z(null),Se=z(null),De=z(null),me=z(null);function Et(i,a){switch(le(De,a),le(Se,i),le(he,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?lx(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=lx(a),i=cx(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(he),le(he,i)}function ot(){ee(he),ee(Se),ee(De)}function Un(i){i.memoizedState!==null&&le(me,i);var a=he.current,l=cx(a,i.type);a!==l&&(le(Se,i),le(he,l))}function es(i){Se.current===i&&(ee(he),ee(Se)),me.current===i&&(ee(me),$c._currentValue=te)}var Bn,Vs;function qn(i){if(Bn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Bn=a&&a[1]||"",Vs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bn+i+Vs}var si=!1;function Os(i,a){if(!i||si)return"";si=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(W){Y=W}i.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),E=b[0],A=b[1];if(E&&A){var O=E.split(`
`),K=A.split(`
`);for(p=d=0;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(d===O.length||p===K.length)for(d=O.length-1,p=K.length-1;1<=d&&0<=p&&O[d]!==K[p];)p--;for(;1<=d&&0<=p;d--,p--)if(O[d]!==K[p]){if(d!==1||p!==1)do if(d--,p--,0>p||O[d]!==K[p]){var J=`
`+O[d].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=d&&0<=p);break}}}finally{si=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?qn(l):""}function wa(i,a){switch(i.tag){case 26:case 27:case 5:return qn(i.type);case 16:return qn("Lazy");case 13:return i.child!==a&&a!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return Os(i.type,!1);case 11:return Os(i.type.render,!1);case 1:return Os(i.type,!0);case 31:return qn("Activity");default:return""}}function Ea(i){try{var a="",l=null;do a+=wa(i,l),l=i,i=i.return;while(i);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Nt=Object.prototype.hasOwnProperty,Ft=n.unstable_scheduleCallback,ii=n.unstable_cancelCallback,Ta=n.unstable_shouldYield,gr=n.unstable_requestPaint,mn=n.unstable_now,ue=n.unstable_getCurrentPriorityLevel,_e=n.unstable_ImmediatePriority,Me=n.unstable_UserBlockingPriority,je=n.unstable_NormalPriority,qe=n.unstable_LowPriority,Oe=n.unstable_IdlePriority,lt=n.log,It=n.unstable_setDisableYieldValue,Dt=null,$e=null;function Cn(i){if(typeof lt=="function"&&It(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Dt,i)}catch{}}var we=Math.clz32?Math.clz32:Tt,nt=Math.log,Pe=Math.LN2;function Tt(i){return i>>>=0,i===0?32:31-(nt(i)/Pe|0)|0}var _t=256,zt=262144,it=4194304;function Yt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ms(i,a,l){var d=i.pendingLanes;if(d===0)return 0;var p=0,b=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=d&134217727;return A!==0?(d=A&~b,d!==0?p=Yt(d):(E&=A,E!==0?p=Yt(E):l||(l=A&~i,l!==0&&(p=Yt(l))))):(A=d&~b,A!==0?p=Yt(A):E!==0?p=Yt(E):l||(l=d&~i,l!==0&&(p=Yt(l)))),p===0?0:a!==0&&a!==p&&(a&b)===0&&(b=p&-p,l=a&-a,b>=l||b===32&&(l&4194048)!==0)?a:p}function Ls(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function sm(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ed(){var i=it;return it<<=1,(it&62914560)===0&&(it=4194304),i}function ri(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Sa(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function im(i,a,l,d,p,b){var E=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var A=i.entanglements,O=i.expirationTimes,K=i.hiddenUpdates;for(l=E&~l;0<l;){var J=31-we(l),ie=1<<J;A[J]=0,O[J]=-1;var Y=K[J];if(Y!==null)for(K[J]=null,J=0;J<Y.length;J++){var W=Y[J];W!==null&&(W.lane&=-536870913)}l&=~ie}d!==0&&Aa(i,d,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(E&~a))}function Aa(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var d=31-we(a);i.entangledLanes|=a,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function Zl(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var d=31-we(l),p=1<<d;p&a|i[d]&a&&(i[d]|=a),l&=~p}}function Wl(i,a){var l=a&-a;return l=(l&42)!==0?1:ka(l),(l&(i.suspendedLanes|a))!==0?0:l}function ka(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function td(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Dx(i.type))}function zs(i,a){var l=re.p;try{return re.p=i,a()}finally{re.p=l}}var Us=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Us,pn="__reactProps$"+Us,ai="__reactContainer$"+Us,_o="__reactEvents$"+Us,rm="__reactListeners$"+Us,nd="__reactHandles$"+Us,sd="__reactResources$"+Us,oi="__reactMarker$"+Us;function xo(i){delete i[Qt],delete i[pn],delete i[_o],delete i[rm],delete i[nd]}function li(i){var a=i[Qt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[ai]||l[Qt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=gx(i);i!==null;){if(l=i[Qt])return l;i=gx(i)}return a}i=l,l=i.parentNode}return null}function ps(i){if(i=i[Qt]||i[ai]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function ts(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ci(i){var a=i[sd];return a||(a=i[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Zt(i){i[oi]=!0}var Jl=new Set,ec={};function ui(i,a){di(i,a),di(i+"Capture",a)}function di(i,a){for(ec[i]=a,i=0;i<a.length;i++)Jl.add(a[i])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},sc={};function id(i){return Nt.call(sc,i)?!0:Nt.call(nc,i)?!1:tc.test(i)?sc[i]=!0:(nc[i]=!0,!1)}function wo(i,a,l){if(id(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ns(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Wt(i,a,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+d)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yr(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ic(i,a,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,b=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,b.call(this,E)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ft(i){if(!i._valueTracker){var a=yr(i)?"checked":"value";i._valueTracker=ic(i,a,""+i[a])}}function Ra(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return i&&(d=yr(i)?i.checked?"true":"false":i.value),i=d,i!==l?(a.setValue(i),!0):!1}function hi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ca=/[\n"\\]/g;function Fn(i){return i.replace(Ca,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Eo(i,a,l,d,p,b,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),a!=null?E==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+gn(a)):i.value!==""+gn(a)&&(i.value=""+gn(a)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),a!=null?rc(i,E,gn(a)):l!=null?rc(i,E,gn(l)):d!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+gn(A):i.removeAttribute("name")}function rd(i,a,l,d,p,b,E,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){ft(i);return}l=l!=null?""+gn(l):"",a=a!=null?""+gn(a):l,A||a===i.value||(i.value=a),i.defaultValue=a}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=A?i.checked:!!d,i.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),ft(i)}function rc(i,a,l){a==="number"&&hi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function br(i,a,l,d){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function ad(i,a,l){if(a!=null&&(a=""+gn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+gn(l):""}function vr(i,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(r(92));if(tt(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=gn(a),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),ft(i)}function Hn(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var od=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(i,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":d?i.setProperty(a,l):typeof l!="number"||l===0||od.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function oc(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in a)d=a[p],a.hasOwnProperty(p)&&l[p]!==d&&ac(i,p,d)}else for(var b in a)a.hasOwnProperty(b)&&ac(i,b,a[b])}function To(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(i){return _r.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Bs(){}var lc=null;function gs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xr=null,fi=null;function Na(i){var a=ps(i);if(a&&(i=a.stateNode)){var l=i[pn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Eo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Fn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==i&&d.form===i.form){var p=d[pn]||null;if(!p)throw Error(r(90));Eo(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===i.form&&Ra(d)}break e;case"textarea":ad(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&br(i,!!l.multiple,a,!1)}}}var Ao=!1;function wr(i,a,l){if(Ao)return i(a,l);Ao=!0;try{var d=i(a);return d}finally{if(Ao=!1,(xr!==null||fi!==null)&&(th(),xr&&(a=xr,i=fi,fi=xr=null,Na(a),i)))for(a=0;a<i.length;a++)Na(i[a])}}function qs(i,a){var l=i.stateNode;if(l===null)return null;var d=l[pn]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(ys)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Ia=!1}var mi=null,cc=null,Da=null;function uc(){if(Da)return Da;var i,a=cc,l=a.length,d,p="value"in mi?mi.value:mi.textContent,b=p.length;for(i=0;i<l&&a[i]===p[i];i++);var E=l-i;for(d=1;d<=E&&a[l-d]===p[b-d];d++);return Da=p.slice(i,1<d?1-d:void 0)}function Ma(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Oi(){return!0}function Fs(){return!1}function _n(i){function a(l,d,p,b,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Oi:Fs,this.isPropagationStopped=Fs,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),a}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=_n(Li),Er=_({},Li,{view:0,detail:0}),dc=_n(Er),Tr,ko,gi,Ro=_({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Tr=i.screenX-gi.screenX,ko=i.screenY-gi.screenY):ko=Tr=0,gi=i),Tr)},movementY:function(i){return"movementY"in i?i.movementY:ko}}),hc=_n(Ro),ja=_({},Ro,{dataTransfer:0}),cd=_n(ja),ud=_({},Er,{relatedTarget:0}),Pa=_n(ud),fc=_({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),dd=_n(fc),Co=_({},Li,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hd=_n(Co),fd=_({},Li,{data:0}),yi=_n(fd),md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yd(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=gd[i])?!!a[i]:!1}function Sr(){return yd}var On=_({},Er,{key:function(i){if(i.key){var a=md[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ma(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(i){return i.type==="keypress"?Ma(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ma(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bd=_n(On),vd=_({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=_n(vd),f=_({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),x=_n(f),T=_({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=_n(T),G=_({},Ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=_n(G),fe=_({},Li,{newState:0,oldState:0}),Ue=_n(fe),Ht=[9,13,27,32],ct=ys&&"CompositionEvent"in window,Mt=null;ys&&"documentMode"in document&&(Mt=document.documentMode);var bs=ys&&"TextEvent"in window&&!Mt,bi=ys&&(!ct||Mt&&8<Mt&&11>=Mt),Hs=" ",Gs=!1;function Va(i,a){switch(i){case"keyup":return Ht.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function No(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Io=!1;function $R(i,a){switch(i){case"compositionend":return No(a);case"keypress":return a.which!==32?null:(Gs=!0,Hs);case"textInput":return i=a.data,i===Hs&&Gs?null:i;default:return null}}function KR(i,a){if(Io)return i==="compositionend"||!ct&&Va(i,a)?(i=uc(),Da=cc=mi=null,Io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return bi&&a.locale!=="ko"?null:a.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vb(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!XR[i.type]:a==="textarea"}function _b(i,a,l,d){xr?fi?fi.push(d):fi=[d]:xr=d,a=lh(a,"onChange"),0<a.length&&(l=new pi("onChange","change",null,l,d),i.push({event:l,listeners:a}))}var mc=null,pc=null;function YR(i){nx(i,0)}function _d(i){var a=ts(i);if(Ra(a))return i}function xb(i,a){if(i==="change")return a}var wb=!1;if(ys){var am;if(ys){var om="oninput"in document;if(!om){var Eb=document.createElement("div");Eb.setAttribute("oninput","return;"),om=typeof Eb.oninput=="function"}am=om}else am=!1;wb=am&&(!document.documentMode||9<document.documentMode)}function Tb(){mc&&(mc.detachEvent("onpropertychange",Sb),pc=mc=null)}function Sb(i){if(i.propertyName==="value"&&_d(pc)){var a=[];_b(a,pc,i,gs(i)),wr(YR,a)}}function QR(i,a,l){i==="focusin"?(Tb(),mc=a,pc=l,mc.attachEvent("onpropertychange",Sb)):i==="focusout"&&Tb()}function ZR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _d(pc)}function WR(i,a){if(i==="click")return _d(a)}function JR(i,a){if(i==="input"||i==="change")return _d(a)}function eC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ss=typeof Object.is=="function"?Object.is:eC;function gc(i,a){if(ss(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Nt.call(a,p)||!ss(i[p],a[p]))return!1}return!0}function Ab(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kb(i,a){var l=Ab(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=a&&d>=a)return{node:l,offset:a-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ab(l)}}function Rb(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Rb(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Cb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=hi(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=hi(i.document)}return a}function lm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var tC=ys&&"documentMode"in document&&11>=document.documentMode,Do=null,cm=null,yc=null,um=!1;function Nb(i,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;um||Do==null||Do!==hi(d)||(d=Do,"selectionStart"in d&&lm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),yc&&gc(yc,d)||(yc=d,d=lh(cm,"onSelect"),0<d.length&&(a=new pi("onSelect","select",null,a,l),i.push({event:a,listeners:d}),a.target=Do)))}function Oa(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Mo={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},dm={},Ib={};ys&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function La(i){if(dm[i])return dm[i];if(!Mo[i])return i;var a=Mo[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ib)return dm[i]=a[l];return i}var Db=La("animationend"),Mb=La("animationiteration"),jb=La("animationstart"),nC=La("transitionrun"),sC=La("transitionstart"),iC=La("transitioncancel"),Pb=La("transitionend"),Vb=new Map,hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hm.push("scrollEnd");function $s(i,a){Vb.set(i,a),ui(a,[i])}var xd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},vs=[],jo=0,fm=0;function wd(){for(var i=jo,a=fm=jo=0;a<i;){var l=vs[a];vs[a++]=null;var d=vs[a];vs[a++]=null;var p=vs[a];vs[a++]=null;var b=vs[a];if(vs[a++]=null,d!==null&&p!==null){var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}b!==0&&Ob(l,p,b)}}function Ed(i,a,l,d){vs[jo++]=i,vs[jo++]=a,vs[jo++]=l,vs[jo++]=d,fm|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function mm(i,a,l,d){return Ed(i,a,l,d),Td(i)}function za(i,a){return Ed(i,null,null,a),Td(i)}function Ob(i,a,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var p=!1,b=i.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&a!==null&&(p=31-we(l),i=b.hiddenUpdates,d=i[p],d===null?i[p]=[a]:d.push(a),a.lane=l|536870912),b):null}function Td(i){if(50<zc)throw zc=0,Ep=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Po={};function rC(i,a,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(i,a,l,d){return new rC(i,a,l,d)}function pm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ui(i,a){var l=i.alternate;return l===null?(l=is(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Lb(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Sd(i,a,l,d,p,b){var E=0;if(d=i,typeof i=="function")pm(i)&&(E=1);else if(typeof i=="string")E=uN(i,l,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=is(31,l,a,p),i.elementType=N,i.lanes=b,i;case D:return Ua(l.children,p,b,a);case V:E=8,p|=24;break;case B:return i=is(12,l,a,p|2),i.elementType=B,i.lanes=b,i;case oe:return i=is(13,l,a,p),i.elementType=oe,i.lanes=b,i;case de:return i=is(19,l,a,p),i.elementType=de,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:E=10;break e;case Q:E=9;break e;case ce:E=11;break e;case C:E=14;break e;case S:E=16,d=null;break e}E=29,l=Error(r(130,i===null?"null":typeof i,"")),d=null}return a=is(E,l,a,p),a.elementType=i,a.type=d,a.lanes=b,a}function Ua(i,a,l,d){return i=is(7,i,d,a),i.lanes=l,i}function gm(i,a,l){return i=is(6,i,null,a),i.lanes=l,i}function zb(i){var a=is(18,null,null,0);return a.stateNode=i,a}function ym(i,a,l){return a=is(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ub=new WeakMap;function _s(i,a){if(typeof i=="object"&&i!==null){var l=Ub.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ea(a)},Ub.set(i,a),a)}return{value:i,source:a,stack:Ea(a)}}var Vo=[],Oo=0,Ad=null,bc=0,xs=[],ws=0,Ar=null,vi=1,_i="";function Bi(i,a){Vo[Oo++]=bc,Vo[Oo++]=Ad,Ad=i,bc=a}function Bb(i,a,l){xs[ws++]=vi,xs[ws++]=_i,xs[ws++]=Ar,Ar=i;var d=vi;i=_i;var p=32-we(d)-1;d&=~(1<<p),l+=1;var b=32-we(a)+p;if(30<b){var E=p-p%5;b=(d&(1<<E)-1).toString(32),d>>=E,p-=E,vi=1<<32-we(a)+p|l<<p|d,_i=b+i}else vi=1<<b|l<<p|d,_i=i}function bm(i){i.return!==null&&(Bi(i,1),Bb(i,1,0))}function vm(i){for(;i===Ad;)Ad=Vo[--Oo],Vo[Oo]=null,bc=Vo[--Oo],Vo[Oo]=null;for(;i===Ar;)Ar=xs[--ws],xs[ws]=null,_i=xs[--ws],xs[ws]=null,vi=xs[--ws],xs[ws]=null}function qb(i,a){xs[ws++]=vi,xs[ws++]=_i,xs[ws++]=Ar,vi=a.id,_i=a.overflow,Ar=i}var xn=null,At=null,et=!1,kr=null,Es=!1,_m=Error(r(519));function Rr(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(_s(a,i)),_m}function Fb(i){var a=i.stateNode,l=i.type,d=i.memoizedProps;switch(a[Qt]=i,a[pn]=d,l){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(l=0;l<Bc.length;l++)Xe(Bc[l],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),rd(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),vr(a,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||ax(a.textContent,l)?(d.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),d.onScroll!=null&&Xe("scroll",a),d.onScrollEnd!=null&&Xe("scrollend",a),d.onClick!=null&&(a.onclick=Bs),a=!0):a=!1,a||Rr(i,!0)}function Hb(i){for(xn=i.return;xn;)switch(xn.tag){case 5:case 31:case 13:Es=!1;return;case 27:case 3:Es=!0;return;default:xn=xn.return}}function Lo(i){if(i!==xn)return!1;if(!et)return Hb(i),et=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Lp(i.type,i.memoizedProps)),l=!l),l&&At&&Rr(i),Hb(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));At=px(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));At=px(i)}else a===27?(a=At,qr(i.type)?(i=Fp,Fp=null,At=i):At=a):At=xn?Ss(i.stateNode.nextSibling):null;return!0}function Ba(){At=xn=null,et=!1}function xm(){var i=kr;return i!==null&&(Xn===null?Xn=i:Xn.push.apply(Xn,i),kr=null),i}function vc(i){kr===null?kr=[i]:kr.push(i)}var wm=z(null),qa=null,qi=null;function Cr(i,a,l){le(wm,a._currentValue),a._currentValue=l}function Fi(i){i._currentValue=wm.current,ee(wm)}function Em(i,a,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),i===l)break;i=i.return}}function Tm(i,a,l,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var E=p.child;b=b.firstContext;e:for(;b!==null;){var A=b;b=p;for(var O=0;O<a.length;O++)if(A.context===a[O]){b.lanes|=l,A=b.alternate,A!==null&&(A.lanes|=l),Em(b.return,l,i),d||(E=null);break e}b=A.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=l,b=E.alternate,b!==null&&(b.lanes|=l),Em(E,l,i),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===i){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function zo(i,a,l,d){i=null;for(var p=a,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=p.type;ss(p.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(p===me.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push($c):i=[$c])}p=p.return}i!==null&&Tm(a,i,l,d),a.flags|=262144}function kd(i){for(i=i.firstContext;i!==null;){if(!ss(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fa(i){qa=i,qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wn(i){return Gb(qa,i)}function Rd(i,a){return qa===null&&Fa(i),Gb(i,a)}function Gb(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},qi===null){if(i===null)throw Error(r(308));qi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else qi=qi.next=a;return l}var aC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},oC=n.unstable_scheduleCallback,lC=n.unstable_NormalPriority,Jt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new aC,data:new Map,refCount:0}}function _c(i){i.refCount--,i.refCount===0&&oC(lC,function(){i.controller.abort()})}var xc=null,Am=0,Uo=0,Bo=null;function cC(i,a){if(xc===null){var l=xc=[];Am=0,Uo=Cp(),Bo={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Am++,a.then($b,$b),a}function $b(){if(--Am===0&&xc!==null){Bo!==null&&(Bo.status="fulfilled");var i=xc;xc=null,Uo=0,Bo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function uC(i,a){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){d.status="fulfilled",d.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var Kb=X.S;X.S=function(i,a){N_=mn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&cC(i,a),Kb!==null&&Kb(i,a)};var Ha=z(null);function km(){var i=Ha.current;return i!==null?i:xt.pooledCache}function Cd(i,a){a===null?le(Ha,Ha.current):le(Ha,a.pool)}function Xb(){var i=km();return i===null?null:{parent:Jt._currentValue,pool:i}}var qo=Error(r(460)),Rm=Error(r(474)),Nd=Error(r(542)),Id={then:function(){}};function Yb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Bs,Bs),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Wb(i),i;default:if(typeof a.status=="string")a.then(Bs,Bs);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(d){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=d}},function(d){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Wb(i),i}throw $a=a,qo}}function Ga(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($a=l,qo):l}}var $a=null;function Zb(){if($a===null)throw Error(r(459));var i=$a;return $a=null,i}function Wb(i){if(i===qo||i===Nd)throw Error(r(483))}var Fo=null,wc=0;function Dd(i){var a=wc;return wc+=1,Fo===null&&(Fo=[]),Qb(Fo,i,a)}function Ec(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Md(i,a){throw a.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Jb(i){function a(F,U){if(i){var $=F.deletions;$===null?(F.deletions=[U],F.flags|=16):$.push(U)}}function l(F,U){if(!i)return null;for(;U!==null;)a(F,U),U=U.sibling;return null}function d(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function p(F,U){return F=Ui(F,U),F.index=0,F.sibling=null,F}function b(F,U,$){return F.index=$,i?($=F.alternate,$!==null?($=$.index,$<U?(F.flags|=67108866,U):$):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function E(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,U,$,ne){return U===null||U.tag!==6?(U=gm($,F.mode,ne),U.return=F,U):(U=p(U,$),U.return=F,U)}function O(F,U,$,ne){var Ee=$.type;return Ee===D?J(F,U,$.props.children,ne,$.key):U!==null&&(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Ga(Ee)===U.type)?(U=p(U,$.props),Ec(U,$),U.return=F,U):(U=Sd($.type,$.key,$.props,null,F.mode,ne),Ec(U,$),U.return=F,U)}function K(F,U,$,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=ym($,F.mode,ne),U.return=F,U):(U=p(U,$.children||[]),U.return=F,U)}function J(F,U,$,ne,Ee){return U===null||U.tag!==7?(U=Ua($,F.mode,ne,Ee),U.return=F,U):(U=p(U,$),U.return=F,U)}function ie(F,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=gm(""+U,F.mode,$),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return $=Sd(U.type,U.key,U.props,null,F.mode,$),Ec($,U),$.return=F,$;case j:return U=ym(U,F.mode,$),U.return=F,U;case S:return U=Ga(U),ie(F,U,$)}if(tt(U)||q(U))return U=Ua(U,F.mode,$,null),U.return=F,U;if(typeof U.then=="function")return ie(F,Dd(U),$);if(U.$$typeof===H)return ie(F,Rd(F,U),$);Md(F,U)}return null}function Y(F,U,$,ne){var Ee=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:A(F,U,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return $.key===Ee?O(F,U,$,ne):null;case j:return $.key===Ee?K(F,U,$,ne):null;case S:return $=Ga($),Y(F,U,$,ne)}if(tt($)||q($))return Ee!==null?null:J(F,U,$,ne,null);if(typeof $.then=="function")return Y(F,U,Dd($),ne);if($.$$typeof===H)return Y(F,U,Rd(F,$),ne);Md(F,$)}return null}function W(F,U,$,ne,Ee){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get($)||null,A(U,F,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return F=F.get(ne.key===null?$:ne.key)||null,O(U,F,ne,Ee);case j:return F=F.get(ne.key===null?$:ne.key)||null,K(U,F,ne,Ee);case S:return ne=Ga(ne),W(F,U,$,ne,Ee)}if(tt(ne)||q(ne))return F=F.get($)||null,J(U,F,ne,Ee,null);if(typeof ne.then=="function")return W(F,U,$,Dd(ne),Ee);if(ne.$$typeof===H)return W(F,U,$,Rd(U,ne),Ee);Md(U,ne)}return null}function ye(F,U,$,ne){for(var Ee=null,rt=null,xe=U,Fe=U=0,Qe=null;xe!==null&&Fe<$.length;Fe++){xe.index>Fe?(Qe=xe,xe=null):Qe=xe.sibling;var at=Y(F,xe,$[Fe],ne);if(at===null){xe===null&&(xe=Qe);break}i&&xe&&at.alternate===null&&a(F,xe),U=b(at,U,Fe),rt===null?Ee=at:rt.sibling=at,rt=at,xe=Qe}if(Fe===$.length)return l(F,xe),et&&Bi(F,Fe),Ee;if(xe===null){for(;Fe<$.length;Fe++)xe=ie(F,$[Fe],ne),xe!==null&&(U=b(xe,U,Fe),rt===null?Ee=xe:rt.sibling=xe,rt=xe);return et&&Bi(F,Fe),Ee}for(xe=d(xe);Fe<$.length;Fe++)Qe=W(xe,F,Fe,$[Fe],ne),Qe!==null&&(i&&Qe.alternate!==null&&xe.delete(Qe.key===null?Fe:Qe.key),U=b(Qe,U,Fe),rt===null?Ee=Qe:rt.sibling=Qe,rt=Qe);return i&&xe.forEach(function(Kr){return a(F,Kr)}),et&&Bi(F,Fe),Ee}function ke(F,U,$,ne){if($==null)throw Error(r(151));for(var Ee=null,rt=null,xe=U,Fe=U=0,Qe=null,at=$.next();xe!==null&&!at.done;Fe++,at=$.next()){xe.index>Fe?(Qe=xe,xe=null):Qe=xe.sibling;var Kr=Y(F,xe,at.value,ne);if(Kr===null){xe===null&&(xe=Qe);break}i&&xe&&Kr.alternate===null&&a(F,xe),U=b(Kr,U,Fe),rt===null?Ee=Kr:rt.sibling=Kr,rt=Kr,xe=Qe}if(at.done)return l(F,xe),et&&Bi(F,Fe),Ee;if(xe===null){for(;!at.done;Fe++,at=$.next())at=ie(F,at.value,ne),at!==null&&(U=b(at,U,Fe),rt===null?Ee=at:rt.sibling=at,rt=at);return et&&Bi(F,Fe),Ee}for(xe=d(xe);!at.done;Fe++,at=$.next())at=W(xe,F,Fe,at.value,ne),at!==null&&(i&&at.alternate!==null&&xe.delete(at.key===null?Fe:at.key),U=b(at,U,Fe),rt===null?Ee=at:rt.sibling=at,rt=at);return i&&xe.forEach(function(xN){return a(F,xN)}),et&&Bi(F,Fe),Ee}function vt(F,U,$,ne){if(typeof $=="object"&&$!==null&&$.type===D&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case k:e:{for(var Ee=$.key;U!==null;){if(U.key===Ee){if(Ee=$.type,Ee===D){if(U.tag===7){l(F,U.sibling),ne=p(U,$.props.children),ne.return=F,F=ne;break e}}else if(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Ga(Ee)===U.type){l(F,U.sibling),ne=p(U,$.props),Ec(ne,$),ne.return=F,F=ne;break e}l(F,U);break}else a(F,U);U=U.sibling}$.type===D?(ne=Ua($.props.children,F.mode,ne,$.key),ne.return=F,F=ne):(ne=Sd($.type,$.key,$.props,null,F.mode,ne),Ec(ne,$),ne.return=F,F=ne)}return E(F);case j:e:{for(Ee=$.key;U!==null;){if(U.key===Ee)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){l(F,U.sibling),ne=p(U,$.children||[]),ne.return=F,F=ne;break e}else{l(F,U);break}else a(F,U);U=U.sibling}ne=ym($,F.mode,ne),ne.return=F,F=ne}return E(F);case S:return $=Ga($),vt(F,U,$,ne)}if(tt($))return ye(F,U,$,ne);if(q($)){if(Ee=q($),typeof Ee!="function")throw Error(r(150));return $=Ee.call($),ke(F,U,$,ne)}if(typeof $.then=="function")return vt(F,U,Dd($),ne);if($.$$typeof===H)return vt(F,U,Rd(F,$),ne);Md(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(l(F,U.sibling),ne=p(U,$),ne.return=F,F=ne):(l(F,U),ne=gm($,F.mode,ne),ne.return=F,F=ne),E(F)):l(F,U)}return function(F,U,$,ne){try{wc=0;var Ee=vt(F,U,$,ne);return Fo=null,Ee}catch(xe){if(xe===qo||xe===Nd)throw xe;var rt=is(29,xe,null,F.mode);return rt.lanes=ne,rt.return=F,rt}finally{}}}var Ka=Jb(!0),ev=Jb(!1),Nr=!1;function Cm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ir(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Dr(i,a,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(ut&2)!==0){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,a=Td(i),Ob(i,null,l),a}return Ed(i,d,a,l),Td(i)}function Tc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,Zl(i,l)}}function Im(i,a){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=E:b=b.next=E,l=l.next}while(l!==null);b===null?p=b=a:b=b.next=a}else p=b=a;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Dm=!1;function Sc(){if(Dm){var i=Bo;if(i!==null)throw i}}function Ac(i,a,l,d){Dm=!1;var p=i.updateQueue;Nr=!1;var b=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var O=A,K=O.next;O.next=null,E===null?b=K:E.next=K,E=O;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=K:A.next=K,J.lastBaseUpdate=O))}if(b!==null){var ie=p.baseState;E=0,J=K=O=null,A=b;do{var Y=A.lane&-536870913,W=Y!==A.lane;if(W?(Ye&Y)===Y:(d&Y)===Y){Y!==0&&Y===Uo&&(Dm=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=i,ke=A;Y=a;var vt=l;switch(ke.tag){case 1:if(ye=ke.payload,typeof ye=="function"){ie=ye.call(vt,ie,Y);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ke.payload,Y=typeof ye=="function"?ye.call(vt,ie,Y):ye,Y==null)break e;ie=_({},ie,Y);break e;case 2:Nr=!0}}Y=A.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=p.callbacks,W===null?p.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(K=J=W,O=ie):J=J.next=W,E|=Y;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);J===null&&(O=ie),p.baseState=O,p.firstBaseUpdate=K,p.lastBaseUpdate=J,b===null&&(p.shared.lanes=0),Or|=E,i.lanes=E,i.memoizedState=ie}}function tv(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function nv(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)tv(l[i],a)}var Ho=z(null),jd=z(0);function sv(i,a){i=Wi,le(jd,i),le(Ho,a),Wi=i|a.baseLanes}function Mm(){le(jd,Wi),le(Ho,Ho.current)}function jm(){Wi=jd.current,ee(Ho),ee(jd)}var rs=z(null),Ts=null;function Mr(i){var a=i.alternate;le(Gt,Gt.current&1),le(rs,i),Ts===null&&(a===null||Ho.current!==null||a.memoizedState!==null)&&(Ts=i)}function Pm(i){le(Gt,Gt.current),le(rs,i),Ts===null&&(Ts=i)}function iv(i){i.tag===22?(le(Gt,Gt.current),le(rs,i),Ts===null&&(Ts=i)):jr()}function jr(){le(Gt,Gt.current),le(rs,rs.current)}function as(i){ee(rs),Ts===i&&(Ts=null),ee(Gt)}var Gt=z(0);function Pd(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bp(l)||qp(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hi=0,Be=null,yt=null,en=null,Vd=!1,Go=!1,Xa=!1,Od=0,kc=0,$o=null,dC=0;function Ut(){throw Error(r(321))}function Vm(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!ss(i[l],a[l]))return!1;return!0}function Om(i,a,l,d,p,b){return Hi=b,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=i===null||i.memoizedState===null?Bv:Wm,Xa=!1,b=l(d,p),Xa=!1,Go&&(b=av(a,l,d,p)),rv(i),b}function rv(i){X.H=Nc;var a=yt!==null&&yt.next!==null;if(Hi=0,en=yt=Be=null,Vd=!1,kc=0,$o=null,a)throw Error(r(300));i===null||tn||(i=i.dependencies,i!==null&&kd(i)&&(tn=!0))}function av(i,a,l,d){Be=i;var p=0;do{if(Go&&($o=null),kc=0,Go=!1,25<=p)throw Error(r(301));if(p+=1,en=yt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=qv,b=a(l,d)}while(Go);return b}function hC(){var i=X.H,a=i.useState()[0];return a=typeof a.then=="function"?Rc(a):a,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(Be.flags|=1024),a}function Lm(){var i=Od!==0;return Od=0,i}function zm(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Um(i){if(Vd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Vd=!1}Hi=0,en=yt=Be=null,Go=!1,kc=Od=0,$o=null}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Be.memoizedState=en=i:en=en.next=i,en}function $t(){if(yt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var a=en===null?Be.memoizedState:en.next;if(a!==null)en=a,yt=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},en===null?Be.memoizedState=en=i:en=en.next=i}return en}function Ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(i){var a=kc;return kc+=1,$o===null&&($o=[]),i=Qb($o,i,a),a=Be,(en===null?a.memoizedState:en.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?Bv:Wm),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Rc(i);if(i.$$typeof===H)return wn(i)}throw Error(r(438,String(i)))}function Bm(i){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=Be.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ld(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),d=0;d<i;d++)l[d]=P;return a.index++,l}function Gi(i,a){return typeof a=="function"?a(i):a}function Ud(i){var a=$t();return qm(a,yt,i)}function qm(i,a,l){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var p=i.baseQueue,b=d.pending;if(b!==null){if(p!==null){var E=p.next;p.next=b.next,b.next=E}a.baseQueue=p=b,d.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{a=p.next;var A=E=null,O=null,K=a,J=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Ye&ie)===ie:(Hi&ie)===ie){var Y=K.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Uo&&(J=!0);else if((Hi&Y)===Y){K=K.next,Y===Uo&&(J=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=ie,E=b):O=O.next=ie,Be.lanes|=Y,Or|=Y;ie=K.action,Xa&&l(b,ie),b=K.hasEagerState?K.eagerState:l(b,ie)}else Y={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=Y,E=b):O=O.next=Y,Be.lanes|=ie,Or|=ie;K=K.next}while(K!==null&&K!==a);if(O===null?E=b:O.next=A,!ss(b,i.memoizedState)&&(tn=!0,J&&(l=Bo,l!==null)))throw l;i.memoizedState=b,i.baseState=E,i.baseQueue=O,d.lastRenderedState=b}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Fm(i){var a=$t(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,b=a.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do b=i(b,E.action),E=E.next;while(E!==p);ss(b,a.memoizedState)||(tn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),l.lastRenderedState=b}return[b,d]}function ov(i,a,l){var d=Be,p=$t(),b=et;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=a();var E=!ss((yt||p).memoizedState,l);if(E&&(p.memoizedState=l,tn=!0),p=p.queue,$m(uv.bind(null,d,p,i),[i]),p.getSnapshot!==a||E||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,Ko(9,{destroy:void 0},cv.bind(null,d,p,l,a),null),xt===null)throw Error(r(349));b||(Hi&127)!==0||lv(d,a,l)}return l}function lv(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=Ld(),Be.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function cv(i,a,l,d){a.value=l,a.getSnapshot=d,dv(a)&&hv(i)}function uv(i,a,l){return l(function(){dv(a)&&hv(i)})}function dv(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!ss(i,l)}catch{return!0}}function hv(i){var a=za(i,2);a!==null&&Yn(a,i,2)}function Hm(i){var a=Ln();if(typeof i=="function"){var l=i;if(i=l(),Xa){Cn(!0);try{l()}finally{Cn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:i},a}function fv(i,a,l,d){return i.baseState=l,qm(i,yt,typeof d=="function"?d:Gi)}function fC(i,a,l,d,p){if(Fd(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};X.T!==null?l(!0):b.isTransition=!1,d(b),l=a.pending,l===null?(b.next=a.pending=b,mv(a,b)):(b.next=l.next,a.pending=l.next=b)}}function mv(i,a){var l=a.action,d=a.payload,p=i.state;if(a.isTransition){var b=X.T,E={};X.T=E;try{var A=l(p,d),O=X.S;O!==null&&O(E,A),pv(i,a,A)}catch(K){Gm(i,a,K)}finally{b!==null&&E.types!==null&&(b.types=E.types),X.T=b}}else try{b=l(p,d),pv(i,a,b)}catch(K){Gm(i,a,K)}}function pv(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){gv(i,a,d)},function(d){return Gm(i,a,d)}):gv(i,a,l)}function gv(i,a,l){a.status="fulfilled",a.value=l,yv(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,mv(i,l)))}function Gm(i,a,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,yv(a),a=a.next;while(a!==d)}i.action=null}function yv(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function bv(i,a){return a}function vv(i,a){if(et){var l=xt.formState;if(l!==null){e:{var d=Be;if(et){if(At){t:{for(var p=At,b=Es;p.nodeType!==8;){if(!b){p=null;break t}if(p=Ss(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){At=Ss(p.nextSibling),d=p.data==="F!";break e}}Rr(d)}d=!1}d&&(a=l[0])}}return l=Ln(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:a},l.queue=d,l=Lv.bind(null,Be,d),d.dispatch=l,d=Hm(!1),b=Zm.bind(null,Be,!1,d.queue),d=Ln(),p={state:a,dispatch:null,action:i,pending:null},d.queue=p,l=fC.bind(null,Be,p,b,l),p.dispatch=l,d.memoizedState=i,[a,l,!1]}function _v(i){var a=$t();return xv(a,yt,i)}function xv(i,a,l){if(a=qm(i,a,bv)[0],i=Ud(Gi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Rc(a)}catch(E){throw E===qo?Nd:E}else d=a;a=$t();var p=a.queue,b=p.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,Ko(9,{destroy:void 0},mC.bind(null,p,l),null)),[d,b,i]}function mC(i,a){i.action=a}function wv(i){var a=$t(),l=yt;if(l!==null)return xv(a,l,i);$t(),a=a.memoizedState,l=$t();var d=l.queue.dispatch;return l.memoizedState=i,[a,d,!1]}function Ko(i,a,l,d){return i={tag:i,create:l,deps:d,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Ld(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,a.lastEffect=i),i}function Ev(){return $t().memoizedState}function Bd(i,a,l,d){var p=Ln();Be.flags|=i,p.memoizedState=Ko(1|a,{destroy:void 0},l,d===void 0?null:d)}function qd(i,a,l,d){var p=$t();d=d===void 0?null:d;var b=p.memoizedState.inst;yt!==null&&d!==null&&Vm(d,yt.memoizedState.deps)?p.memoizedState=Ko(a,b,l,d):(Be.flags|=i,p.memoizedState=Ko(1|a,b,l,d))}function Tv(i,a){Bd(8390656,8,i,a)}function $m(i,a){qd(2048,8,i,a)}function pC(i){Be.flags|=4;var a=Be.updateQueue;if(a===null)a=Ld(),Be.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Sv(i){var a=$t().memoizedState;return pC({ref:a,nextImpl:i}),function(){if((ut&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Av(i,a){return qd(4,2,i,a)}function kv(i,a){return qd(4,4,i,a)}function Rv(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Cv(i,a,l){l=l!=null?l.concat([i]):null,qd(4,4,Rv.bind(null,a,i),l)}function Km(){}function Nv(i,a){var l=$t();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&Vm(a,d[1])?d[0]:(l.memoizedState=[i,a],i)}function Iv(i,a){var l=$t();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&Vm(a,d[1]))return d[0];if(d=i(),Xa){Cn(!0);try{i()}finally{Cn(!1)}}return l.memoizedState=[d,a],d}function Xm(i,a,l){return l===void 0||(Hi&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=D_(),Be.lanes|=i,Or|=i,l)}function Dv(i,a,l,d){return ss(l,a)?l:Ho.current!==null?(i=Xm(i,l,d),ss(i,a)||(tn=!0),i):(Hi&42)===0||(Hi&1073741824)!==0&&(Ye&261930)===0?(tn=!0,i.memoizedState=l):(i=D_(),Be.lanes|=i,Or|=i,a)}function Mv(i,a,l,d,p){var b=re.p;re.p=b!==0&&8>b?b:8;var E=X.T,A={};X.T=A,Zm(i,!1,a,l);try{var O=p(),K=X.S;if(K!==null&&K(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=uC(O,d);Cc(i,a,J,cs(i))}else Cc(i,a,d,cs(i))}catch(ie){Cc(i,a,{then:function(){},status:"rejected",reason:ie},cs())}finally{re.p=b,E!==null&&A.types!==null&&(E.types=A.types),X.T=E}}function gC(){}function Ym(i,a,l,d){if(i.tag!==5)throw Error(r(476));var p=jv(i).queue;Mv(i,p,a,te,l===null?gC:function(){return Pv(i),l(d)})}function jv(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Pv(i){var a=jv(i);a.next===null&&(a=i.alternate.memoizedState),Cc(i,a.next.queue,{},cs())}function Qm(){return wn($c)}function Vv(){return $t().memoizedState}function Ov(){return $t().memoizedState}function yC(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=cs();i=Ir(l);var d=Dr(a,i,l);d!==null&&(Yn(d,a,l),Tc(d,a,l)),a={cache:Sm()},i.payload=a;return}a=a.return}}function bC(i,a,l){var d=cs();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fd(i)?zv(a,l):(l=mm(i,a,l,d),l!==null&&(Yn(l,i,d),Uv(l,a,d)))}function Lv(i,a,l){var d=cs();Cc(i,a,l,d)}function Cc(i,a,l,d){var p={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fd(i))zv(a,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var E=a.lastRenderedState,A=b(E,l);if(p.hasEagerState=!0,p.eagerState=A,ss(A,E))return Ed(i,a,p,0),xt===null&&wd(),!1}catch{}finally{}if(l=mm(i,a,p,d),l!==null)return Yn(l,i,d),Uv(l,a,d),!0}return!1}function Zm(i,a,l,d){if(d={lane:2,revertLane:Cp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Fd(i)){if(a)throw Error(r(479))}else a=mm(i,l,d,2),a!==null&&Yn(a,i,2)}function Fd(i){var a=i.alternate;return i===Be||a!==null&&a===Be}function zv(i,a){Go=Vd=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Uv(i,a,l){if((l&4194048)!==0){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,Zl(i,l)}}var Nc={readContext:wn,use:zd,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Nc.useEffectEvent=Ut;var Bv={readContext:wn,use:zd,useCallback:function(i,a){return Ln().memoizedState=[i,a===void 0?null:a],i},useContext:wn,useEffect:Tv,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Bd(4194308,4,Rv.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Bd(4194308,4,i,a)},useInsertionEffect:function(i,a){Bd(4,2,i,a)},useMemo:function(i,a){var l=Ln();a=a===void 0?null:a;var d=i();if(Xa){Cn(!0);try{i()}finally{Cn(!1)}}return l.memoizedState=[d,a],d},useReducer:function(i,a,l){var d=Ln();if(l!==void 0){var p=l(a);if(Xa){Cn(!0);try{l(a)}finally{Cn(!1)}}}else p=a;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=bC.bind(null,Be,i),[d.memoizedState,i]},useRef:function(i){var a=Ln();return i={current:i},a.memoizedState=i},useState:function(i){i=Hm(i);var a=i.queue,l=Lv.bind(null,Be,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Km,useDeferredValue:function(i,a){var l=Ln();return Xm(l,i,a)},useTransition:function(){var i=Hm(!1);return i=Mv.bind(null,Be,i.queue,!0,!1),Ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var d=Be,p=Ln();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),xt===null)throw Error(r(349));(Ye&127)!==0||lv(d,a,l)}p.memoizedState=l;var b={value:l,getSnapshot:a};return p.queue=b,Tv(uv.bind(null,d,b,i),[i]),d.flags|=2048,Ko(9,{destroy:void 0},cv.bind(null,d,b,l,a),null),l},useId:function(){var i=Ln(),a=xt.identifierPrefix;if(et){var l=_i,d=vi;l=(d&~(1<<32-we(d)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Od++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=dC++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Qm,useFormState:vv,useActionState:vv,useOptimistic:function(i){var a=Ln();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Zm.bind(null,Be,!0,l),l.dispatch=a,[i,a]},useMemoCache:Bm,useCacheRefresh:function(){return Ln().memoizedState=yC.bind(null,Be)},useEffectEvent:function(i){var a=Ln(),l={impl:i};return a.memoizedState=l,function(){if((ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Wm={readContext:wn,use:zd,useCallback:Nv,useContext:wn,useEffect:$m,useImperativeHandle:Cv,useInsertionEffect:Av,useLayoutEffect:kv,useMemo:Iv,useReducer:Ud,useRef:Ev,useState:function(){return Ud(Gi)},useDebugValue:Km,useDeferredValue:function(i,a){var l=$t();return Dv(l,yt.memoizedState,i,a)},useTransition:function(){var i=Ud(Gi)[0],a=$t().memoizedState;return[typeof i=="boolean"?i:Rc(i),a]},useSyncExternalStore:ov,useId:Vv,useHostTransitionStatus:Qm,useFormState:_v,useActionState:_v,useOptimistic:function(i,a){var l=$t();return fv(l,yt,i,a)},useMemoCache:Bm,useCacheRefresh:Ov};Wm.useEffectEvent=Sv;var qv={readContext:wn,use:zd,useCallback:Nv,useContext:wn,useEffect:$m,useImperativeHandle:Cv,useInsertionEffect:Av,useLayoutEffect:kv,useMemo:Iv,useReducer:Fm,useRef:Ev,useState:function(){return Fm(Gi)},useDebugValue:Km,useDeferredValue:function(i,a){var l=$t();return yt===null?Xm(l,i,a):Dv(l,yt.memoizedState,i,a)},useTransition:function(){var i=Fm(Gi)[0],a=$t().memoizedState;return[typeof i=="boolean"?i:Rc(i),a]},useSyncExternalStore:ov,useId:Vv,useHostTransitionStatus:Qm,useFormState:wv,useActionState:wv,useOptimistic:function(i,a){var l=$t();return yt!==null?fv(l,yt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Bm,useCacheRefresh:Ov};qv.useEffectEvent=Sv;function Jm(i,a,l,d){a=i.memoizedState,l=l(d,a),l=l==null?a:_({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ep={enqueueSetState:function(i,a,l){i=i._reactInternals;var d=cs(),p=Ir(d);p.payload=a,l!=null&&(p.callback=l),a=Dr(i,p,d),a!==null&&(Yn(a,i,d),Tc(a,i,d))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var d=cs(),p=Ir(d);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Dr(i,p,d),a!==null&&(Yn(a,i,d),Tc(a,i,d))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=cs(),d=Ir(l);d.tag=2,a!=null&&(d.callback=a),a=Dr(i,d,l),a!==null&&(Yn(a,i,l),Tc(a,i,l))}};function Fv(i,a,l,d,p,b,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,E):a.prototype&&a.prototype.isPureReactComponent?!gc(l,d)||!gc(p,b):!0}function Hv(i,a,l,d){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==i&&ep.enqueueReplaceState(a,a.state,null)}function Ya(i,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(i=i.defaultProps){l===a&&(l=_({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function Gv(i){xd(i)}function $v(i){console.error(i)}function Kv(i){xd(i)}function Hd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Xv(i,a,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function tp(i,a,l){return l=Ir(l),l.tag=3,l.payload={element:null},l.callback=function(){Hd(i,a)},l}function Yv(i){return i=Ir(i),i.tag=3,i}function Qv(i,a,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;i.payload=function(){return p(b)},i.callback=function(){Xv(a,l,d)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Xv(a,l,d),typeof p!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function vC(i,a,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&zo(a,l,p,!0),l=rs.current,l!==null){switch(l.tag){case 31:case 13:return Ts===null?nh():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===Id?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),Ap(i,d,p)),!1;case 22:return l.flags|=65536,d===Id?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),Ap(i,d,p)),!1}throw Error(r(435,l.tag))}return Ap(i,d,p),nh(),!1}if(et)return a=rs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,d!==_m&&(i=Error(r(422),{cause:d}),vc(_s(i,l)))):(d!==_m&&(a=Error(r(423),{cause:d}),vc(_s(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=_s(d,l),p=tp(i.stateNode,d,p),Im(i,p),Bt!==4&&(Bt=2)),!1;var b=Error(r(520),{cause:d});if(b=_s(b,l),Lc===null?Lc=[b]:Lc.push(b),Bt!==4&&(Bt=2),a===null)return!0;d=_s(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=tp(l.stateNode,d,i),Im(l,i),!1;case 1:if(a=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Lr===null||!Lr.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Yv(p),Qv(p,i,l,d),Im(l,p),!1}l=l.return}while(l!==null);return!1}var np=Error(r(461)),tn=!1;function En(i,a,l,d){a.child=i===null?ev(a,null,l,d):Ka(a,i.child,l,d)}function Zv(i,a,l,d,p){l=l.render;var b=a.ref;if("ref"in d){var E={};for(var A in d)A!=="ref"&&(E[A]=d[A])}else E=d;return Fa(a),d=Om(i,a,l,E,b,p),A=Lm(),i!==null&&!tn?(zm(i,a,p),$i(i,a,p)):(et&&A&&bm(a),a.flags|=1,En(i,a,d,p),a.child)}function Wv(i,a,l,d,p){if(i===null){var b=l.type;return typeof b=="function"&&!pm(b)&&b.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=b,Jv(i,a,b,d,p)):(i=Sd(l.type,null,d,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!up(i,p)){var E=b.memoizedProps;if(l=l.compare,l=l!==null?l:gc,l(E,d)&&i.ref===a.ref)return $i(i,a,p)}return a.flags|=1,i=Ui(b,d),i.ref=a.ref,i.return=a,a.child=i}function Jv(i,a,l,d,p){if(i!==null){var b=i.memoizedProps;if(gc(b,d)&&i.ref===a.ref)if(tn=!1,a.pendingProps=d=b,up(i,p))(i.flags&131072)!==0&&(tn=!0);else return a.lanes=i.lanes,$i(i,a,p)}return sp(i,a,l,d,p)}function e_(i,a,l,d){var p=d.children,b=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(d=a.child=i.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~b}else d=0,a.child=null;return t_(i,a,b,l,d)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Cd(a,b!==null?b.cachePool:null),b!==null?sv(a,b):Mm(),iv(a);else return d=a.lanes=536870912,t_(i,a,b!==null?b.baseLanes|l:l,l,d)}else b!==null?(Cd(a,b.cachePool),sv(a,b),jr(),a.memoizedState=null):(i!==null&&Cd(a,null),Mm(),jr());return En(i,a,p,l),a.child}function Ic(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function t_(i,a,l,d,p){var b=km();return b=b===null?null:{parent:Jt._currentValue,pool:b},a.memoizedState={baseLanes:l,cachePool:b},i!==null&&Cd(a,null),Mm(),iv(a),i!==null&&zo(i,a,d,!0),a.childLanes=p,null}function Gd(i,a){return a=Kd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function n_(i,a,l){return Ka(a,i.child,null,l),i=Gd(a,a.pendingProps),i.flags|=2,as(a),a.memoizedState=null,i}function _C(i,a,l){var d=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(et){if(d.mode==="hidden")return i=Gd(a,d),a.lanes=536870912,Ic(null,i);if(Pm(a),(i=At)?(i=mx(i,Es),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ar!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},l=zb(i),l.return=a,a.child=l,xn=a,At=null)):i=null,i===null)throw Rr(a);return a.lanes=536870912,null}return Gd(a,d)}var b=i.memoizedState;if(b!==null){var E=b.dehydrated;if(Pm(a),p)if(a.flags&256)a.flags&=-257,a=n_(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(tn||zo(i,a,l,!1),p=(l&i.childLanes)!==0,tn||p){if(d=xt,d!==null&&(E=Wl(d,l),E!==0&&E!==b.retryLane))throw b.retryLane=E,za(i,E),Yn(d,i,E),np;nh(),a=n_(i,a,l)}else i=b.treeContext,At=Ss(E.nextSibling),xn=a,et=!0,kr=null,Es=!1,i!==null&&qb(a,i),a=Gd(a,d),a.flags|=4096;return a}return i=Ui(i.child,{mode:d.mode,children:d.children}),i.ref=a.ref,a.child=i,i.return=a,i}function $d(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function sp(i,a,l,d,p){return Fa(a),l=Om(i,a,l,d,void 0,p),d=Lm(),i!==null&&!tn?(zm(i,a,p),$i(i,a,p)):(et&&d&&bm(a),a.flags|=1,En(i,a,l,p),a.child)}function s_(i,a,l,d,p,b){return Fa(a),a.updateQueue=null,l=av(a,d,l,p),rv(i),d=Lm(),i!==null&&!tn?(zm(i,a,b),$i(i,a,b)):(et&&d&&bm(a),a.flags|=1,En(i,a,l,b),a.child)}function i_(i,a,l,d,p){if(Fa(a),a.stateNode===null){var b=Po,E=l.contextType;typeof E=="object"&&E!==null&&(b=wn(E)),b=new l(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ep,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},Cm(a),E=l.contextType,b.context=typeof E=="object"&&E!==null?wn(E):Po,b.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Jm(a,l,E,d),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&ep.enqueueReplaceState(b,b.state,null),Ac(a,d,b,p),Sc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(i===null){b=a.stateNode;var A=a.memoizedProps,O=Ya(l,A);b.props=O;var K=b.context,J=l.contextType;E=Po,typeof J=="object"&&J!==null&&(E=wn(J));var ie=l.getDerivedStateFromProps;J=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,J||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||K!==E)&&Hv(a,b,d,E),Nr=!1;var Y=a.memoizedState;b.state=Y,Ac(a,d,b,p),Sc(),K=a.memoizedState,A||Y!==K||Nr?(typeof ie=="function"&&(Jm(a,l,ie,d),K=a.memoizedState),(O=Nr||Fv(a,l,O,d,Y,K,E))?(J||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=K),b.props=d,b.state=K,b.context=E,d=O):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,Nm(i,a),E=a.memoizedProps,J=Ya(l,E),b.props=J,ie=a.pendingProps,Y=b.context,K=l.contextType,O=Po,typeof K=="object"&&K!==null&&(O=wn(K)),A=l.getDerivedStateFromProps,(K=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==ie||Y!==O)&&Hv(a,b,d,O),Nr=!1,Y=a.memoizedState,b.state=Y,Ac(a,d,b,p),Sc();var W=a.memoizedState;E!==ie||Y!==W||Nr||i!==null&&i.dependencies!==null&&kd(i.dependencies)?(typeof A=="function"&&(Jm(a,l,A,d),W=a.memoizedState),(J=Nr||Fv(a,l,J,d,Y,W,O)||i!==null&&i.dependencies!==null&&kd(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,W,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,W,O)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=W),b.props=d,b.state=W,b.context=O,d=J):(typeof b.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),d=!1)}return b=d,$d(i,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&d?(a.child=Ka(a,i.child,null,p),a.child=Ka(a,null,l,p)):En(i,a,l,p),a.memoizedState=b.state,i=a.child):i=$i(i,a,p),i}function r_(i,a,l,d){return Ba(),a.flags|=256,En(i,a,l,d),a.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rp(i){return{baseLanes:i,cachePool:Xb()}}function ap(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ls),i}function a_(i,a,l){var d=a.pendingProps,p=!1,b=(a.flags&128)!==0,E;if((E=b)||(E=i!==null&&i.memoizedState===null?!1:(Gt.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,i===null){if(et){if(p?Mr(a):jr(),(i=At)?(i=mx(i,Es),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ar!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},l=zb(i),l.return=a,a.child=l,xn=a,At=null)):i=null,i===null)throw Rr(a);return qp(i)?a.lanes=32:a.lanes=536870912,null}var A=d.children;return d=d.fallback,p?(jr(),p=a.mode,A=Kd({mode:"hidden",children:A},p),d=Ua(d,p,l,null),A.return=a,d.return=a,A.sibling=d,a.child=A,d=a.child,d.memoizedState=rp(l),d.childLanes=ap(i,E,l),a.memoizedState=ip,Ic(null,d)):(Mr(a),op(a,A))}var O=i.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(b)a.flags&256?(Mr(a),a.flags&=-257,a=lp(i,a,l)):a.memoizedState!==null?(jr(),a.child=i.child,a.flags|=128,a=null):(jr(),A=d.fallback,p=a.mode,d=Kd({mode:"visible",children:d.children},p),A=Ua(A,p,l,null),A.flags|=2,d.return=a,A.return=a,d.sibling=A,a.child=d,Ka(a,i.child,null,l),d=a.child,d.memoizedState=rp(l),d.childLanes=ap(i,E,l),a.memoizedState=ip,a=Ic(null,d));else if(Mr(a),qp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var K=E.dgst;E=K,d=Error(r(419)),d.stack="",d.digest=E,vc({value:d,source:null,stack:null}),a=lp(i,a,l)}else if(tn||zo(i,a,l,!1),E=(l&i.childLanes)!==0,tn||E){if(E=xt,E!==null&&(d=Wl(E,l),d!==0&&d!==O.retryLane))throw O.retryLane=d,za(i,d),Yn(E,i,d),np;Bp(A)||nh(),a=lp(i,a,l)}else Bp(A)?(a.flags|=192,a.child=i.child,a=null):(i=O.treeContext,At=Ss(A.nextSibling),xn=a,et=!0,kr=null,Es=!1,i!==null&&qb(a,i),a=op(a,d.children),a.flags|=4096);return a}return p?(jr(),A=d.fallback,p=a.mode,O=i.child,K=O.sibling,d=Ui(O,{mode:"hidden",children:d.children}),d.subtreeFlags=O.subtreeFlags&65011712,K!==null?A=Ui(K,A):(A=Ua(A,p,l,null),A.flags|=2),A.return=a,d.return=a,d.sibling=A,a.child=d,Ic(null,d),d=a.child,A=i.child.memoizedState,A===null?A=rp(l):(p=A.cachePool,p!==null?(O=Jt._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=Xb(),A={baseLanes:A.baseLanes|l,cachePool:p}),d.memoizedState=A,d.childLanes=ap(i,E,l),a.memoizedState=ip,Ic(i.child,d)):(Mr(a),l=i.child,i=l.sibling,l=Ui(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,i!==null&&(E=a.deletions,E===null?(a.deletions=[i],a.flags|=16):E.push(i)),a.child=l,a.memoizedState=null,l)}function op(i,a){return a=Kd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Kd(i,a){return i=is(22,i,null,a),i.lanes=0,i}function lp(i,a,l){return Ka(a,i.child,null,l),i=op(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function o_(i,a,l){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a),Em(i.return,a,l)}function cp(i,a,l,d,p,b){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p,treeForkCount:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=l,E.tailMode=p,E.treeForkCount=b)}function l_(i,a,l){var d=a.pendingProps,p=d.revealOrder,b=d.tail;d=d.children;var E=Gt.current,A=(E&2)!==0;if(A?(E=E&1|2,a.flags|=128):E&=1,le(Gt,E),En(i,a,d,l),d=et?bc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&o_(i,l,a);else if(i.tag===19)o_(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&Pd(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),cp(a,!1,p,l,b,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&Pd(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}cp(a,!0,l,null,b,d);break;case"together":cp(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function $i(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Or|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(zo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ui(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ui(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function up(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&kd(i)))}function xC(i,a,l){switch(a.tag){case 3:Et(a,a.stateNode.containerInfo),Cr(a,Jt,i.memoizedState.cache),Ba();break;case 27:case 5:Un(a);break;case 4:Et(a,a.stateNode.containerInfo);break;case 10:Cr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Pm(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Mr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?a_(i,a,l):(Mr(a),i=$i(i,a,l),i!==null?i.sibling:null);Mr(a);break;case 19:var p=(i.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(zo(i,a,l,!1),d=(l&a.childLanes)!==0),p){if(d)return l_(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(Gt,Gt.current),d)break;return null;case 22:return a.lanes=0,e_(i,a,l,a.pendingProps);case 24:Cr(a,Jt,i.memoizedState.cache)}return $i(i,a,l)}function c_(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)tn=!0;else{if(!up(i,l)&&(a.flags&128)===0)return tn=!1,xC(i,a,l);tn=(i.flags&131072)!==0}else tn=!1,et&&(a.flags&1048576)!==0&&Bb(a,bc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(i=Ga(a.elementType),a.type=i,typeof i=="function")pm(i)?(d=Ya(i,d),a.tag=1,a=i_(null,a,i,d,l)):(a.tag=0,a=sp(null,a,i,d,l));else{if(i!=null){var p=i.$$typeof;if(p===ce){a.tag=11,a=Zv(null,a,i,d,l);break e}else if(p===C){a.tag=14,a=Wv(null,a,i,d,l);break e}}throw a=Ge(i)||i,Error(r(306,a,""))}}return a;case 0:return sp(i,a,a.type,a.pendingProps,l);case 1:return d=a.type,p=Ya(d,a.pendingProps),i_(i,a,d,p,l);case 3:e:{if(Et(a,a.stateNode.containerInfo),i===null)throw Error(r(387));d=a.pendingProps;var b=a.memoizedState;p=b.element,Nm(i,a),Ac(a,d,null,l);var E=a.memoizedState;if(d=E.cache,Cr(a,Jt,d),d!==b.cache&&Tm(a,[Jt],l,!0),Sc(),d=E.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=r_(i,a,d,l);break e}else if(d!==p){p=_s(Error(r(424)),a),vc(p),a=r_(i,a,d,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(At=Ss(i.firstChild),xn=a,et=!0,kr=null,Es=!0,l=ev(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ba(),d===p){a=$i(i,a,l);break e}En(i,a,d,l)}a=a.child}return a;case 26:return $d(i,a),i===null?(l=_x(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,i=a.pendingProps,d=ch(De.current).createElement(l),d[Qt]=a,d[pn]=i,Tn(d,l,i),Zt(d),a.stateNode=d):a.memoizedState=_x(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Un(a),i===null&&et&&(d=a.stateNode=yx(a.type,a.pendingProps,De.current),xn=a,Es=!0,p=At,qr(a.type)?(Fp=p,At=Ss(d.firstChild)):At=p),En(i,a,a.pendingProps.children,l),$d(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&et&&((p=d=At)&&(d=ZC(d,a.type,a.pendingProps,Es),d!==null?(a.stateNode=d,xn=a,At=Ss(d.firstChild),Es=!1,p=!0):p=!1),p||Rr(a)),Un(a),p=a.type,b=a.pendingProps,E=i!==null?i.memoizedProps:null,d=b.children,Lp(p,b)?d=null:E!==null&&Lp(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=Om(i,a,hC,null,null,l),$c._currentValue=p),$d(i,a),En(i,a,d,l),a.child;case 6:return i===null&&et&&((i=l=At)&&(l=WC(l,a.pendingProps,Es),l!==null?(a.stateNode=l,xn=a,At=null,i=!0):i=!1),i||Rr(a)),null;case 13:return a_(i,a,l);case 4:return Et(a,a.stateNode.containerInfo),d=a.pendingProps,i===null?a.child=Ka(a,null,d,l):En(i,a,d,l),a.child;case 11:return Zv(i,a,a.type,a.pendingProps,l);case 7:return En(i,a,a.pendingProps,l),a.child;case 8:return En(i,a,a.pendingProps.children,l),a.child;case 12:return En(i,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,Cr(a,a.type,d.value),En(i,a,d.children,l),a.child;case 9:return p=a.type._context,d=a.pendingProps.children,Fa(a),p=wn(p),d=d(p),a.flags|=1,En(i,a,d,l),a.child;case 14:return Wv(i,a,a.type,a.pendingProps,l);case 15:return Jv(i,a,a.type,a.pendingProps,l);case 19:return l_(i,a,l);case 31:return _C(i,a,l);case 22:return e_(i,a,l,a.pendingProps);case 24:return Fa(a),d=wn(Jt),i===null?(p=km(),p===null&&(p=xt,b=Sm(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),a.memoizedState={parent:d,cache:p},Cm(a),Cr(a,Jt,p)):((i.lanes&l)!==0&&(Nm(i,a),Ac(a,null,null,l),Sc()),p=i.memoizedState,b=a.memoizedState,p.parent!==d?(p={parent:d,cache:d},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Cr(a,Jt,d)):(d=b.cache,Cr(a,Jt,d),d!==p.cache&&Tm(a,[Jt],l,!0))),En(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ki(i){i.flags|=4}function dp(i,a,l,d,p){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(V_())i.flags|=8192;else throw $a=Id,Rm}else i.flags&=-16777217}function u_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Sx(a))if(V_())i.flags|=8192;else throw $a=Id,Rm}function Xd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ed():536870912,i.lanes|=a,Zo|=a)}function Dc(i,a){if(!et)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function kt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,a}function wC(i,a,l){var d=a.pendingProps;switch(vm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(a),null;case 1:return kt(a),null;case 3:return l=a.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Fi(Jt),ot(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Lo(a)?Ki(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xm())),kt(a),null;case 26:var p=a.type,b=a.memoizedState;return i===null?(Ki(a),b!==null?(kt(a),u_(a,b)):(kt(a),dp(a,p,null,d,l))):b?b!==i.memoizedState?(Ki(a),kt(a),u_(a,b)):(kt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==d&&Ki(a),kt(a),dp(a,p,i,d,l)),null;case 27:if(es(a),l=De.current,p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Ki(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return kt(a),null}i=he.current,Lo(a)?Fb(a):(i=yx(p,d,l),a.stateNode=i,Ki(a))}return kt(a),null;case 5:if(es(a),p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Ki(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return kt(a),null}if(b=he.current,Lo(a))Fb(a);else{var E=ch(De.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?E.createElement(p,{is:d.is}):E.createElement(p)}}b[Qt]=a,b[pn]=d;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=b;e:switch(Tn(b,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Ki(a)}}return kt(a),dp(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==d&&Ki(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(i=De.current,Lo(a)){if(i=a.stateNode,l=a.memoizedProps,d=null,p=xn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Qt]=a,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||ax(i.nodeValue,l)),i||Rr(a,!0)}else i=ch(i).createTextNode(d),i[Qt]=a,a.stateNode=i}return kt(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(d=Lo(a),l!==null){if(i===null){if(!d)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Qt]=a}else Ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kt(a),i=!1}else l=xm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(as(a),a):(as(a),null);if((a.flags&128)!==0)throw Error(r(558))}return kt(a),null;case 13:if(d=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Lo(a),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Qt]=a}else Ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kt(a),p=!1}else p=xm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(as(a),a):(as(a),null)}return as(a),(a.flags&128)!==0?(a.lanes=l,a):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=a.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Xd(a,a.updateQueue),kt(a),null);case 4:return ot(),i===null&&Mp(a.stateNode.containerInfo),kt(a),null;case 10:return Fi(a.type),kt(a),null;case 19:if(ee(Gt),d=a.memoizedState,d===null)return kt(a),null;if(p=(a.flags&128)!==0,b=d.rendering,b===null)if(p)Dc(d,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=Pd(i),b!==null){for(a.flags|=128,Dc(d,!1),i=b.updateQueue,a.updateQueue=i,Xd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Lb(l,i),l=l.sibling;return le(Gt,Gt.current&1|2),et&&Bi(a,d.treeForkCount),a.child}i=i.sibling}d.tail!==null&&mn()>Jd&&(a.flags|=128,p=!0,Dc(d,!1),a.lanes=4194304)}else{if(!p)if(i=Pd(b),i!==null){if(a.flags|=128,p=!0,i=i.updateQueue,a.updateQueue=i,Xd(a,i),Dc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!et)return kt(a),null}else 2*mn()-d.renderingStartTime>Jd&&l!==536870912&&(a.flags|=128,p=!0,Dc(d,!1),a.lanes=4194304);d.isBackwards?(b.sibling=a.child,a.child=b):(i=d.last,i!==null?i.sibling=b:a.child=b,d.last=b)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=mn(),i.sibling=null,l=Gt.current,le(Gt,p?l&1|2:l&1),et&&Bi(a,d.treeForkCount),i):(kt(a),null);case 22:case 23:return as(a),jm(),d=a.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(kt(a),a.subtreeFlags&6&&(a.flags|=8192)):kt(a),l=a.updateQueue,l!==null&&Xd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),i!==null&&ee(Ha),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Fi(Jt),kt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function EC(i,a){switch(vm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Fi(Jt),ot(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return es(a),null;case 31:if(a.memoizedState!==null){if(as(a),a.alternate===null)throw Error(r(340));Ba()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(as(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ba()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ee(Gt),null;case 4:return ot(),null;case 10:return Fi(a.type),null;case 22:case 23:return as(a),jm(),i!==null&&ee(Ha),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Fi(Jt),null;case 25:return null;default:return null}}function d_(i,a){switch(vm(a),a.tag){case 3:Fi(Jt),ot();break;case 26:case 27:case 5:es(a);break;case 4:ot();break;case 31:a.memoizedState!==null&&as(a);break;case 13:as(a);break;case 19:ee(Gt);break;case 10:Fi(a.type);break;case 22:case 23:as(a),jm(),i!==null&&ee(Ha);break;case 24:Fi(Jt)}}function Mc(i,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&i)===i){d=void 0;var b=l.create,E=l.inst;d=b(),E.destroy=d}l=l.next}while(l!==p)}}catch(A){pt(a,a.return,A)}}function Pr(i,a,l){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){var E=d.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,p=a;var O=l,K=A;try{K()}catch(J){pt(p,O,J)}}}d=d.next}while(d!==b)}}catch(J){pt(a,a.return,J)}}function h_(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{nv(a,l)}catch(d){pt(i,i.return,d)}}}function f_(i,a,l){l.props=Ya(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){pt(i,a,d)}}function jc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(p){pt(i,a,p)}}function xi(i,a){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){pt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){pt(i,a,p)}else l.current=null}function m_(i){var a=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){pt(i,i.return,p)}}function hp(i,a,l){try{var d=i.stateNode;GC(d,i.type,l,a),d[pn]=a}catch(p){pt(i,i.return,p)}}function p_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qr(i.type)||i.tag===4}function fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mp(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Bs));else if(d!==4&&(d===27&&qr(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(mp(i,a,l),i=i.sibling;i!==null;)mp(i,a,l),i=i.sibling}function Yd(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(d!==4&&(d===27&&qr(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Yd(i,a,l),i=i.sibling;i!==null;)Yd(i,a,l),i=i.sibling}function g_(i){var a=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Tn(a,d,l),a[Qt]=i,a[pn]=l}catch(b){pt(i,i.return,b)}}var Xi=!1,nn=!1,pp=!1,y_=typeof WeakSet=="function"?WeakSet:Set,yn=null;function TC(i,a){if(i=i.containerInfo,Vp=gh,i=Cb(i),lm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var E=0,A=-1,O=-1,K=0,J=0,ie=i,Y=null;t:for(;;){for(var W;ie!==l||p!==0&&ie.nodeType!==3||(A=E+p),ie!==b||d!==0&&ie.nodeType!==3||(O=E+d),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===i)break t;if(Y===l&&++K===p&&(A=E),Y===b&&++J===d&&(O=E),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}l=A===-1||O===-1?null:{start:A,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Op={focusedElem:i,selectionRange:l},gh=!1,yn=a;yn!==null;)if(a=yn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,yn=i;else for(;yn!==null;){switch(a=yn,b=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=a,p=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var ye=Ya(l.type,p);i=d.getSnapshotBeforeUpdate(ye,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(ke){pt(l,l.return,ke)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Up(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Up(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,yn=i;break}yn=a.return}}function b_(i,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(i,l),d&4&&Mc(5,l);break;case 1:if(Qi(i,l),d&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(E){pt(l,l.return,E)}else{var p=Ya(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(E){pt(l,l.return,E)}}d&64&&h_(l),d&512&&jc(l,l.return);break;case 3:if(Qi(i,l),d&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{nv(i,a)}catch(E){pt(l,l.return,E)}}break;case 27:a===null&&d&4&&g_(l);case 26:case 5:Qi(i,l),a===null&&d&4&&m_(l),d&512&&jc(l,l.return);break;case 12:Qi(i,l);break;case 31:Qi(i,l),d&4&&x_(i,l);break;case 13:Qi(i,l),d&4&&w_(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=MC.bind(null,l),JC(i,l))));break;case 22:if(d=l.memoizedState!==null||Xi,!d){a=a!==null&&a.memoizedState!==null||nn,p=Xi;var b=nn;Xi=d,(nn=a)&&!b?Zi(i,l,(l.subtreeFlags&8772)!==0):Qi(i,l),Xi=p,nn=b}break;case 30:break;default:Qi(i,l)}}function v_(i){var a=i.alternate;a!==null&&(i.alternate=null,v_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&xo(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var jt=null,Gn=!1;function Yi(i,a,l){for(l=l.child;l!==null;)__(i,a,l),l=l.sibling}function __(i,a,l){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:nn||xi(l,a),Yi(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||xi(l,a);var d=jt,p=Gn;qr(l.type)&&(jt=l.stateNode,Gn=!1),Yi(i,a,l),Fc(l.stateNode),jt=d,Gn=p;break;case 5:nn||xi(l,a);case 6:if(d=jt,p=Gn,jt=null,Yi(i,a,l),jt=d,Gn=p,jt!==null)if(Gn)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(l.stateNode)}catch(b){pt(l,a,b)}else try{jt.removeChild(l.stateNode)}catch(b){pt(l,a,b)}break;case 18:jt!==null&&(Gn?(i=jt,hx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),rl(i)):hx(jt,l.stateNode));break;case 4:d=jt,p=Gn,jt=l.stateNode.containerInfo,Gn=!0,Yi(i,a,l),jt=d,Gn=p;break;case 0:case 11:case 14:case 15:Pr(2,l,a),nn||Pr(4,l,a),Yi(i,a,l);break;case 1:nn||(xi(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&f_(l,a,d)),Yi(i,a,l);break;case 21:Yi(i,a,l);break;case 22:nn=(d=nn)||l.memoizedState!==null,Yi(i,a,l),nn=d;break;default:Yi(i,a,l)}}function x_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{rl(i)}catch(l){pt(a,a.return,l)}}}function w_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rl(i)}catch(l){pt(a,a.return,l)}}function SC(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new y_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new y_),a;default:throw Error(r(435,i.tag))}}function Qd(i,a){var l=SC(i);a.forEach(function(d){if(!l.has(d)){l.add(d);var p=jC.bind(null,i,d);d.then(p,p)}})}function $n(i,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],b=i,E=a,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(qr(A.type)){jt=A.stateNode,Gn=!1;break e}break;case 5:jt=A.stateNode,Gn=!1;break e;case 3:case 4:jt=A.stateNode.containerInfo,Gn=!0;break e}A=A.return}if(jt===null)throw Error(r(160));__(b,E,p),jt=null,Gn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)E_(a,i),a=a.sibling}var Ks=null;function E_(i,a){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$n(a,i),Kn(i),d&4&&(Pr(3,i,i.return),Mc(3,i),Pr(5,i,i.return));break;case 1:$n(a,i),Kn(i),d&512&&(nn||l===null||xi(l,l.return)),d&64&&Xi&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Ks;if($n(a,i),Kn(i),d&512&&(nn||l===null||xi(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[oi]||b[Qt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Tn(b,d,l),b[Qt]=i,Zt(b),d=b;break e;case"link":var E=Ex("link","href",p).get(d+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(b=E[A],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break t}}b=p.createElement(d),Tn(b,d,l),p.head.appendChild(b);break;case"meta":if(E=Ex("meta","content",p).get(d+(l.content||""))){for(A=0;A<E.length;A++)if(b=E[A],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break t}}b=p.createElement(d),Tn(b,d,l),p.head.appendChild(b);break;default:throw Error(r(468,d))}b[Qt]=i,Zt(b),d=b}i.stateNode=d}else Tx(p,i.type,i.stateNode);else i.stateNode=wx(p,d,i.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?Tx(p,i.type,i.stateNode):wx(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&hp(i,i.memoizedProps,l.memoizedProps)}break;case 27:$n(a,i),Kn(i),d&512&&(nn||l===null||xi(l,l.return)),l!==null&&d&4&&hp(i,i.memoizedProps,l.memoizedProps);break;case 5:if($n(a,i),Kn(i),d&512&&(nn||l===null||xi(l,l.return)),i.flags&32){p=i.stateNode;try{Hn(p,"")}catch(ye){pt(i,i.return,ye)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,hp(i,p,l!==null?l.memoizedProps:p)),d&1024&&(pp=!0);break;case 6:if($n(a,i),Kn(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(ye){pt(i,i.return,ye)}}break;case 3:if(hh=null,p=Ks,Ks=uh(a.containerInfo),$n(a,i),Ks=p,Kn(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{rl(a.containerInfo)}catch(ye){pt(i,i.return,ye)}pp&&(pp=!1,T_(i));break;case 4:d=Ks,Ks=uh(i.stateNode.containerInfo),$n(a,i),Kn(i),Ks=d;break;case 12:$n(a,i),Kn(i);break;case 31:$n(a,i),Kn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qd(i,d)));break;case 13:$n(a,i),Kn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wd=mn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qd(i,d)));break;case 22:p=i.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,K=Xi,J=nn;if(Xi=K||p,nn=J||O,$n(a,i),nn=J,Xi=K,Kn(i),d&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||O||Xi||nn||Qa(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){O=l=a;try{if(b=O.stateNode,p)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=O.stateNode;var ie=O.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){pt(O,O.return,ye)}}}else if(a.tag===6){if(l===null){O=a;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(ye){pt(O,O.return,ye)}}}else if(a.tag===18){if(l===null){O=a;try{var W=O.stateNode;p?fx(W,!0):fx(O.stateNode,!1)}catch(ye){pt(O,O.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Qd(i,l))));break;case 19:$n(a,i),Kn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qd(i,d)));break;case 30:break;case 21:break;default:$n(a,i),Kn(i)}}function Kn(i){var a=i.flags;if(a&2){try{for(var l,d=i.return;d!==null;){if(p_(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,b=fp(i);Yd(i,b,p);break;case 5:var E=l.stateNode;l.flags&32&&(Hn(E,""),l.flags&=-33);var A=fp(i);Yd(i,A,E);break;case 3:case 4:var O=l.stateNode.containerInfo,K=fp(i);mp(i,K,O);break;default:throw Error(r(161))}}catch(J){pt(i,i.return,J)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function T_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;T_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Qi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)b_(i,a.alternate,a),a=a.sibling}function Qa(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Pr(4,a,a.return),Qa(a);break;case 1:xi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&f_(a,a.return,l),Qa(a);break;case 27:Fc(a.stateNode);case 26:case 5:xi(a,a.return),Qa(a);break;case 22:a.memoizedState===null&&Qa(a);break;case 30:Qa(a);break;default:Qa(a)}i=i.sibling}}function Zi(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,p=i,b=a,E=b.flags;switch(b.tag){case 0:case 11:case 15:Zi(p,b,l),Mc(4,b);break;case 1:if(Zi(p,b,l),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){pt(d,d.return,K)}if(d=b,p=d.updateQueue,p!==null){var A=d.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)tv(O[p],A)}catch(K){pt(d,d.return,K)}}l&&E&64&&h_(b),jc(b,b.return);break;case 27:g_(b);case 26:case 5:Zi(p,b,l),l&&d===null&&E&4&&m_(b),jc(b,b.return);break;case 12:Zi(p,b,l);break;case 31:Zi(p,b,l),l&&E&4&&x_(p,b);break;case 13:Zi(p,b,l),l&&E&4&&w_(p,b);break;case 22:b.memoizedState===null&&Zi(p,b,l),jc(b,b.return);break;case 30:break;default:Zi(p,b,l)}a=a.sibling}}function gp(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&_c(l))}function yp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&_c(i))}function Xs(i,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)S_(i,a,l,d),a=a.sibling}function S_(i,a,l,d){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Xs(i,a,l,d),p&2048&&Mc(9,a);break;case 1:Xs(i,a,l,d);break;case 3:Xs(i,a,l,d),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&_c(i)));break;case 12:if(p&2048){Xs(i,a,l,d),i=a.stateNode;try{var b=a.memoizedProps,E=b.id,A=b.onPostCommit;typeof A=="function"&&A(E,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){pt(a,a.return,O)}}else Xs(i,a,l,d);break;case 31:Xs(i,a,l,d);break;case 13:Xs(i,a,l,d);break;case 23:break;case 22:b=a.stateNode,E=a.alternate,a.memoizedState!==null?b._visibility&2?Xs(i,a,l,d):Pc(i,a):b._visibility&2?Xs(i,a,l,d):(b._visibility|=2,Xo(i,a,l,d,(a.subtreeFlags&10256)!==0||!1)),p&2048&&gp(E,a);break;case 24:Xs(i,a,l,d),p&2048&&yp(a.alternate,a);break;default:Xs(i,a,l,d)}}function Xo(i,a,l,d,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=i,E=a,A=l,O=d,K=E.flags;switch(E.tag){case 0:case 11:case 15:Xo(b,E,A,O,p),Mc(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Xo(b,E,A,O,p):Pc(b,E):(J._visibility|=2,Xo(b,E,A,O,p)),p&&K&2048&&gp(E.alternate,E);break;case 24:Xo(b,E,A,O,p),p&&K&2048&&yp(E.alternate,E);break;default:Xo(b,E,A,O,p)}a=a.sibling}}function Pc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,d=a,p=d.flags;switch(d.tag){case 22:Pc(l,d),p&2048&&gp(d.alternate,d);break;case 24:Pc(l,d),p&2048&&yp(d.alternate,d);break;default:Pc(l,d)}a=a.sibling}}var Vc=8192;function Yo(i,a,l){if(i.subtreeFlags&Vc)for(i=i.child;i!==null;)A_(i,a,l),i=i.sibling}function A_(i,a,l){switch(i.tag){case 26:Yo(i,a,l),i.flags&Vc&&i.memoizedState!==null&&dN(l,Ks,i.memoizedState,i.memoizedProps);break;case 5:Yo(i,a,l);break;case 3:case 4:var d=Ks;Ks=uh(i.stateNode.containerInfo),Yo(i,a,l),Ks=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=Vc,Vc=16777216,Yo(i,a,l),Vc=d):Yo(i,a,l));break;default:Yo(i,a,l)}}function k_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Oc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];yn=d,C_(d,i)}k_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(i),i=i.sibling}function R_(i){switch(i.tag){case 0:case 11:case 15:Oc(i),i.flags&2048&&Pr(9,i,i.return);break;case 3:Oc(i);break;case 12:Oc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Zd(i)):Oc(i);break;default:Oc(i)}}function Zd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];yn=d,C_(d,i)}k_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Pr(8,a,a.return),Zd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Zd(a));break;default:Zd(a)}i=i.sibling}}function C_(i,a){for(;yn!==null;){var l=yn;switch(l.tag){case 0:case 11:case 15:Pr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_c(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,yn=d;else e:for(l=i;yn!==null;){d=yn;var p=d.sibling,b=d.return;if(v_(d),d===l){yn=null;break e}if(p!==null){p.return=b,yn=p;break e}yn=b}}}var AC={getCacheForType:function(i){var a=wn(Jt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return wn(Jt).controller.signal}},kC=typeof WeakMap=="function"?WeakMap:Map,ut=0,xt=null,Ke=null,Ye=0,mt=0,os=null,Vr=!1,Qo=!1,bp=!1,Wi=0,Bt=0,Or=0,Za=0,vp=0,ls=0,Zo=0,Lc=null,Xn=null,_p=!1,Wd=0,N_=0,Jd=1/0,eh=null,Lr=null,ln=0,zr=null,Wo=null,Ji=0,xp=0,wp=null,I_=null,zc=0,Ep=null;function cs(){return(ut&2)!==0&&Ye!==0?Ye&-Ye:X.T!==null?Cp():td()}function D_(){if(ls===0)if((Ye&536870912)===0||et){var i=zt;zt<<=1,(zt&3932160)===0&&(zt=262144),ls=i}else ls=536870912;return i=rs.current,i!==null&&(i.flags|=32),ls}function Yn(i,a,l){(i===xt&&(mt===2||mt===9)||i.cancelPendingCommit!==null)&&(Jo(i,0),Ur(i,Ye,ls,!1)),Sa(i,l),((ut&2)===0||i!==xt)&&(i===xt&&((ut&2)===0&&(Za|=l),Bt===4&&Ur(i,Ye,ls,!1)),wi(i))}function M_(i,a,l){if((ut&6)!==0)throw Error(r(327));var d=!l&&(a&127)===0&&(a&i.expiredLanes)===0||Ls(i,a),p=d?NC(i,a):Sp(i,a,!0),b=d;do{if(p===0){Qo&&!d&&Ur(i,a,0,!1);break}else{if(l=i.current.alternate,b&&!RC(l)){p=Sp(i,a,!1),b=!1;continue}if(p===2){if(b=a,i.errorRecoveryDisabledLanes&b)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var A=i;p=Lc;var O=A.current.memoizedState.isDehydrated;if(O&&(Jo(A,E).flags|=256),E=Sp(A,E,!1),E!==2){if(bp&&!O){A.errorRecoveryDisabledLanes|=b,Za|=b,p=4;break e}b=Xn,Xn=p,b!==null&&(Xn===null?Xn=b:Xn.push.apply(Xn,b))}p=E}if(b=!1,p!==2)continue}}if(p===1){Jo(i,0),Ur(i,a,0,!0);break}e:{switch(d=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ur(d,a,ls,!Vr);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=Wd+300-mn(),10<p)){if(Ur(d,a,ls,!Vr),ms(d,0,!0)!==0)break e;Ji=a,d.timeoutHandle=ux(j_.bind(null,d,l,Xn,eh,_p,a,ls,Za,Zo,Vr,b,"Throttled",-0,0),p);break e}j_(d,l,Xn,eh,_p,a,ls,Za,Zo,Vr,b,null,-0,0)}}break}while(!0);wi(i)}function j_(i,a,l,d,p,b,E,A,O,K,J,ie,Y,W){if(i.timeoutHandle=-1,ie=a.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bs},A_(a,b,ie);var ye=(b&62914560)===b?Wd-mn():(b&4194048)===b?N_-mn():0;if(ye=hN(ie,ye),ye!==null){Ji=b,i.cancelPendingCommit=ye(q_.bind(null,i,a,b,l,d,p,E,A,O,J,ie,null,Y,W)),Ur(i,b,E,!K);return}}q_(i,a,b,l,d,p,E,A,O)}function RC(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],b=p.getSnapshot;p=p.value;try{if(!ss(b(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ur(i,a,l,d){a&=~vp,a&=~Za,i.suspendedLanes|=a,i.pingedLanes&=~a,d&&(i.warmLanes|=a),d=i.expirationTimes;for(var p=a;0<p;){var b=31-we(p),E=1<<b;d[b]=-1,p&=~E}l!==0&&Aa(i,l,a)}function th(){return(ut&6)===0?(Uc(0),!1):!0}function Tp(){if(Ke!==null){if(mt===0)var i=Ke.return;else i=Ke,qi=qa=null,Um(i),Fo=null,wc=0,i=Ke;for(;i!==null;)d_(i.alternate,i),i=i.return;Ke=null}}function Jo(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,XC(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ji=0,Tp(),xt=i,Ke=l=Ui(i.current,null),Ye=a,mt=0,os=null,Vr=!1,Qo=Ls(i,a),bp=!1,Zo=ls=vp=Za=Or=Bt=0,Xn=Lc=null,_p=!1,(a&8)!==0&&(a|=a&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=a;0<d;){var p=31-we(d),b=1<<p;a|=i[p],d&=~b}return Wi=a,wd(),l}function P_(i,a){Be=null,X.H=Nc,a===qo||a===Nd?(a=Zb(),mt=3):a===Rm?(a=Zb(),mt=4):mt=a===np?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,os=a,Ke===null&&(Bt=1,Hd(i,_s(a,i.current)))}function V_(){var i=rs.current;return i===null?!0:(Ye&4194048)===Ye?Ts===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===Ts:!1}function O_(){var i=X.H;return X.H=Nc,i===null?Nc:i}function L_(){var i=X.A;return X.A=AC,i}function nh(){Bt=4,Vr||(Ye&4194048)!==Ye&&rs.current!==null||(Qo=!0),(Or&134217727)===0&&(Za&134217727)===0||xt===null||Ur(xt,Ye,ls,!1)}function Sp(i,a,l){var d=ut;ut|=2;var p=O_(),b=L_();(xt!==i||Ye!==a)&&(eh=null,Jo(i,a)),a=!1;var E=Bt;e:do try{if(mt!==0&&Ke!==null){var A=Ke,O=os;switch(mt){case 8:Tp(),E=6;break e;case 3:case 2:case 9:case 6:rs.current===null&&(a=!0);var K=mt;if(mt=0,os=null,el(i,A,O,K),l&&Qo){E=0;break e}break;default:K=mt,mt=0,os=null,el(i,A,O,K)}}CC(),E=Bt;break}catch(J){P_(i,J)}while(!0);return a&&i.shellSuspendCounter++,qi=qa=null,ut=d,X.H=p,X.A=b,Ke===null&&(xt=null,Ye=0,wd()),E}function CC(){for(;Ke!==null;)z_(Ke)}function NC(i,a){var l=ut;ut|=2;var d=O_(),p=L_();xt!==i||Ye!==a?(eh=null,Jd=mn()+500,Jo(i,a)):Qo=Ls(i,a);e:do try{if(mt!==0&&Ke!==null){a=Ke;var b=os;t:switch(mt){case 1:mt=0,os=null,el(i,a,b,1);break;case 2:case 9:if(Yb(b)){mt=0,os=null,U_(a);break}a=function(){mt!==2&&mt!==9||xt!==i||(mt=7),wi(i)},b.then(a,a);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Yb(b)?(mt=0,os=null,U_(a)):(mt=0,os=null,el(i,a,b,7));break;case 5:var E=null;switch(Ke.tag){case 26:E=Ke.memoizedState;case 5:case 27:var A=Ke;if(E?Sx(E):A.stateNode.complete){mt=0,os=null;var O=A.sibling;if(O!==null)Ke=O;else{var K=A.return;K!==null?(Ke=K,sh(K)):Ke=null}break t}}mt=0,os=null,el(i,a,b,5);break;case 6:mt=0,os=null,el(i,a,b,6);break;case 8:Tp(),Bt=6;break e;default:throw Error(r(462))}}IC();break}catch(J){P_(i,J)}while(!0);return qi=qa=null,X.H=d,X.A=p,ut=l,Ke!==null?0:(xt=null,Ye=0,wd(),Bt)}function IC(){for(;Ke!==null&&!Ta();)z_(Ke)}function z_(i){var a=c_(i.alternate,i,Wi);i.memoizedProps=i.pendingProps,a===null?sh(i):Ke=a}function U_(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=s_(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=s_(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:Um(a);default:d_(l,a),a=Ke=Lb(a,Wi),a=c_(l,a,Wi)}i.memoizedProps=i.pendingProps,a===null?sh(i):Ke=a}function el(i,a,l,d){qi=qa=null,Um(a),Fo=null,wc=0;var p=a.return;try{if(vC(i,p,a,l,Ye)){Bt=1,Hd(i,_s(l,i.current)),Ke=null;return}}catch(b){if(p!==null)throw Ke=p,b;Bt=1,Hd(i,_s(l,i.current)),Ke=null;return}a.flags&32768?(et||d===1?i=!0:Qo||(Ye&536870912)!==0?i=!1:(Vr=i=!0,(d===2||d===9||d===3||d===6)&&(d=rs.current,d!==null&&d.tag===13&&(d.flags|=16384))),B_(a,i)):sh(a)}function sh(i){var a=i;do{if((a.flags&32768)!==0){B_(a,Vr);return}i=a.return;var l=wC(a.alternate,a,Wi);if(l!==null){Ke=l;return}if(a=a.sibling,a!==null){Ke=a;return}Ke=a=i}while(a!==null);Bt===0&&(Bt=5)}function B_(i,a){do{var l=EC(i.alternate,i);if(l!==null){l.flags&=32767,Ke=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=l}while(i!==null);Bt=6,Ke=null}function q_(i,a,l,d,p,b,E,A,O){i.cancelPendingCommit=null;do ih();while(ln!==0);if((ut&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=fm,im(i,l,b,E,A,O),i===xt&&(Ke=xt=null,Ye=0),Wo=a,zr=i,Ji=l,xp=b,wp=p,I_=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PC(je,function(){return K_(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,p=re.p,re.p=2,E=ut,ut|=4;try{TC(i,a,l)}finally{ut=E,re.p=p,X.T=d}}ln=1,F_(),H_(),G_()}}function F_(){if(ln===1){ln=0;var i=zr,a=Wo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var d=re.p;re.p=2;var p=ut;ut|=4;try{E_(a,i);var b=Op,E=Cb(i.containerInfo),A=b.focusedElem,O=b.selectionRange;if(E!==A&&A&&A.ownerDocument&&Rb(A.ownerDocument.documentElement,A)){if(O!==null&&lm(A)){var K=O.start,J=O.end;if(J===void 0&&(J=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(J,A.value.length);else{var ie=A.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ye=A.textContent.length,ke=Math.min(O.start,ye),vt=O.end===void 0?ke:Math.min(O.end,ye);!W.extend&&ke>vt&&(E=vt,vt=ke,ke=E);var F=kb(A,ke),U=kb(A,vt);if(F&&U&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var $=ie.createRange();$.setStart(F.node,F.offset),W.removeAllRanges(),ke>vt?(W.addRange($),W.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),W.addRange($))}}}}for(ie=[],W=A;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ne=ie[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}gh=!!Vp,Op=Vp=null}finally{ut=p,re.p=d,X.T=l}}i.current=a,ln=2}}function H_(){if(ln===2){ln=0;var i=zr,a=Wo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var d=re.p;re.p=2;var p=ut;ut|=4;try{b_(i,a.alternate,a)}finally{ut=p,re.p=d,X.T=l}}ln=3}}function G_(){if(ln===4||ln===3){ln=0,gr();var i=zr,a=Wo,l=Ji,d=I_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ln=5:(ln=0,Wo=zr=null,$_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Lr=null),Vi(l),a=a.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Dt,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=X.T,p=re.p,re.p=2,X.T=null;try{for(var b=i.onRecoverableError,E=0;E<d.length;E++){var A=d[E];b(A.value,{componentStack:A.stack})}}finally{X.T=a,re.p=p}}(Ji&3)!==0&&ih(),wi(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Ep?zc++:(zc=0,Ep=i):zc=0,Uc(0)}}function $_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,_c(a)))}function ih(){return F_(),H_(),G_(),K_()}function K_(){if(ln!==5)return!1;var i=zr,a=xp;xp=0;var l=Vi(Ji),d=X.T,p=re.p;try{re.p=32>l?32:l,X.T=null,l=wp,wp=null;var b=zr,E=Ji;if(ln=0,Wo=zr=null,Ji=0,(ut&6)!==0)throw Error(r(331));var A=ut;if(ut|=4,R_(b.current),S_(b,b.current,E,l),ut=A,Uc(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Dt,b)}catch{}return!0}finally{re.p=p,X.T=d,$_(i,a)}}function X_(i,a,l){a=_s(l,a),a=tp(i.stateNode,a,2),i=Dr(i,a,2),i!==null&&(Sa(i,2),wi(i))}function pt(i,a,l){if(i.tag===3)X_(i,i,l);else for(;a!==null;){if(a.tag===3){X_(a,i,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))){i=_s(l,i),l=Yv(2),d=Dr(a,l,2),d!==null&&(Qv(l,d,a,i),Sa(d,2),wi(d));break}}a=a.return}}function Ap(i,a,l){var d=i.pingCache;if(d===null){d=i.pingCache=new kC;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(l)||(bp=!0,p.add(l),i=DC.bind(null,i,a,l),a.then(i,i))}function DC(i,a,l){var d=i.pingCache;d!==null&&d.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(Ye&l)===l&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>mn()-Wd?(ut&2)===0&&Jo(i,0):vp|=l,Zo===Ye&&(Zo=0)),wi(i)}function Y_(i,a){a===0&&(a=ed()),i=za(i,a),i!==null&&(Sa(i,a),wi(i))}function MC(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Y_(i,l)}function jC(i,a){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),Y_(i,l)}function PC(i,a){return Ft(i,a)}var rh=null,tl=null,kp=!1,ah=!1,Rp=!1,Br=0;function wi(i){i!==tl&&i.next===null&&(tl===null?rh=tl=i:tl=tl.next=i),ah=!0,kp||(kp=!0,OC())}function Uc(i,a){if(!Rp&&ah){Rp=!0;do for(var l=!1,d=rh;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var E=d.suspendedLanes,A=d.pingedLanes;b=(1<<31-we(42|i)+1)-1,b&=p&~(E&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,J_(d,b))}else b=Ye,b=ms(d,d===xt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Ls(d,b)||(l=!0,J_(d,b));d=d.next}while(l);Rp=!1}}function VC(){Q_()}function Q_(){ah=kp=!1;var i=0;Br!==0&&KC()&&(i=Br);for(var a=mn(),l=null,d=rh;d!==null;){var p=d.next,b=Z_(d,a);b===0?(d.next=null,l===null?rh=p:l.next=p,p===null&&(tl=l)):(l=d,(i!==0||(b&3)!==0)&&(ah=!0)),d=p}ln!==0&&ln!==5||Uc(i),Br!==0&&(Br=0)}function Z_(i,a){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var E=31-we(b),A=1<<E,O=p[E];O===-1?((A&l)===0||(A&d)!==0)&&(p[E]=sm(A,a)):O<=a&&(i.expiredLanes|=A),b&=~A}if(a=xt,l=Ye,l=ms(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===a&&(mt===2||mt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&ii(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ls(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(d!==null&&ii(d),Vi(l)){case 2:case 8:l=Me;break;case 32:l=je;break;case 268435456:l=Oe;break;default:l=je}return d=W_.bind(null,i),l=Ft(l,d),i.callbackPriority=a,i.callbackNode=l,a}return d!==null&&d!==null&&ii(d),i.callbackPriority=2,i.callbackNode=null,2}function W_(i,a){if(ln!==0&&ln!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ih()&&i.callbackNode!==l)return null;var d=Ye;return d=ms(i,i===xt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(M_(i,d,a),Z_(i,mn()),i.callbackNode!=null&&i.callbackNode===l?W_.bind(null,i):null)}function J_(i,a){if(ih())return null;M_(i,a,!0)}function OC(){YC(function(){(ut&6)!==0?Ft(_e,VC):Q_()})}function Cp(){if(Br===0){var i=Uo;i===0&&(i=_t,_t<<=1,(_t&261888)===0&&(_t=256)),Br=i}return Br}function ex(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:So(""+i)}function tx(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function LC(i,a,l,d,p){if(a==="submit"&&l&&l.stateNode===p){var b=ex((p[pn]||null).action),E=d.submitter;E&&(a=(a=E[pn]||null)?ex(a.formAction):E.getAttribute("formAction"),a!==null&&(b=a,E=null));var A=new pi("action","action",null,d,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Br!==0){var O=E?tx(p,E):new FormData(p);Ym(l,{pending:!0,data:O,method:p.method,action:b},null,O)}}else typeof b=="function"&&(A.preventDefault(),O=E?tx(p,E):new FormData(p),Ym(l,{pending:!0,data:O,method:p.method,action:b},b,O))},currentTarget:p}]})}}for(var Np=0;Np<hm.length;Np++){var Ip=hm[Np],zC=Ip.toLowerCase(),UC=Ip[0].toUpperCase()+Ip.slice(1);$s(zC,"on"+UC)}$s(Db,"onAnimationEnd"),$s(Mb,"onAnimationIteration"),$s(jb,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(nC,"onTransitionRun"),$s(sC,"onTransitionStart"),$s(iC,"onTransitionCancel"),$s(Pb,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function nx(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var E=d.length-1;0<=E;E--){var A=d[E],O=A.instance,K=A.currentTarget;if(A=A.listener,O!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=K;try{b(p)}catch(J){xd(J)}p.currentTarget=null,b=O}else for(E=0;E<d.length;E++){if(A=d[E],O=A.instance,K=A.currentTarget,A=A.listener,O!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=K;try{b(p)}catch(J){xd(J)}p.currentTarget=null,b=O}}}}function Xe(i,a){var l=a[_o];l===void 0&&(l=a[_o]=new Set);var d=i+"__bubble";l.has(d)||(sx(a,i,2,!1),l.add(d))}function Dp(i,a,l){var d=0;a&&(d|=4),sx(l,i,d,a)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Mp(i){if(!i[oh]){i[oh]=!0,Jl.forEach(function(l){l!=="selectionchange"&&(BC.has(l)||Dp(l,!1,i),Dp(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[oh]||(a[oh]=!0,Dp("selectionchange",!1,a))}}function sx(i,a,l,d){switch(Dx(a)){case 2:var p=pN;break;case 8:p=gN;break;default:p=Xp}l=p.bind(null,a,l,i),p=void 0,!Ia||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function jp(i,a,l,d,p){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===p)break;if(E===4)for(E=d.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;A!==null;){if(E=li(A),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){d=b=E;continue e}A=A.parentNode}}d=d.return}wr(function(){var K=b,J=gs(l),ie=[];e:{var Y=Vb.get(i);if(Y!==void 0){var W=pi,ye=i;switch(i){case"keypress":if(Ma(l)===0)break e;case"keydown":case"keyup":W=bd;break;case"focusin":ye="focus",W=Pa;break;case"focusout":ye="blur",W=Pa;break;case"beforeblur":case"afterblur":W=Pa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case Db:case Mb:case jb:W=dd;break;case Pb:W=R;break;case"scroll":case"scrollend":W=dc;break;case"wheel":W=Z;break;case"copy":case"cut":case"paste":W=hd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=zi;break;case"toggle":case"beforetoggle":W=Ue}var ke=(a&4)!==0,vt=!ke&&(i==="scroll"||i==="scrollend"),F=ke?Y!==null?Y+"Capture":null:Y;ke=[];for(var U=K,$;U!==null;){var ne=U;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||F===null||(ne=qs(U,F),ne!=null&&ke.push(qc(U,ne,$))),vt)break;U=U.return}0<ke.length&&(Y=new W(Y,ye,null,l,J),ie.push({event:Y,listeners:ke}))}}if((a&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&l!==lc&&(ye=l.relatedTarget||l.fromElement)&&(li(ye)||ye[ai]))break e;if((W||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ye=l.relatedTarget||l.toElement,W=K,ye=ye?li(ye):null,ye!==null&&(vt=c(ye),ke=ye.tag,ye!==vt||ke!==5&&ke!==27&&ke!==6)&&(ye=null)):(W=null,ye=K),W!==ye)){if(ke=hc,ne="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ke=zi,ne="onPointerLeave",F="onPointerEnter",U="pointer"),vt=W==null?Y:ts(W),$=ye==null?Y:ts(ye),Y=new ke(ne,U+"leave",W,l,J),Y.target=vt,Y.relatedTarget=$,ne=null,li(J)===K&&(ke=new ke(F,U+"enter",ye,l,J),ke.target=$,ke.relatedTarget=vt,ne=ke),vt=ne,W&&ye)t:{for(ke=qC,F=W,U=ye,$=0,ne=F;ne;ne=ke(ne))$++;ne=0;for(var Ee=U;Ee;Ee=ke(Ee))ne++;for(;0<$-ne;)F=ke(F),$--;for(;0<ne-$;)U=ke(U),ne--;for(;$--;){if(F===U||U!==null&&F===U.alternate){ke=F;break t}F=ke(F),U=ke(U)}ke=null}else ke=null;W!==null&&ix(ie,Y,W,ke,!1),ye!==null&&vt!==null&&ix(ie,vt,ye,ke,!0)}}e:{if(Y=K?ts(K):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var rt=xb;else if(vb(Y))if(wb)rt=JR;else{rt=ZR;var xe=QR}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&To(K.elementType)&&(rt=xb):rt=WR;if(rt&&(rt=rt(i,K))){_b(ie,rt,l,J);break e}xe&&xe(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&rc(Y,"number",Y.value)}switch(xe=K?ts(K):window,i){case"focusin":(vb(xe)||xe.contentEditable==="true")&&(Do=xe,cm=K,yc=null);break;case"focusout":yc=cm=Do=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Nb(ie,l,J);break;case"selectionchange":if(tC)break;case"keydown":case"keyup":Nb(ie,l,J)}var Fe;if(ct)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Io?Va(i,l)&&(Qe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(bi&&l.locale!=="ko"&&(Io||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Io&&(Fe=uc()):(mi=J,cc="value"in mi?mi.value:mi.textContent,Io=!0)),xe=lh(K,Qe),0<xe.length&&(Qe=new yi(Qe,i,null,l,J),ie.push({event:Qe,listeners:xe}),Fe?Qe.data=Fe:(Fe=No(l),Fe!==null&&(Qe.data=Fe)))),(Fe=bs?$R(i,l):KR(i,l))&&(Qe=lh(K,"onBeforeInput"),0<Qe.length&&(xe=new yi("onBeforeInput","beforeinput",null,l,J),ie.push({event:xe,listeners:Qe}),xe.data=Fe)),LC(ie,i,K,l,J)}nx(ie,a)})}function qc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function lh(i,a){for(var l=a+"Capture",d=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=qs(i,l),p!=null&&d.unshift(qc(i,p,b)),p=qs(i,a),p!=null&&d.push(qc(i,p,b))),i.tag===3)return d;i=i.return}return[]}function qC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ix(i,a,l,d,p){for(var b=a._reactName,E=[];l!==null&&l!==d;){var A=l,O=A.alternate,K=A.stateNode;if(A=A.tag,O!==null&&O===d)break;A!==5&&A!==26&&A!==27||K===null||(O=K,p?(K=qs(l,b),K!=null&&E.unshift(qc(l,K,O))):p||(K=qs(l,b),K!=null&&E.push(qc(l,K,O)))),l=l.return}E.length!==0&&i.push({event:a,listeners:E})}var FC=/\r\n?/g,HC=/\u0000|\uFFFD/g;function rx(i){return(typeof i=="string"?i:""+i).replace(FC,`
`).replace(HC,"")}function ax(i,a){return a=rx(a),rx(i)===a}function bt(i,a,l,d,p,b){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Hn(i,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Hn(i,""+d);break;case"className":ns(i,"class",d);break;case"tabIndex":ns(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(i,l,d);break;case"style":oc(i,d,b);break;case"data":if(a!=="object"){ns(i,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=So(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(a!=="input"&&bt(i,a,"name",p.name,p,null),bt(i,a,"formEncType",p.formEncType,p,null),bt(i,a,"formMethod",p.formMethod,p,null),bt(i,a,"formTarget",p.formTarget,p,null)):(bt(i,a,"encType",p.encType,p,null),bt(i,a,"method",p.method,p,null),bt(i,a,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=So(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Bs);break;case"onScroll":d!=null&&Xe("scroll",i);break;case"onScrollEnd":d!=null&&Xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=So(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":Xe("beforetoggle",i),Xe("toggle",i),wo(i,"popover",d);break;case"xlinkActuate":Wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wt(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wt(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wt(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wt(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wo(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ld.get(l)||l,wo(i,l,d))}}function Pp(i,a,l,d,p,b){switch(l){case"style":oc(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Hn(i,d):(typeof d=="number"||typeof d=="bigint")&&Hn(i,""+d);break;case"onScroll":d!=null&&Xe("scroll",i);break;case"onScrollEnd":d!=null&&Xe("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),b=i[pn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(a,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,d,p);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):wo(i,l,d)}}}function Tn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",i),Xe("load",i);var d=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var E=l[b];if(E!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(i,a,b,E,l,null)}}p&&bt(i,a,"srcSet",l.srcSet,l,null),d&&bt(i,a,"src",l.src,l,null);return;case"input":Xe("invalid",i);var A=b=E=p=null,O=null,K=null;for(d in l)if(l.hasOwnProperty(d)){var J=l[d];if(J!=null)switch(d){case"name":p=J;break;case"type":E=J;break;case"checked":O=J;break;case"defaultChecked":K=J;break;case"value":b=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:bt(i,a,d,J,l,null)}}rd(i,b,A,O,K,E,p,!1);return;case"select":Xe("invalid",i),d=E=b=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":b=A;break;case"defaultValue":E=A;break;case"multiple":d=A;default:bt(i,a,p,A,l,null)}a=b,l=E,i.multiple=!!d,a!=null?br(i,!!d,a,!1):l!=null&&br(i,!!d,l,!0);return;case"textarea":Xe("invalid",i),b=p=d=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":d=A;break;case"defaultValue":p=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:bt(i,a,E,A,l,null)}vr(i,d,p,b);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(d=l[O],d!=null))switch(O){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:bt(i,a,O,d,l,null)}return;case"dialog":Xe("beforetoggle",i),Xe("toggle",i),Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":Xe("load",i);break;case"video":case"audio":for(d=0;d<Bc.length;d++)Xe(Bc[d],i);break;case"image":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"embed":case"source":case"link":Xe("error",i),Xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(d=l[K],d!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(i,a,K,d,l,null)}return;default:if(To(a)){for(J in l)l.hasOwnProperty(J)&&(d=l[J],d!==void 0&&Pp(i,a,J,d,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(d=l[A],d!=null&&bt(i,a,A,d,l,null))}function GC(i,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,E=null,A=null,O=null,K=null,J=null;for(W in l){var ie=l[W];if(l.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ie;default:d.hasOwnProperty(W)||bt(i,a,W,null,d,ie)}}for(var Y in d){var W=d[Y];if(ie=l[Y],d.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":b=W;break;case"name":p=W;break;case"checked":K=W;break;case"defaultChecked":J=W;break;case"value":E=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:W!==ie&&bt(i,a,Y,W,d,ie)}}Eo(i,E,A,O,K,J,b,p);return;case"select":W=E=A=Y=null;for(b in l)if(O=l[b],l.hasOwnProperty(b)&&O!=null)switch(b){case"value":break;case"multiple":W=O;default:d.hasOwnProperty(b)||bt(i,a,b,null,d,O)}for(p in d)if(b=d[p],O=l[p],d.hasOwnProperty(p)&&(b!=null||O!=null))switch(p){case"value":Y=b;break;case"defaultValue":A=b;break;case"multiple":E=b;default:b!==O&&bt(i,a,p,b,d,O)}a=A,l=E,d=W,Y!=null?br(i,!!l,Y,!1):!!d!=!!l&&(a!=null?br(i,!!l,a,!0):br(i,!!l,l?[]:"",!1));return;case"textarea":W=Y=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:bt(i,a,A,null,d,p)}for(E in d)if(p=d[E],b=l[E],d.hasOwnProperty(E)&&(p!=null||b!=null))switch(E){case"value":Y=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&bt(i,a,E,p,d,b)}ad(i,Y,W);return;case"option":for(var ye in l)if(Y=l[ye],l.hasOwnProperty(ye)&&Y!=null&&!d.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:bt(i,a,ye,null,d,Y)}for(O in d)if(Y=d[O],W=l[O],d.hasOwnProperty(O)&&Y!==W&&(Y!=null||W!=null))switch(O){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:bt(i,a,O,Y,d,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)Y=l[ke],l.hasOwnProperty(ke)&&Y!=null&&!d.hasOwnProperty(ke)&&bt(i,a,ke,null,d,Y);for(K in d)if(Y=d[K],W=l[K],d.hasOwnProperty(K)&&Y!==W&&(Y!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:bt(i,a,K,Y,d,W)}return;default:if(To(a)){for(var vt in l)Y=l[vt],l.hasOwnProperty(vt)&&Y!==void 0&&!d.hasOwnProperty(vt)&&Pp(i,a,vt,void 0,d,Y);for(J in d)Y=d[J],W=l[J],!d.hasOwnProperty(J)||Y===W||Y===void 0&&W===void 0||Pp(i,a,J,Y,d,W);return}}for(var F in l)Y=l[F],l.hasOwnProperty(F)&&Y!=null&&!d.hasOwnProperty(F)&&bt(i,a,F,null,d,Y);for(ie in d)Y=d[ie],W=l[ie],!d.hasOwnProperty(ie)||Y===W||Y==null&&W==null||bt(i,a,ie,Y,d,W)}function ox(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $C(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var p=l[d],b=p.transferSize,E=p.initiatorType,A=p.duration;if(b&&A&&ox(E)){for(E=0,A=p.responseEnd,d+=1;d<l.length;d++){var O=l[d],K=O.startTime;if(K>A)break;var J=O.transferSize,ie=O.initiatorType;J&&ox(ie)&&(O=O.responseEnd,E+=J*(O<A?1:(A-K)/(O-K)))}if(--d,a+=8*(b+E)/(p.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Vp=null,Op=null;function ch(i){return i.nodeType===9?i:i.ownerDocument}function lx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cx(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Lp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zp=null;function KC(){var i=window.event;return i&&i.type==="popstate"?i===zp?!1:(zp=i,!0):(zp=null,!1)}var ux=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,YC=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(i){return dx.resolve(null).then(i).catch(QC)}:ux;function QC(i){setTimeout(function(){throw i})}function qr(i){return i==="head"}function hx(i,a){var l=a,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(p),rl(a);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Fc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Fc(l);for(var b=l.firstChild;b;){var E=b.nextSibling,A=b.nodeName;b[oi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=E}}else l==="body"&&Fc(i.ownerDocument.body);l=p}while(l);rl(a)}function fx(i,a){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function Up(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Up(l),xo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function ZC(i,a,l,d){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[oi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ss(i.nextSibling),i===null)break}return null}function WC(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ss(i.nextSibling),i===null))return null;return i}function mx(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ss(i.nextSibling),i===null))return null;return i}function Bp(i){return i.data==="$?"||i.data==="$~"}function qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function JC(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Ss(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Fp=null;function px(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Ss(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function gx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function yx(i,a,l){switch(a=ch(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);xo(i)}var As=new Map,bx=new Set;function uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var er=re.d;re.d={f:eN,r:tN,D:nN,C:sN,L:iN,m:rN,X:oN,S:aN,M:lN};function eN(){var i=er.f(),a=th();return i||a}function tN(i){var a=ps(i);a!==null&&a.tag===5&&a.type==="form"?Pv(a):er.r(i)}var nl=typeof document>"u"?null:document;function vx(i,a,l){var d=nl;if(d&&typeof a=="string"&&a){var p=Fn(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),bx.has(p)||(bx.add(p),i={rel:i,crossOrigin:l,href:a},d.querySelector(p)===null&&(a=d.createElement("link"),Tn(a,"link",i),Zt(a),d.head.appendChild(a)))}}function nN(i){er.D(i),vx("dns-prefetch",i,null)}function sN(i,a){er.C(i,a),vx("preconnect",i,a)}function iN(i,a,l){er.L(i,a,l);var d=nl;if(d&&i&&a){var p='link[rel="preload"][as="'+Fn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Fn(l.imageSizes)+'"]')):p+='[href="'+Fn(i)+'"]';var b=p;switch(a){case"style":b=sl(i);break;case"script":b=il(i)}As.has(b)||(i=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),As.set(b,i),d.querySelector(p)!==null||a==="style"&&d.querySelector(Hc(b))||a==="script"&&d.querySelector(Gc(b))||(a=d.createElement("link"),Tn(a,"link",i),Zt(a),d.head.appendChild(a)))}}function rN(i,a){er.m(i,a);var l=nl;if(l&&i){var d=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Fn(d)+'"][href="'+Fn(i)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=il(i)}if(!As.has(b)&&(i=_({rel:"modulepreload",href:i},a),As.set(b,i),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gc(b)))return}d=l.createElement("link"),Tn(d,"link",i),Zt(d),l.head.appendChild(d)}}}function aN(i,a,l){er.S(i,a,l);var d=nl;if(d&&i){var p=ci(d).hoistableStyles,b=sl(i);a=a||"default";var E=p.get(b);if(!E){var A={loading:0,preload:null};if(E=d.querySelector(Hc(b)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},l),(l=As.get(b))&&Hp(i,l);var O=E=d.createElement("link");Zt(O),Tn(O,"link",i),O._p=new Promise(function(K,J){O.onload=K,O.onerror=J}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,dh(E,a,d)}E={type:"stylesheet",instance:E,count:1,state:A},p.set(b,E)}}}function oN(i,a){er.X(i,a);var l=nl;if(l&&i){var d=ci(l).hoistableScripts,p=il(i),b=d.get(p);b||(b=l.querySelector(Gc(p)),b||(i=_({src:i,async:!0},a),(a=As.get(p))&&Gp(i,a),b=l.createElement("script"),Zt(b),Tn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function lN(i,a){er.M(i,a);var l=nl;if(l&&i){var d=ci(l).hoistableScripts,p=il(i),b=d.get(p);b||(b=l.querySelector(Gc(p)),b||(i=_({src:i,async:!0,type:"module"},a),(a=As.get(p))&&Gp(i,a),b=l.createElement("script"),Zt(b),Tn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function _x(i,a,l,d){var p=(p=De.current)?uh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=sl(l.href),l=ci(p).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=sl(l.href);var b=ci(p).hoistableStyles,E=b.get(i);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,E),(b=p.querySelector(Hc(i)))&&!b._p&&(E.instance=b,E.state.loading=5),As.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},As.set(i,l),b||cN(p,i,l,E.state))),a&&d===null)throw Error(r(528,""));return E}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=il(l),l=ci(p).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function sl(i){return'href="'+Fn(i)+'"'}function Hc(i){return'link[rel="stylesheet"]['+i+"]"}function xx(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function cN(i,a,l,d){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=i.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Tn(a,"link",l),Zt(a),i.head.appendChild(a))}function il(i){return'[src="'+Fn(i)+'"]'}function Gc(i){return"script[async]"+i}function wx(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=i.querySelector('style[data-href~="'+Fn(l.href)+'"]');if(d)return a.instance=d,Zt(d),d;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Zt(d),Tn(d,"style",p),dh(d,l.precedence,i),a.instance=d;case"stylesheet":p=sl(l.href);var b=i.querySelector(Hc(p));if(b)return a.state.loading|=4,a.instance=b,Zt(b),b;d=xx(l),(p=As.get(p))&&Hp(d,p),b=(i.ownerDocument||i).createElement("link"),Zt(b);var E=b;return E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Tn(b,"link",d),a.state.loading|=4,dh(b,l.precedence,i),a.instance=b;case"script":return b=il(l.src),(p=i.querySelector(Gc(b)))?(a.instance=p,Zt(p),p):(d=l,(p=As.get(b))&&(d=_({},l),Gp(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Zt(p),Tn(p,"link",d),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,dh(d,l.precedence,i));return a.instance}function dh(i,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,E=0;E<d.length;E++){var A=d[E];if(A.dataset.precedence===a)b=A;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Hp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Gp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var hh=null;function Ex(i,a,l){if(hh===null){var d=new Map,p=hh=new Map;p.set(l,d)}else p=hh,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var b=l[p];if(!(b[oi]||b[Qt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(a)||"";E=i+E;var A=d.get(E);A?A.push(b):d.set(E,[b])}}return d}function Tx(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function uN(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Sx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dN(i,a,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=sl(d.href),b=a.querySelector(Hc(p));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=fh.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=b,Zt(b);return}b=a.ownerDocument||a,d=xx(d),(p=As.get(p))&&Hp(d,p),b=b.createElement("link"),Zt(b);var E=b;E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Tn(b,"link",d),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=fh.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var $p=0;function hN(i,a){return i.stylesheets&&i.count===0&&ph(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+a);0<i.imgBytes&&$p===0&&($p=62500*$C());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>$p?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mh=null;function ph(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mh=new Map,a.forEach(fN,i),mh=null,fh.call(i))}function fN(i,a){if(!(a.state.loading&4)){var l=mh.get(i);if(l)var d=l.get(null);else{l=new Map,mh.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var E=p[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),d=E)}d&&l.set(null,d)}p=a.instance,E=p.getAttribute("data-precedence"),b=l.get(E)||d,b===d&&l.set(null,p),l.set(E,p),this.count++,d=fh.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var $c={$$typeof:H,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function mN(i,a,l,d,p,b,E,A,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Ax(i,a,l,d,p,b,E,A,O,K,J,ie){return i=new mN(i,a,l,E,O,K,J,ie,A),a=1,b===!0&&(a|=24),b=is(3,null,null,a),i.current=b,b.stateNode=i,a=Sm(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:a},Cm(b),i}function kx(i){return i?(i=Po,i):Po}function Rx(i,a,l,d,p,b){p=kx(p),d.context===null?d.context=p:d.pendingContext=p,d=Ir(a),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Dr(i,d,a),l!==null&&(Yn(l,i,a),Tc(l,i,a))}function Cx(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Kp(i,a){Cx(i,a),(i=i.alternate)&&Cx(i,a)}function Nx(i){if(i.tag===13||i.tag===31){var a=za(i,67108864);a!==null&&Yn(a,i,67108864),Kp(i,67108864)}}function Ix(i){if(i.tag===13||i.tag===31){var a=cs();a=ka(a);var l=za(i,a);l!==null&&Yn(l,i,a),Kp(i,a)}}var gh=!0;function pN(i,a,l,d){var p=X.T;X.T=null;var b=re.p;try{re.p=2,Xp(i,a,l,d)}finally{re.p=b,X.T=p}}function gN(i,a,l,d){var p=X.T;X.T=null;var b=re.p;try{re.p=8,Xp(i,a,l,d)}finally{re.p=b,X.T=p}}function Xp(i,a,l,d){if(gh){var p=Yp(d);if(p===null)jp(i,a,d,yh,l),Mx(i,d);else if(bN(p,i,a,l,d))d.stopPropagation();else if(Mx(i,d),a&4&&-1<yN.indexOf(i)){for(;p!==null;){var b=ps(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=Yt(b.pendingLanes);if(E!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var O=1<<31-we(E);A.entanglements[1]|=O,E&=~O}wi(b),(ut&6)===0&&(Jd=mn()+500,Uc(0))}}break;case 31:case 13:A=za(b,2),A!==null&&Yn(A,b,2),th(),Kp(b,2)}if(b=Yp(d),b===null&&jp(i,a,d,yh,l),b===p)break;p=b}p!==null&&d.stopPropagation()}else jp(i,a,d,null,l)}}function Yp(i){return i=gs(i),Qp(i)}var yh=null;function Qp(i){if(yh=null,i=li(i),i!==null){var a=c(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return yh=i,null}function Dx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case _e:return 2;case Me:return 8;case je:case qe:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var Zp=!1,Fr=null,Hr=null,Gr=null,Kc=new Map,Xc=new Map,$r=[],yN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mx(i,a){switch(i){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Kc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(a.pointerId)}}function Yc(i,a,l,d,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},a!==null&&(a=ps(a),a!==null&&Nx(a)),i):(i.eventSystemFlags|=d,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function bN(i,a,l,d,p){switch(a){case"focusin":return Fr=Yc(Fr,i,a,l,d,p),!0;case"dragenter":return Hr=Yc(Hr,i,a,l,d,p),!0;case"mouseover":return Gr=Yc(Gr,i,a,l,d,p),!0;case"pointerover":var b=p.pointerId;return Kc.set(b,Yc(Kc.get(b)||null,i,a,l,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Xc.set(b,Yc(Xc.get(b)||null,i,a,l,d,p)),!0}return!1}function jx(i){var a=li(i.target);if(a!==null){var l=c(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,zs(i.priority,function(){Ix(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,zs(i.priority,function(){Ix(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Yp(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);lc=d,l.target.dispatchEvent(d),lc=null}else return a=ps(l),a!==null&&Nx(a),i.blockedOn=l,!1;a.shift()}return!0}function Px(i,a,l){bh(i)&&l.delete(a)}function vN(){Zp=!1,Fr!==null&&bh(Fr)&&(Fr=null),Hr!==null&&bh(Hr)&&(Hr=null),Gr!==null&&bh(Gr)&&(Gr=null),Kc.forEach(Px),Xc.forEach(Px)}function vh(i,a){i.blockedOn===a&&(i.blockedOn=null,Zp||(Zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vN)))}var _h=null;function Vx(i){_h!==i&&(_h=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_h===i&&(_h=null);for(var a=0;a<i.length;a+=3){var l=i[a],d=i[a+1],p=i[a+2];if(typeof d!="function"){if(Qp(d||l)===null)continue;break}var b=ps(l);b!==null&&(i.splice(a,3),a-=3,Ym(b,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function rl(i){function a(O){return vh(O,i)}Fr!==null&&vh(Fr,i),Hr!==null&&vh(Hr,i),Gr!==null&&vh(Gr,i),Kc.forEach(a),Xc.forEach(a);for(var l=0;l<$r.length;l++){var d=$r[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<$r.length&&(l=$r[0],l.blockedOn===null);)jx(l),l.blockedOn===null&&$r.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],E=p[pn]||null;if(typeof b=="function")E||Vx(l);else if(E){var A=null;if(b&&b.hasAttribute("formAction")){if(p=b,E=b[pn]||null)A=E.formAction;else if(Qp(p)!==null)continue}else A=E.action;typeof A=="function"?l[d+1]=A:(l.splice(d,3),d-=3),Vx(l)}}}function Ox(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Wp(i){this._internalRoot=i}xh.prototype.render=Wp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,d=cs();Rx(l,d,i,a,null,null)},xh.prototype.unmount=Wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Rx(i.current,2,null,i,null,null),th(),a[ai]=null}};function xh(i){this._internalRoot=i}xh.prototype.unstable_scheduleHydration=function(i){if(i){var a=td();i={blockedOn:null,target:i,priority:a};for(var l=0;l<$r.length&&a!==0&&a<$r[l].priority;l++);$r.splice(l,0,i),l===0&&jx(i)}};var Lx=e.version;if(Lx!=="19.2.3")throw Error(r(527,Lx,"19.2.3"));re.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var _N={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Dt=wh.inject(_N),$e=wh}catch{}}return Zc.createRoot=function(i,a){if(!o(i))throw Error(r(299));var l=!1,d="",p=Gv,b=$v,E=Kv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=Ax(i,1,!1,null,null,l,d,null,p,b,E,Ox),i[ai]=a.current,Mp(i),new Wp(a)},Zc.hydrateRoot=function(i,a,l){if(!o(i))throw Error(r(299));var d=!1,p="",b=Gv,E=$v,A=Kv,O=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),a=Ax(i,1,!0,a,l??null,d,p,O,b,E,A,Ox),a.context=kx(null),l=a.current,d=cs(),d=ka(d),p=Ir(d),p.callback=null,Dr(l,p,d),l=d,a.current.lanes=l,Sa(a,l),wi(a),i[ai]=a.current,Mp(i),new xh(a)},Zc.version="19.2.3",Zc}var Xx;function NN(){if(Xx)return tg.exports;Xx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tg.exports=CN(),tg.exports}var IN=NN();const DN=t1(IN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yx="popstate";function MN(n={}){function e(o,c){let{pathname:u="/",search:h="",hash:m=""}=go(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Lg("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");h=g===-1?m:m.slice(0,g)}return h+"#"+(typeof c=="string"?c:_u(c))}function r(o,c){Jn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return PN(e,s,r,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jN(){return Math.random().toString(36).substring(2,10)}function Qx(n,e){return{usr:n.state,key:n.key,idx:e}}function Lg(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:s,key:e&&e.key||r||jN()}}function _u({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function go(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function PN(n,e,s,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,h="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function _(){h="POP";let V=v(),B=V==null?null:V-g;g=V,m&&m({action:h,location:D.location,delta:B})}function w(V,B){h="PUSH";let Q=Lg(D.location,V,B);s&&s(Q,V),g=v()+1;let H=Qx(Q,g),ce=D.createHref(Q);try{u.pushState(H,"",ce)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ce)}c&&m&&m({action:h,location:D.location,delta:1})}function k(V,B){h="REPLACE";let Q=Lg(D.location,V,B);s&&s(Q,V),g=v();let H=Qx(Q,g),ce=D.createHref(Q);u.replaceState(H,"",ce),c&&m&&m({action:h,location:D.location,delta:0})}function j(V){return VN(V)}let D={get action(){return h},get location(){return n(o,u)},listen(V){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Yx,_),m=V,()=>{o.removeEventListener(Yx,_),m=null}},createHref(V){return e(o,V)},createURL:j,encodeLocation(V){let B=j(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:k,go(V){return u.go(V)}};return D}function VN(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:_u(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function s1(n,e,s="/"){return ON(n,e,s,!1)}function ON(n,e,s,r){let o=typeof e=="string"?go(e):e,c=lr(o.pathname||"/",s);if(c==null)return null;let u=i1(n);LN(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let g=YN(c);h=KN(u[m],g,r)}return h}function i1(n,e=[],s=[],r="",o=!1){let c=(u,h,m=o,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;Vt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=rr([r,v.relativePath]),w=s.concat(v);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),i1(u.children,e,w,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:GN(_,u.index),routesMeta:w})};return n.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,h);else for(let g of r1(u.path))c(u,h,!0,g)}),e}function r1(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=r1(r.join("/")),h=[];return h.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...u),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function LN(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:$N(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var zN=/^:[\w-]+$/,UN=3,BN=2,qN=1,FN=10,HN=-2,Zx=n=>n==="*";function GN(n,e){let s=n.split("/"),r=s.length;return s.some(Zx)&&(r+=HN),e&&(r+=BN),s.filter(o=>!Zx(o)).reduce((o,c)=>o+(zN.test(c)?UN:c===""?qN:FN),r)}function $N(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function KN(n,e,s=!1){let{routesMeta:r}=n,o={},c="/",u=[];for(let h=0;h<r.length;++h){let m=r[h],g=h===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",_=tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!_&&g&&s&&!r[r.length-1].route.index&&(_=tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:rr([c,_.pathname]),pathnameBase:e2(rr([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=rr([c,_.pathnameBase]))}return u}function tf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=XN(n.path,n.caseSensitive,n.end),o=e.match(s);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:_},w)=>{if(v==="*"){let j=h[w]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const k=h[w];return _&&!k?g[v]=void 0:g[v]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:n}}function XN(n,e=!1,s=!0){Jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function YN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function lr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZN=n=>QN.test(n);function WN(n,e="/"){let{pathname:s,search:r="",hash:o=""}=typeof n=="string"?go(n):n,c;if(s)if(ZN(s))c=s;else{if(s.includes("//")){let u=s;s=s.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${s}`)}s.startsWith("/")?c=Wx(s.substring(1),"/"):c=Wx(s,e)}else c=e;return{pathname:c,search:t2(r),hash:n2(o)}}function Wx(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function rg(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JN(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Oy(n){let e=JN(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function Ly(n,e,s,r=!1){let o;typeof n=="string"?o=go(n):(o={...n},Vt(!o.pathname||!o.pathname.includes("?"),rg("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),rg("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),rg("#","search","hash",o)));let c=n===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=s;else{let _=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?e[_]:"/"}let m=WN(o,h),g=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var rr=n=>n.join("/").replace(/\/\/+/g,"/"),e2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),t2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,n2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function s2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function i2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var a1=["POST","PUT","PATCH","DELETE"];new Set(a1);var r2=["GET",...a1];new Set(r2);var jl=I.createContext(null);jl.displayName="DataRouter";var Nf=I.createContext(null);Nf.displayName="DataRouterState";I.createContext(!1);var o1=I.createContext({isTransitioning:!1});o1.displayName="ViewTransition";var a2=I.createContext(new Map);a2.displayName="Fetchers";var o2=I.createContext(null);o2.displayName="Await";var js=I.createContext(null);js.displayName="Navigation";var Vu=I.createContext(null);Vu.displayName="Location";var ti=I.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var zy=I.createContext(null);zy.displayName="RouteError";function l2(n,{relative:e}={}){Vt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=I.useContext(js),{hash:o,pathname:c,search:u}=Ou(n,{relative:e}),h=c;return s!=="/"&&(h=c==="/"?s:rr([s,c])),r.createHref({pathname:h,search:u,hash:o})}function Pl(){return I.useContext(Vu)!=null}function ni(){return Vt(Pl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Vu).location}var l1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c1(n){I.useContext(js).static||I.useLayoutEffect(n)}function pa(){let{isDataRoute:n}=I.useContext(ti);return n?x2():c2()}function c2(){Vt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(jl),{basename:e,navigator:s}=I.useContext(js),{matches:r}=I.useContext(ti),{pathname:o}=ni(),c=JSON.stringify(Oy(r)),u=I.useRef(!1);return c1(()=>{u.current=!0}),I.useCallback((m,g={})=>{if(Jn(u.current,l1),!u.current)return;if(typeof m=="number"){s.go(m);return}let v=Ly(m,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:rr([e,v.pathname])),(g.replace?s.replace:s.push)(v,g.state,g)},[e,s,c,o,n])}I.createContext(null);function u1(){let{matches:n}=I.useContext(ti),e=n[n.length-1];return e?e.params:{}}function Ou(n,{relative:e}={}){let{matches:s}=I.useContext(ti),{pathname:r}=ni(),o=JSON.stringify(Oy(s));return I.useMemo(()=>Ly(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function u2(n,e){return d1(n,e)}function d1(n,e,s,r,o){var Q;Vt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(js),{matches:u}=I.useContext(ti),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let H=_&&_.path||"";h1(g,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=ni(),k;if(e){let H=typeof e=="string"?go(e):e;Vt(v==="/"||((Q=H.pathname)==null?void 0:Q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),k=H}else k=w;let j=k.pathname||"/",D=j;if(v!=="/"){let H=v.replace(/^\//,"").split("/");D="/"+j.replace(/^\//,"").split("/").slice(H.length).join("/")}let V=s1(n,{pathname:D});Jn(_||V!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Jn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=p2(V&&V.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:rr([v,c.encodeLocation?c.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:rr([v,c.encodeLocation?c.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,s,r,o);return e&&B?I.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},B):B}function d2(){let n=_2(),e=s2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),s?I.createElement("pre",{style:o},s):null,u)}var h2=I.createElement(d2,null),f2=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?I.createElement(ti.Provider,{value:this.props.routeContext},I.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:n,match:e,children:s}){let r=I.useContext(jl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ti.Provider,{value:n},s)}function p2(n,e=[],s=null,r=null,o=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let c=n,u=s==null?void 0:s.errors;if(u!=null){let v=c.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);Vt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,m=-1;if(s)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:k}=s,j=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!k||k[_.route.id]===void 0);if(_.route.lazy||j){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let g=s&&r?(v,_)=>{var w,k;r(v,{location:s.location,params:((k=(w=s.matches)==null?void 0:w[0])==null?void 0:k.params)??{},unstable_pattern:i2(s.matches),errorInfo:_})}:void 0;return c.reduceRight((v,_,w)=>{let k,j=!1,D=null,V=null;s&&(k=u&&_.route.id?u[_.route.id]:void 0,D=_.route.errorElement||h2,h&&(m<0&&w===0?(h1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,V=null):m===w&&(j=!0,V=_.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,w+1)),Q=()=>{let H;return k?H=D:j?H=V:_.route.Component?H=I.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=v,I.createElement(m2,{match:_,routeContext:{outlet:v,matches:B,isDataRoute:s!=null},children:H})};return s&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?I.createElement(f2,{location:s.location,revalidation:s.revalidation,component:D,error:k,children:Q(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):Q()},null)}function Uy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(n){let e=I.useContext(jl);return Vt(e,Uy(n)),e}function y2(n){let e=I.useContext(Nf);return Vt(e,Uy(n)),e}function b2(n){let e=I.useContext(ti);return Vt(e,Uy(n)),e}function By(n){let e=b2(n),s=e.matches[e.matches.length-1];return Vt(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function v2(){return By("useRouteId")}function _2(){var r;let n=I.useContext(zy),e=y2("useRouteError"),s=By("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[s]}function x2(){let{router:n}=g2("useNavigate"),e=By("useNavigate"),s=I.useRef(!1);return c1(()=>{s.current=!0}),I.useCallback(async(o,c={})=>{Jn(s.current,l1),s.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var Jx={};function h1(n,e,s){!e&&!Jx[n]&&(Jx[n]=!0,Jn(!1,s))}I.memo(w2);function w2({routes:n,future:e,state:s,unstable_onError:r}){return d1(n,void 0,s,r,e)}function nr({to:n,replace:e,state:s,relative:r}){Vt(Pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(js);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=I.useContext(ti),{pathname:u}=ni(),h=pa(),m=Ly(n,Oy(c),u,r==="path"),g=JSON.stringify(m);return I.useEffect(()=>{h(JSON.parse(g),{replace:e,state:s,relative:r})},[h,g,r,e,s]),null}function ks(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E2({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){Vt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[h,o,c,u]);typeof s=="string"&&(s=go(s));let{pathname:g="/",search:v="",hash:_="",state:w=null,key:k="default"}=s,j=I.useMemo(()=>{let D=lr(g,h);return D==null?null:{location:{pathname:D,search:v,hash:_,state:w,key:k},navigationType:r}},[h,g,v,_,w,k,r]);return Jn(j!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:I.createElement(js.Provider,{value:m},I.createElement(Vu.Provider,{children:e,value:j}))}function T2({children:n,location:e}){return u2(zg(n),e)}function zg(n,e=[]){let s=[];return I.Children.forEach(n,(r,o)=>{if(!I.isValidElement(r))return;let c=[...e,o];if(r.type===I.Fragment){s.push.apply(s,zg(r.props.children,c));return}Vt(r.type===ks,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=zg(r.props.children,c)),s.push(u)}),s}var zh="get",Uh="application/x-www-form-urlencoded";function If(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function S2(n){return If(n)&&n.tagName.toLowerCase()==="button"}function A2(n){return If(n)&&n.tagName.toLowerCase()==="form"}function k2(n){return If(n)&&n.tagName.toLowerCase()==="input"}function R2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function C2(n,e){return n.button===0&&(!e||e==="_self")&&!R2(n)}function Ug(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,s)=>{let r=n[s];return e.concat(Array.isArray(r)?r.map(o=>[s,o]):[[s,r]])},[]))}function N2(n,e){let s=Ug(n);return e&&e.forEach((r,o)=>{s.has(o)||e.getAll(o).forEach(c=>{s.append(o,c)})}),s}var Eh=null;function I2(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(n){return n!=null&&!D2.has(n)?(Jn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):n}function M2(n,e){let s,r,o,c,u;if(A2(n)){let h=n.getAttribute("action");r=h?lr(h,e):null,s=n.getAttribute("method")||zh,o=ag(n.getAttribute("enctype"))||Uh,c=new FormData(n)}else if(S2(n)||k2(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(r=m?lr(m,e):null,s=n.getAttribute("formmethod")||h.getAttribute("method")||zh,o=ag(n.getAttribute("formenctype"))||ag(h.getAttribute("enctype"))||Uh,c=new FormData(h,n),!I2()){let{name:g,type:v,value:_}=n;if(v==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,_)}}else{if(If(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=zh,r=null,o=Uh,u=n}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:s.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function j2(n,e,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&lr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function P2(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function O2(n,e,s){let r=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await P2(c,s);return u.links?u.links():[]}return[]}));return B2(r.flat(1).filter(V2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ew(n,e,s,r,o,c){let u=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,h=(m,g)=>{var v;return s[g].pathname!==m.pathname||((v=s[g].route.path)==null?void 0:v.endsWith("*"))&&s[g].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,g)=>u(m,g)||h(m,g)):c==="data"?e.filter((m,g)=>{var _;let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=s[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function L2(n,e,{includeHydrateFallback:s}={}){return z2(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function z2(n){return[...new Set(n)]}function U2(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function B2(n,e){let s=new Set;return new Set(e),n.reduce((r,o)=>{let c=JSON.stringify(U2(o));return s.has(c)||(s.add(c),r.push({key:c,link:o})),r},[])}function f1(){let n=I.useContext(jl);return qy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function q2(){let n=I.useContext(Nf);return qy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fy=I.createContext(void 0);Fy.displayName="FrameworkContext";function m1(){let n=I.useContext(Fy);return qy(n,"You must render this element inside a <HydratedRouter> element"),n}function F2(n,e){let s=I.useContext(Fy),[r,o]=I.useState(!1),[c,u]=I.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,w=I.useRef(null);I.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=B=>{B.forEach(Q=>{u(Q.isIntersecting)})},V=new IntersectionObserver(D,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[n]),I.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let k=()=>{o(!0)},j=()=>{o(!1),u(!1)};return s?n!=="intent"?[c,w,{}]:[c,w,{onFocus:Wc(h,k),onBlur:Wc(m,j),onMouseEnter:Wc(g,k),onMouseLeave:Wc(v,j),onTouchStart:Wc(_,k)}]:[!1,w,{}]}function Wc(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function H2({page:n,...e}){let{router:s}=f1(),r=I.useMemo(()=>s1(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?I.createElement($2,{page:n,matches:r,...e}):null}function G2(n){let{manifest:e,routeModules:s}=m1(),[r,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return O2(n,e,s).then(u=>{c||o(u)}),()=>{c=!0}},[n,e,s]),r}function $2({page:n,matches:e,...s}){let r=ni(),{manifest:o,routeModules:c}=m1(),{basename:u}=f1(),{loaderData:h,matches:m}=q2(),g=I.useMemo(()=>ew(n,e,m,o,r,"data"),[n,e,m,o,r]),v=I.useMemo(()=>ew(n,e,m,o,r,"assets"),[n,e,m,o,r]),_=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let j=new Set,D=!1;if(e.forEach(B=>{var H;let Q=o.routes[B.route.id];!Q||!Q.hasLoader||(!g.some(ce=>ce.route.id===B.route.id)&&B.route.id in h&&((H=c[B.route.id])!=null&&H.shouldRevalidate)||Q.hasClientLoader?D=!0:j.add(B.route.id))}),j.size===0)return[];let V=j2(n,u,"data");return D&&j.size>0&&V.searchParams.set("_routes",e.filter(B=>j.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[u,h,r,o,g,e,n,c]),w=I.useMemo(()=>L2(v,o),[v,o]),k=G2(v);return I.createElement(I.Fragment,null,_.map(j=>I.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),w.map(j=>I.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),k.map(({key:j,link:D})=>I.createElement("link",{key:j,nonce:s.nonce,...D})))}function K2(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var p1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p1&&(window.__reactRouterVersion="7.10.1")}catch{}function X2({basename:n,children:e,unstable_useTransitions:s,window:r}){let o=I.useRef();o.current==null&&(o.current=MN({window:r,v5Compat:!0}));let c=o.current,[u,h]=I.useState({action:c.action,location:c.location}),m=I.useCallback(g=>{s===!1?h(g):I.startTransition(()=>h(g))},[s]);return I.useLayoutEffect(()=>c.listen(m),[c,m]),I.createElement(E2,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:s===!0})}var g1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=I.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:h,target:m,to:g,preventScrollReset:v,viewTransition:_,...w},k){let{basename:j,unstable_useTransitions:D}=I.useContext(js),V=typeof g=="string"&&g1.test(g),B,Q=!1;if(typeof g=="string"&&V&&(B=g,p1))try{let P=new URL(window.location.href),L=g.startsWith("//")?new URL(P.protocol+g):new URL(g),q=lr(L.pathname,j);L.origin===P.origin&&q!=null?g=q+L.search+L.hash:Q=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=l2(g,{relative:o}),[ce,oe,de]=F2(r,w),C=W2(g,{replace:u,state:h,target:m,preventScrollReset:v,relative:o,viewTransition:_,unstable_useTransitions:D});function S(P){e&&e(P),P.defaultPrevented||C(P)}let N=I.createElement("a",{...w,...de,href:B||H,onClick:Q||c?e:S,ref:K2(k,oe),target:m,"data-discover":!V&&s==="render"?"true":void 0});return ce&&!V?I.createElement(I.Fragment,null,N,I.createElement(H2,{page:H})):N});dt.displayName="Link";var Y2=I.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:h,children:m,...g},v){let _=Ou(u,{relative:g.relative}),w=ni(),k=I.useContext(Nf),{navigator:j,basename:D}=I.useContext(js),V=k!=null&&iI(_)&&h===!0,B=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,Q=w.pathname,H=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(Q=Q.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&D&&(H=lr(H,D)||H);const ce=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=Q===B||!o&&Q.startsWith(B)&&Q.charAt(ce)==="/",de=H!=null&&(H===B||!o&&H.startsWith(B)&&H.charAt(B.length)==="/"),C={isActive:oe,isPending:de,isTransitioning:V},S=oe?e:void 0,N;typeof r=="function"?N=r(C):N=[r,oe?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(C):c;return I.createElement(dt,{...g,"aria-current":S,className:N,ref:v,style:P,to:u,viewTransition:h},typeof m=="function"?m(C):m)});Y2.displayName="NavLink";var Q2=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:o,state:c,method:u=zh,action:h,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:_,...w},k)=>{let{unstable_useTransitions:j}=I.useContext(js),D=nI(),V=sI(h,{relative:g}),B=u.toLowerCase()==="get"?"get":"post",Q=typeof h=="string"&&g1.test(h),H=ce=>{if(m&&m(ce),ce.defaultPrevented)return;ce.preventDefault();let oe=ce.nativeEvent.submitter,de=(oe==null?void 0:oe.getAttribute("formmethod"))||u,C=()=>D(oe||ce.currentTarget,{fetcherKey:e,method:de,navigate:s,replace:o,state:c,relative:g,preventScrollReset:v,viewTransition:_});j&&s!==!1?I.startTransition(()=>C()):C()};return I.createElement("form",{ref:k,method:B,action:V,onSubmit:r?m:H,...w,"data-discover":!Q&&n==="render"?"true":void 0})});Q2.displayName="Form";function Z2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y1(n){let e=I.useContext(jl);return Vt(e,Z2(n)),e}function W2(n,{target:e,replace:s,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_useTransitions:h}={}){let m=pa(),g=ni(),v=Ou(n,{relative:c});return I.useCallback(_=>{if(C2(_,e)){_.preventDefault();let w=s!==void 0?s:_u(g)===_u(v),k=()=>m(n,{replace:w,state:r,preventScrollReset:o,relative:c,viewTransition:u});h?I.startTransition(()=>k()):k()}},[g,m,v,s,r,e,n,o,c,u,h])}function J2(n){Jn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(Ug(n)),s=I.useRef(!1),r=ni(),o=I.useMemo(()=>N2(r.search,s.current?null:e.current),[r.search]),c=pa(),u=I.useCallback((h,m)=>{const g=Ug(typeof h=="function"?h(new URLSearchParams(o)):h);s.current=!0,c("?"+g,m)},[c,o]);return[o,u]}var eI=0,tI=()=>`__${String(++eI)}__`;function nI(){let{router:n}=y1("useSubmit"),{basename:e}=I.useContext(js),s=v2(),r=n.fetch,o=n.navigate;return I.useCallback(async(c,u={})=>{let{action:h,method:m,encType:g,formData:v,body:_}=M2(c,e);if(u.navigate===!1){let w=u.fetcherKey||tI();await r(w,s,u.action||h,{preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||h,{preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,s])}function sI(n,{relative:e}={}){let{basename:s}=I.useContext(js),r=I.useContext(ti);Vt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Ou(n||".",{relative:e})},u=ni();if(n==null){c.search=u.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();c.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:rr([s,c.pathname])),_u(c)}function iI(n,{relative:e}={}){let s=I.useContext(o1);Vt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=y1("useViewTransitionState"),o=Ou(n,{relative:e});if(!s.isTransitioning)return!1;let c=lr(s.currentLocation.pathname,r)||s.currentLocation.pathname,u=lr(s.nextLocation.pathname,r)||s.nextLocation.pathname;return tf(o.pathname,u)!=null||tf(o.pathname,c)!=null}let Jc=null;const rI=()=>(Jc||(Jc=new(window.AudioContext||window.webkitAudioContext)),Jc.state==="suspended"&&Jc.resume(),Jc),us=(n,e,s,r=0,o=.1)=>{const c=rI();if(!c)return;const u=c.createOscillator(),h=c.createGain();u.type=e,u.frequency.setValueAtTime(n,c.currentTime+r),h.gain.setValueAtTime(o,c.currentTime+r),h.gain.exponentialRampToValueAtTime(.01,c.currentTime+r+s),u.connect(h),h.connect(c.destination),u.start(c.currentTime+r),u.stop(c.currentTime+r+s)},Rt={correct:()=>{us(600,"sine",.1,0),us(800,"sine",.2,.1)},wrong:()=>{us(150,"sawtooth",.3,0)},click:()=>{us(400,"triangle",.05,0,.05)},win:()=>{us(400,"sine",.1,0),us(500,"sine",.1,.1),us(600,"sine",.1,.2),us(800,"square",.4,.3)},levelUp:()=>{us(400,"sine",.1,0),us(500,"sine",.1,.1),us(600,"sine",.1,.2),us(800,"sine",.1,.3),us(1e3,"square",.4,.4)}},b1=()=>{const n=I.useRef(null);return I.useEffect(()=>{const e=n.current;if(!e)return;const s=e.getContext("2d");if(!s)return;e.width=window.innerWidth,e.height=window.innerHeight;const r=[],o=["#136dec","#fbbf24","#10b981","#ef4444","#8b5cf6"];for(let u=0;u<150;u++)r.push({x:e.width/2,y:e.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20-5,color:o[Math.floor(Math.random()*o.length)],size:Math.random()*8+4,life:100});const c=()=>{if(!s||!e)return;s.clearRect(0,0,e.width,e.height);let u=!1;r.forEach(h=>{h.life>0&&(u=!0,h.x+=h.vx,h.y+=h.vy,h.vy+=.5,h.life--,s.fillStyle=h.color,s.fillRect(h.x,h.y,h.size,h.size))}),u&&requestAnimationFrame(c)};c()},[]),y.jsx("canvas",{ref:n,className:"fixed inset-0 pointer-events-none z-50"})},tw={eu:{nav_home:"Hasiera",nav_learn:"Ikasi",nav_games:"Jolasak",nav_shop:"Denda",nav_profile:"Profila",nav_admin:"Admin",login:"Saioa Hasi",logout:"Saioa Itxi",welcome:"Ongi etorri",email_placeholder:"zure@emaila.com",password_placeholder:"Pasahitza",login_button:"Sartu",google_login:"Google bidez sartu",error_login:"Errorea saioa hastean",hero_title:"Zenbaki Osoen Abentura",hero_subtitle:"Ikasi, Jolastu eta Irabazi! Bihurtu matematikaren maisu.",start_adventure:"Hasi Abentura",daily_missions:"Eguneroko Misioak",class_goal:"Klasearen Helburua",completed:"Egina",topics_title:"Ikasketa Bidea",topics_subtitle:"Jarraitu bidea pauso pauso. Osatu ikasgaia hurrengoa desblokeatzeko.",unit:"UNITATEA",theory:"Teoria",quiz:"Galdetegia",back_to_topics:"Itzuli",practice:"Praktika",examples:"Adibideak",start_quiz:"Joan Galdetegira",excellent:"Bikain!",very_good:"Oso Ondo!",good:"Ondo!",points_scored:"puntu lortu dituzu",this_session:"saio honetan",xp_cap_reached:"XP Muga Lortuta",play_again:"Jolastu Berriro",streak:"Bolada",score:"Puntuazioa",difficulty:"Zailtasuna",question:"Galdera",order_nums:"Ordenatu Zenbakiak",calc_hierarchy:"Kalkulatu (Kontuz Hierarkiarekin!)",simplify:"Sinplifikatu",calc_res:"Kalkulatu emaitza",select_smallest:"Hautatu zenbaki txikiena...",correct_excl:"ZUZENA!",wrong_excl:"OKERRA!",correct_answer:"Erantzun zuzena.",loading_next:"Hurrengoa kargatzen...",game_modes:"Joko Moduak",tip:"Aholkua",tip_ordering:"Gogoratu! Zenbaki negatiboetan, zenbaki handiena (balio absolutua) da benetan txikiena.",tip_addition:"Zeinu berdinak batu eta mantendu. Zeinu ezberdinak kendu eta handienarena jarri.",tip_subtraction:"Kenketa bat egitea, aurkakoa batzea da. 5 - (-2) = 5 + 2.",tip_mult:"Biderketan: (+)(+) = (+), (-)(-) = (+), eta (+)(-) = (-).",tip_div:"Zatiketan ere zeinuen araua berdina da.",tip_powers:"Berreketen propietateak erabili sinplifikatzeko.",tip_combined:"PEMDAS: Parentesiak, Berreketak, Biderketa/Zatiketa, Batuketa/Kenketa.",correct_ordering:"Ondo ordenatuta!",shop_title:"Denda",shop_subtitle:"Erabili zure Z-Coinak pertsonalizazioak lortzeko.",balance:"Saldoa",special_avatars:"Avatar Bereziak",frames:"Markoak",owned:"Lortuta",purchased:"Erosita",buying:"Erosketan...",buy:"Erosi",insufficient_funds:"Ez duzu nahikoa",level_required:"Maila {0} beharrezkoa",error_buying:"Errorea erosketan.",admin_panel:"Administrazio Panela",user:"Erabiltzailea",email:"Emaila",level:"Maila",last_login:"Azken Saioa",actions:"Ekintzak",view:"Ikusi",kick:"Kanporatu",are_you_sure:"Ziur zaude?",kick_confirmation_text:"Ekintza honek erabiltzailea eta bere datu guztiak betiko ezabatuko ditu.",cancel:"Ezeztatu",user_kicked_success:"Erabiltzailea kanporatua izan da.",user_kicked_error:"Arazoa egon da erabiltzailea kanporatzean.",for_teachers:"Irakasleentzat",help:"Laguntza",privacy:"Pribatutasuna",copyright:" 2023 DBH Matematika",my_profile:"Nire Profila",choose_avatar:"Avatarra Aukeratu",username:"Erabiltzaile Izena",email_read_only:"Emaila (Ezin da aldatu)",save_changes:"Gorde Aldaketak",saving:"Gordetzen...",danger_zone:"Arrisku Eremua",delete_account:"Ezabatu Kontua",delete_account_confirm:"Ziur zaude zure kontua ezabatu nahi duzula? Ekintza hau ezin da desegin.",delete_account_contact:"Mesedez, jarri harremanetan irakaslearekin kontua ezabatzeko.",changes_saved:"Aldaketak ondo gorde dira!",login_title_welcome:"Ongi Etorri!",login_subtitle:"Sartu zure kontuan jolasten jarraitzeko.",login_error_check_data:"Errorea saioa hastean. Egiaztatu datuak.",login_error_guest:"Arazo bat egon da gonbidatu gisa sartzean.",email_label:"Emaila",password_label:"Pasahitza",name_placeholder:"Jon Agirre",password_placeholder_dots:"",or:"edo",guest_continue:"Jarraitu Gonbidatu gisa",no_account:"Ez daukazu konturik?",register_here:"Erregistratu hemen",register_title:"Sortu Kontua",register_subtitle:"Bat egin Zenbaki Osoen Abenturarekin!",register_error:"Errorea erregistratzean. Saiatu berriro.",name_label:"Izena",register_btn:"Erregistratu",already_account:"Dagoeneko kontua daukazu?",login_link:"Hasi Saioa",loading:"Kargatzen..."},es:{nav_home:"Inicio",nav_learn:"Aprender",nav_games:"Juegos",nav_shop:"Tienda",nav_profile:"Perfil",nav_admin:"Admin",login:"Iniciar Sesin",logout:"Cerrar Sesin",welcome:"Bienvenido",email_placeholder:"tu@email.com",password_placeholder:"Contrasea",login_button:"Entrar",google_login:"Entrar con Google",error_login:"Error al iniciar sesin",hero_title:"La Aventura de los Nmeros Enteros",hero_subtitle:"Aprende, Juega y Gana! Convirtete en un maestro de las matemticas.",start_adventure:"Comenzar Aventura",daily_missions:"Misiones Diarias",class_goal:"Meta de la Clase",completed:"Completado",topics_title:"Camino de Aprendizaje",topics_subtitle:"Sigue el camino paso a paso. Completa la leccin para desbloquear la siguiente.",unit:"UNIDAD",theory:"Teora",quiz:"Cuestionario",back_to_topics:"Volver",practice:"Prctica",examples:"Ejemplos",start_quiz:"Ir al Cuestionario",excellent:"Excelente!",very_good:"Muy Bien!",good:"Bien!",points_scored:"puntos conseguidos",this_session:"en esta sesin",xp_cap_reached:"Lmite de XP Alcanzado",play_again:"Jugar de Nuevo",streak:"Racha",score:"Puntuacin",difficulty:"Dificultad",question:"Pregunta",order_nums:"Ordena los Nmeros",calc_hierarchy:"Calcula (Cuidado con la Jerarqua!)",simplify:"Simplifica",calc_res:"Calcula el resultado",select_smallest:"Selecciona el nmero ms pequeo...",correct_excl:"CORRECTO!",wrong_excl:"INCORRECTO!",correct_answer:"Respuesta correcta.",loading_next:"Cargando siguiente...",game_modes:"Modos de Juego",tip:"Consejo",tip_ordering:"Recuerda! En nmeros negativos, el nmero ms grande (valor absoluto) es en realidad el ms pequeo.",tip_addition:"Suma signos iguales y mantn el signo. Resta signos diferentes y pon el del mayor.",tip_subtraction:"Restar es sumar el opuesto. 5 - (-2) = 5 + 2.",tip_mult:"En multiplicacin: (+)(+) = (+), (-)(-) = (+), y (+)(-) = (-).",tip_div:"En divisin, la regla de los signos es la misma.",tip_powers:"Usa las propiedades de las potencias para simplificar.",tip_combined:"PEMDAS: Parntesis, Exponentes, Multiplicacin/Divisin, Suma/Resta.",correct_ordering:"Bien ordenado!",shop_title:"Tienda",shop_subtitle:"Usa tus Z-Coins para conseguir personalizaciones.",balance:"Saldo",special_avatars:"Avatares Especiales",frames:"Marcos",owned:"Conseguido",purchased:"Comprado",buying:"Comprando...",buy:"Comprar",insufficient_funds:"No tienes suficiente",level_required:"Nivel {0} necesario",error_buying:"Error en la compra.",admin_return:"Volver al Panel Admin",sessions_total:"Sesiones",most_used_sections:"Secciones Ms Usadas",last_sessions:"ltimas Sesiones",active:"Activo?",no_data:"No hay datos.",no_sessions:"No hay sesiones registradas.",progress_welcome:"Hola, {0}!",progress_summary:"Aqu tienes el resumen de tu aventura de nmeros enteros.",keep_playing:"Seguir Jugando",score_label:"Puntuacin",course_completed:"Curso completado",achievements_label:"Logros",global_progress:"Progreso General del Curso",progress_good_start:"Buen comienzo! Sigue aprendiendo.",progress_very_good:"Vas muy bien! Te falta dominar las potencias.",progress_almost_there:"Casi terminas! Eres un campen.",medals_achievements:"Medallas y Logros",xp_earned:"+{0} XP Conseguido",game_details:"Detalles de Juegos",your_level:"Tu Nivel",student_level:"Estudiante (Nvl {0})",next_level_xp:"Para siguiente nivel: {0} XP",leaderboard:"Clasificacin",this_week:"Esta semana",you_suffix:"(T)",cat_theory_intro:"Teora: Fundamentos",cat_theory_operations:"Teora: Suma/Resta",cat_theory_multiplication:"Teora: Mult/Div",cat_theory_powers:"Teora: Potencias",cat_theory_advanced:"Teora: Combinadas",cat_ordering_easy:"Ordenar (Fcil)",cat_ordering_medium:"Ordenar (Medio)",cat_ordering_hard:"Ordenar (Difcil)",cat_combined_easy:"Combinadas (Fcil)",cat_combined_medium:"Combinadas (Medio)",cat_combined_hard:"Combinadas (Difcil)",cat_mixed_easy:"Mezcla (Fcil)",cat_mixed_medium:"Mezcla (Medio)",cat_mixed_hard:"Mezcla (Difcil)",cat_addition_easy:"Suma (Fcil)",cat_addition_medium:"Suma (Medio)",cat_addition_hard:"Suma (Difcil)",cat_subtraction_easy:"Resta (Fcil)",cat_subtraction_medium:"Resta (Medio)",cat_subtraction_hard:"Resta (Difcil)",cat_multiplication_easy:"Multiplicacin (Fcil)",cat_multiplication_medium:"Multiplicacin (Medio)",cat_multiplication_hard:"Multiplicacin (Difcil)",cat_division_easy:"Divisin (Fcil)",cat_division_medium:"Divisin (Medio)",cat_division_hard:"Divisin (Difcil)",cat_powers_easy:"Potencias (Fcil)",cat_powers_medium:"Potencias (Medio)",cat_powers_hard:"Potencias (Difcil)",cat_roots_easy:"Races (Fcil)",cat_roots_medium:"Races (Medio)",cat_roots_hard:"Races (Difcil)",group_theory:"Teora",group_ordering:"Ordenar",group_combined:"Combinadas",group_mixed:"Mezclado",group_add_sub:"Suma y Resta",group_mult_div:"Multiplicacin y Divisin",group_pow_root:"Potencias y Races",group_basics:"Bsicos",achievement_new:"Logro Desbloqueado!",great_job:"Bien hecho!",continue_btn:"Continuar",theory_intro_title:"Qu son los Nmeros Enteros (Z)?",theory_intro_desc:"El conjunto de nmeros enteros (Z) est formado por tres tipos de nmeros:",theory_intro_pos:'<strong>Positivos:</strong> (+1, +2...)  "Lo que tengo".',theory_intro_zero:"<strong>Cero:</strong> (0)  El lmite.",theory_intro_neg:'<strong>Negativos:</strong> (-1, -2...)  "Lo que debo" o "Bajo cero".',theory_interactive_title:"Recta Real Interactiva",theory_interactive_desc:"Arrastra el crculo para explorar los nmeros. Mira cmo cambian los valores!",theory_interactive_tip:"Hacia la derecha mayor, hacia la izquierda menor.",theory_warning_title:"Cuidado con los Negativos!",theory_warning_desc:'En los negativos, cuanto ms "grande" parece el nmero (ms lejos de 0), <strong>menor</strong> es su valor.',theory_op_step1_title:"Paso 1: Quitar Parntesis",theory_op_step1_desc:"Toca la tarjeta para ver la transformacin:",theory_op_tap_simplify:"Toca para simplificar",theory_op_same_sign:"Signos iguales = Positivo",theory_op_diff_sign:"Signos diferentes = Negativo",theory_op_example_more:"Otro ejemplo... (sigue tocando)",theory_op_rule_same:" +a (Iguales)",theory_op_rule_diff:" -a (Diferentes)",theory_op_step2_title:"Paso 2: Operar",theory_op_same_title:"Signo Igual",theory_op_same_desc:"Se <strong>SUMAN</strong> los nmeros y se mantiene el signo.",theory_op_diff_title:"Signo diferente",theory_op_diff_desc:"Se <strong>RESTAN</strong> los nmeros y se pone el signo del mayor absoluto.",theory_mult_title:"Ley de Signos Interactiva",theory_mult_desc:"Toca las combinaciones para ver el resultado:",theory_mult_tip_title:"Consejo:",theory_mult_tip_desc:"Puedes usar la regla del amigo:",theory_mult_rule_1:"El amigo (+) de mi amigo (+) = Mi amigo (+)",theory_mult_rule_2:"El enemigo (-) de mi enemigo (-) = Mi amigo (+)",theory_mult_tap:"Toca para ver",admin_panel:"Panel de Administracin",user:"Usuario",email:"Email",level:"Nivel",last_login:"ltima Sesin",actions:"Acciones",view:"Ver",kick:"Expulsar",are_you_sure:"Ests seguro?",kick_confirmation_text:"Esta accin eliminar al usuario y todos sus datos **permanentemente**.",cancel:"Cancelar",user_kicked_success:"Usuario expulsado correctamente.",user_kicked_error:"Hubo un problema al expulsar al usuario.",for_teachers:"Para Profesores",help:"Ayuda",privacy:"Privacidad",copyright:" 2023 DBH Matematika",my_profile:"Mi Perfil",choose_avatar:"Elegir Avatar",username:"Nombre de Usuario",email_read_only:"Email (No se puede cambiar)",save_changes:"Guardar Cambios",saving:"Guardando...",danger_zone:"Zona de Peligro",delete_account:"Borrar Cuenta",delete_account_confirm:"Ests seguro de que quieres borrar tu cuenta? Esta accin no se puede deshacer.",delete_account_contact:"Por favor, contacta con el profesor para borrar la cuenta.",changes_saved:"Cambios guardados correctamente!",login_title_welcome:"Bienvenido!",login_subtitle:"Inicia sesin para continuar jugando.",login_error_check_data:"Error al iniciar sesin. Verifica tus datos.",login_error_guest:"Hubo un problema al entrar como invitado.",email_label:"Email",password_label:"Contrasea",name_placeholder:"Jon Aguirre",password_placeholder_dots:"",or:"o",guest_continue:"Continuar como Invitado",no_account:"No tienes cuenta?",register_here:"Regstrate aqu",register_title:"Crear Cuenta",register_subtitle:"nete a la Aventura de los Nmeros Enteros!",register_error:"Error al registrarse. Intntalo de nuevo.",name_label:"Nombre",register_btn:"Registrarse",already_account:"Ya tienes cuenta?",login_link:"Inicia Sesin",loading:"Cargando...",error:"Ha ocurrido un error",success:"xito!",save:"Guardar",coins:"Monedas"},ar:{nav_home:"",nav_learn:"",nav_games:"",nav_shop:"",nav_profile:" ",nav_admin:"",login:" ",logout:" ",welcome:" ",email_placeholder:"example@email.com",password_placeholder:" ",login_button:"",google_login:"  Google",error_login:"   ",hero_title:"  ",hero_subtitle:"  !   .",start_adventure:" ",daily_missions:" ",class_goal:" ",completed:"",topics_title:" ",topics_subtitle:"   .    .",unit:"",theory:"",quiz:"",back_to_topics:"",practice:"",examples:"",start_quiz:" ",excellent:"!",very_good:" !",good:"!",points_scored:" ",this_session:"  ",xp_cap_reached:"    ",play_again:" ",streak:"",score:"",difficulty:"",question:"",order_nums:" ",calc_hierarchy:" ( !)",simplify:"",calc_res:" ",select_smallest:"  ...",correct_excl:"!",wrong_excl:"!",correct_answer:" .",loading_next:"  ...",game_modes:" ",tip:"",tip_ordering:"!      ( )    .",tip_addition:"     .      .",tip_subtraction:"   . 5 - (-2) = 5 + 2.",tip_mult:" : (+)(+) = (+) (-)(-) = (+)  (+)(-) = (-).",tip_div:"     .",tip_powers:"   .",tip_combined:"PEMDAS:   / /.",correct_ordering:" !",shop_title:"",shop_subtitle:"  Z   .",balance:"",special_avatars:" ",frames:"",owned:"",purchased:"",buying:" ...",buy:"",insufficient_funds:"  ",level_required:" {0} ",error_buying:"  .",admin_panel:" ",user:"",email:" ",level:"",last_login:" ",actions:"",view:"",kick:"",are_you_sure:"  ",kick_confirmation_text:"      ****.",cancel:"",user_kicked_success:"   .",user_kicked_error:"    .",for_teachers:"",help:"",privacy:"",copyright:" 2023 DBH Matematika",loading:" ...",error:" ",success:"!",save:"",coins:""}},v1=I.createContext(void 0),aI=({children:n})=>{const[e,s]=I.useState("eu"),r=c=>tw[e][c]||tw.eu[c]||c,o=e==="ar";return y.jsx(v1.Provider,{value:{language:e,setLanguage:s,t:r,isRTL:o},children:y.jsx("div",{dir:o?"rtl":"ltr",className:"min-h-screen flex flex-col font-sans text-slate-900 dark:text-gray-100 bg-white dark:bg-slate-950 transition-colors duration-300",children:n})})},fn=()=>{const n=I.useContext(v1);if(n===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return n},oI=({achievements:n,onClose:e})=>{const{t:s}=fn();return I.useEffect(()=>{Rt.win()},[]),y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-300",children:[y.jsx(b1,{}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-8 border-2 border-primary/50 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-[shimmer_2s_infinite]"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-wide",children:s("achievement_new")}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-medium",children:s("great_job")}),y.jsx("div",{className:"flex flex-col gap-4",children:n.map(r=>y.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700/50",children:[y.jsx("div",{className:"p-4 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 shadow-lg shadow-orange-500/30 text-white mb-2 animate-bounce",children:y.jsx("span",{className:"material-symbols-outlined text-4xl",children:r.icon})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:r.title}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:r.description}),y.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-black px-2 py-0.5 rounded shadow-sm",children:["+",r.xpReward," XP"]})]},r.id))}),y.jsx("button",{onClick:e,className:"mt-8 w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold transition-all hover:scale-105 shadow-xl shadow-blue-500/30",children:s("continue_btn")})]})]})]})},lI=()=>{};var nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},cI=function(n){const e=[];let s=0,r=0;for(;s<n.length;){const o=n[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[s++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[s++],u=n[s++],h=n[s++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=n[s++],u=n[s++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},x1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const c=n[o],u=o+1<n.length,h=u?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=c>>2,_=(c&3)<<4|h>>4;let w=(h&15)<<2|g>>6,k=g&63;m||(k=64,u||(w=64)),r.push(s[v],s[_],s[w],s[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const c=s[n.charAt(o++)],h=o<n.length?s[n.charAt(o)]:0;++o;const g=o<n.length?s[n.charAt(o)]:64;++o;const _=o<n.length?s[n.charAt(o)]:64;if(++o,c==null||h==null||g==null||_==null)throw new uI;const w=c<<2|h>>4;if(r.push(w),g!==64){const k=h<<4&240|g>>2;if(r.push(k),_!==64){const j=g<<6&192|_;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dI=function(n){const e=_1(n);return x1.encodeByteArray(e,!0)},nf=function(n){return dI(n).replace(/\./g,"")},w1=function(n){try{return x1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>hI().__FIREBASE_DEFAULTS__,mI=()=>{if(typeof process>"u"||typeof nw>"u")return;const n=nw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&w1(n[1]);return e&&JSON.parse(e)},Df=()=>{try{return lI()||fI()||mI()||pI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E1=n=>{var e,s;return(s=(e=Df())==null?void 0:e.emulatorHosts)==null?void 0:s[n]},gI=n=>{const e=E1(n);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},T1=()=>{var n;return(n=Df())==null?void 0:n.config},S1=n=>{var e;return(e=Df())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[nf(JSON.stringify(s)),nf(JSON.stringify(u)),""].join(".")}const cu={};function vI(){const n={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?n.emulator.push(e):n.prod.push(e);return n}function _I(n){let e=document.getElementById(n),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),s=!0),{created:s,element:e}}let sw=!1;function k1(n,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||cu[n]===e||cu[n]||sw)return;cu[n]=e;function s(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=vI().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{sw=!0,u()},w}function v(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=_I(r),k=s("text"),j=document.getElementById(k)||document.createElement("span"),D=s("learnmore"),V=document.getElementById(D)||document.createElement("a"),B=s("preprendIcon"),Q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const H=w.element;h(H),v(V,D);const ce=g();m(Q,B),H.append(Q,j,V,ce),document.body.appendChild(H)}c?(j.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function wI(){var e;const n=(e=Df())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const n=Vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kI(){return!wI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RI(){try{return typeof indexedDB=="object"}catch{return!1}}function CI(){return new Promise((n,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class pr extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=NI,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?II(c,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new pr(o,h,r)}}function II(n,e){return n.replace(DI,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const DI=/\{\$([^}]+)}/g;function MI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function co(n,e){if(n===e)return!0;const s=Object.keys(n),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const c=n[o],u=e[o];if(iw(c)&&iw(u)){if(!co(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function iw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const e=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function su(n){const e=n.indexOf("?");if(!e)return"";const s=n.indexOf("#",e);return n.substring(e,s>0?s:void 0)}function jI(n,e){const s=new PI(n,e);return s.subscribe.bind(s)}class PI{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");VI(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=og),o.error===void 0&&(o.error=og),o.complete===void 0&&(o.complete=og);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VI(n,e){if(typeof n!="object"||n===null)return!1;for(const s of e)if(s in n&&typeof n[s]=="function")return!0;return!1}function og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(n){return n&&n._delegate?n._delegate:n}class uo{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new yI;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zI(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&u.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LI(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LI(n){return n===eo?void 0:n}function zI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new OI(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const BI={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},qI=Ze.INFO,FI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},HI=(n,e,...s)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=FI[e];if(o)console[o](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hy{constructor(e){this.name=e,this._logLevel=qI,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const GI=(n,e)=>e.some(s=>n instanceof s);let rw,aw;function $I(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KI(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R1=new WeakMap,Bg=new WeakMap,C1=new WeakMap,lg=new WeakMap,Gy=new WeakMap;function XI(n){const e=new Promise((s,r)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",u)},c=()=>{s(na(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",u)});return e.then(s=>{s instanceof IDBCursor&&R1.set(s,n)}).catch(()=>{}),Gy.set(e,n),e}function YI(n){if(Bg.has(n))return;const e=new Promise((s,r)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",u),n.removeEventListener("abort",u)},c=()=>{s(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",u),n.addEventListener("abort",u)});Bg.set(n,e)}let qg={get(n,e,s){if(n instanceof IDBTransaction){if(e==="done")return Bg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||C1.get(n);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return na(n[e])},set(n,e,s){return n[e]=s,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QI(n){qg=n(qg)}function ZI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=n.call(cg(this),e,...s);return C1.set(r,e.sort?e.sort():[e]),na(r)}:KI().includes(n)?function(...e){return n.apply(cg(this),e),na(R1.get(this))}:function(...e){return na(n.apply(cg(this),e))}}function WI(n){return typeof n=="function"?ZI(n):(n instanceof IDBTransaction&&YI(n),GI(n,$I())?new Proxy(n,qg):n)}function na(n){if(n instanceof IDBRequest)return XI(n);if(lg.has(n))return lg.get(n);const e=WI(n);return e!==n&&(lg.set(n,e),Gy.set(e,n)),e}const cg=n=>Gy.get(n);function JI(n,e,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(n,e),h=na(u);return r&&u.addEventListener("upgradeneeded",m=>{r(na(u.result),m.oldVersion,m.newVersion,na(u.transaction),m)}),s&&u.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),h.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const eD=["get","getKey","getAll","getAllKeys","count"],tD=["put","add","delete","clear"],ug=new Map;function ow(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=tD.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||eD.includes(s)))return;const c=async function(u,...h){const m=this.transaction(u,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[s](...h),o&&m.done]))[0]};return ug.set(e,c),c}QI(n=>({...n,get:(e,s,r)=>ow(e,s)||n.get(e,s,r),has:(e,s)=>!!ow(e,s)||n.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(sD(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function sD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fg="@firebase/app",lw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Hy("@firebase/app"),iD="@firebase/app-compat",rD="@firebase/analytics-compat",aD="@firebase/analytics",oD="@firebase/app-check-compat",lD="@firebase/app-check",cD="@firebase/auth",uD="@firebase/auth-compat",dD="@firebase/database",hD="@firebase/data-connect",fD="@firebase/database-compat",mD="@firebase/functions",pD="@firebase/functions-compat",gD="@firebase/installations",yD="@firebase/installations-compat",bD="@firebase/messaging",vD="@firebase/messaging-compat",_D="@firebase/performance",xD="@firebase/performance-compat",wD="@firebase/remote-config",ED="@firebase/remote-config-compat",TD="@firebase/storage",SD="@firebase/storage-compat",AD="@firebase/firestore",kD="@firebase/ai",RD="@firebase/firestore-compat",CD="firebase",ND="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="[DEFAULT]",ID={[Fg]:"fire-core",[iD]:"fire-core-compat",[aD]:"fire-analytics",[rD]:"fire-analytics-compat",[lD]:"fire-app-check",[oD]:"fire-app-check-compat",[cD]:"fire-auth",[uD]:"fire-auth-compat",[dD]:"fire-rtdb",[hD]:"fire-data-connect",[fD]:"fire-rtdb-compat",[mD]:"fire-fn",[pD]:"fire-fn-compat",[gD]:"fire-iid",[yD]:"fire-iid-compat",[bD]:"fire-fcm",[vD]:"fire-fcm-compat",[_D]:"fire-perf",[xD]:"fire-perf-compat",[wD]:"fire-rc",[ED]:"fire-rc-compat",[TD]:"fire-gcs",[SD]:"fire-gcs-compat",[AD]:"fire-fst",[RD]:"fire-fst-compat",[kD]:"fire-vertex","fire-js":"fire-js",[CD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,DD=new Map,Gg=new Map;function cw(n,e){try{n.container.addComponent(e)}catch(s){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,s)}}function Sl(n){const e=n.name;if(Gg.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,n);for(const s of sf.values())cw(s,n);for(const s of DD.values())cw(s,n);return!0}function $y(n,e){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(e)}function Cs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new Lu("app","Firebase",MD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=ND;function N1(n,e={}){let s=n;typeof e!="object"&&(e={name:e});const r={name:Hg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw sa.create("bad-app-name",{appName:String(o)});if(s||(s=T1()),!s)throw sa.create("no-options");const c=sf.get(o);if(c){if(co(s,c.options)&&co(r,c.config))return c;throw sa.create("duplicate-app",{appName:o})}const u=new UI(o);for(const m of Gg.values())u.addComponent(m);const h=new jD(s,r,u);return sf.set(o,h),h}function I1(n=Hg){const e=sf.get(n);if(!e&&n===Hg&&T1())return N1();if(!e)throw sa.create("no-app",{appName:n});return e}function ia(n,e,s){let r=ID[n]??n;s&&(r+=`-${s}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(u.join(" "));return}Sl(new uo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firebase-heartbeat-database",VD=1,xu="firebase-heartbeat-store";let dg=null;function D1(){return dg||(dg=JI(PD,VD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xu)}catch(s){console.warn(s)}}}}).catch(n=>{throw sa.create("idb-open",{originalErrorMessage:n.message})})),dg}async function OD(n){try{const s=(await D1()).transaction(xu),r=await s.objectStore(xu).get(M1(n));return await s.done,r}catch(e){if(e instanceof pr)cr.warn(e.message);else{const s=sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(s.message)}}}async function uw(n,e){try{const r=(await D1()).transaction(xu,"readwrite");await r.objectStore(xu).put(e,M1(n)),await r.done}catch(s){if(s instanceof pr)cr.warn(s.message);else{const r=sa.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});cr.warn(r.message)}}}function M1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1024,zD=30;class UD{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new qD(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=dw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>zD){const u=FD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=dw(),{heartbeatsToSend:r,unsentEntries:o}=BD(this._heartbeatsCache.heartbeats),c=nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return cr.warn(s),""}}}function dw(){return new Date().toISOString().substring(0,10)}function BD(n,e=LD){const s=[];let r=n.slice();for(const o of n){const c=s.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),hw(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),hw(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class qD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RI()?CI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await OD(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hw(n){return nf(JSON.stringify({version:2,heartbeats:n})).length}function FD(n){if(n.length===0)return-1;let e=0,s=n[0].date;for(let r=1;r<n.length;r++)n[r].date<s&&(s=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n){Sl(new uo("platform-logger",e=>new nD(e),"PRIVATE")),Sl(new uo("heartbeat",e=>new UD(e),"PRIVATE")),ia(Fg,lw,n),ia(Fg,lw,"esm2020"),ia("fire-js","")}HD("");var GD="firebase",$D="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia(GD,$D,"app");function j1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KD=j1,P1=new Lu("auth","Firebase",j1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Hy("@firebase/auth");function XD(n,...e){rf.logLevel<=Ze.WARN&&rf.warn(`Auth (${Ol}): ${n}`,...e)}function Bh(n,...e){rf.logLevel<=Ze.ERROR&&rf.error(`Auth (${Ol}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n,...e){throw Ky(n,...e)}function Ai(n,...e){return Ky(n,...e)}function V1(n,e,s){const r={...KD(),[e]:s};return new Lu("auth","Firebase",r).create(e,{appName:n.name})}function ar(n){return V1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ky(n,...e){if(typeof n!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return P1.create(n,...e)}function Re(n,e,...s){if(!n)throw Ky(e,...s)}function sr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bh(e),new Error(e)}function ur(n,e){n||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function YD(){return fw()==="http:"||fw()==="https:"}function fw(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||TI()||"connection"in navigator)?navigator.onLine:!0}function ZD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,s){this.shortDelay=e,this.longDelay=s,ur(s>e,"Short delay should be less than long delay!"),this.isMobile=xI()||SI()}get(){return QD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(n,e){ur(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eM=new Uu(3e4,6e4);function ga(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ya(n,e,s,r,o={}){return L1(n,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const h=zu({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...c};return EI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Vl(n.emulatorConfig.host)&&(g.credentials="include"),O1.fetch()(await z1(n,n.config.apiHost,s,h),g)})}async function L1(n,e,s){n._canInitEmulator=!1;const r={...WD,...e};try{const o=new nM(n),c=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Th(n,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const h=c.ok?u.errorMessage:u.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Th(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Th(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw V1(n,v,g);Js(n,v)}}catch(o){if(o instanceof pr)throw o;Js(n,"network-request-failed",{message:String(o)})}}async function Bu(n,e,s,r,o={}){const c=await ya(n,e,s,r,o);return"mfaPendingCredential"in c&&Js(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function z1(n,e,s,r){const o=`${e}${s}?${r}`,c=n,u=c.config.emulator?Xy(n.config,o):`${n.config.apiScheme}://${o}`;return JD.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function tM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),eM.get())})}}function Th(n,e,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=Ai(n,e,r);return o.customData._tokenResponse=s,o}function mw(n){return n!==void 0&&n.enterprise!==void 0}class sM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return tM(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iM(n,e){return ya(n,"GET","/v2/recaptchaConfig",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(n,e){return ya(n,"POST","/v1/accounts:delete",e)}async function af(n,e){return ya(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aM(n,e=!1){const s=vn(n),r=await s.getIdToken(e),o=Yy(r);Re(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:uu(hg(o.auth_time)),issuedAtTime:uu(hg(o.iat)),expirationTime:uu(hg(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function hg(n){return Number(n)*1e3}function Yy(n){const[e,s,r]=n.split(".");if(e===void 0||s===void 0||r===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=w1(s);return o?JSON.parse(o):(Bh("Failed to decode base64 JWT payload"),null)}catch(o){return Bh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pw(n){const e=Yy(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(n,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof pr&&oM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function oM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(n){var _;const e=n.auth,s=await n.getIdToken(),r=await wu(n,af(e,{idToken:s}));Re(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=(_=o.providerUserInfo)!=null&&_.length?U1(o.providerUserInfo):[],u=uM(n.providerData,c),h=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),g=h?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Kg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function cM(n){const e=vn(n);await of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uM(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function U1(n){return n.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(n,e){const s=await L1(n,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,u=await z1(n,o,"/v1/token",`key=${c}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return n.emulatorConfig&&Vl(n.emulatorConfig.host)&&(m.credentials="include"),O1.fetch()(u,m)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function hM(n,e){return ya(n,"POST","/v2/accounts:revokeToken",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const s=pw(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:c}=await dM(e,s);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:c}=s,u=new vl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Re(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Re(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zs{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new lM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Re(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return aM(this,e)}reload(){return cM(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await wu(this,rM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,c=s.phoneNumber??void 0,u=s.photoURL??void 0,h=s.tenantId??void 0,m=s._redirectEventId??void 0,g=s.createdAt??void 0,v=s.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:k,providerData:j,stsTokenManager:D}=s;Re(_&&D,e,"internal-error");const V=vl.fromJSON(this.name,D);Re(typeof _=="string",e,"internal-error"),Xr(r,e.name),Xr(o,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof k=="boolean",e,"internal-error"),Xr(c,e.name),Xr(u,e.name),Xr(h,e.name),Xr(m,e.name),Xr(g,e.name),Xr(v,e.name);const B=new Zs({uid:_,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:k,photoURL:u,phoneNumber:c,tenantId:h,stsTokenManager:V,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(B.providerData=j.map(Q=>({...Q}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,s,r=!1){const o=new vl;o.updateFromServerResponse(s);const c=new Zs({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await of(c),c}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];Re(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?U1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),h=new vl;h.updateFromIdToken(r);const m=new Zs({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;function ir(n){ur(n instanceof Function,"Expected a class definition");let e=gw.get(n);return e?(ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}B1.type="NONE";const yw=B1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,e,s){return`firebase:${n}:${e}:${s}`}class _l{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,c),this.fullPersistenceKey=qh("persistence",o.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await af(this.auth,{idToken:e}).catch(()=>{});return s?Zs._fromGetAccountInfoResponse(this.auth,s,e):null}return Zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new _l(ir(yw),e,r);const o=(await Promise.all(s.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||ir(yw);const u=qh(r,e.config.apiKey,e.name);let h=null;for(const g of s)try{const v=await g._get(u);if(v){let _;if(typeof v=="string"){const w=await af(e,{idToken:v}).catch(()=>{});if(!w)break;_=await Zs._fromGetAccountInfoResponse(e,w,v)}else _=Zs._fromJSON(e,v);g!==c&&(h=_),c=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new _l(c,e,r):(c=m[0],h&&await c._set(u,h.toJSON()),await Promise.all(s.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new _l(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K1(e))return"Blackberry";if(X1(e))return"Webos";if(F1(e))return"Safari";if((e.includes("chrome/")||H1(e))&&!e.includes("edge/"))return"Chrome";if($1(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function q1(n=Vn()){return/firefox\//i.test(n)}function F1(n=Vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H1(n=Vn()){return/crios\//i.test(n)}function G1(n=Vn()){return/iemobile/i.test(n)}function $1(n=Vn()){return/android/i.test(n)}function K1(n=Vn()){return/blackberry/i.test(n)}function X1(n=Vn()){return/webos/i.test(n)}function Qy(n=Vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fM(n=Vn()){var e;return Qy(n)&&!!((e=window.navigator)!=null&&e.standalone)}function mM(){return AI()&&document.documentMode===10}function Y1(n=Vn()){return Qy(n)||$1(n)||X1(n)||K1(n)||/windows phone/i.test(n)||G1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n,e=[]){let s;switch(n){case"Browser":s=bw(Vn());break;case"Worker":s=`${bw(Vn())}-${n}`;break;default:s=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=c=>new Promise((u,h)=>{try{const m=e(c);u(m)}catch(m){h(m)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,e={}){return ya(n,"GET","/v2/passwordPolicy",ga(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=6;class bM{constructor(e){var r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??yM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vw(this),this.idTokenSubscription=new vw(this),this.beforeStateQueue=new pM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=ir(s)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await af(this,{idToken:e}),r=await Zs._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Cs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,h=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&(m!=null&&m.user)&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await of(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(ar(this));const s=e?vn(e):null;return s&&Re(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gM(this),s=new bM(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await hM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&ir(e)||this._popupRedirectResolver;Re(s,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[ir(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{u||c(this.currentUser)}),typeof s=="function"){const m=e.addObserver(s,r,o);return()=>{u=!0,m()}}else{const m=e.addObserver(s);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var s;if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&XD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function yo(n){return vn(n)}class vw{constructor(e){this.auth=e,this.observer=null,this.addObserver=jI(s=>this.observer=s)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _M(n){Mf=n}function Z1(n){return Mf.loadJS(n)}function xM(){return Mf.recaptchaEnterpriseScript}function wM(){return Mf.gapiScript}function EM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TM{constructor(){this.enterprise=new SM}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class SM{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const AM="recaptcha-enterprise",W1="NO_RECAPTCHA";class kM{constructor(e){this.type=AM,this.auth=yo(e)}async verify(e="verify",s=!1){async function r(c){if(!s){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,h)=>{iM(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new sM(m);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(m=>{h(m)})})}function o(c,u,h){const m=window.grecaptcha;mw(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(W1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TM().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(h=>{if(!s&&mw(window.grecaptcha))o(h,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=xM();m.length!==0&&(m+=h),Z1(m).then(()=>{o(h,c,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function _w(n,e,s,r=!1,o=!1){const c=new kM(n);let u;if(o)u=W1;else try{u=await c.verify(s)}catch{u=await c.verify(s,!0)}const h={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Xg(n,e,s,r,o){var c;if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _w(n,e,s,s==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await _w(n,e,s,s==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n,e){const s=$y(n,"auth");if(s.isInitialized()){const o=s.getImmediate(),c=s.getOptions();if(co(c,e??{}))return o;Js(o,"already-initialized")}return s.initialize({options:e})}function CM(n,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NM(n,e,s){const r=yo(n);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=J1(e),{host:u,port:h}=IM(e),m=h===null?"":`:${h}`,g={url:`${c}//${u}${m}/`},v=Object.freeze({host:u,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(co(g,r.config.emulator)&&co(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Vl(u)?(A1(`${c}//${u}${m}`),k1("Auth",!0)):DM()}function J1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function IM(n){const e=J1(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:xw(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:xw(u)}}}function xw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DM(){function n(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,s){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function MM(n,e){return ya(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(n,e){return Bu(n,"POST","/v1/accounts:signInWithPassword",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,e))}async function VM(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Zy{constructor(e,s,r,o=null){super("password",r),this._email=e,this._password=s,this._tenantId=o}static _fromEmailAndPassword(e,s){return new Eu(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new Eu(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,s,"signInWithPassword",jM);case"emailLink":return PM(e,{email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xg(e,r,"signUpPassword",MM);case"emailLink":return VM(e,{idToken:s,email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n,e){return Bu(n,"POST","/v1/accounts:signInWithIdp",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="http://localhost";class ho extends Zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Js("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=s;if(!r||!o)return null;const u=new ho(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const s=this.buildRequest();return xl(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,xl(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,xl(e,s)}buildRequest(){const e={requestUri:OM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=zu(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zM(n){const e=nu(su(n)).link,s=e?nu(su(e)).deep_link_id:null,r=nu(su(n)).deep_link_id;return(r?nu(su(r)).link:null)||r||s||e||n}class Wy{constructor(e){const s=nu(su(e)),r=s.apiKey??null,o=s.oobCode??null,c=LM(s.mode??null);Re(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=zM(e);try{return new Wy(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,s){return Eu._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=Wy.parseLink(s);return Re(r,"argument-error"),Eu._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends eS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends qu{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return ho._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Wr.credential(s,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends qu{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends qu{constructor(){super("twitter.com")}static credential(e,s){return ho._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return ea.credential(s,r)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(n,e){return Bu(n,"POST","/v1/accounts:signUp",ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const c=await Zs._fromIdTokenResponse(e,r,o),u=ww(r);return new fo({user:c,providerId:u,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=ww(r);return new fo({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function ww(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends pr{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new lf(e,s,r,o)}}function tS(n,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(n,c,e,r):c})}async function BM(n,e,s=!1){const r=await wu(n,e._linkToIdToken(n.auth,await n.getIdToken()),s);return fo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(n,e,s=!1){const{auth:r}=n;if(Cs(r.app))return Promise.reject(ar(r));const o="reauthenticate";try{const c=await wu(n,tS(r,o,e,n),s);Re(c.idToken,r,"internal-error");const u=Yy(c.idToken);Re(u,r,"internal-error");const{sub:h}=u;return Re(n.uid===h,r,"user-mismatch"),fo._forOperation(n,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Js(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(n,e,s=!1){if(Cs(n.app))return Promise.reject(ar(n));const r="signIn",o=await tS(n,r,e),c=await fo._fromIdTokenResponse(n,r,o);return s||await n._updateCurrentUser(c.user),c}async function FM(n,e){return nS(yo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(n){const e=yo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HM(n,e,s){if(Cs(n.app))return Promise.reject(ar(n));const r=yo(n),u=await Xg(r,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&sS(n),m}),h=await fo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function GM(n,e,s){return Cs(n.app)?Promise.reject(ar(n)):FM(vn(n),Ll.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sS(n),r})}function $M(n,e,s,r){return vn(n).onIdTokenChanged(e,s,r)}function KM(n,e,s){return vn(n).beforeAuthStateChanged(e,s)}function XM(n,e,s,r){return vn(n).onAuthStateChanged(e,s,r)}function YM(n){return vn(n).signOut()}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=1e3,ZM=10;class rS extends iS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!s&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);mM()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZM):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const WM=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends iS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}aS.type="SESSION";const oS=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:c}=s.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async g=>g(s.origin,c)),m=await JM(h);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return n+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((h,m)=>{const g=Jy("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(w.data.response);break;default:clearTimeout(v),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:s},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function tj(n){ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function nj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function ij(){return lS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firebaseLocalStorageDb",rj=1,uf="firebaseLocalStorage",uS="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Pf(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function aj(){const n=indexedDB.deleteDatabase(cS);return new Fu(n).toPromise()}function Yg(){const n=indexedDB.open(cS,rj);return new Promise((e,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(uf,{keyPath:uS})}catch(o){s(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),await aj(),e(await Yg()))})})}async function Ew(n,e,s){const r=Pf(n,!0).put({[uS]:e,value:s});return new Fu(r).toPromise()}async function oj(n,e){const s=Pf(n,!1).get(e),r=await new Fu(s).toPromise();return r===void 0?null:r.value}function Tw(n,e){const s=Pf(n,!0).delete(e);return new Fu(s).toPromise()}const lj=800,cj=3;class dS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>cj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(ij()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await nj(),!this.activeServiceWorker)return;this.sender=new ej(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await Ew(e,cf,"1"),await Tw(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ew(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>oj(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tw(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Pf(o,!1).getAll();return new Fu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dS.type="LOCAL";const uj=dS;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(n,e){return e?ir(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,s){return xl(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function hj(n){return nS(n.auth,new e0(n),n.bypassAuthState)}function fj(n){const{auth:e,user:s}=n;return Re(s,e,"internal-error"),qM(s,new e0(n),n.bypassAuthState)}async function mj(n){const{auth:e,user:s}=n;return Re(s,e,"internal-error"),BM(s,new e0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,s,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:c,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:s,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hj;case"linkViaPopup":case"linkViaRedirect":return mj;case"reauthViaPopup":case"reauthViaRedirect":return fj;default:Js(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Uu(2e3,1e4);class hl extends hS{constructor(e,s,r,o,c){super(e,s,o,c),this.provider=r,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pj.get())};e()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="pendingRedirect",Fh=new Map;class yj extends hS{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const r=await bj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bj(n,e){const s=xj(e),r=_j(n);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function vj(n,e){Fh.set(n._key(),e)}function _j(n){return ir(n._redirectPersistence)}function xj(n){return qh(gj,n.config.apiKey,n.name)}async function wj(n,e,s=!1){if(Cs(n.app))return Promise.reject(ar(n));const r=yo(n),o=dj(r,e),u=await new yj(r,o,s).execute();return u&&!s&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=600*1e3;class Tj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sj(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!fS(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError(Ai(this.auth,o))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ej&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sw(e))}saveEventToCache(e){this.cachedEventUids.add(Sw(e)),this.lastProcessedEventTime=Date.now()}}function Sw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Sj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(n,e={}){return ya(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rj=/^https?/;async function Cj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Aj(n);for(const s of e)try{if(Nj(s))return}catch{}Js(n,"unauthorized-domain")}function Nj(n){const e=$g(),{protocol:s,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&u.hostname===r}if(!Rj.test(s))return!1;if(kj.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Uu(3e4,6e4);function Aw(){const n=ki().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function Dj(n){return new Promise((e,s)=>{var o,c,u;function r(){Aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aw(),s(Ai(n,"network-request-failed"))},timeout:Ij.get()})}if((c=(o=ki().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=ki().gapi)!=null&&u.load)r();else{const h=EM("iframefcb");return ki()[h]=()=>{gapi.load?r():s(Ai(n,"network-request-failed"))},Z1(`${wM()}?onload=${h}`).catch(m=>s(m))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function Mj(n){return Hh=Hh||Dj(n),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Uu(5e3,15e3),Pj="__/auth/iframe",Vj="emulator/auth/iframe",Oj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zj(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const s=e.emulator?Xy(e,Vj):`https://${n.config.authDomain}/${Pj}`,r={apiKey:e.apiKey,appName:n.name,v:Ol},o=Lj.get(n.config.apiHost);o&&(r.eid=o);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${s}?${zu(r).slice(1)}`}async function Uj(n){const e=await Mj(n),s=ki().gapi;return Re(s,n,"internal-error"),e.open({where:document.body,url:zj(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oj,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=Ai(n,"network-request-failed"),h=ki().setTimeout(()=>{c(u)},jj.get());function m(){ki().clearTimeout(h),o(r)}r.ping(m).then(m,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qj=500,Fj=600,Hj="_blank",Gj="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $j(n,e,s,r=qj,o=Fj){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...Bj,width:r.toString(),height:o.toString(),top:c,left:u},g=Vn().toLowerCase();s&&(h=H1(g)?Hj:s),q1(g)&&(e=e||Gj,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[k,j])=>`${w}${k}=${j},`,"");if(fM(g)&&h!=="_self")return Kj(e||"",h),new kw(null);const _=window.open(e||"",h,v);Re(_,n,"popup-blocked");try{_.focus()}catch{}return new kw(_)}function Kj(n,e){const s=document.createElement("a");s.href=n,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="__/auth/handler",Yj="emulator/auth/handler",Qj=encodeURIComponent("fac");async function Rw(n,e,s,r,o,c){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:Ol,eventId:o};if(e instanceof eS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",MI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof qu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await n._getAppCheckToken(),g=m?`#${Qj}=${encodeURIComponent(m)}`:"";return`${Zj(n)}?${zu(h).slice(1)}${g}`}function Zj({config:n}){return n.emulator?Xy(n,Yj):`https://${n.authDomain}/${Xj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class Wj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oS,this._completeRedirectFn=wj,this._overrideRedirectResult=vj}async _openPopup(e,s,r,o){var u;ur((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await Rw(e,s,r,$g(),o);return $j(e,c,Jy())}async _openRedirect(e,s,r,o){await this._originValidation(e);const c=await Rw(e,s,r,$g(),o);return tj(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:c}=this.eventManagers[s];return o?Promise.resolve(o):(ur(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await Uj(e),r=new Tj(e);return s.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(fg,{type:fg},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[fg];c!==void 0&&s(!!c),Js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=Cj(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Y1()||F1()||Qy()}}const Jj=Wj;var Cw="@firebase/auth",Nw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nP(n){Sl(new uo("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(n)},g=new vM(r,o,c,m);return CM(g,s),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Sl(new uo("auth-internal",e=>{const s=yo(e.getProvider("auth").getImmediate());return(r=>new eP(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(Cw,Nw,tP(n)),ia(Cw,Nw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=300,iP=S1("authIdTokenMaxAge")||sP;let Iw=null;const rP=n=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>iP)return;const o=s==null?void 0:s.token;Iw!==o&&(Iw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aP(n=I1()){const e=$y(n,"auth");if(e.isInitialized())return e.getImmediate();const s=RM(n,{popupRedirectResolver:Jj,persistence:[uj,WM,oS]}),r=S1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=rP(c.toString());KM(s,u,()=>u(s.currentUser)),$M(s,h=>u(h))}}const o=E1("auth");return o&&NM(s,`http://${o}`),s}function oP(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}_M({loadJS(n){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const c=Ai("internal-error");c.customData=o,s(c)},r.type="text/javascript",r.charset="UTF-8",oP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nP("Browser");var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,mS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function N(){}N.prototype=S.prototype,C.F=S.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(P,L,q){for(var M=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)M[Ge-2]=arguments[Ge];return S.prototype[L].apply(P,M)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,N){N||(N=0);const P=Array(16);if(typeof S=="string")for(var L=0;L<16;++L)P[L]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(L=0;L<16;++L)P[L]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=C.g[0],N=C.g[1],L=C.g[2];let q=C.g[3],M;M=S+(q^N&(L^q))+P[0]+3614090360&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(L^S&(N^L))+P[1]+3905402710&4294967295,q=S+(M<<12&4294967295|M>>>20),M=L+(N^q&(S^N))+P[2]+606105819&4294967295,L=q+(M<<17&4294967295|M>>>15),M=N+(S^L&(q^S))+P[3]+3250441966&4294967295,N=L+(M<<22&4294967295|M>>>10),M=S+(q^N&(L^q))+P[4]+4118548399&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(L^S&(N^L))+P[5]+1200080426&4294967295,q=S+(M<<12&4294967295|M>>>20),M=L+(N^q&(S^N))+P[6]+2821735955&4294967295,L=q+(M<<17&4294967295|M>>>15),M=N+(S^L&(q^S))+P[7]+4249261313&4294967295,N=L+(M<<22&4294967295|M>>>10),M=S+(q^N&(L^q))+P[8]+1770035416&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(L^S&(N^L))+P[9]+2336552879&4294967295,q=S+(M<<12&4294967295|M>>>20),M=L+(N^q&(S^N))+P[10]+4294925233&4294967295,L=q+(M<<17&4294967295|M>>>15),M=N+(S^L&(q^S))+P[11]+2304563134&4294967295,N=L+(M<<22&4294967295|M>>>10),M=S+(q^N&(L^q))+P[12]+1804603682&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(L^S&(N^L))+P[13]+4254626195&4294967295,q=S+(M<<12&4294967295|M>>>20),M=L+(N^q&(S^N))+P[14]+2792965006&4294967295,L=q+(M<<17&4294967295|M>>>15),M=N+(S^L&(q^S))+P[15]+1236535329&4294967295,N=L+(M<<22&4294967295|M>>>10),M=S+(L^q&(N^L))+P[1]+4129170786&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^L&(S^N))+P[6]+3225465664&4294967295,q=S+(M<<9&4294967295|M>>>23),M=L+(S^N&(q^S))+P[11]+643717713&4294967295,L=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(L^q))+P[0]+3921069994&4294967295,N=L+(M<<20&4294967295|M>>>12),M=S+(L^q&(N^L))+P[5]+3593408605&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^L&(S^N))+P[10]+38016083&4294967295,q=S+(M<<9&4294967295|M>>>23),M=L+(S^N&(q^S))+P[15]+3634488961&4294967295,L=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(L^q))+P[4]+3889429448&4294967295,N=L+(M<<20&4294967295|M>>>12),M=S+(L^q&(N^L))+P[9]+568446438&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^L&(S^N))+P[14]+3275163606&4294967295,q=S+(M<<9&4294967295|M>>>23),M=L+(S^N&(q^S))+P[3]+4107603335&4294967295,L=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(L^q))+P[8]+1163531501&4294967295,N=L+(M<<20&4294967295|M>>>12),M=S+(L^q&(N^L))+P[13]+2850285829&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^L&(S^N))+P[2]+4243563512&4294967295,q=S+(M<<9&4294967295|M>>>23),M=L+(S^N&(q^S))+P[7]+1735328473&4294967295,L=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(L^q))+P[12]+2368359562&4294967295,N=L+(M<<20&4294967295|M>>>12),M=S+(N^L^q)+P[5]+4294588738&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^L)+P[8]+2272392833&4294967295,q=S+(M<<11&4294967295|M>>>21),M=L+(q^S^N)+P[11]+1839030562&4294967295,L=q+(M<<16&4294967295|M>>>16),M=N+(L^q^S)+P[14]+4259657740&4294967295,N=L+(M<<23&4294967295|M>>>9),M=S+(N^L^q)+P[1]+2763975236&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^L)+P[4]+1272893353&4294967295,q=S+(M<<11&4294967295|M>>>21),M=L+(q^S^N)+P[7]+4139469664&4294967295,L=q+(M<<16&4294967295|M>>>16),M=N+(L^q^S)+P[10]+3200236656&4294967295,N=L+(M<<23&4294967295|M>>>9),M=S+(N^L^q)+P[13]+681279174&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^L)+P[0]+3936430074&4294967295,q=S+(M<<11&4294967295|M>>>21),M=L+(q^S^N)+P[3]+3572445317&4294967295,L=q+(M<<16&4294967295|M>>>16),M=N+(L^q^S)+P[6]+76029189&4294967295,N=L+(M<<23&4294967295|M>>>9),M=S+(N^L^q)+P[9]+3654602809&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^L)+P[12]+3873151461&4294967295,q=S+(M<<11&4294967295|M>>>21),M=L+(q^S^N)+P[15]+530742520&4294967295,L=q+(M<<16&4294967295|M>>>16),M=N+(L^q^S)+P[2]+3299628645&4294967295,N=L+(M<<23&4294967295|M>>>9),M=S+(L^(N|~q))+P[0]+4096336452&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~L))+P[7]+1126891415&4294967295,q=S+(M<<10&4294967295|M>>>22),M=L+(S^(q|~N))+P[14]+2878612391&4294967295,L=q+(M<<15&4294967295|M>>>17),M=N+(q^(L|~S))+P[5]+4237533241&4294967295,N=L+(M<<21&4294967295|M>>>11),M=S+(L^(N|~q))+P[12]+1700485571&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~L))+P[3]+2399980690&4294967295,q=S+(M<<10&4294967295|M>>>22),M=L+(S^(q|~N))+P[10]+4293915773&4294967295,L=q+(M<<15&4294967295|M>>>17),M=N+(q^(L|~S))+P[1]+2240044497&4294967295,N=L+(M<<21&4294967295|M>>>11),M=S+(L^(N|~q))+P[8]+1873313359&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~L))+P[15]+4264355552&4294967295,q=S+(M<<10&4294967295|M>>>22),M=L+(S^(q|~N))+P[6]+2734768916&4294967295,L=q+(M<<15&4294967295|M>>>17),M=N+(q^(L|~S))+P[13]+1309151649&4294967295,N=L+(M<<21&4294967295|M>>>11),M=S+(L^(N|~q))+P[4]+4149444226&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~L))+P[11]+3174756917&4294967295,q=S+(M<<10&4294967295|M>>>22),M=L+(S^(q|~N))+P[2]+718787259&4294967295,L=q+(M<<15&4294967295|M>>>17),M=N+(q^(L|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+q&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const N=S-this.blockSize,P=this.C;let L=this.h,q=0;for(;q<S;){if(L==0)for(;q<=N;)o(this,C,q),q+=this.blockSize;if(typeof C=="string"){for(;q<S;)if(P[L++]=C.charCodeAt(q++),L==this.blockSize){o(this,P),L=0;break}}else for(;q<S;)if(P[L++]=C[q++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)C[S++]=this.g[N]>>>P&255;return C};function c(C,S){var N=h;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=S(C)}function u(C,S){this.h=S;const N=[];let P=!0;for(let L=C.length-1;L>=0;L--){const q=C[L]|0;P&&q==S||(N[L]=q,P=!1)}this.g=N}var h={};function m(C){return-128<=C&&C<128?c(C,function(S){return new u([S|0],S<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return V(g(-C));const S=[];let N=1;for(let P=0;C>=N;P++)S[P]=C/N|0,N*=4294967296;return new u(S,0)}function v(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return V(v(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let P=_;for(let q=0;q<C.length;q+=8){var L=Math.min(8,C.length-q);const M=parseInt(C.substring(q,q+L),S);L<8?(L=g(Math.pow(S,L)),P=P.j(L).add(g(M))):(P=P.j(N),P=P.add(g(M)))}return P}var _=m(0),w=m(1),k=m(16777216);n=u.prototype,n.m=function(){if(D(this))return-V(this).m();let C=0,S=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);C+=(P>=0?P:4294967296+P)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(D(this))return"-"+V(this).toString(C);const S=g(Math.pow(C,6));var N=this;let P="";for(;;){const L=ce(N,S).g;N=B(N,L.j(S));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=L,j(N))return q+P;for(;q.length<6;)q="0"+q;P=q+P}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function D(C){return C.h==-1}n.l=function(C){return C=B(this,C),D(C)?-1:j(C)?0:1};function V(C){const S=C.g.length,N=[];for(let P=0;P<S;P++)N[P]=~C.g[P];return new u(N,~C.h).add(w)}n.abs=function(){return D(this)?V(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),N=[];let P=0;for(let L=0;L<=S;L++){let q=P+(this.i(L)&65535)+(C.i(L)&65535),M=(q>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);P=M>>>16,q&=65535,M&=65535,N[L]=M<<16|q}return new u(N,N[N.length-1]&-2147483648?-1:0)};function B(C,S){return C.add(V(S))}n.j=function(C){if(j(this)||j(C))return _;if(D(this))return D(C)?V(this).j(V(C)):V(V(this).j(C));if(D(C))return V(this.j(V(C)));if(this.l(k)<0&&C.l(k)<0)return g(this.m()*C.m());const S=this.g.length+C.g.length,N=[];for(var P=0;P<2*S;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<C.g.length;L++){const q=this.i(P)>>>16,M=this.i(P)&65535,Ge=C.i(L)>>>16,tt=C.i(L)&65535;N[2*P+2*L]+=M*tt,Q(N,2*P+2*L),N[2*P+2*L+1]+=q*tt,Q(N,2*P+2*L+1),N[2*P+2*L+1]+=M*Ge,Q(N,2*P+2*L+1),N[2*P+2*L+2]+=q*Ge,Q(N,2*P+2*L+2)}for(C=0;C<S;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=S;C<2*S;C++)N[C]=0;return new u(N,0)};function Q(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function H(C,S){this.g=C,this.h=S}function ce(C,S){if(j(S))throw Error("division by zero");if(j(C))return new H(_,_);if(D(C))return S=ce(V(C),S),new H(V(S.g),V(S.h));if(D(S))return S=ce(C,V(S)),new H(V(S.g),S.h);if(C.g.length>30){if(D(C)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var N=w,P=S;P.l(C)<=0;)N=oe(N),P=oe(P);var L=de(N,1),q=de(P,1);for(P=de(P,2),N=de(N,2);!j(P);){var M=q.add(P);M.l(C)<=0&&(L=L.add(N),q=M),P=de(P,1),N=de(N,1)}return S=B(C,L.j(S)),new H(L,S)}for(L=_;C.l(S)>=0;){for(N=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),q=g(N),M=q.j(S);D(M)||M.l(C)>0;)N-=P,q=g(N),M=q.j(S);j(q)&&(q=w),L=L.add(q),C=B(C,M)}return new H(L,C)}n.B=function(C){return ce(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)&C.i(P);return new u(N,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)|C.i(P);return new u(N,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)^C.i(P);return new u(N,this.h^C.h)};function oe(C){const S=C.g.length+1,N=[];for(let P=0;P<S;P++)N[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(N,C.h)}function de(C,S){const N=S>>5;S%=32;const P=C.g.length-N,L=[];for(let q=0;q<P;q++)L[q]=S>0?C.i(q+N)>>>S|C.i(q+N+1)<<32-S:C.i(q+N);return new u(L,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ra=u}).apply(typeof Dw<"u"?Dw:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pS,iu,gS,Gh,Qg,yS,bS,vS;(function(){var n,e=Object.defineProperty;function s(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var x=0;x<f.length;++x){var T=f[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=s(this);function o(f,x){if(x)e:{var T=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var G=f[R];if(!(G in T))break e;T=T[G]}f=f[f.length-1],R=T[f],x=x(R),x!=R&&x!=null&&e(T,f,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(x){var T=[],R;for(R in x)Object.prototype.hasOwnProperty.call(x,R)&&T.push([R,x[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function m(f,x,T){return f.call.apply(f.bind,arguments)}function g(f,x,T){return g=m,g.apply(null,arguments)}function v(f,x){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function _(f,x){function T(){}T.prototype=x.prototype,f.Z=x.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(R,G,Z){for(var fe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)fe[Ue-2]=arguments[Ue];return x.prototype[G].apply(R,fe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function k(f){const x=f.length;if(x>0){const T=Array(x);for(let R=0;R<x;R++)T[R]=f[R];return T}return[]}function j(f,x){for(let R=1;R<arguments.length;R++){const G=arguments[R];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=f.length||0;const Z=G.length||0;f.length=T+Z;for(let fe=0;fe<Z;fe++)f[T+fe]=G[fe]}else f.push(G)}}class D{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(f){u.setTimeout(()=>{throw f},0)}function B(){var f=C;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class Q{constructor(){this.h=this.g=null}add(x,T){const R=H.get();R.set(x,T),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new D(()=>new ce,f=>f.reset());class ce{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,C=new Q,S=()=>{const f=Promise.resolve(void 0);oe=()=>{f.then(N)}};function N(){for(var f;f=B();){try{f.h.call(f.g)}catch(T){V(T)}var x=H;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}de=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,x),u.removeEventListener("test",T,x)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function Ge(f,x){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}_(Ge,L),Ge.prototype.init=function(f,x){const T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(T=="mouseover"?x=f.fromElement:T=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(f,x,T,R,G){this.listener=f,this.proxy=null,this.src=x,this.type=T,this.capture=!!R,this.ha=G,this.key=++X,this.da=this.fa=!1}function te(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f,x,T){for(const R in f)x.call(T,f[R],R,f)}function Ie(f,x){for(const T in f)x.call(void 0,f[T],T,f)}function z(f){const x={};for(const T in f)x[T]=f[T];return x}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(f,x){let T,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(T in R)f[T]=R[T];for(let Z=0;Z<ee.length;Z++)T=ee[Z],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,x,T,R,G){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const fe=De(f,x,R,G);return fe>-1?(x=f[fe],T||(x.fa=!1)):(x=new re(x,this.src,Z,!!R,G),x.fa=T,f.push(x)),x};function Se(f,x){const T=x.type;if(T in f.g){var R=f.g[T],G=Array.prototype.indexOf.call(R,x,void 0),Z;(Z=G>=0)&&Array.prototype.splice.call(R,G,1),Z&&(te(x),f.g[T].length==0&&(delete f.g[T],f.h--))}}function De(f,x,T,R){for(let G=0;G<f.length;++G){const Z=f[G];if(!Z.da&&Z.listener==x&&Z.capture==!!T&&Z.ha==R)return G}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Et={};function ot(f,x,T,R,G){if(Array.isArray(x)){for(let Z=0;Z<x.length;Z++)ot(f,x[Z],T,R,G);return null}return T=Ea(T),f&&f[tt]?f.J(x,T,h(R)?!!R.capture:!1,G):Un(f,x,T,!1,R,G)}function Un(f,x,T,R,G,Z){if(!x)throw Error("Invalid event type");const fe=h(G)?!!G.capture:!!G;let Ue=Os(f);if(Ue||(f[me]=Ue=new he(f)),T=Ue.add(x,T,R,fe,Z),T.proxy)return T;if(R=es(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)q||(G=fe),G===void 0&&(G=!1),f.addEventListener(x.toString(),R,G);else if(f.attachEvent)f.attachEvent(qn(x.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function es(){function f(T){return x.call(f.src,f.listener,T)}const x=si;return f}function Bn(f,x,T,R,G){if(Array.isArray(x))for(var Z=0;Z<x.length;Z++)Bn(f,x[Z],T,R,G);else R=h(R)?!!R.capture:!!R,T=Ea(T),f&&f[tt]?(f=f.i,Z=String(x).toString(),Z in f.g&&(x=f.g[Z],T=De(x,T,R,G),T>-1&&(te(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete f.g[Z],f.h--)))):f&&(f=Os(f))&&(x=f.g[x.toString()],f=-1,x&&(f=De(x,T,R,G)),(T=f>-1?x[f]:null)&&Vs(T))}function Vs(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[tt])Se(x.i,f);else{var T=f.type,R=f.proxy;x.removeEventListener?x.removeEventListener(T,R,f.capture):x.detachEvent?x.detachEvent(qn(T),R):x.addListener&&x.removeListener&&x.removeListener(R),(T=Os(x))?(Se(T,f),T.h==0&&(T.src=null,x[me]=null)):te(f)}}}function qn(f){return f in Et?Et[f]:Et[f]="on"+f}function si(f,x){if(f.da)f=!0;else{x=new Ge(x,this);const T=f.listener,R=f.ha||f.src;f.fa&&Vs(f),f=T.call(R,x)}return f}function Os(f){return f=f[me],f instanceof he?f:null}var wa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ea(f){return typeof f=="function"?f:(f[wa]||(f[wa]=function(x){return f.handleEvent(x)}),f[wa])}function Nt(){P.call(this),this.i=new he(this),this.M=this,this.G=null}_(Nt,P),Nt.prototype[tt]=!0,Nt.prototype.removeEventListener=function(f,x,T,R){Bn(this,f,x,T,R)};function Ft(f,x){var T,R=f.G;if(R)for(T=[];R;R=R.G)T.push(R);if(f=f.M,R=x.type||x,typeof x=="string")x=new L(x,f);else if(x instanceof L)x.target=x.target||f;else{var G=x;x=new L(R,f),le(x,G)}G=!0;let Z,fe;if(T)for(fe=T.length-1;fe>=0;fe--)Z=x.g=T[fe],G=ii(Z,R,!0,x)&&G;if(Z=x.g=f,G=ii(Z,R,!0,x)&&G,G=ii(Z,R,!1,x)&&G,T)for(fe=0;fe<T.length;fe++)Z=x.g=T[fe],G=ii(Z,R,!1,x)&&G}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const T=f.g[x];for(let R=0;R<T.length;R++)te(T[R]);delete f.g[x],f.h--}}this.G=null},Nt.prototype.J=function(f,x,T,R){return this.i.add(String(f),x,!1,T,R)},Nt.prototype.K=function(f,x,T,R){return this.i.add(String(f),x,!0,T,R)};function ii(f,x,T,R){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let Z=0;Z<x.length;++Z){const fe=x[Z];if(fe&&!fe.da&&fe.capture==T){const Ue=fe.listener,Ht=fe.ha||fe.src;fe.fa&&Se(f.i,fe),G=Ue.call(Ht,R)!==!1&&G}}return G&&!R.defaultPrevented}function Ta(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(f,x||0)}function gr(f){f.g=Ta(()=>{f.g=null,f.i&&(f.i=!1,gr(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class mn extends P{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(f){P.call(this),this.h=f,this.g={}}_(ue,P);var _e=[];function Me(f){Ae(f.g,function(x,T){this.g.hasOwnProperty(T)&&Vs(x)},f),f.g={}}ue.prototype.N=function(){ue.Z.N.call(this),Me(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=u.JSON.stringify,qe=u.JSON.parse,Oe=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function lt(){}function It(){}var Dt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){L.call(this,"d")}_($e,L);function Cn(){L.call(this,"c")}_(Cn,L);var we={},nt=null;function Pe(){return nt=nt||new Nt}we.Ia="serverreachability";function Tt(f){L.call(this,we.Ia,f)}_(Tt,L);function _t(f){const x=Pe();Ft(x,new Tt(x))}we.STAT_EVENT="statevent";function zt(f,x){L.call(this,we.STAT_EVENT,f),this.stat=x}_(zt,L);function it(f){const x=Pe();Ft(x,new zt(x,f))}we.Ja="timingevent";function Yt(f,x){L.call(this,we.Ja,f),this.size=x}_(Yt,L);function ms(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},x)}function Ls(){this.g=!0}Ls.prototype.ua=function(){this.g=!1};function sm(f,x,T,R,G,Z){f.info(function(){if(f.g)if(Z){var fe="",Ue=Z.split("&");for(let ct=0;ct<Ue.length;ct++){var Ht=Ue[ct].split("=");if(Ht.length>1){const Mt=Ht[0];Ht=Ht[1];const bs=Mt.split("_");fe=bs.length>=2&&bs[1]=="type"?fe+(Mt+"="+Ht+"&"):fe+(Mt+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+x+`
`+T+`
`+fe})}function ed(f,x,T,R,G,Z,fe){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+x+`
`+T+`
`+Z+" "+fe})}function ri(f,x,T,R){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+im(f,T)+(R?" "+R:"")})}function Sa(f,x){f.info(function(){return"TIMEOUT: "+x})}Ls.prototype.info=function(){};function im(f,x){if(!f.g)return x;if(!x)return null;try{const Z=JSON.parse(x);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var T=Z[f];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<R.length;fe++)R[fe]=""}}}}return je(Z)}catch{return x}}var Aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wl;function ka(){}_(ka,lt),ka.prototype.g=function(){return new XMLHttpRequest},Wl=new ka;function Vi(f){return encodeURIComponent(String(f))}function td(f){var x=1;f=f.split(":");const T=[];for(;x>0&&f.length;)T.push(f.shift()),x--;return f.length&&T.push(f.join(":")),T}function zs(f,x,T,R){this.j=f,this.i=x,this.l=T,this.S=R||1,this.V=new ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}var Qt={},pn={};function ai(f,x,T){f.M=1,f.A=Ra(Wt(x)),f.u=T,f.R=!0,_o(f,null)}function _o(f,x){f.F=Date.now(),oi(f),f.B=Wt(f.A);var T=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),To(T.i,"t",R),f.C=0,T=f.j.L,f.h=new Us,f.g=gd(f.j,T?x:null,!f.u),f.P>0&&(f.O=new mn(g(f.Y,f,f.g),f.P)),x=f.V,T=f.g,R=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(_e[0]=G.toString()),G=_e);for(let Z=0;Z<G.length;Z++){const fe=ot(T,G[Z],R||x.handleEvent,!1,x.h||x);if(!fe)break;x.g[fe.key]=fe}x=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),_t(),sm(f.i,f.v,f.B,f.l,f.S,f.u)}zs.prototype.ba=function(f){f=f.target;const x=this.O;x&&Fs(f)==3?x.j():this.Y(f)},zs.prototype.Y=function(f){try{if(f==this.g)e:{const Ue=Fs(this.g),Ht=this.g.ya(),ct=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||_n(this.g)))){this.K||Ue!=4||Ht==7||(Ht==8||ct<=0?_t(3):_t(2)),li(this);var x=this.g.ca();this.X=x;var T=rm(this);if(this.o=x==200,ed(this.i,this.v,this.B,this.l,this.S,Ue,x),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var Z=R;break t}}Z=null}if(f=Z)ri(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,f);else{this.o=!1,this.m=3,it(12),ts(this),ps(this);break e}}if(this.R){f=!0;let Mt;for(;!this.K&&this.C<T.length;)if(Mt=sd(this,T),Mt==pn){Ue==4&&(this.m=4,it(14),f=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Qt){this.m=4,it(15),ri(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else ri(this.i,this.l,Mt,null),ci(this,Mt);if(nd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||T.length!=0||this.h.h||(this.m=1,it(16),f=!1),this.o=this.o&&f,!f)ri(this.i,this.l,T,"[Invalid Chunked Response]"),ts(this),ps(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),fc(fe),fe.P=!0,it(11))}}else ri(this.i,this.l,T,null),ci(this,T);Ue==4&&ts(this),this.o&&!this.K&&(Ue==4?hd(this.j,this):(this.o=!1,oi(this)))}else Li(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),ts(this),ps(this)}}}catch{}finally{}};function rm(f){if(!nd(f))return f.g.la();const x=_n(f.g);if(x==="")return"";let T="";const R=x.length,G=Fs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ts(f),ps(f),"";f.h.i=new u.TextDecoder}for(let Z=0;Z<R;Z++)f.h.h=!0,T+=f.h.i.decode(x[Z],{stream:!(G&&Z==R-1)});return x.length=0,f.h.g+=T,f.C=0,f.h.g}function nd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function sd(f,x){var T=f.C,R=x.indexOf(`
`,T);return R==-1?pn:(T=Number(x.substring(T,R)),isNaN(T)?Qt:(R+=1,R+T>x.length?pn:(x=x.slice(R,R+T),f.C=R+T,x)))}zs.prototype.cancel=function(){this.K=!0,ts(this)};function oi(f){f.T=Date.now()+f.H,xo(f,f.H)}function xo(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ms(g(f.aa,f),x)}function li(f){f.D&&(u.clearTimeout(f.D),f.D=null)}zs.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Sa(this.i,this.B),this.M!=2&&(_t(),it(17)),ts(this),this.m=2,ps(this)):xo(this,this.T-f)};function ps(f){f.j.I==0||f.K||hd(f.j,f)}function ts(f){li(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,Me(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function ci(f,x){try{var T=f.j;if(T.I!=0&&(T.g==f||di(T.h,f))){if(!f.L&&di(T.h,f)&&T.I==3){try{var R=T.Ba.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Co(T),Tr(T);else break e;Pa(T),it(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ms(g(T.Va,T),6e3));ui(T.h)<=1&&T.ta&&(T.ta=void 0)}else yi(T,11)}else if((f.L||T.g==f)&&Co(T),!M(x))for(G=T.Ba.g.parse(x),x=0;x<G.length;x++){let ct=G[x];const Mt=ct[0];if(!(Mt<=T.K))if(T.K=Mt,ct=ct[1],T.I==2)if(ct[0]=="c"){T.M=ct[1],T.ba=ct[2];const bs=ct[3];bs!=null&&(T.ka=bs,T.j.info("VER="+T.ka));const bi=ct[4];bi!=null&&(T.za=bi,T.j.info("SVER="+T.za));const Hs=ct[5];Hs!=null&&typeof Hs=="number"&&Hs>0&&(R=1.5*Hs,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Gs=f.g;if(Gs){const Va=Gs.g?Gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var Z=R.h;Z.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(tc(Z,Z.h),Z.h=null))}if(R.G){const No=Gs.g?Gs.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(R.wa=No,ft(R.J,R.G,No))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var fe=f;if(R.na=pd(R,R.L?R.ba:null,R.W),fe.L){nc(R.h,fe);var Ue=fe,Ht=R.O;Ht&&(Ue.H=Ht),Ue.D&&(li(Ue),oi(Ue)),R.g=fe}else ud(R);T.i.length>0&&gi(T)}else ct[0]!="stop"&&ct[0]!="close"||yi(T,7);else T.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?yi(T,7):dc(T):ct[0]!="noop"&&T.l&&T.l.qa(ct),T.A=0)}}_t(4)}catch{}}var Zt=class{constructor(f,x){this.g=f,this.map=x}};function Jl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ec(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ui(f){return f.h?1:f.g?f.g.size:0}function di(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function tc(f,x){f.g?f.g.add(x):f.h=x}function nc(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}Jl.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function sc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const T of f.g.values())x=x.concat(T.G);return x}return k(f.i)}var id=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(f,x){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const R=f[T].indexOf("=");let G,Z=null;R>=0?(G=f[T].substring(0,R),Z=f[T].substring(R+1)):G=f[T],x(G,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ns(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof ns?(this.l=f.l,gn(this,f.j),this.o=f.o,this.g=f.g,yr(this,f.u),this.h=f.h,ic(this,ld(f.i)),this.m=f.m):f&&(x=String(f).match(id))?(this.l=!1,gn(this,x[1]||"",!0),this.o=hi(x[2]||""),this.g=hi(x[3]||"",!0),yr(this,x[4]),this.h=hi(x[5]||"",!0),ic(this,x[6]||"",!0),this.m=hi(x[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}ns.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Ca(x,Eo,!0),":");var T=this.g;return(T||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Ca(x,Eo,!0),"@"),f.push(Vi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Ca(T,T.charAt(0)=="/"?rc:rd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Ca(T,ad)),f.join("")},ns.prototype.resolve=function(f){const x=Wt(this);let T=!!f.j;T?gn(x,f.j):T=!!f.o,T?x.o=f.o:T=!!f.g,T?x.g=f.g:T=f.u!=null;var R=f.h;if(T)yr(x,f.u);else if(T=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=x.h.lastIndexOf("/");G!=-1&&(R=x.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const Z=[];for(let fe=0;fe<G.length;){const Ue=G[fe++];Ue=="."?R&&fe==G.length&&Z.push(""):Ue==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&fe==G.length&&Z.push("")):(Z.push(Ue),R=!0)}R=Z.join("/")}else R=G}return T?x.h=R:T=f.i.toString()!=="",T?ic(x,ld(f.i)):T=!!f.m,T&&(x.m=f.m),x};function Wt(f){return new ns(f)}function gn(f,x,T){f.j=T?hi(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function yr(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function ic(f,x,T){x instanceof vr?(f.i=x,So(f.i,f.l)):(T||(x=Ca(x,br)),f.i=new vr(x,f.l))}function ft(f,x,T){f.i.set(x,T)}function Ra(f){return ft(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function hi(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ca(f,x,T){return typeof f=="string"?(f=encodeURI(f).replace(x,Fn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Eo=/[#\/\?@]/g,rd=/[#\?:]/g,rc=/[#\?]/g,br=/[#\?@]/g,ad=/#/g;function vr(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Hn(f){f.g||(f.g=new Map,f.h=0,f.i&&wo(f.i,function(x,T){f.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=vr.prototype,n.add=function(f,x){Hn(this),this.i=null,f=_r(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(x),this.h+=1,this};function od(f,x){Hn(f),x=_r(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function ac(f,x){return Hn(f),x=_r(f,x),f.g.has(x)}n.forEach=function(f,x){Hn(this),this.g.forEach(function(T,R){T.forEach(function(G){f.call(x,G,R,this)},this)},this)};function oc(f,x){Hn(f);let T=[];if(typeof x=="string")ac(f,x)&&(T=T.concat(f.g.get(_r(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)T=T.concat(f[x]);return T}n.set=function(f,x){return Hn(this),this.i=null,f=_r(this,f),ac(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=oc(this,f),f.length>0?String(f[0]):x):x};function To(f,x,T){od(f,x),T.length>0&&(f.i=null,f.g.set(_r(f,x),k(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let R=0;R<x.length;R++){var T=x[R];const G=Vi(T);T=oc(this,T);for(let Z=0;Z<T.length;Z++){let fe=G;T[Z]!==""&&(fe+="="+Vi(T[Z])),f.push(fe)}}return this.i=f.join("&")};function ld(f){const x=new vr;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function _r(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function So(f,x){x&&!f.j&&(Hn(f),f.i=null,f.g.forEach(function(T,R){const G=R.toLowerCase();R!=G&&(od(this,R),To(this,G,T))},f)),f.j=x}function Bs(f,x){const T=new Ls;if(u.Image){const R=new Image;R.onload=v(gs,T,"TestLoadImage: loaded",!0,x,R),R.onerror=v(gs,T,"TestLoadImage: error",!1,x,R),R.onabort=v(gs,T,"TestLoadImage: abort",!1,x,R),R.ontimeout=v(gs,T,"TestLoadImage: timeout",!1,x,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else x(!1)}function lc(f,x){const T=new Ls,R=new AbortController,G=setTimeout(()=>{R.abort(),gs(T,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:R.signal}).then(Z=>{clearTimeout(G),Z.ok?gs(T,"TestPingServer: ok",!0,x):gs(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),gs(T,"TestPingServer: error",!1,x)})}function gs(f,x,T,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(T)}catch{}}function xr(){this.g=new Oe}function fi(f){this.i=f.Sb||null,this.h=f.ab||!1}_(fi,lt),fi.prototype.g=function(){return new Na(this.i,this.h)};function Na(f,x){Nt.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Na,Nt),n=Na.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,qs(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ao(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ao(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?wr(this):qs(this),this.readyState==3&&Ao(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,wr(this))},n.Na=function(f){this.g&&(this.response=f,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,qs(f)}n.setRequestHeader=function(f,x){this.A.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=x.next();return f.join(`\r
`)};function qs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ys(f){let x="";return Ae(f,function(T,R){x+=R,x+=":",x+=T,x+=`\r
`}),x}function Ia(f,x,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=ys(T),typeof f=="string"?T!=null&&Vi(T):ft(f,x,T))}function gt(f){Nt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(gt,Nt);var mi=/^https?$/i,cc=["POST","PUT"];n=gt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,x,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(Z){Da(this,Z);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)T.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())T.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(cc,x,void 0)>=0)||R||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of T)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){Da(this,Z)}};function Da(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,uc(f),Oi(f)}function uc(f){f.A||(f.A=!0,Ft(f,"complete"),Ft(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ft(this,"complete"),Ft(this,"abort"),Oi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),gt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ma(this):this.Xa())},n.Xa=function(){Ma(this)};function Ma(f){if(f.h&&typeof c<"u"){if(f.v&&Fs(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ft(f,"readystatechange"),Fs(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var R;if(R=Z===0){let fe=String(f.D).match(id)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),R=!mi.test(fe?fe.toLowerCase():"")}T=R}if(T)Ft(f,"complete"),Ft(f,"success");else{f.o=6;try{var G=Fs(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",uc(f)}}finally{Oi(f)}}}}function Oi(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,x||Ft(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Fs(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Fs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),qe(x)}};function _n(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(f){const x={};f=(f.g&&Fs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(M(f[R]))continue;var T=td(f[R]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=x[G]||[];x[G]=Z,Z.push(T)}Ie(x,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(f,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||x}function Er(f){this.za=0,this.i=[],this.j=new Ls,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,f),this.Za=pi("retryDelaySeedMs",1e4,f),this.Ta=pi("forwardChannelMaxRetries",2,f),this.va=pi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(f&&f.concurrentRequestLimit),this.Ba=new xr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Er.prototype,n.ka=8,n.I=1,n.connect=function(f,x,T,R){it(0),this.W=f,this.H=x||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=pd(this,null,this.W),gi(this)};function dc(f){if(ko(f),f.I==3){var x=f.V++,T=Wt(f.J);if(ft(T,"SID",f.M),ft(T,"RID",x),ft(T,"TYPE","terminate"),ja(f,T),x=new zs(f,f.j,x),x.M=2,x.A=Ra(Wt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=x.A,T=!0),T||(x.g=gd(x.j,null),x.g.ea(x.A)),x.F=Date.now(),oi(x)}md(f)}function Tr(f){f.g&&(fc(f),f.g.cancel(),f.g=null)}function ko(f){Tr(f),f.v&&(u.clearTimeout(f.v),f.v=null),Co(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function gi(f){if(!ec(f.h)&&!f.m){f.m=!0;var x=f.Ea;oe||S(),de||(oe(),de=!0),C.add(x,f),f.D=0}}function Ro(f,x){return ui(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ms(g(f.Ea,f,x),fd(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new zs(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=z(Z),le(Z,this.U)):Z=this.U),this.u!==null||this.R||(G.J=Z,Z=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=cd(this,G,x),T=Wt(this.J),ft(T,"RID",f),ft(T,"CVER",22),this.G&&ft(T,"X-HTTP-Session-Id",this.G),ja(this,T),Z&&(this.R?x="headers="+Vi(ys(Z))+"&"+x:this.u&&Ia(T,this.u,Z)),tc(this.h,G),this.Ra&&ft(T,"TYPE","init"),this.S?(ft(T,"$req",x),ft(T,"SID","null"),G.U=!0,ai(G,T,null)):ai(G,T,x),this.I=2}}else this.I==3&&(f?hc(this,f):this.i.length==0||ec(this.h)||hc(this))};function hc(f,x){var T;x?T=x.l:T=f.V++;const R=Wt(f.J);ft(R,"SID",f.M),ft(R,"RID",T),ft(R,"AID",f.K),ja(f,R),f.u&&f.o&&Ia(R,f.u,f.o),T=new zs(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),x&&(f.i=x.G.concat(f.i)),x=cd(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),tc(f.h,T),ai(T,R,x)}function ja(f,x){f.H&&Ae(f.H,function(T,R){ft(x,R,T)}),f.l&&Ae({},function(T,R){ft(x,R,T)})}function cd(f,x,T){T=Math.min(f.i.length,T);const R=f.l?g(f.l.Ka,f.l,f):null;e:{var G=f.i;let Ue=-1;for(;;){const Ht=["count="+T];Ue==-1?T>0?(Ue=G[0].g,Ht.push("ofs="+Ue)):Ue=0:Ht.push("ofs="+Ue);let ct=!0;for(let Mt=0;Mt<T;Mt++){var Z=G[Mt].g;const bs=G[Mt].map;if(Z-=Ue,Z<0)Ue=Math.max(0,G[Mt].g-100),ct=!1;else try{Z="req"+Z+"_"||"";try{var fe=bs instanceof Map?bs:Object.entries(bs);for(const[bi,Hs]of fe){let Gs=Hs;h(Hs)&&(Gs=je(Hs)),Ht.push(Z+bi+"="+encodeURIComponent(Gs))}}catch(bi){throw Ht.push(Z+"type="+encodeURIComponent("_badmap")),bi}}catch{R&&R(bs)}}if(ct){fe=Ht.join("&");break e}}fe=void 0}return f=f.i.splice(0,T),x.G=f,fe}function ud(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;oe||S(),de||(oe(),de=!0),C.add(x,f),f.A=0}}function Pa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ms(g(f.Da,f),fd(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,dd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ms(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),Tr(this),dd(this))};function fc(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function dd(f){f.g=new zs(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Wt(f.na);ft(x,"RID","rpc"),ft(x,"SID",f.M),ft(x,"AID",f.K),ft(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&ft(x,"TO",f.ia),ft(x,"TYPE","xmlhttp"),ja(f,x),f.u&&f.o&&Ia(x,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Ra(Wt(x)),T.u=null,T.R=!0,_o(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Tr(this),Pa(this),it(19))};function Co(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function hd(f,x){var T=null;if(f.g==x){Co(f),fc(f),f.g=null;var R=2}else if(di(f.h,x))T=x.G,nc(f.h,x),R=1;else return;if(f.I!=0){if(x.o)if(R==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var G=f.D;R=Pe(),Ft(R,new Yt(R,T)),gi(f)}else ud(f);else if(G=x.m,G==3||G==0&&x.X>0||!(R==1&&Ro(f,x)||R==2&&Pa(f)))switch(T&&T.length>0&&(x=f.h,x.i=x.i.concat(T)),G){case 1:yi(f,5);break;case 4:yi(f,10);break;case 3:yi(f,6);break;default:yi(f,2)}}}function fd(f,x){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*x}function yi(f,x){if(f.j.info("Error code "+x),x==2){var T=g(f.bb,f),R=f.Ua;const G=!R;R=new ns(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||gn(R,"https"),Ra(R),G?Bs(R.toString(),T):lc(R.toString(),T)}else it(2);f.I=0,f.l&&f.l.pa(x),md(f),ko(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function md(f){if(f.I=0,f.ja=[],f.l){const x=sc(f.h);(x.length!=0||f.i.length!=0)&&(j(f.ja,x),j(f.ja,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.oa()}}function pd(f,x,T){var R=T instanceof ns?Wt(T):new ns(T);if(R.g!="")x&&(R.g=x+"."+R.g),yr(R,R.u);else{var G=u.location;R=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const Z=new ns(null);R&&gn(Z,R),x&&(Z.g=x),G&&yr(Z,G),T&&(Z.h=T),R=Z}return T=f.G,x=f.wa,T&&x&&ft(R,T,x),ft(R,"VER",f.ka),ja(f,R),R}function gd(f,x,T){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new gt(new fi({ab:T})):new gt(f.ma),x.Fa(f.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yd(){}n=yd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Sr(){}Sr.prototype.g=function(f,x){return new On(f,x)};function On(f,x){Nt.call(this),this.g=new Er(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!M(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new zi(this)}_(On,Nt),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){dc(this.g)},On.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=je(f),f=T);x.i.push(new Zt(x.Ya++,f)),x.I==3&&gi(x)},On.prototype.N=function(){this.g.l=null,delete this.j,dc(this.g),delete this.g,On.Z.N.call(this)};function bd(f){$e.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const T in x){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}_(bd,$e);function vd(){Cn.call(this),this.status=1}_(vd,Cn);function zi(f){this.g=f}_(zi,yd),zi.prototype.ra=function(){Ft(this.g,"a")},zi.prototype.qa=function(f){Ft(this.g,new bd(f))},zi.prototype.pa=function(f){Ft(this.g,new vd)},zi.prototype.oa=function(){Ft(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,vS=function(){return new Sr},bS=function(){return Pe()},yS=we,Qg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,Gh=Aa,Zl.COMPLETE="complete",gS=Zl,It.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,iu=It,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,pS=gt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const Mw="@firebase/firestore",jw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Hy("@firebase/firestore");function ol(){return mo.logLevel}function ge(n,...e){if(mo.logLevel<=Ze.DEBUG){const s=e.map(t0);mo.debug(`Firestore (${zl}): ${n}`,...s)}}function dr(n,...e){if(mo.logLevel<=Ze.ERROR){const s=e.map(t0);mo.error(`Firestore (${zl}): ${n}`,...s)}}function Al(n,...e){if(mo.logLevel<=Ze.WARN){const s=e.map(t0);mo.warn(`Firestore (${zl}): ${n}`,...s)}}function t0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,_S(n,r,s)}function _S(n,e,s){let r=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw dr(r),new Error(r)}function ht(n,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,n||_S(e,o,r)}function ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends pr{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Dn.UNAUTHENTICATED)))}shutdown(){}}class cP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class uP{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){ht(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,s(m)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},h=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),u()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new xS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class dP{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hP{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new dP(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fP{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){ht(this.o===void 0,3512);const r=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?s(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(ht(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new Pw(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<n;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=mP(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<s&&(r+=e.charAt(o[c]%62))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function Zg(n,e){const s=Math.min(n.length,e.length);for(let r=0;r<s;r++){const o=n.charAt(r),c=e.charAt(r);if(o!==c)return mg(o)===mg(c)?We(o,c):mg(o)?1:-1}return We(n.length,e.length)}const pP=55296,gP=57343;function mg(n){const e=n.charCodeAt(0);return e>=pP&&e<=gP}function kl(n,e,s){return n.length===e.length&&n.every(((r,o)=>s(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__name__";class Ei{constructor(e,s,r){s===void 0?s=0:s>e.length&&Ce(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Ce(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const c=Ei.compareSegments(e.get(o),s.get(o));if(c!==0)return c}return We(e.length,s.length)}static compareSegments(e,s){const r=Ei.isNumericId(e),o=Ei.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(s)):Zg(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ra.fromString(e.substring(4,e.length-2))}}class St extends Ei{construct(e,s,r){return new St(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new St(s)}static emptyPath(){return new St([])}}const yP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Ei{construct(e,s,r){return new kn(e,s,r)}static isValidIdentifier(e){return yP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vw}static keyField(){return new kn([Vw])}static fromServerFormat(e){const s=[];let r="",o=0;const c=()=>{if(r.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(c(),o++)}if(c(),u)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(s)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(St.fromString(e))}static fromName(e){return new Te(St.fromString(e).popFirst(5))}static empty(){return new Te(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return St.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n,e,s){if(!s)throw new pe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bP(n,e,s,r){if(e===!0&&r===!0)throw new pe(se.INVALID_ARGUMENT,`${n} and ${s} cannot be used together.`)}function Ow(n){if(!Te.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lw(n){if(Te.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ES(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function ji(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Vf(n);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n,e){const s={typeString:n};return e&&(s.value=e),s}function Hu(n,e){if(!ES(n))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){s=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){s=`Expected '${r}' field to equal '${c.value}'`;break}}if(s)throw new pe(se.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,Uw=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*Uw);return new Ct(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<zw)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uw}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:on("string",Ct._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ct(0,0))}static max(){return new Ve(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function vP(n,e){const s=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new Ct(s+1,0):new Ct(s,r));return new oa(o,Te.empty(),e)}function _P(n){return new oa(n.readTime,n.key,Tu)}class oa{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new oa(Ve.min(),Te.empty(),Tu)}static max(){return new oa(Ve.max(),Te.empty(),Tu)}}function xP(n,e){let s=n.readTime.compareTo(e.readTime);return s!==0?s:(s=Te.comparator(n.documentKey,e.documentKey),s!==0?s:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==wP)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ae(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(s,c).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof ae?s:ae.resolve(s)}catch(s){return ae.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):ae.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):ae.reject(s)}static resolve(e){return new ae(((s,r)=>{s(e)}))}static reject(e){return new ae(((s,r)=>{r(e)}))}static waitFor(e){return new ae(((s,r)=>{let o=0,c=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++c,u&&c===o&&s()}),(m=>r(m)))})),u=!0,c===o&&s()}))}static or(e){let s=ae.resolve(!1);for(const r of e)s=s.next((o=>o?ae.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,c)=>{r.push(s.call(this,o,c))})),this.waitFor(r)}static mapArray(e,s){return new ae(((r,o)=>{const c=e.length,u=new Array(c);let h=0;for(let m=0;m<c;m++){const g=m;s(e[g]).next((v=>{u[g]=v,++h,h===c&&r(u)}),(v=>o(v)))}}))}static doWhile(e,s){return new ae(((r,o)=>{const c=()=>{e()===!0?s().next((()=>{c()}),o):r()};c()}))}}function TP(n){const e=n.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Of.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-1;function Lf(n){return n==null}function df(n){return n===0&&1/n==-1/0}function SP(n){return typeof n=="number"&&Number.isInteger(n)&&!df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="";function AP(n){let e="";for(let s=0;s<n.length;s++)e.length>0&&(e=Bw(e)),e=kP(n.get(s),e);return Bw(e)}function kP(n,e){let s=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":s+="";break;case TS:s+="";break;default:s+=c}}return s}function Bw(n){return n+TS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){let e=0;for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e++;return e}function ba(n,e){for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e(s,n[s])}function SS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,s){this.comparator=e,this.root=s||An.EMPTY}insert(e,s){return new Lt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=s?r(e.key,s):1,s&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,s,r,o,c){this.key=e,this.value=s,this.color=r??An.RED,this.left=o??An.EMPTY,this.right=c??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,c){return new An(e??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,s,r),null):c===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return An.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,s,r,o,c){return this}insert(e,s,r){return new An(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new hn(this.comparator);return s.data=e,s}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new hs([])}unionWith(e){let s=new hn(kn.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new hs(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AS("Invalid base64 string: "+c):c}})(e);return new Rn(s)}static fromUint8Array(e){const s=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Rn(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const RP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(n){if(ht(!!n,39018),typeof n=="string"){let e=0;const s=RP.exec(n);if(ht(!!s,46558,{timestamp:n}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?Rn.fromBase64String(n):Rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="server_timestamp",RS="__type__",CS="__previous_value__",NS="__local_write_time__";function i0(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[RS])==null?void 0:r.stringValue)===kS}function zf(n){const e=n.mapValue.fields[CS];return i0(e)?zf(e):e}function Su(n){const e=la(n.mapValue.fields[NS].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,s,r,o,c,u,h,m,g,v){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const hf="(default)";class Au{constructor(e,s){this.projectId=e,this.database=s||hf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===hf}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="__type__",NP="__max__",kh={mapValue:{}},DS="__vector__",ff="value";function ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?i0(n)?4:DP(n)?9007199254740991:IP(n)?10:11:Ce(28295,{value:n})}function Pi(n,e){if(n===e)return!0;const s=ua(n);if(s!==ua(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Su(n).isEqual(Su(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=la(o.timestampValue),h=la(c.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return ca(o.bytesValue).isEqual(ca(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return Kt(o.geoPointValue.latitude)===Kt(c.geoPointValue.latitude)&&Kt(o.geoPointValue.longitude)===Kt(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Kt(o.integerValue)===Kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Kt(o.doubleValue),h=Kt(c.doubleValue);return u===h?df(u)===df(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return kl(n.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},h=c.mapValue.fields||{};if(qw(u)!==qw(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!Pi(u[m],h[m])))return!1;return!0})(n,e);default:return Ce(52216,{left:n})}}function ku(n,e){return(n.values||[]).find((s=>Pi(s,e)))!==void 0}function Rl(n,e){if(n===e)return 0;const s=ua(n),r=ua(e);if(s!==r)return We(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return(function(c,u){const h=Kt(c.integerValue||c.doubleValue),m=Kt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return Hw(n.timestampValue,e.timestampValue);case 4:return Hw(Su(n),Su(e));case 5:return Zg(n.stringValue,e.stringValue);case 6:return(function(c,u){const h=ca(c),m=ca(u);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(c,u){const h=c.split("/"),m=u.split("/");for(let g=0;g<h.length&&g<m.length;g++){const v=We(h[g],m[g]);if(v!==0)return v}return We(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,u){const h=We(Kt(c.latitude),Kt(u.latitude));return h!==0?h:We(Kt(c.longitude),Kt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Gw(n.arrayValue,e.arrayValue);case 10:return(function(c,u){var w,k,j,D;const h=c.fields||{},m=u.fields||{},g=(w=h[ff])==null?void 0:w.arrayValue,v=(k=m[ff])==null?void 0:k.arrayValue,_=We(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,((D=v==null?void 0:v.values)==null?void 0:D.length)||0);return _!==0?_:Gw(g,v)})(n.mapValue,e.mapValue);case 11:return(function(c,u){if(c===kh.mapValue&&u===kh.mapValue)return 0;if(c===kh.mapValue)return 1;if(u===kh.mapValue)return-1;const h=c.fields||{},m=Object.keys(h),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const w=Zg(m[_],v[_]);if(w!==0)return w;const k=Rl(h[m[_]],g[v[_]]);if(k!==0)return k}return We(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Ce(23264,{he:s})}}function Hw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const s=la(n),r=la(e),o=We(s.seconds,r.seconds);return o!==0?o:We(s.nanos,r.nanos)}function Gw(n,e){const s=n.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const c=Rl(s[o],r[o]);if(c)return c}return We(s.length,r.length)}function Cl(n){return Wg(n)}function Wg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(s){const r=la(s);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(s){return ca(s).toBase64()})(n.bytesValue):"referenceValue"in n?(function(s){return Te.fromName(s).toString()})(n.referenceValue):"geoPointValue"in n?(function(s){return`geo(${s.latitude},${s.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(s){let r="[",o=!0;for(const c of s.values||[])o?o=!1:r+=",",r+=Wg(c);return r+"]"})(n.arrayValue):"mapValue"in n?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${Wg(s.fields[u])}`;return o+"}"})(n.mapValue):Ce(61005,{value:n})}function $h(n){switch(ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(n);return e?16+$h(e):16;case 5:return 2*n.stringValue.length;case 6:return ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+$h(c)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return ba(r.fields,((c,u)=>{o+=c.length+$h(u)})),o})(n.mapValue);default:throw Ce(13486,{value:n})}}function $w(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jg(n){return!!n&&"integerValue"in n}function r0(n){return!!n&&"arrayValue"in n}function Kw(n){return!!n&&"nullValue"in n}function Xw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kh(n){return!!n&&"mapValue"in n}function IP(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[IS])==null?void 0:r.stringValue)===DS}function du(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ba(n.mapValue.fields,((s,r)=>e.mapValue.fields[s]=du(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(n.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=du(n.arrayValue.values[s]);return e}return{...n}}function DP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Kh(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(s)}setAll(e){let s=kn.emptyPath(),r={},o=[];e.forEach(((u,h)=>{if(!s.isImmediateParentOf(h)){const m=this.getFieldsMap(s);this.applyChanges(m,r,o),r={},o=[],s=h.popLast()}u?r[h.lastSegment()]=du(u):o.push(h.lastSegment())}));const c=this.getFieldsMap(s);this.applyChanges(c,r,o)}delete(e){const s=this.field(e.popLast());Kh(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];Kh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){ba(s,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Zn(du(this.value))}}function MS(n){const e=[];return ba(n.fields,((s,r)=>{const o=new kn([s]);if(Kh(r)){const c=MS(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new hs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,s,r,o,c,u,h){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Mn(e,0,Ve.min(),Ve.min(),Ve.min(),Zn.empty(),0)}static newFoundDocument(e,s,r,o){return new Mn(e,1,s,Ve.min(),r,o,0)}static newNoDocument(e,s){return new Mn(e,2,s,Ve.min(),Ve.min(),Zn.empty(),0)}static newUnknownDocument(e,s){return new Mn(e,3,s,Ve.min(),Ve.min(),Zn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,s){this.position=e,this.inclusive=s}}function Yw(n,e,s){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],u=n.position[o];if(c.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),s.key):r=Rl(u,s.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let s=0;s<n.position.length;s++)if(!Pi(n.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,s="asc"){this.field=e,this.dir=s}}function MP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class an extends jS{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new PP(e,s,r):s==="array-contains"?new LP(e,r):s==="in"?new zP(e,r):s==="not-in"?new UP(e,r):s==="array-contains-any"?new BP(e,r):new an(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new VP(e,r):new OP(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Rl(s,this.value)):s!==null&&ua(this.value)===ua(s)&&this.matchesComparison(Rl(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends jS{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new ei(e,s)}matches(e){return PS(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PS(n){return n.op==="and"}function VS(n){return jP(n)&&PS(n)}function jP(n){for(const e of n.filters)if(e instanceof ei)return!1;return!0}function ey(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Cl(n.value);if(VS(n))return n.filters.map((e=>ey(e))).join(",");{const e=n.filters.map((s=>ey(s))).join(",");return`${n.op}(${e})`}}function OS(n,e){return n instanceof an?(function(r,o){return o instanceof an&&r.op===o.op&&r.field.isEqual(o.field)&&Pi(r.value,o.value)})(n,e):n instanceof ei?(function(r,o){return o instanceof ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,h)=>c&&OS(u,o.filters[h])),!0):!1})(n,e):void Ce(19439)}function LS(n){return n instanceof an?(function(s){return`${s.field.canonicalString()} ${s.op} ${Cl(s.value)}`})(n):n instanceof ei?(function(s){return s.op.toString()+" {"+s.getFilters().map(LS).join(" ,")+"}"})(n):"Filter"}class PP extends an{constructor(e,s,r){super(e,s,r),this.key=Te.fromName(r.referenceValue)}matches(e){const s=Te.comparator(e.key,this.key);return this.matchesComparison(s)}}class VP extends an{constructor(e,s){super(e,"in",s),this.keys=zS("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class OP extends an{constructor(e,s){super(e,"not-in",s),this.keys=zS("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function zS(n,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map((r=>Te.fromName(r.referenceValue)))}class LP extends an{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return r0(s)&&ku(s.arrayValue,this.value)}}class zP extends an{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&ku(this.value.arrayValue,s)}}class UP extends an{constructor(e,s){super(e,"not-in",s)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!ku(this.value.arrayValue,s)}}class BP extends an{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!r0(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>ku(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,s=null,r=[],o=[],c=null,u=null,h=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=h,this.Te=null}}function Zw(n,e=null,s=[],r=[],o=null,c=null,u=null){return new qP(n,e,s,r,o,c,u)}function a0(n){const e=ze(n);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>ey(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Lf(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>Cl(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>Cl(r))).join(",")),e.Te=s}return e.Te}function o0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!MP(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if(!OS(n.filters[s],e.filters[s]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qw(n.startAt,e.startAt)&&Qw(n.endAt,e.endAt)}function ty(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,s=null,r=[],o=[],c=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FP(n,e,s,r,o,c,u,h){return new ql(n,e,s,r,o,c,u,h)}function l0(n){return new ql(n)}function Ww(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function US(n){return n.collectionGroup!==null}function hu(n){const e=ze(n);if(e.Ie===null){e.Ie=[];const s=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),s.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new hn(kn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((c=>{s.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ru(c,r))})),s.has(kn.keyField().canonicalString())||e.Ie.push(new Ru(kn.keyField(),r))}return e.Ie}function Ri(n){const e=ze(n);return e.Ee||(e.Ee=HP(e,hu(n))),e.Ee}function HP(n,e){if(n.limitType==="F")return Zw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ru(o.field,c)}));const s=n.endAt?new mf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mf(n.startAt.position,n.startAt.inclusive):null;return Zw(n.path,n.collectionGroup,e,n.filters,n.limit,s,r)}}function ny(n,e){const s=n.filters.concat([e]);return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),s,n.limit,n.limitType,n.startAt,n.endAt)}function pf(n,e,s){return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,s,n.startAt,n.endAt)}function Uf(n,e){return o0(Ri(n),Ri(e))&&n.limitType===e.limitType}function BS(n){return`${a0(Ri(n))}|lt:${n.limitType}`}function ll(n){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>LS(o))).join(", ")}]`),Lf(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>Cl(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>Cl(o))).join(",")),`Target(${r})`})(Ri(n))}; limitType=${n.limitType})`}function Bf(n,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Te.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(n,e)&&(function(r,o){for(const c of hu(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,h,m){const g=Yw(u,h,m);return u.inclusive?g<=0:g<0})(r.startAt,hu(r),o)||r.endAt&&!(function(u,h,m){const g=Yw(u,h,m);return u.inclusive?g>=0:g>0})(r.endAt,hu(r),o))})(n,e)}function GP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qS(n){return(e,s)=>{let r=!1;for(const o of hu(n)){const c=$P(o,e,s);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function $P(n,e,s){const r=n.field.isKeyField()?Te.comparator(e.key,s.key):(function(c,u,h){const m=u.data.field(c),g=h.data.field(c);return m!==null&&g!==null?Rl(m,g):Ce(42886)})(n.field,e,s);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,((s,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return SS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new Lt(Te.comparator);function hr(){return KP}const FS=new Lt(Te.comparator);function ru(...n){let e=FS;for(const s of n)e=e.insert(s.key,s);return e}function HS(n){let e=FS;return n.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function so(){return fu()}function GS(){return fu()}function fu(){return new bo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XP=new Lt(Te.comparator),YP=new hn(Te.comparator);function Je(...n){let e=YP;for(const s of n)e=e.add(s);return e}const QP=new hn(We);function ZP(){return QP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function $S(n){return{integerValue:""+n}}function WP(n,e){return SP(e)?$S(e):c0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function JP(n,e,s){return n instanceof gf?(function(o,c){const u={fields:{[RS]:{stringValue:kS},[NS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&i0(c)&&(c=zf(c)),c&&(u.fields[CS]=c),{mapValue:u}})(s,e):n instanceof Cu?XS(n,e):n instanceof Nu?YS(n,e):(function(o,c){const u=KS(o,c),h=Jw(u)+Jw(o.Ae);return Jg(u)&&Jg(o.Ae)?$S(h):c0(o.serializer,h)})(n,e)}function eV(n,e,s){return n instanceof Cu?XS(n,e):n instanceof Nu?YS(n,e):s}function KS(n,e){return n instanceof yf?(function(r){return Jg(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class gf extends qf{}class Cu extends qf{constructor(e){super(),this.elements=e}}function XS(n,e){const s=QS(e);for(const r of n.elements)s.some((o=>Pi(o,r)))||s.push(r);return{arrayValue:{values:s}}}class Nu extends qf{constructor(e){super(),this.elements=e}}function YS(n,e){let s=QS(e);for(const r of n.elements)s=s.filter((o=>!Pi(o,r)));return{arrayValue:{values:s}}}class yf extends qf{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function Jw(n){return Kt(n.integerValue||n.doubleValue)}function QS(n){return r0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tV(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Cu&&o instanceof Cu||r instanceof Nu&&o instanceof Nu?kl(r.elements,o.elements,Pi):r instanceof yf&&o instanceof yf?Pi(r.Ae,o.Ae):r instanceof gf&&o instanceof gf})(n.transform,e.transform)}class nV{constructor(e,s){this.version=e,this.transformResults=s}}class Ws{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ff{}function ZS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new u0(n.key,Ws.none()):new Gu(n.key,n.data,Ws.none());{const s=n.data,r=Zn.empty();let o=new hn(kn.comparator);for(let c of e.fields)if(!o.has(c)){let u=s.field(c);u===null&&c.length>1&&(c=c.popLast(),u=s.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new va(n.key,r,new hs(o.toArray()),Ws.none())}}function sV(n,e,s){n instanceof Gu?(function(o,c,u){const h=o.value.clone(),m=tE(o.fieldTransforms,c,u.transformResults);h.setAll(m),c.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,s):n instanceof va?(function(o,c,u){if(!Xh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const h=tE(o.fieldTransforms,c,u.transformResults),m=c.data;m.setAll(WS(o)),m.setAll(h),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,s):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,s)}function mu(n,e,s,r){return n instanceof Gu?(function(c,u,h,m){if(!Xh(c.precondition,u))return h;const g=c.value.clone(),v=nE(c.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,s,r):n instanceof va?(function(c,u,h,m){if(!Xh(c.precondition,u))return h;const g=nE(c.fieldTransforms,m,u),v=u.data;return v.setAll(WS(c)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((_=>_.field)))})(n,e,s,r):(function(c,u,h){return Xh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,s)}function iV(n,e){let s=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=KS(r.transform,o||null);c!=null&&(s===null&&(s=Zn.empty()),s.set(r.field,c))}return s||null}function eE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&kl(r,o,((c,u)=>tV(c,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gu extends Ff{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends Ff{constructor(e,s,r,o,c=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WS(n){const e=new Map;return n.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=n.data.field(s);e.set(s,r)}})),e}function tE(n,e,s){const r=new Map;ht(n.length===s.length,32656,{Re:s.length,Ve:n.length});for(let o=0;o<s.length;o++){const c=n[o],u=c.transform,h=e.data.field(c.field);r.set(c.field,eV(u,h,s[o]))}return r}function nE(n,e,s){const r=new Map;for(const o of n){const c=o.transform,u=s.data.field(o.field);r.set(o.field,JP(c,u,e))}return r}class u0 extends Ff{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rV extends Ff{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&sV(c,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=mu(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=mu(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=GS();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let h=this.applyToLocalView(u,c.mutatedFields);h=s.has(o.key)?null:h;const m=ZS(u,h);m!==null&&r.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Je())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,((s,r)=>eE(s,r)))&&kl(this.baseMutations,e.baseMutations,((s,r)=>eE(s,r)))}}class d0{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return XP})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new d0(e,s,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,st;function cV(n){switch(n){case se.OK:return Ce(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function JS(n){if(n===void 0)return dr("GRPC error has no .code"),se.UNKNOWN;switch(n){case sn.OK:return se.OK;case sn.CANCELLED:return se.CANCELLED;case sn.UNKNOWN:return se.UNKNOWN;case sn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case sn.INTERNAL:return se.INTERNAL;case sn.UNAVAILABLE:return se.UNAVAILABLE;case sn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case sn.NOT_FOUND:return se.NOT_FOUND;case sn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case sn.ABORTED:return se.ABORTED;case sn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case sn.DATA_LOSS:return se.DATA_LOSS;default:return Ce(39323,{code:n})}}(st=sn||(sn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new ra([4294967295,4294967295],0);function sE(n){const e=uV().encode(n),s=new mS;return s.update(e),new Uint8Array(s.digest())}function iE(n){const e=new DataView(n.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ra([s,r],0),new ra([o,c],0)]}class h0{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new au(`Invalid padding: ${s}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new au(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=ra.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(ra.fromNumber(r)));return o.compare(dV)===1&&(o=new ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=sE(e),[r,o]=iE(s);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new h0(c,o,s);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const s=sE(e),[r,o]=iE(s);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.Se(u)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,s,r,o,c){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Hf(Ve.min(),o,new Lt(We),hr(),Je())}}class $u{constructor(e,s,r,o,c){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new $u(r,s,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class eA{constructor(e,s){this.targetId=e,this.Ce=s}}class tA{constructor(e,s,r=Rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class rE{constructor(){this.ve=0,this.Fe=aE(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),s=Je(),r=Je();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:Ce(38017,{changeType:c})}})),new $u(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=aE()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hV{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=Rh(),this.He=Rh(),this.Ye=new Lt(We)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const c=o.target;if(ty(c))if(r===0){const u=new Te(c.path);this.et(s,u,Mn.newNoDocument(u,Ve.min()))}else ht(r===1,20013,{expectedCount:r});else{const u=this._t(s);if(u!==r){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(s);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,g)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=s;let u,h;try{u=ca(r).toUint8Array()}catch(m){if(m instanceof AS)return Al("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new h0(u,o,c)}catch(m){return Al(m instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(h)||(this.et(s,c,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((c,u)=>{const h=this.ot(u);if(h){if(c.current&&ty(h.target)){const m=new Te(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Mn.newNoDocument(m,e))}c.Be&&(s.set(u,c.ke()),c.qe())}}));let r=Je();this.He.forEach(((c,u)=>{let h=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Hf(e,s,this.Ye,this.je,r);return this.je=hr(),this.Je=Rh(),this.He=Rh(),this.Ye=new Lt(We),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new rE,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new hn(We),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new hn(We),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ge("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rE),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Rh(){return new Lt(Te.comparator)}function aE(){return new Lt(Te.comparator)}const fV={asc:"ASCENDING",desc:"DESCENDING"},mV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pV={and:"AND",or:"OR"};class gV{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function sy(n,e){return n.useProto3Json||Lf(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yV(n,e){return bf(n,e.toTimestamp())}function Ci(n){return ht(!!n,49232),Ve.fromTimestamp((function(s){const r=la(s);return new Ct(r.seconds,r.nanos)})(n))}function f0(n,e){return iy(n,e).canonicalString()}function iy(n,e){const s=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?s:s.child(e)}function sA(n){const e=St.fromString(n);return ht(lA(e),10190,{key:e.toString()}),e}function ry(n,e){return f0(n.databaseId,e.path)}function pg(n,e){const s=sA(e);if(s.get(1)!==n.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+n.databaseId.projectId);if(s.get(3)!==n.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+n.databaseId.database);return new Te(rA(s))}function iA(n,e){return f0(n.databaseId,e)}function bV(n){const e=sA(n);return e.length===4?St.emptyPath():rA(e)}function ay(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rA(n){return ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oE(n,e,s){return{name:ry(n,e),fields:s.value.mapValue.fields}}function vV(n,e){let s;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,v){return g.useProto3Json?(ht(v===void 0||typeof v=="string",58123),Rn.fromBase64String(v||"")):(ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Rn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const v=g.code===void 0?se.UNKNOWN:JS(g.code);return new pe(v,g.message||"")})(u);s=new tA(r,o,c,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=pg(n,r.document.name),c=Ci(r.document.updateTime),u=r.document.createTime?Ci(r.document.createTime):Ve.min(),h=new Zn({mapValue:{fields:r.document.fields}}),m=Mn.newFoundDocument(o,c,u,h),g=r.targetIds||[],v=r.removedTargetIds||[];s=new Yh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=pg(n,r.document),c=r.readTime?Ci(r.readTime):Ve.min(),u=Mn.newNoDocument(o,c),h=r.removedTargetIds||[];s=new Yh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=pg(n,r.document),c=r.removedTargetIds||[];s=new Yh([],c,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new lV(o,c),h=r.targetId;s=new eA(h,u)}}return s}function _V(n,e){let s;if(e instanceof Gu)s={update:oE(n,e.key,e.value)};else if(e instanceof u0)s={delete:ry(n,e.key)};else if(e instanceof va)s={update:oE(n,e.key,e.data),updateMask:CV(e.fieldMask)};else{if(!(e instanceof rV))return Ce(16599,{Vt:e.type});s={verify:ry(n,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const h=u.transform;if(h instanceof gf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof yf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ce(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:yV(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ce(27497)})(n,e.precondition)),s}function xV(n,e){return n&&n.length>0?(ht(e!==void 0,14353),n.map((s=>(function(o,c){let u=o.updateTime?Ci(o.updateTime):Ci(c);return u.isEqual(Ve.min())&&(u=Ci(c)),new nV(u,o.transformResults||[])})(s,e)))):[]}function wV(n,e){return{documents:[iA(n,e.path)]}}function EV(n,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=iA(n,o);const c=(function(g){if(g.length!==0)return oA(ei.create(g,"and"))})(e.filters);c&&(s.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:cl(w.field),direction:AV(w.dir)}})(v)))})(e.orderBy);u&&(s.structuredQuery.orderBy=u);const h=sy(n,e.limit);return h!==null&&(s.structuredQuery.limit=h),e.startAt&&(s.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:s,parent:o}}function TV(n){let e=bV(n.parent);const s=n.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){ht(r===1,65062);const v=s.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];s.where&&(c=(function(_){const w=aA(_);return w instanceof ei&&VS(w)?w.getFilters():[w]})(s.where));let u=[];s.orderBy&&(u=(function(_){return _.map((w=>(function(j){return new Ru(ul(j.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(s.orderBy));let h=null;s.limit&&(h=(function(_){let w;return w=typeof _=="object"?_.value:_,Lf(w)?null:w})(s.limit));let m=null;s.startAt&&(m=(function(_){const w=!!_.before,k=_.values||[];return new mf(k,w)})(s.startAt));let g=null;return s.endAt&&(g=(function(_){const w=!_.before,k=_.values||[];return new mf(k,w)})(s.endAt)),FP(e,o,u,c,h,"F",m,g)}function SV(n,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function aA(n){return n.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=ul(s.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ul(s.unaryFilter.field);return an.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ul(s.unaryFilter.field);return an.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ul(s.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(n):n.fieldFilter!==void 0?(function(s){return an.create(ul(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(s){return ei.create(s.compositeFilter.filters.map((r=>aA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(s.compositeFilter.op))})(n):Ce(30097,{filter:n})}function AV(n){return fV[n]}function kV(n){return mV[n]}function RV(n){return pV[n]}function cl(n){return{fieldPath:n.canonicalString()}}function ul(n){return kn.fromServerFormat(n.fieldPath)}function oA(n){return n instanceof an?(function(s){if(s.op==="=="){if(Xw(s.value))return{unaryFilter:{field:cl(s.field),op:"IS_NAN"}};if(Kw(s.value))return{unaryFilter:{field:cl(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Xw(s.value))return{unaryFilter:{field:cl(s.field),op:"IS_NOT_NAN"}};if(Kw(s.value))return{unaryFilter:{field:cl(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(s.field),op:kV(s.op),value:s.value}}})(n):n instanceof ei?(function(s){const r=s.getFilters().map((o=>oA(o)));return r.length===1?r[0]:{compositeFilter:{op:RV(s.op),filters:r}}})(n):Ce(54877,{filter:n})}function CV(n){const e=[];return n.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function lA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,s,r,o,c=Ve.min(),u=Ve.min(),h=Rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.yt=e}}function IV(n){const e=TV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.Cn=new MV}addToCollectionParentIndex(e,s){return this.Cn.add(s),ae.resolve()}getCollectionParents(e,s){return ae.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return ae.resolve()}deleteFieldIndex(e,s){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,s){return ae.resolve()}getDocumentsMatchingTarget(e,s){return ae.resolve(null)}getIndexType(e,s){return ae.resolve(0)}getFieldIndexes(e,s){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,s){return ae.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,s){return ae.resolve(oa.min())}updateCollectionGroup(e,s,r){return ae.resolve()}updateIndexEntries(e,s){return ae.resolve()}}class MV{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new hn(St.comparator),c=!o.has(r);return this.index[s]=o.add(r),c}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new hn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(cA,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nl(0)}static cr(){return new Nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",jV=1048576;function uE([n,e],[s,r]){const o=We(n,s);return o===0?We(e,r):o}class PV{constructor(e){this.Ir=e,this.buffer=new hn(uE),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();uE(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class VV{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(cE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Bl(s)?ge(cE,"Ignoring IndexedDB error during garbage collection: ",s):await Ul(s)}await this.Vr(3e5)}))}}class OV{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return ae.resolve(Of.ce);const r=new PV(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(lE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,c,u,h,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,s)))).next((_=>(c=_,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(g=Date.now(),ol()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${c} targets in `+(m-h)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:_}))))}}function LV(n,e){return new OV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.changes=new bo((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?ae.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&mu(r.mutation,o,hs.empty(),Ct.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=Je()){const o=so();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((c=>{let u=ru();return c.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,s){const r=so();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,Je())))}populateOverlays(e,s,r){const o=[];return r.forEach((c=>{s.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,h)=>{s.set(u,h)}))}))}computeViews(e,s,r,o){let c=hr();const u=fu(),h=(function(){return fu()})();return s.forEach(((m,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof va)?c=c.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),mu(v.mutation,g,v.mutation.getFieldMask(),Ct.now())):u.set(g.key,hs.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((g,v)=>u.set(g,v))),s.forEach(((g,v)=>h.set(g,new UV(v,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,s){const r=fu();let o=new Lt(((u,h)=>u-h)),c=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((u=>{for(const h of u)h.keys().forEach((m=>{const g=s.get(m);if(g===null)return;let v=r.get(m)||hs.empty();v=h.applyToLocalView(g,v),r.set(m,v);const _=(o.get(h.batchId)||Je()).add(m);o=o.insert(h.batchId,_)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,v=m.value,_=GS();v.forEach((w=>{if(!c.has(w)){const k=ZS(s.get(w),r.get(w));k!==null&&_.set(w,k),c=c.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ae.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):US(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-c.size):ae.resolve(so());let h=Tu,m=c;return u.next((g=>ae.forEach(g,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),c.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,m,g,Je()))).next((v=>({batchId:h,changes:HS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Te(s)).next((r=>{let o=ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const c=s.collectionGroup;let u=ru();return this.indexManager.getCollectionParents(e,c).next((h=>ae.forEach(h,(m=>{const g=(function(_,w){return new ql(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(s,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((v=>{v.forEach(((_,w)=>{u=u.insert(_,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,c,o)))).next((u=>{c.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,Mn.newInvalidDocument(v)))}));let h=ru();return u.forEach(((m,g)=>{const v=c.get(m);v!==void 0&&mu(v.mutation,g,hs.empty(),Ct.now()),Bf(s,g)&&(h=h.insert(m,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return ae.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(s)),ae.resolve()}getNamedQuery(e,s){return ae.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:IV(o.bundledQuery),readTime:Ci(o.readTime)}})(s)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.overlays=new Lt(Te.comparator),this.qr=new Map}getOverlay(e,s){return ae.resolve(this.overlays.get(s))}getOverlays(e,s){const r=so();return ae.forEach(s,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,c)=>{this.St(e,s,c)})),ae.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,s,r){const o=so(),c=s.length+1,u=new Te(s.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!s.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let c=new Lt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===s&&g.largestBatchId>r){let v=c.get(g.largestBatchId);v===null&&(v=so(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=so(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=o)););return ae.resolve(h)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new oV(s,r));let c=this.qr.get(s);c===void 0&&(c=Je(),this.qr.set(s,c)),this.qr.set(s,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Qr=new hn(bn.$r),this.Ur=new hn(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new bn(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new bn(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new Te(new St([])),r=new bn(s,e),o=new bn(s,e+1),c=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new Te(new St([])),r=new bn(s,e),o=new bn(s,e+1);let c=Je();return this.Ur.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const s=new bn(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return Te.comparator(e.key,s.key)||We(e.Yr,s.Yr)}static Kr(e,s){return We(e.Yr,s.Yr)||Te.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new hn(bn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new aV(c,s,r,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new bn(h.key,c)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,s){return ae.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),c=o<0?0:o;return ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?s0:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new bn(s,0),o=new bn(s,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(u=>{const h=this.Xr(u.Yr);c.push(h)})),ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new hn(We);return s.forEach((o=>{const c=new bn(o,0),u=new bn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(h=>{r=r.add(h.Yr)}))})),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let c=r;Te.isDocumentKey(c)||(c=c.child(""));const u=new bn(new Te(c),0);let h=new hn(We);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(h=h.add(m.Yr)),!0)}),u),ae.resolve(this.ti(h))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){ht(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(s.mutations,(o=>{const c=new bn(o.key,s.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new bn(s,0),o=this.Zr.firstAfterOrEqual(r);return ae.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.ri=e,this.docs=(function(){return new Lt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),c=o?o.size:0,u=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return ae.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(s))}getEntries(e,s){let r=hr();return s.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Mn.newInvalidDocument(o))})),ae.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let c=hr();const u=s.path,h=new Te(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||xP(_P(v),r)<=0||(o.has(v.key)||Bf(s,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ae.resolve(c)}getAllFromCollectionGroup(e,s,r,o){Ce(9500)}ii(e,s){return ae.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new KV(this)}getSize(e){return ae.resolve(this.size)}}class KV extends zV{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ae.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.persistence=e,this.si=new bo((s=>a0(s)),o0),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new m0,this.targetCount=0,this.ai=Nl.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),ae.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Nl(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,ae.resolve()}updateTargetData(e,s){return this.Pr(s),ae.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,s,r){let o=0;const c=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=s&&r.get(h.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ae.waitFor(c).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return ae.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),ae.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,c=[];return o&&s.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ae.waitFor(c)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),ae.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return ae.resolve(r)}containsKey(e,s){return ae.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,s){this.ui={},this.overlays={},this.ci=new Of(0),this.li=!1,this.li=!0,this.hi=new HV,this.referenceDelegate=e(this),this.Pi=new XV(this),this.indexManager=new DV,this.remoteDocumentCache=(function(o){return new $V(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new NV(s),this.Ii=new qV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new FV,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new GV(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){ge("MemoryPersistence","Starting transaction:",e);const o=new YV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,s){return ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class YV extends EP{constructor(e){super(),this.currentSequenceNumber=e}}class p0{constructor(e){this.persistence=e,this.Ri=new m0,this.Vi=null}static mi(e){return new p0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),ae.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((c=>{c||s.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return ae.or([()=>ae.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class vf{constructor(e,s){this.persistence=e,this.pi=new bo((r=>AP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=LV(this,s)}static mi(e,s){return new vf(e,s)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return ae.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?ae.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,s).next((h=>{h||(r++,c.removeEntry(u,Ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=$h(e.data.value)),s}br(e,s,r){return ae.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return ae.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=Je(),o=Je();for(const c of s.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new g0(e,s.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kI()?8:TP(Vn())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const c={result:null};return this.ys(e,s).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,s,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new QV;return this.Ss(e,s,u).next((h=>{if(c.result=h,this.Vs)return this.bs(e,s,u,h.size)}))})).next((()=>c.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(ol()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ll(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(ol()<=Ze.DEBUG&&ge("QueryEngine","Query:",ll(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ol()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ll(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(s))):ae.resolve())}ys(e,s){if(Ww(s))return ae.resolve(null);let r=Ri(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=pf(s,null,"F"),r=Ri(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Je(...c);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.Ds(s,h);return this.Cs(s,g,u,m.readTime)?this.ys(e,pf(s,null,"F")):this.vs(e,g,s,m)}))))})))))}ws(e,s,r,o){return Ww(s)||o.isEqual(Ve.min())?ae.resolve(null):this.ps.getDocuments(e,r).next((c=>{const u=this.Ds(s,c);return this.Cs(s,u,r,o)?ae.resolve(null):(ol()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ll(s)),this.vs(e,u,s,vP(o,Tu)).next((h=>h)))}))}Ds(e,s){let r=new hn(qS(e));return s.forEach(((o,c)=>{Bf(e,c)&&(r=r.add(c))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const c=e.limitType==="F"?s.last():s.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,s,r){return ol()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ll(s)),this.ps.getDocumentsMatchingQuery(e,s,oa.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(s.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="LocalStore",WV=3e8;class JV{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new Lt(We),this.xs=new bo((c=>a0(c)),o0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function eO(n,e,s,r){return new JV(n,e,s,r)}async function dA(n,e){const s=ze(n);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],h=[];let m=Je();for(const g of o){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of c){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return s.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function tO(n,e){const s=ze(n);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,v){const _=g.batch,w=_.keys();let k=ae.resolve();return w.forEach((j=>{k=k.next((()=>v.getEntry(m,j))).next((D=>{const V=g.docVersions.get(j);ht(V!==null,48541),D.version.compareTo(V)<0&&(_.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),k.next((()=>h.mutationQueue.removeMutationBatch(m,_)))})(s,r,e,c).next((()=>c.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=Je();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function hA(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function nO(n,e){const s=ze(n),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const w=o.get(_);if(!w)return;h.push(s.Pi.removeMatchingKeys(c,v.removedDocuments,_).next((()=>s.Pi.addMatchingKeys(c,v.addedDocuments,_))));let k=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(_)!==null?k=k.withResumeToken(Rn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,r)),o=o.insert(_,k),(function(D,V,B){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=WV?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,k,v)&&h.push(s.Pi.updateTargetData(c,k))}));let m=hr(),g=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(s.persistence.referenceDelegate.updateLimboDocument(c,v))})),h.push(sO(c,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!r.isEqual(Ve.min())){const v=s.Pi.getLastRemoteSnapshotVersion(c).next((_=>s.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));h.push(v)}return ae.waitFor(h).next((()=>u.apply(c))).next((()=>s.localDocuments.getLocalViewOfDocuments(c,m,g))).next((()=>m))})).then((c=>(s.Ms=o,c)))}function sO(n,e,s){let r=Je(),o=Je();return s.forEach((c=>r=r.add(c))),e.getEntries(n,r).next((c=>{let u=hr();return s.forEach(((h,m)=>{const g=c.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):ge(y0,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:o}}))}function iO(n,e){const s=ze(n);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=s0),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rO(n,e){const s=ze(n);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((c=>c?(o=c,ae.resolve(o)):s.Pi.allocateTargetId(r).next((u=>(o=new ta(e,u,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function oy(n,e,s){const r=ze(n),o=r.Ms.get(e),c=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Bl(u))throw u;ge(y0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function dE(n,e,s){const r=ze(n);let o=Ve.min(),c=Je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const _=ze(m),w=_.xs.get(v);return w!==void 0?ae.resolve(_.Ms.get(w)):_.Pi.getTargetData(g,v)})(r,u,Ri(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{c=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,s?o:Ve.min(),s?c:Je()))).next((h=>(aO(r,GP(e),h),{documents:h,Qs:c})))))}function aO(n,e,s){let r=n.Os.get(e)||Ve.min();s.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),n.Os.set(e,r)}class hE{constructor(){this.activeTargetIds=ZP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(fE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function ly(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",cO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,c){const u=ly(),h=this.zo(e,s.toUriEncodedString());ge(gg,`Sending RPC '${e}' ${u}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,c);const{host:g}=new URL(h),v=Vl(g);return this.Jo(e,h,m,r,v).then((_=>(ge(gg,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Al(gg,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,s,r,o,c,u){return this.Go(e,s,r,o,c)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,s){const r=cO[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class hO extends uO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,c){const u=ly();return new Promise(((h,m)=>{const g=new pS;g.setWithCredentials(!0),g.listenOnce(gS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Gh.NO_ERROR:const _=g.getResponseJson();ge(In,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Gh.TIMEOUT:ge(In,`RPC '${e}' ${u} timed out`),m(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const w=g.getStatus();if(ge(In,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const j=k==null?void 0:k.error;if(j&&j.status&&j.message){const D=(function(B){const Q=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Q)>=0?Q:se.UNKNOWN})(j.status);m(new pe(D,j.message))}else m(new pe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(se.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(In,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ge(In,`RPC '${e}' ${u} sending request:`,o),g.send(s,"POST",v,r,15)}))}T_(e,s,r){const o=ly(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vS(),h=bS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,s,r),m.encodeInitMessageHeaders=!0;const v=c.join("");ge(In,`Creating RPC '${e}' stream ${o}: ${v}`,m);const _=u.createWebChannel(v,m);this.I_(_);let w=!1,k=!1;const j=new dO({Yo:V=>{k?ge(In,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(ge(In,`Opening RPC '${e}' stream ${o} transport.`),_.open(),w=!0),ge(In,`RPC '${e}' stream ${o} sending:`,V),_.send(V))},Zo:()=>_.close()}),D=(V,B,Q)=>{V.listen(B,(H=>{try{Q(H)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return D(_,iu.EventType.OPEN,(()=>{k||(ge(In,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),D(_,iu.EventType.CLOSE,(()=>{k||(k=!0,ge(In,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(_))})),D(_,iu.EventType.ERROR,(V=>{k||(k=!0,Al(In,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),j.a_(new pe(se.UNAVAILABLE,"The operation could not be completed")))})),D(_,iu.EventType.MESSAGE,(V=>{var B;if(!k){const Q=V.data[0];ht(!!Q,16349);const H=Q,ce=(H==null?void 0:H.error)||((B=H[0])==null?void 0:B.error);if(ce){ge(In,`RPC '${e}' stream ${o} received error:`,ce);const oe=ce.status;let de=(function(N){const P=sn[N];if(P!==void 0)return JS(P)})(oe),C=ce.message;de===void 0&&(de=se.INTERNAL,C="Unknown error status: "+oe+" with message "+ce.message),k=!0,j.a_(new pe(de,C)),_.close()}else ge(In,`RPC '${e}' stream ${o} received:`,Q),j.u_(Q)}})),D(h,yS.STAT_EVENT,(V=>{V.stat===Qg.PROXY?ge(In,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Qg.NOPROXY&&ge(In,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){return new gV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,s,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class mA{constructor(e,s,r,o,c,u,h,m){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fA(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===se.RESOURCE_EXHAUSTED?(dr(s.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(ge(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fO extends mA{constructor(e,s,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,u),this.serializer=c}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=vV(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ve.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Ci(u.readTime):Ve.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=ay(this.serializer),s.addTarget=(function(c,u){let h;const m=u.target;if(h=ty(m)?{documents:wV(c,m)}:{query:EV(c,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=nA(c,u.resumeToken);const g=sy(c,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ve.min())>0){h.readTime=bf(c,u.snapshotVersion.toTimestamp());const g=sy(c,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=SV(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=ay(this.serializer),s.removeTarget=e,this.q_(s)}}class mO extends mA{constructor(e,s,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=xV(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=ay(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>_V(this.serializer,r)))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{}class gO extends pO{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,iy(s,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())}))}Ho(e,s,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,iy(s,r),o,u,h,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yO{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(s),this.aa=!1):ge("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="RemoteStore";class bO{constructor(e,s,r,o,c){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{vo(this)&&(ge(po,"Restarting streams for network reachability change."),await(async function(m){const g=ze(m);g.Ea.add(4),await Ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $f(g)})(this))}))})),this.Ra=new yO(r,o)}}async function $f(n){if(vo(n))for(const e of n.da)await e(!0)}async function Ku(n){for(const e of n.da)await e(!1)}function pA(n,e){const s=ze(n);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),x0(s)?_0(s):Fl(s).O_()&&v0(s,e))}function b0(n,e){const s=ze(n),r=Fl(s);s.Ia.delete(e),r.O_()&&gA(s,e),s.Ia.size===0&&(r.O_()?r.L_():vo(s)&&s.Ra.set("Unknown"))}function v0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const s=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Fl(n).Y_(e)}function gA(n,e){n.Va.Ue(e),Fl(n).Z_(e)}function _0(n){n.Va=new hV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Fl(n).start(),n.Ra.ua()}function x0(n){return vo(n)&&!Fl(n).x_()&&n.Ia.size>0}function vo(n){return ze(n).Ea.size===0}function yA(n){n.Va=void 0}async function vO(n){n.Ra.set("Online")}async function _O(n){n.Ia.forEach(((e,s)=>{v0(n,e)}))}async function xO(n,e){yA(n),x0(n)?(n.Ra.ha(e),_0(n)):n.Ra.set("Unknown")}async function wO(n,e,s){if(n.Ra.set("Online"),e instanceof tA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const h of c.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(n,e)}catch(r){ge(po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(n,r)}else if(e instanceof Yh?n.Va.Ze(e):e instanceof eA?n.Va.st(e):n.Va.tt(e),!s.isEqual(Ve.min()))try{const r=await hA(n.localStore);s.compareTo(r)>=0&&await(function(c,u){const h=c.Va.Tt(u);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=c.Ia.get(g);v&&c.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,g)=>{const v=c.Ia.get(m);if(!v)return;c.Ia.set(m,v.withResumeToken(Rn.EMPTY_BYTE_STRING,v.snapshotVersion)),gA(c,m);const _=new ta(v.target,m,g,v.sequenceNumber);v0(c,_)})),c.remoteSyncer.applyRemoteEvent(h)})(n,s)}catch(r){ge(po,"Failed to raise snapshot:",r),await _f(n,r)}}async function _f(n,e,s){if(!Bl(e))throw e;n.Ea.add(1),await Ku(n),n.Ra.set("Offline"),s||(s=()=>hA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge(po,"Retrying IndexedDB access"),await s(),n.Ea.delete(1),await $f(n)}))}function bA(n,e){return e().catch((s=>_f(n,s,e)))}async function Kf(n){const e=ze(n),s=da(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:s0;for(;EO(e);)try{const o=await iO(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,TO(e,o)}catch(o){await _f(e,o)}vA(e)&&_A(e)}function EO(n){return vo(n)&&n.Ta.length<10}function TO(n,e){n.Ta.push(e);const s=da(n);s.O_()&&s.X_&&s.ea(e.mutations)}function vA(n){return vo(n)&&!da(n).x_()&&n.Ta.length>0}function _A(n){da(n).start()}async function SO(n){da(n).ra()}async function AO(n){const e=da(n);for(const s of n.Ta)e.ea(s.mutations)}async function kO(n,e,s){const r=n.Ta.shift(),o=d0.from(r,e,s);await bA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Kf(n)}async function RO(n,e){e&&da(n).X_&&await(async function(r,o){if((function(u){return cV(u)&&u!==se.ABORTED})(o.code)){const c=r.Ta.shift();da(r).B_(),await bA(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Kf(r)}})(n,e),vA(n)&&_A(n)}async function gE(n,e){const s=ze(n);s.asyncQueue.verifyOperationInProgress(),ge(po,"RemoteStore received new credentials");const r=vo(s);s.Ea.add(3),await Ku(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await $f(s)}async function CO(n,e){const s=ze(n);e?(s.Ea.delete(2),await $f(s)):e||(s.Ea.add(2),await Ku(s),s.Ra.set("Unknown"))}function Fl(n){return n.ma||(n.ma=(function(s,r,o){const c=ze(s);return c.sa(),new fO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:vO.bind(null,n),t_:_O.bind(null,n),r_:xO.bind(null,n),H_:wO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),x0(n)?_0(n):n.Ra.set("Unknown")):(await n.ma.stop(),yA(n))}))),n.ma}function da(n){return n.fa||(n.fa=(function(s,r,o){const c=ze(s);return c.sa(),new mO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:SO.bind(null,n),r_:RO.bind(null,n),ta:AO.bind(null,n),na:kO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Kf(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(po,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,s,r,o,c){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,c){const u=Date.now()+r,h=new w0(e,s,u,o,c);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E0(n,e){if(dr("AsyncQueue",`${e}: ${n}`),Bl(n))return new pe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||Te.comparator(s.key,r.key):(s,r)=>Te.comparator(s.key,r.key),this.keyedMap=ru(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.ga=new Lt(Te.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class Il{constructor(e,s,r,o,c,u,h,m,g){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,s,r,o,c){const u=[];return s.forEach((h=>{u.push({type:0,doc:h})})),new Il(e,s,wl.emptySet(s),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IO{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=ze(s),c=o.queries;o.queries=bE(),c.forEach(((u,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function bE(){return new bo((n=>BS(n)),Uf)}async function xA(n,e){const s=ze(n);let r=3;const o=e.query;let c=s.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new NO,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await s.onListen(o,!0);break;case 1:c.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(u){const h=E0(u,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(h)}s.queries.set(o,c),c.Sa.push(e),e.va(s.onlineState),c.wa&&e.Fa(c.wa)&&T0(s)}async function wA(n,e){const s=ze(n),r=e.query;let o=3;const c=s.queries.get(r);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function DO(n,e){const s=ze(n);let r=!1;for(const o of e){const c=o.query,u=s.queries.get(c);if(u){for(const h of u.Sa)h.Fa(o)&&(r=!0);u.wa=o}}r&&T0(s)}function MO(n,e,s){const r=ze(n),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(s);r.queries.delete(e)}function T0(n){n.Ca.forEach((e=>{e.next()}))}var cy,vE;(vE=cy||(cy={})).Ma="default",vE.Cache="cache";class EA{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class jO{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=qS(e),this.tu=new wl(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new yE,o=s?s.tu:this.tu;let c=s?s.mutatedKeys:this.mutatedKeys,u=o,h=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,_)=>{const w=o.get(v),k=Bf(this.query,_)?_:null,j=!!w&&this.mutatedKeys.has(w.key),D=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;w&&k?w.data.isEqual(k.data)?j!==D&&(r.track({type:3,doc:k}),V=!0):this.su(w,k)||(r.track({type:2,doc:k}),V=!0,(m&&this.eu(k,m)>0||g&&this.eu(k,g)<0)&&(h=!0)):!w&&k?(r.track({type:0,doc:k}),V=!0):w&&!k&&(r.track({type:1,doc:w}),V=!0,(m||g)&&(h=!0)),V&&(k?(u=u.add(k),c=D?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:c}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(k,j){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:V})}};return D(k)-D(j)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),o=o??!1;const h=s&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new Il(this.query,e.tu,c,u,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new SA(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new TA(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=Je();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const S0="SyncEngine";class PO{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class VO{constructor(e){this.key=e,this.hu=!1}}class OO{constructor(e,s,r,o,c,u){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new bo((h=>BS(h)),Uf),this.Iu=new Map,this.Eu=new Set,this.du=new Lt(Te.comparator),this.Au=new Map,this.Ru=new m0,this.Vu={},this.mu=new Map,this.fu=Nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LO(n,e,s=!0){const r=IA(n);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await AA(r,e,s,!0),o}async function zO(n,e){const s=IA(n);await AA(s,e,!0,!1)}async function AA(n,e,s,r){const o=await rO(n.localStore,Ri(e)),c=o.targetId,u=n.sharedClientState.addLocalQueryTarget(c,s);let h;return r&&(h=await UO(n,e,c,u==="current",o.resumeToken)),n.isPrimaryClient&&s&&pA(n.remoteStore,o),h}async function UO(n,e,s,r,o){n.pu=(_,w,k)=>(async function(D,V,B,Q){let H=V.view.ru(B);H.Cs&&(H=await dE(D.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,H))));const ce=Q&&Q.targetChanges.get(V.targetId),oe=Q&&Q.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(H,D.isPrimaryClient,ce,oe);return xE(D,V.targetId,de.au),de.snapshot})(n,_,w,k);const c=await dE(n.localStore,e,!0),u=new jO(e,c.Qs),h=u.ru(c.documents),m=$u.createSynthesizedTargetChangeForCurrentChange(s,r&&n.onlineState!=="Offline",o),g=u.applyChanges(h,n.isPrimaryClient,m);xE(n,s,g.au);const v=new PO(e,s,u);return n.Tu.set(e,v),n.Iu.has(s)?n.Iu.get(s).push(e):n.Iu.set(s,[e]),g.snapshot}async function BO(n,e,s){const r=ze(n),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!Uf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await oy(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&b0(r.remoteStore,o.targetId),uy(r,o.targetId)})).catch(Ul)):(uy(r,o.targetId),await oy(r.localStore,o.targetId,!0))}async function qO(n,e){const s=ze(n),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),b0(s.remoteStore,r.targetId))}async function FO(n,e,s){const r=QO(n);try{const o=await(function(u,h){const m=ze(u),g=Ct.now(),v=h.reduce(((k,j)=>k.add(j.key)),Je());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let j=hr(),D=Je();return m.Ns.getEntries(k,v).next((V=>{j=V,j.forEach(((B,Q)=>{Q.isValidDocument()||(D=D.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,j))).next((V=>{_=V;const B=[];for(const Q of h){const H=iV(Q,_.get(Q.key).overlayedDocument);H!=null&&B.push(new va(Q.key,H,MS(H.value.mapValue),Ws.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,B,h)})).next((V=>{w=V;const B=V.applyToLocalDocumentSet(_,D);return m.documentOverlayCache.saveOverlays(k,V.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:HS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,h,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new Lt(We)),g=g.insert(h,m),u.Vu[u.currentUser.toKey()]=g})(r,o.batchId,s),await Xu(r,o.changes),await Kf(r.remoteStore)}catch(o){const c=E0(o,"Failed to persist write");s.reject(c)}}async function kA(n,e){const s=ze(n);try{const r=await nO(s.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=s.Au.get(c);u&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ht(u.hu,14607):o.removedDocuments.size>0&&(ht(u.hu,42227),u.hu=!1))})),await Xu(s,r,e)}catch(r){await Ul(r)}}function _E(n,e,s){const r=ze(n);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((c,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const m=ze(u);m.onlineState=h;let g=!1;m.queries.forEach(((v,_)=>{for(const w of _.Sa)w.va(h)&&(g=!0)})),g&&T0(m)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HO(n,e,s){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new Lt(Te.comparator);u=u.insert(c,Mn.newNoDocument(c,Ve.min()));const h=Je().add(c),m=new Hf(Ve.min(),new Map,new Lt(We),u,h);await kA(r,m),r.du=r.du.remove(c),r.Au.delete(e),A0(r)}else await oy(r.localStore,e,!1).then((()=>uy(r,e,s))).catch(Ul)}async function GO(n,e){const s=ze(n),r=e.batch.batchId;try{const o=await tO(s.localStore,e);CA(s,r,null),RA(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(s,o)}catch(o){await Ul(o)}}async function $O(n,e,s){const r=ze(n);try{const o=await(function(u,h){const m=ze(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,h).next((_=>(ht(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);CA(r,e,s),RA(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Xu(r,o)}catch(o){await Ul(o)}}function RA(n,e){(n.mu.get(e)||[]).forEach((s=>{s.resolve()})),n.mu.delete(e)}function CA(n,e,s){const r=ze(n);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(s?c.reject(s):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function uy(n,e,s=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),s&&n.Pu.yu(r,s);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||NA(n,r)}))}function NA(n,e){n.Eu.delete(e.path.canonicalString());const s=n.du.get(e);s!==null&&(b0(n.remoteStore,s),n.du=n.du.remove(e),n.Au.delete(s),A0(n))}function xE(n,e,s){for(const r of s)r instanceof TA?(n.Ru.addReference(r.key,e),KO(n,r)):r instanceof SA?(ge(S0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||NA(n,r.key)):Ce(19791,{wu:r})}function KO(n,e){const s=e.key,r=s.path.canonicalString();n.du.get(s)||n.Eu.has(r)||(ge(S0,"New document in limbo: "+s),n.Eu.add(r),A0(n))}function A0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const s=new Te(St.fromString(e)),r=n.fu.next();n.Au.set(r,new VO(s)),n.du=n.du.insert(s,r),pA(n.remoteStore,new ta(Ri(l0(s.path)),r,"TargetPurposeLimboResolution",Of.ce))}}async function Xu(n,e,s){const r=ze(n),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{u.push(r.pu(m,e,s).then((g=>{var v;if((g||s)&&r.isPrimaryClient){const _=g?!g.fromCache:(v=s==null?void 0:s.targetChanges.get(m.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=g0.As(m.targetId,g);c.push(_)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(m,g){const v=ze(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ae.forEach(g,(w=>ae.forEach(w.Es,(k=>v.persistence.referenceDelegate.addReference(_,w.targetId,k))).next((()=>ae.forEach(w.ds,(k=>v.persistence.referenceDelegate.removeReference(_,w.targetId,k)))))))))}catch(_){if(!Bl(_))throw _;ge(y0,"Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const k=v.Ms.get(w),j=k.snapshotVersion,D=k.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(w,D)}}})(r.localStore,c))}async function XO(n,e){const s=ze(n);if(!s.currentUser.isEqual(e)){ge(S0,"User change. New user:",e.toKey());const r=await dA(s.localStore,e);s.currentUser=e,(function(c,u){c.mu.forEach((h=>{h.forEach((m=>{m.reject(new pe(se.CANCELLED,u))}))})),c.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xu(s,r.Ls)}}function YO(n,e){const s=ze(n),r=s.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let o=Je();const c=s.Iu.get(e);if(!c)return o;for(const u of c){const h=s.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function IA(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HO.bind(null,e),e.Pu.H_=DO.bind(null,e.eventManager),e.Pu.yu=MO.bind(null,e.eventManager),e}function QO(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return eO(this.persistence,new ZV,e.initialUser,this.serializer)}Cu(e){return new uA(p0.mi,this.serializer)}Du(e){return new oO}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xf.provider={build:()=>new xf};class ZO extends xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){ht(this.persistence.referenceDelegate instanceof vf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VV(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new uA((r=>vf.mi(r,s)),this.serializer)}}class dy{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XO.bind(null,this.syncEngine),await CO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IO})()}createDatastore(e){const s=Gf(e.databaseInfo.databaseId),r=(function(c){return new hO(c)})(e.databaseInfo);return(function(c,u,h,m){return new gO(c,u,h,m)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,c,u,h){return new bO(r,o,c,u,h)})(this.localStore,this.datastore,e.asyncQueue,(s=>_E(this.syncEngine,s,0)),(function(){return mE.v()?new mE:new lO})())}createSyncEngine(e,s){return(function(o,c,u,h,m,g,v){const _=new OO(o,c,u,h,m,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(o){const c=ze(o);ge(po,"RemoteStore shutting down."),c.Ea.add(5),await Ku(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class WO{constructor(e,s,r,o,c){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=Dn.UNAUTHENTICATED,this.clientId=n0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{ge(ha,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ge(ha,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=E0(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bg(n,e){n.asyncQueue.verifyOperationInProgress(),ge(ha,"Initializing OfflineComponentProvider");const s=n.configuration;await e.initialize(s);let r=s.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await dA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function wE(n,e){n.asyncQueue.verifyOperationInProgress();const s=await JO(n);ge(ha,"Initializing OnlineComponentProvider"),await e.initialize(s,n.configuration),n.setCredentialChangeListener((r=>gE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>gE(e.remoteStore,o))),n._onlineComponents=e}async function JO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(ha,"Using user provided OfflineComponentProvider");try{await bg(n,n._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;Al("Error using user provided cache. Falling back to memory cache: "+s),await bg(n,new xf)}}else ge(ha,"Using default OfflineComponentProvider"),await bg(n,new ZO(void 0));return n._offlineComponents}async function MA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(ha,"Using user provided OnlineComponentProvider"),await wE(n,n._uninitializedComponentsProvider._online)):(ge(ha,"Using default OnlineComponentProvider"),await wE(n,new dy))),n._onlineComponents}function e4(n){return MA(n).then((e=>e.syncEngine))}async function jA(n){const e=await MA(n),s=e.eventManager;return s.onListen=LO.bind(null,e.syncEngine),s.onUnlisten=BO.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=zO.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=qO.bind(null,e.syncEngine),s}function t4(n,e,s={}){const r=new or;return n.asyncQueue.enqueueAndForget((async()=>(function(c,u,h,m,g){const v=new DA({next:w=>{v.Nu(),u.enqueueAndForget((()=>wA(c,_)));const k=w.docs.has(h);!k&&w.fromCache?g.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&m&&m.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new EA(l0(h.path),v,{includeMetadataChanges:!0,qa:!0});return xA(c,_)})(await jA(n),n.asyncQueue,e,s,r))),r.promise}function n4(n,e,s={}){const r=new or;return n.asyncQueue.enqueueAndForget((async()=>(function(c,u,h,m,g){const v=new DA({next:w=>{v.Nu(),u.enqueueAndForget((()=>wA(c,_))),w.fromCache&&m.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new EA(h,v,{includeMetadataChanges:!0,qa:!0});return xA(c,_)})(await jA(n),n.asyncQueue,e,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firestore.googleapis.com",TE=!0;class SE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VA,this.ssl=TE}else this.host=e.host,this.ssl=e.ssl??TE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jV)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lP;switch(r.type){case"firstParty":return new hP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=EE.get(s);r&&(ge("ComponentProvider","Removing Datastore"),EE.delete(s),r.terminate())})(this),Promise.resolve()}}function s4(n,e,s,r={}){var g;n=ji(n,Xf);const o=Vl(e),c=n._getSettings(),u={...c,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${s}`;o&&(A1(`https://${h}`),k1("Firestore",!0)),c.host!==VA&&c.host!==h&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:h,ssl:o,emulatorOptions:r};if(!co(m,u)&&(n._setSettings(m),r.mockUserToken)){let v,_;if(typeof r.mockUserToken=="string")v=r.mockUserToken,_=Dn.MOCK_USER;else{v=bI(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dn(w)}n._authCredentials=new cP(new xS(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Xt{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(Hu(s,Xt._jsonSchema))return new Xt(e,r||null,new Te(St.fromString(s.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:on("string",Xt._jsonSchemaVersion),referencePath:on("string")};class aa extends _a{constructor(e,s,r){super(e,s,l0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Te(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function Nh(n,e,...s){if(n=vn(n),wS("collection","path",e),n instanceof Xf){const r=St.fromString(e,...s);return Lw(r),new aa(n,null,r)}{if(!(n instanceof Xt||n instanceof aa))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(St.fromString(e,...s));return Lw(r),new aa(n.firestore,null,r)}}function Ti(n,e,...s){if(n=vn(n),arguments.length===1&&(e=n0.newId()),wS("doc","path",e),n instanceof Xf){const r=St.fromString(e,...s);return Ow(r),new Xt(n,null,new Te(r))}{if(!(n instanceof Xt||n instanceof aa))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(St.fromString(e,...s));return Ow(r),new Xt(n.firestore,n instanceof aa?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fA(this,"async_queue_retry"),this._c=()=>{const r=yg();r&&ge(AE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=yg();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=yg();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;ge(AE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",RE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=w0.createAndSchedule(this,e,s,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function RE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Hl extends Xf{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new kE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function i4(n,e){const s=typeof n=="object"?n:I1(),r=typeof n=="string"?n:hf,o=$y(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=gI("firestore");c&&s4(o,...c)}return o}function k0(n){if(n._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||r4(n),n._firestoreClient}function r4(n){var r,o,c;const e=n._freezeSettings(),s=(function(h,m,g,v){return new CP(h,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,PA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new WO(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(Rn.fromBase64String(e))}catch(s){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Ns(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,Ns._jsonSchema))return Ns.fromBase64String(e.bytes)}}Ns._jsonSchemaVersion="firestore/bytes/1.0",Ns._jsonSchema={type:on("string",Ns._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:on("string",Ni._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Ii(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:on("string",Ii._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^__.*__$/;class o4{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,s,this.fieldTransforms):new Gu(e,this.data,s,this.fieldTransforms)}}class OA{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new va(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function LA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:n})}}class C0{constructor(e,s,r,o,c,u){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new C0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const s=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){var o;const s=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LA(this.Ac)&&a4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class l4{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Gf(e)}Cc(e,s,r,o=!1){return new C0({Ac:e,methodName:s,Dc:r,path:kn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(n){const e=n._freezeSettings(),s=Gf(n._databaseId);return new l4(n._databaseId,!!e.ignoreUndefinedProperties,s)}function c4(n,e,s,r,o,c={}){const u=n.Cc(c.merge||c.mergeFields?2:0,e,s,o);I0("Data must be an object, but it was:",u,r);const h=zA(r,u);let m,g;if(c.merge)m=new hs(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const _ of c.mergeFields){const w=hy(e,_,s);if(!u.contains(w))throw new pe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);BA(v,w)||v.push(w)}m=new hs(v),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new o4(new Zn(h),m,g)}class Qf extends R0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function u4(n,e,s,r){const o=n.Cc(1,e,s);I0("Data must be an object, but it was:",o,r);const c=[],u=Zn.empty();ba(r,((m,g)=>{const v=D0(e,m,s);g=vn(g);const _=o.yc(v);if(g instanceof Qf)c.push(v);else{const w=Yu(g,_);w!=null&&(c.push(v),u.set(v,w))}}));const h=new hs(c);return new OA(u,h,o.fieldTransforms)}function d4(n,e,s,r,o,c){const u=n.Cc(1,e,s),h=[hy(e,r,s)],m=[o];if(c.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)h.push(hy(e,c[w])),m.push(c[w+1]);const g=[],v=Zn.empty();for(let w=h.length-1;w>=0;--w)if(!BA(g,h[w])){const k=h[w];let j=m[w];j=vn(j);const D=u.yc(k);if(j instanceof Qf)g.push(k);else{const V=Yu(j,D);V!=null&&(g.push(k),v.set(k,V))}}const _=new hs(g);return new OA(v,_,u.fieldTransforms)}function h4(n,e,s,r=!1){return Yu(s,n.Cc(r?4:3,e))}function Yu(n,e){if(UA(n=vn(n)))return I0("Unsupported field value:",e,n),zA(n,e);if(n instanceof R0)return(function(r,o){if(!LA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const h of r){let m=Yu(h,o.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),u++}return{arrayValue:{values:c}}})(n,e)}return(function(r,o){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Ct.fromDate(r);return{timestampValue:bf(o.serializer,c)}}if(r instanceof Ct){const c=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(o.serializer,c)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ns)return{bytesValue:nA(o.serializer,r._byteString)};if(r instanceof Xt){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:f0(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ii)return(function(u,h){return{mapValue:{fields:{[IS]:{stringValue:DS},[ff]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return c0(h.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Vf(r)}`)})(n,e)}function zA(n,e){const s={};return SS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(n,((r,o)=>{const c=Yu(o,e.mc(r));c!=null&&(s[r]=c)})),{mapValue:{fields:s}}}function UA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Ni||n instanceof Ns||n instanceof Xt||n instanceof R0||n instanceof Ii)}function I0(n,e,s){if(!UA(s)||!ES(s)){const r=Vf(s);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function hy(n,e,s){if((e=vn(e))instanceof Yf)return e._internalPath;if(typeof e=="string")return D0(n,e);throw wf("Field path arguments must be of type string or ",n,!1,void 0,s)}const f4=new RegExp("[~\\*/\\[\\]]");function D0(n,e,s){if(e.search(f4)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,s);try{return new Yf(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,s)}}function wf(n,e,s,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;s&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(c||u)&&(m+=" (found",c&&(m+=` in field ${r}`),u&&(m+=` in document ${o}`),m+=")"),new pe(se.INVALID_ARGUMENT,h+n+m)}function BA(n,e){return n.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,s,r,o,c){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Zf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class m4 extends qA{data(){return super.data()}}function Zf(n,e){return typeof e=="string"?D0(n,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M0{}class j0 extends M0{}function vg(n,e,...s){let r=[];e instanceof M0&&r.push(e),r=r.concat(s),(function(c){const u=c.filter((m=>m instanceof P0)).length,h=c.filter((m=>m instanceof Wf)).length;if(u>1||u>0&&h>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Wf extends j0{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Wf(e,s,r)}_apply(e){const s=this._parse(e);return FA(e._query,s),new _a(e.firestore,e.converter,ny(e._query,s))}_parse(e){const s=N0(e.firestore);return(function(c,u,h,m,g,v,_){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){IE(_,v);const j=[];for(const D of _)j.push(NE(m,c,D));w={arrayValue:{values:j}}}else w=NE(m,c,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||IE(_,v),w=h4(h,u,_,v==="in"||v==="not-in");return an.create(g,v,w)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function g4(n,e,s){const r=e,o=Zf("where",n);return Wf._create(o,r,s)}class P0 extends M0{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new P0(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:ei.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(o,c){let u=o;const h=c.getFlattenedFilters();for(const m of h)FA(u,m),u=ny(u,m)})(e._query,s),new _a(e.firestore,e.converter,ny(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class V0 extends j0{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new V0(e,s)}_apply(e){const s=(function(o,c,u){if(o.startAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(c,u)})(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new ql(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,s))}}function CE(n,e="asc"){const s=e,r=Zf("orderBy",n);return V0._create(r,s)}class O0 extends j0{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new O0(e,s,r)}_apply(e){return new _a(e.firestore,e.converter,pf(e._query,this._limit,this._limitType))}}function y4(n){return O0._create("limit",n,"F")}function NE(n,e,s){if(typeof(s=vn(s))=="string"){if(s==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!US(e)&&s.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(St.fromString(s));if(!Te.isDocumentKey(r))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $w(n,new Te(r))}if(s instanceof Xt)return $w(n,s._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(s)}.`)}function IE(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FA(n,e){const s=(function(o,c){for(const u of o)for(const h of u.getFlattenedFilters())if(c.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class b4{convertValue(e,s="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return ba(e,((o,c)=>{r[o]=this.convertValue(c,s)})),r}convertVectorValue(e){var r,o,c;const s=(c=(o=(r=e.fields)==null?void 0:r[ff].arrayValue)==null?void 0:o.values)==null?void 0:c.map((u=>Kt(u.doubleValue)));return new Ii(s)}convertGeoPoint(e){return new Ni(Kt(e.latitude),Kt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=zf(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const s=la(e);return new Ct(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=St.fromString(e);ht(lA(r),9688,{name:e});const o=new Au(r.get(1),r.get(3)),c=new Te(r.popFirst(5));return o.isEqual(s)||dr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(n,e,s){let r;return r=n?n.toFirestore(e):e,r}class ou{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends qA{constructor(e,s,r,o,c,u){super(e,s,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Zf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=ao._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:on("string",ao._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Qh extends ao{data(e={}){return super.data(e)}}class El{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Qh(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const m=new Qh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ou(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>c||h.type!==3)).map((h=>{const m=new Qh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ou(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:_4(h.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=El._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=n0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(s.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){n=ji(n,Xt);const e=ji(n.firestore,Hl);return t4(k0(e),n._key).then((s=>w4(e,n,s)))}El._jsonSchemaVersion="firestore/querySnapshot/1.0",El._jsonSchema={type:on("string",El._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class HA extends b4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,s)}}function _g(n){n=ji(n,_a);const e=ji(n.firestore,Hl),s=k0(e),r=new HA(e);return p4(n._query),n4(s,n._query).then((o=>new El(e,r,n,o)))}function GA(n,e,s){n=ji(n,Xt);const r=ji(n.firestore,Hl),o=v4(n.converter,e);return L0(r,[c4(N0(r),"setDoc",n._key,o,n.converter!==null,s).toMutation(n._key,Ws.none())])}function dl(n,e,s,...r){n=ji(n,Xt);const o=ji(n.firestore,Hl),c=N0(o);let u;return u=typeof(e=vn(e))=="string"||e instanceof Yf?d4(c,"updateDoc",n._key,e,s,r):u4(c,"updateDoc",n._key,e),L0(o,[u.toMutation(n._key,Ws.exists(!0))])}function x4(n){return L0(ji(n.firestore,Hl),[new u0(n._key,Ws.none())])}function L0(n,e){return(function(r,o){const c=new or;return r.asyncQueue.enqueueAndForget((async()=>FO(await e4(r),o,c))),c.promise})(k0(n),e)}function w4(n,e,s){const r=s.docs.get(e._key),o=new HA(n);return new ao(n,o,e._key,r,new ou(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(o){zl=o})(Ol),Sl(new uo("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),h=new Hl(new uP(r.getProvider("auth-internal")),new fP(u,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,v)})(u,o),u);return c={useFetchStreams:s,...c},h._setSettings(c),h}),"PUBLIC").setMultipleInstances(!0)),ia(Mw,jw,e),ia(Mw,jw,"esm2020")})();const E4={apiKey:"AIzaSyCJLR0gKSrzN3VCyZ74AeAFL82WuMI0Z0k",authDomain:"zenbaki-osoak-2dbh.firebaseapp.com",projectId:"zenbaki-osoak-2dbh",storageBucket:"zenbaki-osoak-2dbh.firebasestorage.app",messagingSenderId:"402362957412",appId:"1:402362957412:web:b89a1b9e802426ae74e971"},$A=N1(E4),Ih=aP($A),ds=i4($A),dn={theory_intro:50,theory_operations:50,theory_multiplication:50,theory_powers:50,theory_advanced:50,ordering_easy:100,ordering_medium:150,ordering_hard:200,addition_easy:100,addition_medium:150,addition_hard:200,subtraction_easy:100,subtraction_medium:150,subtraction_hard:200,multiplication_easy:100,multiplication_medium:150,multiplication_hard:200,division_easy:100,division_medium:150,division_hard:200,powers_easy:100,powers_medium:150,powers_hard:200,roots_easy:100,roots_medium:150,roots_hard:200,combined_easy:100,combined_medium:150,combined_hard:200,mixed_easy:150,mixed_medium:250,mixed_hard:500},KA=[{id:"first_steps",title:"Lehen Urratsak",description:"Lortu zure lehenengo 100 XP.",icon:"footprint",xpReward:50,condition:n=>n.xp>=100},{id:"streak_5",title:"Beroketa (5 Egun)",description:"Mantendu 5 eguneko erratxa.",icon:"local_fire_department",xpReward:100,condition:n=>n.streak>=5},{id:"streak_10",title:"Sutan (10 Egun)",description:"Mantendu 10 eguneko erratxa.",icon:"whatshot",xpReward:300,condition:n=>n.streak>=10},{id:"streak_20",title:"Geldiezin (20 Egun)",description:"Mantendu 20 eguneko erratxa.",icon:"volcano",xpReward:1e3,condition:n=>n.streak>=20},{id:"level_5",title:"Ikasle Aurreratua",description:"Iritsi 5. Mailara.",icon:"school",xpReward:250,condition:n=>n.level>=5},{id:"level_10",title:"Matematika Maisua",description:"Iritsi 10. Mailara.",icon:"military_tech",xpReward:1e3,condition:n=>n.level>=10},{id:"level_20",title:"Zenbakien Jainkoa",description:"Iritsi 20. Mailara.",icon:"auto_awesome",xpReward:5e3,condition:n=>n.level>=20},{id:"ord_bronze",title:"Ordenatzaile (Bronce)",description:"200 XP Ordenan.",icon:"sort",xpReward:50,condition:n=>wt(n,"ordering")>=200},{id:"ord_silver",title:"Ordenatzaile (Plata)",description:"500 XP Ordenan.",icon:"sort",xpReward:150,condition:n=>wt(n,"ordering")>=500},{id:"ord_gold",title:"Ordenatzaile (Oro)",description:"1000 XP Ordenan.",icon:"sort",xpReward:300,condition:n=>wt(n,"ordering")>=1e3},{id:"add_bronze",title:"Batzaile (Bronce)",description:"200 XP Batuketetan.",icon:"add_circle",xpReward:50,condition:n=>wt(n,"addition")>=200},{id:"add_silver",title:"Batzaile (Plata)",description:"500 XP Batuketetan.",icon:"add_circle",xpReward:150,condition:n=>wt(n,"addition")>=500},{id:"add_gold",title:"Batzaile (Oro)",description:"1000 XP Batuketetan.",icon:"add_circle",xpReward:300,condition:n=>wt(n,"addition")>=1e3},{id:"sub_bronze",title:"Kentzaile (Bronce)",description:"200 XP Kenketetan.",icon:"remove_circle",xpReward:50,condition:n=>wt(n,"subtraction")>=200},{id:"sub_silver",title:"Kentzaile (Plata)",description:"500 XP Kenketetan.",icon:"remove_circle",xpReward:150,condition:n=>wt(n,"subtraction")>=500},{id:"sub_gold",title:"Kentzaile (Oro)",description:"1000 XP Kenketetan.",icon:"remove_circle",xpReward:300,condition:n=>wt(n,"subtraction")>=1e3},{id:"mul_bronze",title:"Biderkatzaile (Bronce)",description:"200 XP Biderketetan.",icon:"close",xpReward:50,condition:n=>wt(n,"multiplication")>=200},{id:"mul_silver",title:"Biderkatzaile (Plata)",description:"500 XP Biderketetan.",icon:"close",xpReward:150,condition:n=>wt(n,"multiplication")>=500},{id:"mul_gold",title:"Biderkatzaile (Oro)",description:"1000 XP Biderketetan.",icon:"close",xpReward:300,condition:n=>wt(n,"multiplication")>=1e3},{id:"div_bronze",title:"Zatitzaile (Bronce)",description:"200 XP Zatiketetan.",icon:"percent",xpReward:50,condition:n=>wt(n,"division")>=200},{id:"div_silver",title:"Zatitzaile (Plata)",description:"500 XP Zatiketetan.",icon:"percent",xpReward:150,condition:n=>wt(n,"division")>=500},{id:"div_gold",title:"Zatitzaile (Oro)",description:"1000 XP Zatiketetan.",icon:"percent",xpReward:300,condition:n=>wt(n,"division")>=1e3},{id:"pow_bronze",title:"Potentzia (Bronce)",description:"200 XP Berreketetan.",icon:"expand_less",xpReward:50,condition:n=>wt(n,"powers")>=200},{id:"pow_silver",title:"Potentzia (Plata)",description:"500 XP Berreketetan.",icon:"expand_less",xpReward:150,condition:n=>wt(n,"powers")>=500},{id:"pow_gold",title:"Potentzia (Oro)",description:"1000 XP Berreketetan.",icon:"expand_less",xpReward:300,condition:n=>wt(n,"powers")>=1e3},{id:"roo_bronze",title:"Erro (Bronce)",description:"200 XP Erroetan.",icon:"check",xpReward:50,condition:n=>wt(n,"roots")>=200},{id:"roo_silver",title:"Erro (Plata)",description:"500 XP Erroetan.",icon:"check",xpReward:150,condition:n=>wt(n,"roots")>=500},{id:"roo_gold",title:"Erro (Oro)",description:"1000 XP Erroetan.",icon:"check",xpReward:300,condition:n=>wt(n,"roots")>=1e3},{id:"com_bronze",title:"Konbinatu (Bronce)",description:"200 XP Konbinatuetan.",icon:"function",xpReward:50,condition:n=>wt(n,"combined")>=200},{id:"com_silver",title:"Konbinatu (Plata)",description:"500 XP Konbinatuetan.",icon:"function",xpReward:150,condition:n=>wt(n,"combined")>=500},{id:"com_gold",title:"Konbinatu (Oro)",description:"1000 XP Konbinatuetan.",icon:"function",xpReward:300,condition:n=>wt(n,"combined")>=1e3},{id:"mix_bronze",title:"Expertua (Bronce)",description:"200 XP Mistoan.",icon:"psychology",xpReward:50,condition:n=>wt(n,"mixed")>=200},{id:"mix_silver",title:"Expertua (Plata)",description:"500 XP Mistoan.",icon:"psychology",xpReward:150,condition:n=>wt(n,"mixed")>=500},{id:"mix_gold",title:"Expertua (Oro)",description:"1000 XP Mistoan.",icon:"psychology",xpReward:300,condition:n=>wt(n,"mixed")>=1e3}],DE=[{id:"avatar_wolf",type:"avatar",name:"Otsoa",description:"Otsoaren indarra zure perfilerako.",price:100,icon:"pets",previewUrl:"https://ui-avatars.com/api/?name=Wolf&background=374151&color=fff"},{id:"avatar_eagle",type:"avatar",name:"Arranoa",description:"Arranoaren ikusmena.",price:150,icon:"flight",previewUrl:"https://ui-avatars.com/api/?name=Eagle&background=b91c1c&color=fff"},{id:"avatar_bear",type:"avatar",name:"Hartza",description:"Hartzaren sendotasuna.",price:200,icon:"forest",previewUrl:"https://ui-avatars.com/api/?name=Bear&background=15803d&color=fff"},{id:"frame_gold",type:"frame",name:"Urrezko Markoa",description:"Distira berezia zure abatarrentzat.",price:500,icon:"crop_square",requiresLevel:5},{id:"frame_neon",type:"frame",name:"Neon Markoa",description:"Etorkizuneko estiloa.",price:800,icon:"blur_on",requiresLevel:10},{id:"theme_dark_matrix",type:"theme",name:"Matrix Gaia",description:"Kodearen munduan sartu.",price:1e3,icon:"terminal",requiresLevel:15}],wt=(n,e)=>{let s=0;for(const r in n.gameXp)r.startsWith(e)&&(s+=n.gameXp[r]);return s},ME=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(n){return console.error("Error fetching IP",n),"unknown"}},T4=()=>{const n=[],e=[50,100,200][Math.floor(Math.random()*3)];n.push({id:`xp_${Date.now()}`,type:"xp",description:`Lortu ${e} XP gaur.`,target:e,progress:0,reward:Math.floor(e/5),completed:!1});const s=[1,3,5][Math.floor(Math.random()*3)];return n.push({id:`games_${Date.now()}`,type:"games",description:`Jolastu ${s} jolas.`,target:s,progress:0,reward:s*10+20,completed:!1}),Math.random()>.5?n.push({id:`theory_${Date.now()}`,type:"theory",description:"Osatu teoria lezio bat edo errepasatu.",target:1,progress:0,reward:50,completed:!1}):n.push({id:`xp_hard_${Date.now()}`,type:"xp",description:"Lortu 300 XP guztira.",target:300,progress:0,reward:100,completed:!1}),n},S4=n=>{const e=new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString();(!n.lastMissionDate||new Date(n.lastMissionDate).getDate()!==e.getDate())&&(n.missions=T4(),n.lastMissionDate=s);const r=new Date(n.lastLoginDate),o=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),c=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),u=1440*60*1e3;return c>o&&(c-o===u?n.streak+=1:c-o>u&&(n.streak=1)),n.lastLoginDate=e.toISOString(),n},to={login:async(n,e)=>{const r=(await GM(Ih,n,e)).user.uid,o=Ti(ds,"users",r),c=await fl(o);if(c.exists()){let u=c.data();const h=await ME(),m=u.streak;return u=S4(u),(m!==u.streak||u.lastLoginDate!==c.data().lastLoginDate||u.lastIp!==h||u.missions!==c.data().missions)&&(await dl(o,{streak:u.streak,lastLoginDate:u.lastLoginDate,lastIp:h,missions:u.missions,lastMissionDate:u.lastMissionDate}),u.lastIp=h),u.coins===void 0&&(u.coins=0),u.inventory||(u.inventory=[]),u}else throw new Error("Erabiltzailearen datuak ez dira aurkitu.")},loginAsGuest:async()=>({uid:"guest_"+Date.now(),email:"guest@zoa.eus",displayName:"Gonbidatua",photoURL:"https://ui-avatars.com/api/?name=Guest&background=e2e8f0&color=64748b",xp:0,level:1,streak:0,lastLoginDate:new Date().toISOString(),completedLessons:[],gameXp:{},unlockedAchievements:[],coins:50,inventory:[]}),register:async(n,e,s)=>{const o=(await HM(Ih,n,e)).user.uid,c={uid:o,email:n,displayName:s,photoURL:`https://ui-avatars.com/api/?name=${s}&background=136dec&color=fff`,xp:0,level:1,streak:1,lastLoginDate:new Date().toISOString(),lastIp:await ME(),completedLessons:[],gameXp:{},unlockedAchievements:[],isAdmin:n==="admin@zoa.eus",coins:50,inventory:[]};return await GA(Ti(ds,"users",o),c),c},logout:async()=>{await YM(Ih)},onAuthStateChanged:n=>XM(Ih,n),getUserProfile:async n=>{const e=Ti(ds,"users",n),s=await fl(e);if(s.exists()){const r=s.data();return{...r,coins:r.coins||0,inventory:r.inventory||[]}}return null}},fs={updateUserProgress:async(n,e,s)=>{const r=Ti(ds,"users",n),o=await fl(r);if(!o.exists())throw new Error("User not found");const c=o.data();c.gameXp||(c.gameXp={}),c.unlockedAchievements||(c.unlockedAchievements=[]),c.coins===void 0&&(c.coins=0);let u=0;const h=c.gameXp[s]||0;let m=0;if(e>=0){const v=dn[s]||9999,_=Math.max(0,v-h);u=Math.min(e,_),u>0&&(c.xp+=u,c.gameXp[s]=h+u,s.startsWith("theory_")&&!c.completedLessons.includes(s)&&(c.completedLessons.push(s),m+=50),m+=Math.floor(u/5))}else{const v=Math.abs(e),_=Math.min(v,h);_>0&&(c.gameXp[s]=h-_,c.xp=Math.max(0,c.xp-_)),u=-_}c.coins+=m;const g=[];return u>=0&&(c.level=Math.floor(c.xp/500)+1,KA.forEach(v=>{c.unlockedAchievements.includes(v.id)||v.condition(c)&&(c.unlockedAchievements.push(v.id),c.xp+=v.xpReward,c.coins+=100,c.level=Math.floor(c.xp/500)+1,g.push(v))})),c.missions&&c.missions.forEach(v=>{if(v.completed)return;let _=!1;v.type==="xp"&&u>0&&(v.progress+=u,_=!0),v.type==="theory"&&s.startsWith("theory_")&&u>0&&(v.progress+=1,_=!0),v.type==="games"&&!s.startsWith("theory_")&&u>0&&(v.progress+=1,_=!0),_&&v.progress>=v.target&&(v.completed=!0,c.coins+=v.reward)}),await dl(r,{xp:c.xp,level:c.level,gameXp:c.gameXp,completedLessons:c.completedLessons,unlockedAchievements:c.unlockedAchievements,coins:c.coins,missions:c.missions}),{user:c,actualXpAdded:u,newAchievements:g}},async startSession(n,e){const s=Nh(ds,"sessions"),r=Ti(s),o={id:r.id,userId:n,startTime:new Date().toISOString(),deviceInfo:e,ip:"unknown",sectionsVisited:{}};return await GA(r,o),r.id},async updateSession(n,e){const s=Ti(ds,"sessions",n);await dl(s,{sectionsVisited:e})},async endSession(n,e){const s=Ti(ds,"sessions",n),r=await fl(s);if(r.exists()){const o=r.data(),c=new Date(o.startTime).getTime(),u=new Date,h=Math.floor((u.getTime()-c)/1e3);await dl(s,{endTime:u.toISOString(),duration:h,sectionsVisited:e})}},async getUserSessions(n){const e=Nh(ds,"sessions"),s=vg(e,g4("userId","==",n));return(await _g(s)).docs.map(c=>c.data()).sort((c,u)=>new Date(u.startTime).getTime()-new Date(c.startTime).getTime())},async getUserAnalytics(n){const e=await this.getUserSessions(n);if(e.length===0)return{userId:n,totalTime:0,totalSessions:0,lastSessionDate:new Date().toISOString(),popularSections:{}};const s=e.reduce((o,c)=>o+(c.duration||0),0),r={};return e.forEach(o=>{const c=o.sectionsVisited||{};Object.entries(c).forEach(([u,h])=>{h>5&&(r[u]=(r[u]||0)+1)})}),{userId:n,totalTime:s,totalSessions:e.length,lastSessionDate:e[0].startTime,popularSections:r}},updateProfile:async(n,e)=>{const s=Ti(ds,"users",n);return await dl(s,e),(await fl(s)).data()},getLeaderboard:async()=>{const n=vg(Nh(ds,"users"),CE("xp","desc"),y4(10)),e=await _g(n),s=[];return e.forEach(r=>{s.push(r.data())}),s},getAllUsers:async()=>{const n=vg(Nh(ds,"users"),CE("lastLoginDate","desc")),e=await _g(n),s=[];return e.forEach(r=>{s.push(r.data())}),s},kickUser:async n=>{await x4(Ti(ds,"users",n))},buyItem:async(n,e)=>{const s=Ti(ds,"users",n),r=await fl(s);if(!r.exists())return{success:!1,message:"Erabiltzailea ez da aurkitu"};const o=r.data(),c=o.inventory||[],u=o.coins||0;if(c.includes(e.id))return{success:!1,message:"Dagoeneko baduzu item hau!"};if(u<e.price)return{success:!1,message:"Ez duzu txanpon nahikorik."};const h=u-e.price,m=[...c,e.id];return await dl(s,{coins:h,inventory:m}),{success:!0,message:"Erosketa osatuta!",newUser:{...o,coins:h,inventory:m}}}},XA=I.createContext(void 0),A4=({children:n})=>{const[e,s]=I.useState([]),r=I.useCallback((c,u)=>{const h=Date.now().toString()+Math.random().toString().slice(2,8);s(m=>[...m,{id:h,type:c,message:u}]),setTimeout(()=>{s(m=>m.filter(g=>g.id!==h))},3e3)},[]),o=I.useCallback(c=>{s(u=>u.filter(h=>h.id!==c))},[]);return y.jsx(XA.Provider,{value:{addToast:r,removeToast:o,toasts:e},children:n})},Gl=()=>{const n=I.useContext(XA);if(n===void 0)throw new Error("useToast must be used within an ToastProvider");return n},YA=I.createContext(void 0),k4=({children:n})=>{const[e,s]=I.useState(null),[r,o]=I.useState(!0),[c,u]=I.useState([]),{addToast:h}=Gl();I.useEffect(()=>{const k=to.onAuthStateChanged(async j=>{if(j)try{const D=await to.getUserProfile(j.uid);s(D||null)}catch(D){console.error("Error fetching profile",D),s(null)}else s(null);o(!1)});return()=>k()},[]);const m=async(k,j)=>{const D=await to.login(k,j);s(D)},g=async()=>{const k=await to.loginAsGuest();s(k)},v=async(k,j,D)=>{const V=await to.register(k,j,D);s(V)},_=async()=>{await to.logout(),s(null)},w=async(k,j)=>{if(!e||e.uid.startsWith("guest_"))return 0;try{const{user:D,actualXpAdded:V,newAchievements:B}=await fs.updateUserProgress(e.uid,k,j);return s(D),B&&B.length>0&&u(B),V}catch(D){return console.error("XP Error",D),0}};return y.jsxs(YA.Provider,{value:{user:e,loading:r,login:m,loginAsGuest:g,register:v,logout:_,addXp:w},children:[!r&&n,c.length>0&&y.jsx(oI,{achievements:c,onClose:()=>u([])})]})},Ps=()=>{const n=I.useContext(YA);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},z0=I.createContext({});function U0(n){const e=I.useRef(null);return e.current===null&&(e.current=n()),e.current}const B0=typeof window<"u",QA=B0?I.useLayoutEffect:I.useEffect,Jf=I.createContext(null);function q0(n,e){n.indexOf(e)===-1&&n.push(e)}function F0(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const fr=(n,e,s)=>s>e?e:s<n?n:s;let H0=()=>{};const mr={},ZA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function WA(n){return typeof n=="object"&&n!==null}const JA=n=>/^0[^.\s]+$/u.test(n);function G0(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ms=n=>n,R4=(n,e)=>s=>e(n(s)),Qu=(...n)=>n.reduce(R4),Iu=(n,e,s)=>{const r=e-n;return r===0?1:(s-n)/r};class $0{constructor(){this.subscriptions=[]}add(e){return q0(this.subscriptions,e),()=>F0(this.subscriptions,e)}notify(e,s,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,s,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Di=n=>n*1e3,Ds=n=>n/1e3;function ek(n,e){return e?n*(1e3/e):0}const tk=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,C4=1e-7,N4=12;function I4(n,e,s,r,o){let c,u,h=0;do u=e+(s-e)/2,c=tk(u,r,o)-n,c>0?s=u:e=u;while(Math.abs(c)>C4&&++h<N4);return u}function Zu(n,e,s,r){if(n===e&&s===r)return Ms;const o=c=>I4(c,0,1,n,s);return c=>c===0||c===1?c:tk(o(c),e,r)}const nk=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,sk=n=>e=>1-n(1-e),ik=Zu(.33,1.53,.69,.99),K0=sk(ik),rk=nk(K0),ak=n=>(n*=2)<1?.5*K0(n):.5*(2-Math.pow(2,-10*(n-1))),X0=n=>1-Math.sin(Math.acos(n)),ok=sk(X0),lk=nk(X0),D4=Zu(.42,0,1,1),M4=Zu(0,0,.58,1),ck=Zu(.42,0,.58,1),j4=n=>Array.isArray(n)&&typeof n[0]!="number",uk=n=>Array.isArray(n)&&typeof n[0]=="number",P4={linear:Ms,easeIn:D4,easeInOut:ck,easeOut:M4,circIn:X0,circInOut:lk,circOut:ok,backIn:K0,backInOut:rk,backOut:ik,anticipate:ak},V4=n=>typeof n=="string",jE=n=>{if(uk(n)){H0(n.length===4);const[e,s,r,o]=n;return Zu(e,s,r,o)}else if(V4(n))return P4[n];return n},Dh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O4(n,e){let s=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(g.schedule(v),n()),v(h)}const g={schedule:(v,_=!1,w=!1)=>{const j=w&&o?s:r;return _&&u.add(v),j.has(v)||j.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(h=v,o){c=!0;return}o=!0,[s,r]=[r,s],s.forEach(m),s.clear(),o=!1,c&&(c=!1,g.process(v))}};return g}const L4=40;function dk(n,e){let s=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=Dh.reduce((H,ce)=>(H[ce]=O4(c),H),{}),{setup:h,read:m,resolveKeyframes:g,preUpdate:v,update:_,preRender:w,render:k,postRender:j}=u,D=()=>{const H=mr.useManualTiming?o.timestamp:performance.now();s=!1,mr.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(H-o.timestamp,L4),1)),o.timestamp=H,o.isProcessing=!0,h.process(o),m.process(o),g.process(o),v.process(o),_.process(o),w.process(o),k.process(o),j.process(o),o.isProcessing=!1,s&&e&&(r=!1,n(D))},V=()=>{s=!0,r=!0,o.isProcessing||n(D)};return{schedule:Dh.reduce((H,ce)=>{const oe=u[ce];return H[ce]=(de,C=!1,S=!1)=>(s||V(),oe.schedule(de,C,S)),H},{}),cancel:H=>{for(let ce=0;ce<Dh.length;ce++)u[Dh[ce]].cancel(H)},state:o,steps:u}}const{schedule:Pt,cancel:fa,state:Sn,steps:xg}=dk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ms,!0);let Zh;function z4(){Zh=void 0}const Wn={now:()=>(Zh===void 0&&Wn.set(Sn.isProcessing||mr.useManualTiming?Sn.timestamp:performance.now()),Zh),set:n=>{Zh=n,queueMicrotask(z4)}},hk=n=>e=>typeof e=="string"&&e.startsWith(n),fk=hk("--"),U4=hk("var(--"),Y0=n=>U4(n)?B4.test(n.split("/*")[0].trim()):!1,B4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$l={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Du={...$l,transform:n=>fr(0,1,n)},Mh={...$l,default:1},pu=n=>Math.round(n*1e5)/1e5,Q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q4(n){return n==null}const F4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z0=(n,e)=>s=>!!(typeof s=="string"&&F4.test(s)&&s.startsWith(n)||e&&!q4(s)&&Object.prototype.hasOwnProperty.call(s,e)),mk=(n,e,s)=>r=>{if(typeof r!="string")return r;const[o,c,u,h]=r.match(Q0);return{[n]:parseFloat(o),[e]:parseFloat(c),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},H4=n=>fr(0,255,n),wg={...$l,transform:n=>Math.round(H4(n))},io={test:Z0("rgb","red"),parse:mk("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:r=1})=>"rgba("+wg.transform(n)+", "+wg.transform(e)+", "+wg.transform(s)+", "+pu(Du.transform(r))+")"};function G4(n){let e="",s="",r="",o="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,s+=s,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const fy={test:Z0("#"),parse:G4,transform:io.transform},Wu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Qr=Wu("deg"),Mi=Wu("%"),Ne=Wu("px"),$4=Wu("vh"),K4=Wu("vw"),PE={...Mi,parse:n=>Mi.parse(n)/100,transform:n=>Mi.transform(n*100)},ml={test:Z0("hsl","hue"),parse:mk("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(n)+", "+Mi.transform(pu(e))+", "+Mi.transform(pu(s))+", "+pu(Du.transform(r))+")"},rn={test:n=>io.test(n)||fy.test(n)||ml.test(n),parse:n=>io.test(n)?io.parse(n):ml.test(n)?ml.parse(n):fy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?io.transform(n):ml.transform(n),getAnimatableNone:n=>{const e=rn.parse(n);return e.alpha=0,rn.transform(e)}},X4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y4(n){var e,s;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Q0))==null?void 0:e.length)||0)+(((s=n.match(X4))==null?void 0:s.length)||0)>0}const pk="number",gk="color",Q4="var",Z4="var(",VE="${}",W4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(n){const e=n.toString(),s=[],r={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(W4,m=>(rn.test(m)?(r.color.push(c),o.push(gk),s.push(rn.parse(m))):m.startsWith(Z4)?(r.var.push(c),o.push(Q4),s.push(m)):(r.number.push(c),o.push(pk),s.push(parseFloat(m))),++c,VE)).split(VE);return{values:s,split:h,indexes:r,types:o}}function yk(n){return Mu(n).values}function bk(n){const{split:e,types:s}=Mu(n),r=e.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=e[u],o[u]!==void 0){const h=s[u];h===pk?c+=pu(o[u]):h===gk?c+=rn.transform(o[u]):c+=o[u]}return c}}const J4=n=>typeof n=="number"?0:rn.test(n)?rn.getAnimatableNone(n):n;function e3(n){const e=yk(n);return bk(n)(e.map(J4))}const ma={test:Y4,parse:yk,createTransformer:bk,getAnimatableNone:e3};function Eg(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function t3({hue:n,saturation:e,lightness:s,alpha:r}){n/=360,e/=100,s/=100;let o=0,c=0,u=0;if(!e)o=c=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;o=Eg(m,h,n+1/3),c=Eg(m,h,n),u=Eg(m,h,n-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function Ef(n,e){return s=>s>0?e:n}const Ot=(n,e,s)=>n+(e-n)*s,Tg=(n,e,s)=>{const r=n*n,o=s*(e*e-r)+r;return o<0?0:Math.sqrt(o)},n3=[fy,io,ml],s3=n=>n3.find(e=>e.test(n));function OE(n){const e=s3(n);if(!e)return!1;let s=e.parse(n);return e===ml&&(s=t3(s)),s}const LE=(n,e)=>{const s=OE(n),r=OE(e);if(!s||!r)return Ef(n,e);const o={...s};return c=>(o.red=Tg(s.red,r.red,c),o.green=Tg(s.green,r.green,c),o.blue=Tg(s.blue,r.blue,c),o.alpha=Ot(s.alpha,r.alpha,c),io.transform(o))},my=new Set(["none","hidden"]);function i3(n,e){return my.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function r3(n,e){return s=>Ot(n,e,s)}function W0(n){return typeof n=="number"?r3:typeof n=="string"?Y0(n)?Ef:rn.test(n)?LE:l3:Array.isArray(n)?vk:typeof n=="object"?rn.test(n)?LE:a3:Ef}function vk(n,e){const s=[...n],r=s.length,o=n.map((c,u)=>W0(c)(c,e[u]));return c=>{for(let u=0;u<r;u++)s[u]=o[u](c);return s}}function a3(n,e){const s={...n,...e},r={};for(const o in s)n[o]!==void 0&&e[o]!==void 0&&(r[o]=W0(n[o])(n[o],e[o]));return o=>{for(const c in r)s[c]=r[c](o);return s}}function o3(n,e){const s=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=n.indexes[c][r[c]],h=n.values[u]??0;s[o]=h,r[c]++}return s}const l3=(n,e)=>{const s=ma.createTransformer(e),r=Mu(n),o=Mu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?my.has(n)&&!o.values.length||my.has(e)&&!r.values.length?i3(n,e):Qu(vk(o3(r,o),o.values),s):Ef(n,e)};function _k(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Ot(n,e,s):W0(n)(n,e)}const c3=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>Pt.update(e,s),stop:()=>fa(e),now:()=>Sn.isProcessing?Sn.timestamp:Wn.now()}},xk=(n,e,s=10)=>{let r="";const o=Math.max(Math.round(e/s),2);for(let c=0;c<o;c++)r+=Math.round(n(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Tf=2e4;function J0(n){let e=0;const s=50;let r=n.next(e);for(;!r.done&&e<Tf;)e+=s,r=n.next(e);return e>=Tf?1/0:e}function u3(n,e=100,s){const r=s({...n,keyframes:[0,e]}),o=Math.min(J0(r),Tf);return{type:"keyframes",ease:c=>r.next(o*c).value/e,duration:Ds(o)}}const d3=5;function wk(n,e,s){const r=Math.max(e-d3,0);return ek(s-n(r),e-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sg=.001;function h3({duration:n=qt.duration,bounce:e=qt.bounce,velocity:s=qt.velocity,mass:r=qt.mass}){let o,c,u=1-e;u=fr(qt.minDamping,qt.maxDamping,u),n=fr(qt.minDuration,qt.maxDuration,Ds(n)),u<1?(o=g=>{const v=g*u,_=v*n,w=v-s,k=py(g,u),j=Math.exp(-_);return Sg-w/k*j},c=g=>{const _=g*u*n,w=_*s+s,k=Math.pow(u,2)*Math.pow(g,2)*n,j=Math.exp(-_),D=py(Math.pow(g,2),u);return(-o(g)+Sg>0?-1:1)*((w-k)*j)/D}):(o=g=>{const v=Math.exp(-g*n),_=(g-s)*n+1;return-Sg+v*_},c=g=>{const v=Math.exp(-g*n),_=(s-g)*(n*n);return v*_});const h=5/n,m=m3(o,c,h);if(n=Di(n),isNaN(m))return{stiffness:qt.stiffness,damping:qt.damping,duration:n};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:u*2*Math.sqrt(r*g),duration:n}}}const f3=12;function m3(n,e,s){let r=s;for(let o=1;o<f3;o++)r=r-n(r)/e(r);return r}function py(n,e){return n*Math.sqrt(1-e*e)}const p3=["duration","bounce"],g3=["stiffness","damping","mass"];function zE(n,e){return e.some(s=>n[s]!==void 0)}function y3(n){let e={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...n};if(!zE(n,g3)&&zE(n,p3))if(n.visualDuration){const s=n.visualDuration,r=2*Math.PI/(s*1.2),o=r*r,c=2*fr(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:qt.mass,stiffness:o,damping:c}}else{const s=h3(n);e={...e,...s,mass:qt.mass},e.isResolvedFromDuration=!0}return e}function Sf(n=qt.visualDuration,e=qt.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:g,mass:v,duration:_,velocity:w,isResolvedFromDuration:k}=y3({...s,velocity:-Ds(s.velocity||0)}),j=w||0,D=g/(2*Math.sqrt(m*v)),V=u-c,B=Ds(Math.sqrt(m/v)),Q=Math.abs(V)<5;r||(r=Q?qt.restSpeed.granular:qt.restSpeed.default),o||(o=Q?qt.restDelta.granular:qt.restDelta.default);let H;if(D<1){const oe=py(B,D);H=de=>{const C=Math.exp(-D*B*de);return u-C*((j+D*B*V)/oe*Math.sin(oe*de)+V*Math.cos(oe*de))}}else if(D===1)H=oe=>u-Math.exp(-B*oe)*(V+(j+B*V)*oe);else{const oe=B*Math.sqrt(D*D-1);H=de=>{const C=Math.exp(-D*B*de),S=Math.min(oe*de,300);return u-C*((j+D*B*V)*Math.sinh(S)+oe*V*Math.cosh(S))/oe}}const ce={calculatedDuration:k&&_||null,next:oe=>{const de=H(oe);if(k)h.done=oe>=_;else{let C=oe===0?j:0;D<1&&(C=oe===0?Di(j):wk(H,oe,de));const S=Math.abs(C)<=r,N=Math.abs(u-de)<=o;h.done=S&&N}return h.value=h.done?u:de,h},toString:()=>{const oe=Math.min(J0(ce),Tf),de=xk(C=>ce.next(oe*C).value,oe,30);return oe+"ms "+de},toTransition:()=>{}};return ce}Sf.applyToOptions=n=>{const e=u3(n,100,Sf);return n.ease=e.ease,n.duration=Di(e.duration),n.type="keyframes",n};function gy({keyframes:n,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:m,restDelta:g=.5,restSpeed:v}){const _=n[0],w={done:!1,value:_},k=S=>h!==void 0&&S<h||m!==void 0&&S>m,j=S=>h===void 0?m:m===void 0||Math.abs(h-S)<Math.abs(m-S)?h:m;let D=s*e;const V=_+D,B=u===void 0?V:u(V);B!==V&&(D=B-_);const Q=S=>-D*Math.exp(-S/r),H=S=>B+Q(S),ce=S=>{const N=Q(S),P=H(S);w.done=Math.abs(N)<=g,w.value=w.done?B:P};let oe,de;const C=S=>{k(w.value)&&(oe=S,de=Sf({keyframes:[w.value,j(w.value)],velocity:wk(H,S,w.value),damping:o,stiffness:c,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:S=>{let N=!1;return!de&&oe===void 0&&(N=!0,ce(S),C(S)),oe!==void 0&&S>=oe?de.next(S-oe):(!N&&ce(S),w)}}}function b3(n,e,s){const r=[],o=s||mr.mix||_k,c=n.length-1;for(let u=0;u<c;u++){let h=o(n[u],n[u+1]);if(e){const m=Array.isArray(e)?e[u]||Ms:e;h=Qu(m,h)}r.push(h)}return r}function v3(n,e,{clamp:s=!0,ease:r,mixer:o}={}){const c=n.length;if(H0(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=b3(e,r,o),m=h.length,g=v=>{if(u&&v<n[0])return e[0];let _=0;if(m>1)for(;_<n.length-2&&!(v<n[_+1]);_++);const w=Iu(n[_],n[_+1],v);return h[_](w)};return s?v=>g(fr(n[0],n[c-1],v)):g}function _3(n,e){const s=n[n.length-1];for(let r=1;r<=e;r++){const o=Iu(0,e,r);n.push(Ot(s,1,o))}}function x3(n){const e=[0];return _3(e,n.length-1),e}function w3(n,e){return n.map(s=>s*e)}function E3(n,e){return n.map(()=>e||ck).splice(0,n.length-1)}function gu({duration:n=300,keyframes:e,times:s,ease:r="easeInOut"}){const o=j4(r)?r.map(jE):jE(r),c={done:!1,value:e[0]},u=w3(s&&s.length===e.length?s:x3(e),n),h=v3(u,e,{ease:Array.isArray(o)?o:E3(e,o)});return{calculatedDuration:n,next:m=>(c.value=h(m),c.done=m>=n,c)}}const T3=n=>n!==null;function eb(n,{repeat:e,repeatType:s="loop"},r,o=1){const c=n.filter(T3),h=o<0||e&&s!=="loop"&&e%2===1?0:c.length-1;return!h||r===void 0?c[h]:r}const S3={decay:gy,inertia:gy,tween:gu,keyframes:gu,spring:Sf};function Ek(n){typeof n.type=="string"&&(n.type=S3[n.type])}class tb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const A3=n=>n/100;class nb extends tb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:s}=this.options;s&&s.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ek(e);const{type:s=gu,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const m=s||gu;m!==gu&&typeof h[0]!="number"&&(this.mixKeyframes=Qu(A3,_k(h[0],h[1])),h=[0,100]);const g=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=J0(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:_,repeatType:w,repeatDelay:k,type:j,onUpdate:D,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?B<0:B>o;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let H=this.currentTime,ce=r;if(_){const S=Math.min(this.currentTime,o)/h;let N=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(w==="reverse"?(P=1-P,k&&(P-=k/h)):w==="mirror"&&(ce=u)),H=fr(0,1,P)*h}const oe=Q?{done:!1,value:v[0]}:ce.next(H);c&&(oe.value=c(oe.value));let{done:de}=oe;!Q&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return C&&j!==gy&&(oe.value=eb(v,this.options,V,this.speed)),D&&D(oe.value),C&&this.finish(),oe}then(e,s){return this.finished.then(e,s)}get duration(){return Ds(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ds(e)}get time(){return Ds(this.currentTime)}set time(e){var s;e=Di(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wn.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ds(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:e=c3,startTime:s}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function k3(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ro=n=>n*180/Math.PI,yy=n=>{const e=ro(Math.atan2(n[1],n[0]));return by(e)},R3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:yy,rotateZ:yy,skewX:n=>ro(Math.atan(n[1])),skewY:n=>ro(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},by=n=>(n=n%360,n<0&&(n+=360),n),UE=yy,BE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),qE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),C3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BE,scaleY:qE,scale:n=>(BE(n)+qE(n))/2,rotateX:n=>by(ro(Math.atan2(n[6],n[5]))),rotateY:n=>by(ro(Math.atan2(-n[2],n[0]))),rotateZ:UE,rotate:UE,skewX:n=>ro(Math.atan(n[4])),skewY:n=>ro(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function vy(n){return n.includes("scale")?1:0}function _y(n,e){if(!n||n==="none")return vy(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(s)r=C3,o=s;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=R3,o=h}if(!o)return vy(e);const c=r[e],u=o[1].split(",").map(I3);return typeof c=="function"?c(u):u[c]}const N3=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return _y(s,e)};function I3(n){return parseFloat(n.trim())}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Kl),FE=n=>n===$l||n===Ne,D3=new Set(["x","y","z"]),M3=Kl.filter(n=>!D3.has(n));function j3(n){const e=[];return M3.forEach(s=>{const r=n.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const oo={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>_y(e,"x"),y:(n,{transform:e})=>_y(e,"y")};oo.translateX=oo.x;oo.translateY=oo.y;const lo=new Set;let xy=!1,wy=!1,Ey=!1;function Tk(){if(wy){const n=Array.from(lo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),s=new Map;e.forEach(r=>{const o=j3(r);o.length&&(s.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=s.get(r);o&&o.forEach(([c,u])=>{var h;(h=r.getValue(c))==null||h.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wy=!1,xy=!1,lo.forEach(n=>n.complete(Ey)),lo.clear()}function Sk(){lo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(wy=!0)})}function P3(){Ey=!0,Sk(),Tk(),Ey=!1}class sb{constructor(e,s,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),xy||(xy=!0,Pt.read(Sk),Pt.resolveKeyframes(Tk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:o}=this;if(e[0]===null){const c=o==null?void 0:o.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&s){const h=r.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}k3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const V3=n=>n.startsWith("--");function O3(n,e,s){V3(e)?n.style.setProperty(e,s):n.style[e]=s}const L3=G0(()=>window.ScrollTimeline!==void 0),z3={};function U3(n,e){const s=G0(n);return()=>z3[e]??s()}const Ak=U3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lu=([n,e,s,r])=>`cubic-bezier(${n}, ${e}, ${s}, ${r})`,HE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lu([0,.65,.55,1]),circOut:lu([.55,0,1,.45]),backIn:lu([.31,.01,.66,-.59]),backOut:lu([.33,1.53,.69,.99])};function kk(n,e){if(n)return typeof n=="function"?Ak()?xk(n,e):"ease-out":uk(n)?lu(n):Array.isArray(n)?n.map(s=>kk(s,e)||HE.easeOut):HE[n]}function B3(n,e,s,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:m}={},g=void 0){const v={[e]:s};m&&(v.offset=m);const _=kk(h,o);Array.isArray(_)&&(v.easing=_);const w={delay:r,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),n.animate(v,w)}function Rk(n){return typeof n=="function"&&"applyToOptions"in n}function q3({type:n,...e}){return Rk(n)&&Ak()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class F3 extends tb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,H0(typeof e.type!="string");const g=q3(e);this.animation=B3(s,r,o,g,c),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const v=eb(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):O3(s,r,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,r;const e=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return Ds(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ds(e)}get time(){return Ds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Di(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&L3()?(this.animation.timeline=e,Ms):s(this)}}const Ck={anticipate:ak,backInOut:rk,circInOut:lk};function H3(n){return n in Ck}function G3(n){typeof n.ease=="string"&&H3(n.ease)&&(n.ease=Ck[n.ease])}const GE=10;class $3 extends F3{constructor(e){G3(e),Ek(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new nb({...u,autoplay:!1}),m=Di(this.finishedTime??this.time);s.setWithVelocity(h.sample(m-GE).value,h.sample(m).value,GE),h.stop()}}const $E=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ma.test(n)||n==="0")&&!n.startsWith("url("));function K3(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function X3(n,e,s,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=n[n.length-1],u=$E(o,e),h=$E(c,e);return!u||!h?!1:K3(n)||(s==="spring"||Rk(s))&&r}function Ty(n){n.duration=0,n.type="keyframes"}const Y3=new Set(["opacity","clipPath","filter","transform"]),Q3=G0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z3(n){var v;const{motionValue:e,name:s,repeatDelay:r,repeatType:o,damping:c,type:u}=n;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return Q3()&&s&&Y3.has(s)&&(s!=="transform"||!g)&&!m&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const W3=40;class J3 extends tb{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:m,motionValue:g,element:v,..._}){var j;super(),this.stop=()=>{var D,V;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(V=this.keyframeResolver)==null||V.cancel()},this.createdAt=Wn.now();const w={autoplay:e,delay:s,type:r,repeat:o,repeatDelay:c,repeatType:u,name:m,motionValue:g,element:v,..._},k=(v==null?void 0:v.KeyframeResolver)||sb;this.keyframeResolver=new k(h,(D,V,B)=>this.onKeyframesResolved(D,V,w,!B),m,g,v),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(e,s,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:m,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Wn.now(),X3(e,c,u,h)||((mr.instantAnimations||!m)&&(v==null||v(eb(e,r,s))),e[0]=e[e.length-1],Ty(r),r.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>W3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},k=!g&&Z3(w)?new $3({...w,element:w.motionValue.owner.current}):new nb(w);k.finished.then(()=>this.notifyFinished()).catch(Ms),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),P3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const e5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t5(n){const e=e5.exec(n);if(!e)return[,];const[,s,r,o]=e;return[`--${s??r}`,o]}function Nk(n,e,s=1){const[r,o]=t5(n);if(!r)return;const c=window.getComputedStyle(e).getPropertyValue(r);if(c){const u=c.trim();return ZA(u)?parseFloat(u):u}return Y0(o)?Nk(o,e,s+1):o}function ib(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Ik=new Set(["width","height","top","left","right","bottom",...Kl]),n5={test:n=>n==="auto",parse:n=>n},Dk=n=>e=>e.test(n),Mk=[$l,Ne,Mi,Qr,K4,$4,n5],KE=n=>Mk.find(Dk(n));function s5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||JA(n):!0}const i5=new Set(["brightness","contrast","saturate","opacity"]);function r5(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=s.match(Q0)||[];if(!r)return n;const o=s.replace(r,"");let c=i5.has(e)?1:0;return r!==s&&(c*=100),e+"("+c+o+")"}const a5=/\b([a-z-]*)\(.*?\)/gu,Sy={...ma,getAnimatableNone:n=>{const e=n.match(a5);return e?e.map(r5).join(" "):n}},XE={...$l,transform:Math.round},o5={rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:Mh,scaleX:Mh,scaleY:Mh,scaleZ:Mh,skew:Qr,skewX:Qr,skewY:Qr,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Du,originX:PE,originY:PE,originZ:Ne},rb={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...o5,zIndex:XE,fillOpacity:Du,strokeOpacity:Du,numOctaves:XE},l5={...rb,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Sy,WebkitFilter:Sy},jk=n=>l5[n];function Pk(n,e){let s=jk(n);return s!==Sy&&(s=ma),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const c5=new Set(["auto","none","0"]);function u5(n,e,s){let r=0,o;for(;r<n.length&&!o;){const c=n[r];typeof c=="string"&&!c5.has(c)&&Mu(c).values.length&&(o=n[r]),r++}if(o&&s)for(const c of e)n[c]=Pk(s,o)}class d5 extends sb{constructor(e,s,r,o,c){super(e,s,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Y0(g))){const v=Nk(g,s.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Ik.has(r)||e.length!==2)return;const[o,c]=e,u=KE(o),h=KE(c);if(u!==h)if(FE(u)&&FE(h))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else oo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||s5(e[o]))&&r.push(o);r.length&&u5(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=oo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function h5(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(s==null?void 0:s[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Vk=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Ok(n){return WA(n)&&"offsetHeight"in n}const YE=30,f5=n=>!isNaN(parseFloat(n));class m5{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var c;const o=Wn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new $0);const r=this.events[e].add(s);return e==="change"?()=>{r(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YE)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,YE);return ek(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dl(n,e){return new m5(n,e)}const{schedule:ab}=dk(queueMicrotask,!1),Qs={x:!1,y:!1};function Lk(){return Qs.x||Qs.y}function p5(n){return n==="x"||n==="y"?Qs[n]?null:(Qs[n]=!0,()=>{Qs[n]=!1}):Qs.x||Qs.y?null:(Qs.x=Qs.y=!0,()=>{Qs.x=Qs.y=!1})}function zk(n,e){const s=h5(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[s,o,()=>r.abort()]}function QE(n){return!(n.pointerType==="touch"||Lk())}function g5(n,e,s={}){const[r,o,c]=zk(n,s),u=h=>{if(!QE(h))return;const{target:m}=h,g=e(m,h);if(typeof g!="function"||!m)return;const v=_=>{QE(_)&&(g(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,o)};return r.forEach(h=>{h.addEventListener("pointerenter",u,o)}),c}const Uk=(n,e)=>e?n===e?!0:Uk(n,e.parentElement):!1,ob=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,y5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function b5(n){return y5.has(n.tagName)||n.tabIndex!==-1}const Wh=new WeakSet;function ZE(n){return e=>{e.key==="Enter"&&n(e)}}function Ag(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const v5=(n,e)=>{const s=n.currentTarget;if(!s)return;const r=ZE(()=>{if(Wh.has(s))return;Ag(s,"down");const o=ZE(()=>{Ag(s,"up")}),c=()=>Ag(s,"cancel");s.addEventListener("keyup",o,e),s.addEventListener("blur",c,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function WE(n){return ob(n)&&!Lk()}function _5(n,e,s={}){const[r,o,c]=zk(n,s),u=h=>{const m=h.currentTarget;if(!WE(h))return;Wh.add(m);const g=e(m,h),v=(k,j)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Wh.has(m)&&Wh.delete(m),WE(k)&&typeof g=="function"&&g(k,{success:j})},_=k=>{v(k,m===window||m===document||s.useGlobalTarget||Uk(m,k.target))},w=k=>{v(k,!1)};window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",w,o)};return r.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),Ok(h)&&(h.addEventListener("focus",g=>v5(g,o)),!b5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Bk(n){return WA(n)&&"ownerSVGElement"in n}function x5(n){return Bk(n)&&n.tagName==="svg"}const Pn=n=>!!(n&&n.getVelocity),w5=[...Mk,rn,ma],E5=n=>w5.find(Dk(n)),lb=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function JE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function T5(...n){return e=>{let s=!1;const r=n.map(o=>{const c=JE(o,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():JE(n[o],null)}}}}function S5(...n){return I.useCallback(T5(...n),n)}class A5 extends I.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=s.offsetParent,o=Ok(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k5({children:n,isPresent:e,anchorX:s,root:r}){const o=I.useId(),c=I.useRef(null),u=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=I.useContext(lb),m=S5(c,n==null?void 0:n.ref);return I.useInsertionEffect(()=>{const{width:g,height:v,top:_,left:w,right:k}=u.current;if(e||!c.current||!g||!v)return;const j=s==="left"?`left: ${w}`:`right: ${k}`;c.current.dataset.motionPopId=o;const D=document.createElement("style");h&&(D.nonce=h);const V=r??document.head;return V.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${j}px !important;
            top: ${_}px !important;
          }
        `),()=>{V.contains(D)&&V.removeChild(D)}},[e]),y.jsx(A5,{isPresent:e,childRef:c,sizeRef:u,children:I.cloneElement(n,{ref:m})})}const R5=({children:n,initial:e,isPresent:s,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:h,root:m})=>{const g=U0(C5),v=I.useId();let _=!0,w=I.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:s,custom:o,onExitComplete:k=>{g.set(k,!0);for(const j of g.values())if(!j)return;r&&r()},register:k=>(g.set(k,!1),()=>g.delete(k))}),[s,g,r]);return c&&_&&(w={...w}),I.useMemo(()=>{g.forEach((k,j)=>g.set(j,!1))},[s]),I.useEffect(()=>{!s&&!g.size&&r&&r()},[s]),u==="popLayout"&&(n=y.jsx(k5,{isPresent:s,anchorX:h,root:m,children:n})),y.jsx(Jf.Provider,{value:w,children:n})};function C5(){return new Map}function qk(n=!0){const e=I.useContext(Jf);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:o}=e,c=I.useId();I.useEffect(()=>{if(n)return o(c)},[n]);const u=I.useCallback(()=>n&&r&&r(c),[c,r,n]);return!s&&r?[!1,u]:[!0]}const jh=n=>n.key||"";function eT(n){const e=[];return I.Children.forEach(n,s=>{I.isValidElement(s)&&e.push(s)}),e}const Fk=({children:n,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:m})=>{const[g,v]=qk(u),_=I.useMemo(()=>eT(n),[n]),w=u&&!g?[]:_.map(jh),k=I.useRef(!0),j=I.useRef(_),D=U0(()=>new Map),[V,B]=I.useState(_),[Q,H]=I.useState(_);QA(()=>{k.current=!1,j.current=_;for(let de=0;de<Q.length;de++){const C=jh(Q[de]);w.includes(C)?D.delete(C):D.get(C)!==!0&&D.set(C,!1)}},[Q,w.length,w.join("-")]);const ce=[];if(_!==V){let de=[..._];for(let C=0;C<Q.length;C++){const S=Q[C],N=jh(S);w.includes(N)||(de.splice(C,0,S),ce.push(S))}return c==="wait"&&ce.length&&(de=ce),H(eT(de)),B(_),null}const{forceRender:oe}=I.useContext(z0);return y.jsx(y.Fragment,{children:Q.map(de=>{const C=jh(de),S=u&&!g?!1:_===Q||w.includes(C),N=()=>{if(D.has(C))D.set(C,!0);else return;let P=!0;D.forEach(L=>{L||(P=!1)}),P&&(oe==null||oe(),H(j.current),u&&(v==null||v()),r&&r())};return y.jsx(R5,{isPresent:S,initial:!k.current||s?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:m,onExitComplete:S?void 0:N,anchorX:h,children:de},C)})})},Hk=I.createContext({strict:!1}),tT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ml={};for(const n in tT)Ml[n]={isEnabled:e=>tT[n].some(s=>!!e[s])};function N5(n){for(const e in n)Ml[e]={...Ml[e],...n[e]}}const I5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Af(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||I5.has(n)}let Gk=n=>!Af(n);function D5(n){typeof n=="function"&&(Gk=e=>e.startsWith("on")?!Af(e):n(e))}try{D5(require("@emotion/is-prop-valid").default)}catch{}function M5(n,e,s){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(Gk(o)||s===!0&&Af(o)||!e&&!Af(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const em=I.createContext({});function tm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ju(n){return typeof n=="string"||Array.isArray(n)}const cb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ub=["initial",...cb];function nm(n){return tm(n.animate)||ub.some(e=>ju(n[e]))}function $k(n){return!!(nm(n)||n.variants)}function j5(n,e){if(nm(n)){const{initial:s,animate:r}=n;return{initial:s===!1||ju(s)?s:void 0,animate:ju(r)?r:void 0}}return n.inherit!==!1?e:{}}function P5(n){const{initial:e,animate:s}=j5(n,I.useContext(em));return I.useMemo(()=>({initial:e,animate:s}),[nT(e),nT(s)])}function nT(n){return Array.isArray(n)?n.join(" "):n}function sT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const eu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ne.test(n))n=parseFloat(n);else return n;const s=sT(n,e.target.x),r=sT(n,e.target.y);return`${s}% ${r}%`}},V5={correct:(n,{treeScale:e,projectionDelta:s})=>{const r=n,o=ma.parse(n);if(o.length>5)return r;const c=ma.createTransformer(n),u=typeof o[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;o[0+u]/=h,o[1+u]/=m;const g=Ot(h,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=g),typeof o[3+u]=="number"&&(o[3+u]/=g),c(o)}},Ay={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:V5};function Kk(n,{layout:e,layoutId:s}){return Xl.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!Ay[n]||n==="opacity")}const O5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L5=Kl.length;function z5(n,e,s){let r="",o=!0;for(let c=0;c<L5;c++){const u=Kl[c],h=n[u];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(u.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||s){const g=Vk(h,rb[u]);if(!m){o=!1;const v=O5[u]||u;r+=`${v}(${g}) `}s&&(e[u]=g)}}return r=r.trim(),s?r=s(e,o?"":r):o&&(r="none"),r}function db(n,e,s){const{style:r,vars:o,transformOrigin:c}=n;let u=!1,h=!1;for(const m in e){const g=e[m];if(Xl.has(m)){u=!0;continue}else if(fk(m)){o[m]=g;continue}else{const v=Vk(g,rb[m]);m.startsWith("origin")?(h=!0,c[m]=v):r[m]=v}}if(e.transform||(u||s?r.transform=z5(e,n.transform,s):r.transform&&(r.transform="none")),h){const{originX:m="50%",originY:g="50%",originZ:v=0}=c;r.transformOrigin=`${m} ${g} ${v}`}}const hb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xk(n,e,s){for(const r in e)!Pn(e[r])&&!Kk(r,s)&&(n[r]=e[r])}function U5({transformTemplate:n},e){return I.useMemo(()=>{const s=hb();return db(s,e,n),Object.assign({},s.vars,s.style)},[e])}function B5(n,e){const s=n.style||{},r={};return Xk(r,s,n),Object.assign(r,U5(n,e)),r}function q5(n,e){const s={},r=B5(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=r,s}const F5={offset:"stroke-dashoffset",array:"stroke-dasharray"},H5={offset:"strokeDashoffset",array:"strokeDasharray"};function G5(n,e,s=1,r=0,o=!0){n.pathLength=1;const c=o?F5:H5;n[c.offset]=Ne.transform(-r);const u=Ne.transform(e),h=Ne.transform(s);n[c.array]=`${u} ${h}`}function Yk(n,{attrX:e,attrY:s,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},m,g,v){if(db(n,h,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:w}=n;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),s!==void 0&&(_.y=s),r!==void 0&&(_.scale=r),o!==void 0&&G5(_,o,c,u,!1)}const Qk=()=>({...hb(),attrs:{}}),Zk=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $5(n,e,s,r){const o=I.useMemo(()=>{const c=Qk();return Yk(c,e,Zk(r),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[e]);if(n.style){const c={};Xk(c,n.style,n),o.style={...c,...o.style}}return o}const K5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fb(n){return typeof n!="string"||n.includes("-")?!1:!!(K5.indexOf(n)>-1||/[A-Z]/u.test(n))}function X5(n,e,s,{latestValues:r},o,c=!1){const h=(fb(n)?$5:q5)(e,r,o,n),m=M5(e,typeof n=="string",c),g=n!==I.Fragment?{...m,...h,ref:s}:{},{children:v}=e,_=I.useMemo(()=>Pn(v)?v.get():v,[v]);return I.createElement(n,{...g,children:_})}function iT(n){const e=[{},{}];return n==null||n.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function mb(n,e,s,r){if(typeof e=="function"){const[o,c]=iT(r);e=e(s!==void 0?s:n.custom,o,c)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,c]=iT(r);e=e(s!==void 0?s:n.custom,o,c)}return e}function Jh(n){return Pn(n)?n.get():n}function Y5({scrapeMotionValuesFromProps:n,createRenderState:e},s,r,o){return{latestValues:Q5(s,r,o,n),renderState:e()}}function Q5(n,e,s,r){const o={},c=r(n,{});for(const w in c)o[w]=Jh(c[w]);let{initial:u,animate:h}=n;const m=nm(n),g=$k(n);e&&g&&!m&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=s?s.initial===!1:!1;v=v||u===!1;const _=v?h:u;if(_&&typeof _!="boolean"&&!tm(_)){const w=Array.isArray(_)?_:[_];for(let k=0;k<w.length;k++){const j=mb(n,w[k]);if(j){const{transitionEnd:D,transition:V,...B}=j;for(const Q in B){let H=B[Q];if(Array.isArray(H)){const ce=v?H.length-1:0;H=H[ce]}H!==null&&(o[Q]=H)}for(const Q in D)o[Q]=D[Q]}}}return o}const Wk=n=>(e,s)=>{const r=I.useContext(em),o=I.useContext(Jf),c=()=>Y5(n,e,r,o);return s?c():U0(c)};function pb(n,e,s){var c;const{style:r}=n,o={};for(const u in r)(Pn(r[u])||e.style&&Pn(e.style[u])||Kk(u,n)||((c=s==null?void 0:s.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const Z5=Wk({scrapeMotionValuesFromProps:pb,createRenderState:hb});function Jk(n,e,s){const r=pb(n,e,s);for(const o in n)if(Pn(n[o])||Pn(e[o])){const c=Kl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=n[o]}return r}const W5=Wk({scrapeMotionValuesFromProps:Jk,createRenderState:Qk}),J5=Symbol.for("motionComponentSymbol");function pl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function eL(n,e,s){return I.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):pl(s)&&(s.current=r))},[e])}const gb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tL="framerAppearId",eR="data-"+gb(tL),tR=I.createContext({});function nL(n,e,s,r,o){var D,V;const{visualElement:c}=I.useContext(em),u=I.useContext(Hk),h=I.useContext(Jf),m=I.useContext(lb).reducedMotion,g=I.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(n,{visualState:e,parent:c,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,_=I.useContext(tR);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&sL(g.current,s,o,_);const w=I.useRef(!1);I.useInsertionEffect(()=>{v&&w.current&&v.update(s,h)});const k=s[eR],j=I.useRef(!!k&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,k))&&((V=window.MotionHasOptimisedAnimation)==null?void 0:V.call(window,k)));return QA(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),j.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!j.current&&v.animationState&&v.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,k)}),j.current=!1),v.enteringChildren=void 0)}),v}function sL(n,e,s,r){const{layoutId:o,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:nR(n.parent)),n.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||h&&pl(h),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:m,layoutRoot:g})}function nR(n){if(n)return n.options.allowProjection!==!1?n.projection:nR(n.parent)}function kg(n,{forwardMotionProps:e=!1}={},s,r){s&&N5(s);const o=fb(n)?W5:Z5;function c(h,m){let g;const v={...I.useContext(lb),...h,layoutId:iL(h)},{isStatic:_}=v,w=P5(h),k=o(h,_);if(!_&&B0){rL();const j=aL(v);g=j.MeasureLayout,w.visualElement=nL(n,k,v,r,j.ProjectionNode)}return y.jsxs(em.Provider,{value:w,children:[g&&w.visualElement?y.jsx(g,{visualElement:w.visualElement,...v}):null,X5(n,h,eL(k,w.visualElement,m),k,_,e)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=I.forwardRef(c);return u[J5]=n,u}function iL({layoutId:n}){const e=I.useContext(z0).id;return e&&n!==void 0?e+"-"+n:n}function rL(n,e){I.useContext(Hk).strict}function aL(n){const{drag:e,layout:s}=Ml;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(n)||s!=null&&s.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function oL(n,e){if(typeof Proxy>"u")return kg;const s=new Map,r=(c,u)=>kg(c,u,n,e),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(s.has(u)||s.set(u,kg(u,void 0,n,e)),s.get(u))})}function sR({top:n,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:n,max:r}}}function lL({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function cL(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Rg(n){return n===void 0||n===1}function ky({scale:n,scaleX:e,scaleY:s}){return!Rg(n)||!Rg(e)||!Rg(s)}function no(n){return ky(n)||iR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function iR(n){return rT(n.x)||rT(n.y)}function rT(n){return n&&n!=="0%"}function kf(n,e,s){const r=n-s,o=e*r;return s+o}function aT(n,e,s,r,o){return o!==void 0&&(n=kf(n,o,r)),kf(n,s,r)+e}function Ry(n,e=0,s=1,r,o){n.min=aT(n.min,e,s,r,o),n.max=aT(n.max,e,s,r,o)}function rR(n,{x:e,y:s}){Ry(n.x,e.translate,e.scale,e.originPoint),Ry(n.y,s.translate,s.scale,s.originPoint)}const oT=.999999999999,lT=1.0000000000001;function uL(n,e,s,r=!1){const o=s.length;if(!o)return;e.x=e.y=1;let c,u;for(let h=0;h<o;h++){c=s[h],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&yl(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,rR(n,u)),r&&no(c.latestValues)&&yl(n,c.latestValues))}e.x<lT&&e.x>oT&&(e.x=1),e.y<lT&&e.y>oT&&(e.y=1)}function gl(n,e){n.min=n.min+e,n.max=n.max+e}function cT(n,e,s,r,o=.5){const c=Ot(n.min,n.max,o);Ry(n,e,s,c,r)}function yl(n,e){cT(n.x,e.x,e.scaleX,e.scale,e.originX),cT(n.y,e.y,e.scaleY,e.scale,e.originY)}function aR(n,e){return sR(cL(n.getBoundingClientRect(),e))}function dL(n,e,s){const r=aR(n,s),{scroll:o}=e;return o&&(gl(r.x,o.offset.x),gl(r.y,o.offset.y)),r}const uT=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:uT(),y:uT()}),dT=()=>({min:0,max:0}),un=()=>({x:dT(),y:dT()}),Cy={current:null},oR={current:!1};function hL(){if(oR.current=!0,!!B0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cy.current=n.matches;n.addEventListener("change",e),e()}else Cy.current=!1}const fL=new WeakMap;function mL(n,e,s){for(const r in e){const o=e[r],c=s[r];if(Pn(o))n.addValue(r,o);else if(Pn(c))n.addValue(r,Dl(o,{owner:n}));else if(c!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,Dl(u!==void 0?u:o,{owner:n}))}}for(const r in s)e[r]===void 0&&n.removeValue(r);return e}const hT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pL{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Wn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Pt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=nm(s),this.isVariantNode=$k(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in _){const k=_[w];m[w]!==void 0&&Pn(k)&&k.set(m[w])}}mount(e){var s;this.current=e,fL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),oR.current||hL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cy.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),fa(this.notifyUpdate),fa(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xl.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ml){const s=Ml[e];if(!s)continue;const{isEnabled:r,Feature:o}=s;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<hT.length;r++){const o=hT[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=mL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Dl(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZA(r)||JA(r))?r=parseFloat(r):!E5(r)&&ma.test(s)&&(r=Pk(e,s)),this.setBaseTarget(e,Pn(r)?r.get():r)),Pn(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var c;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const u=mb(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);u&&(r=u[e])}if(s&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Pn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new $0),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){ab.render(this.render)}}class lR extends pL{constructor(){super(...arguments),this.KeyframeResolver=d5}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function cR(n,{style:e,vars:s},r,o){const c=n.style;let u;for(u in e)c[u]=e[u];o==null||o.applyProjectionStyles(c,r);for(u in s)c.setProperty(u,s[u])}function gL(n){return window.getComputedStyle(n)}class yL extends lR{constructor(){super(...arguments),this.type="html",this.renderInstance=cR}readValueFromInstance(e,s){var r;if(Xl.has(s))return(r=this.projection)!=null&&r.isProjecting?vy(s):N3(e,s);{const o=gL(e),c=(fk(s)?o.getPropertyValue(s):o[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:s}){return aR(e,s)}build(e,s,r){db(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return pb(e,s,r)}}const uR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bL(n,e,s,r){cR(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(uR.has(o)?o:gb(o),e.attrs[o])}class vL extends lR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Xl.has(s)){const r=jk(s);return r&&r.default||0}return s=uR.has(s)?s:gb(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return Jk(e,s,r)}build(e,s,r){Yk(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,o){bL(e,s,r,o)}mount(e){this.isSVGTag=Zk(e.tagName),super.mount(e)}}const _L=(n,e)=>fb(n)?new vL(e):new yL(e,{allowProjection:n!==I.Fragment});function Tl(n,e,s){const r=n.getProps();return mb(r,e,s!==void 0?s:r.custom,n)}const Ny=n=>Array.isArray(n);function xL(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,Dl(s))}function wL(n){return Ny(n)?n[n.length-1]||0:n}function EL(n,e){const s=Tl(n,e);let{transitionEnd:r={},transition:o={},...c}=s||{};c={...c,...r};for(const u in c){const h=wL(c[u]);xL(n,u,h)}}function TL(n){return!!(Pn(n)&&n.add)}function Iy(n,e){const s=n.getValue("willChange");if(TL(s))return s.add(e);if(!s&&mr.WillChange){const r=new mr.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function dR(n){return n.props[eR]}const SL=n=>n!==null;function AL(n,{repeat:e,repeatType:s="loop"},r){const o=n.filter(SL),c=e&&s!=="loop"&&e%2===1?0:o.length-1;return o[c]}const kL={type:"spring",stiffness:500,damping:25,restSpeed:10},RL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),CL={type:"keyframes",duration:.8},NL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IL=(n,{keyframes:e})=>e.length>2?CL:Xl.has(n)?n.startsWith("scale")?RL(e[1]):kL:NL;function DL({when:n,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:h,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const yb=(n,e,s,r={},o,c)=>u=>{const h=ib(r,n)||{},m=h.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Di(m);const v={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:c?void 0:o};DL(h)||Object.assign(v,IL(n,v)),v.duration&&(v.duration=Di(v.duration)),v.repeatDelay&&(v.repeatDelay=Di(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Ty(v),v.delay===0&&(_=!0)),(mr.instantAnimations||mr.skipAnimations)&&(_=!0,Ty(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,_&&!c&&e.get()!==void 0){const w=AL(v.keyframes,h);if(w!==void 0){Pt.update(()=>{v.onUpdate(w),v.onComplete()});return}}return h.isSync?new nb(v):new J3(v)};function ML({protectedKeys:n,needsAnimating:e},s){const r=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function hR(n,e,{delay:s=0,transitionOverride:r,type:o}={}){let{transition:c=n.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(c=r);const m=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in h){const _=n.getValue(v,n.latestValues[v]??null),w=h[v];if(w===void 0||g&&ML(g,v))continue;const k={delay:s,...ib(c||{},v)},j=_.get();if(j!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===j&&!k.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const B=dR(n);if(B){const Q=window.MotionHandoffAnimation(B,v,Pt);Q!==null&&(k.startTime=Q,D=!0)}}Iy(n,v),_.start(yb(v,_,w,n.shouldReduceMotion&&Ik.has(v)?{type:!1}:k,n,D));const V=_.animation;V&&m.push(V)}return u&&Promise.all(m).then(()=>{Pt.update(()=>{u&&EL(n,u)})}),m}function fR(n,e,s,r=0,o=1){const c=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=n.size,h=(u-1)*r;return typeof s=="function"?s(c,u):o===1?c*r:h-c*r}function Dy(n,e,s={}){var m;const r=Tl(n,e,s.type==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(o=s.transitionOverride);const c=r?()=>Promise.all(hR(n,r,s)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:w}=o;return jL(n,e,g,v,_,w,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[g,v]=h==="beforeChildren"?[c,u]:[u,c];return g().then(()=>v())}else return Promise.all([c(),u(s.delay)])}function jL(n,e,s=0,r=0,o=0,c=1,u){const h=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),h.push(Dy(m,e,{...u,delay:s+(typeof r=="function"?0:r)+fR(n.variantChildren,m,r,o,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function PL(n,e,s={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(c=>Dy(n,c,s));r=Promise.all(o)}else if(typeof e=="string")r=Dy(n,e,s);else{const o=typeof e=="function"?Tl(n,e,s.custom):e;r=Promise.all(hR(n,o,s))}return r.then(()=>{n.notify("AnimationComplete",e)})}function mR(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let r=0;r<s;r++)if(e[r]!==n[r])return!1;return!0}const VL=ub.length;function pR(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?pR(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<VL;s++){const r=ub[s],o=n.props[r];(ju(o)||o===!1)&&(e[r]=o)}return e}const OL=[...cb].reverse(),LL=cb.length;function zL(n){return e=>Promise.all(e.map(({animation:s,options:r})=>PL(n,s,r)))}function UL(n){let e=zL(n),s=fT(),r=!0;const o=m=>(g,v)=>{var w;const _=Tl(n,v,m==="exit"?(w=n.presenceContext)==null?void 0:w.custom:void 0);if(_){const{transition:k,transitionEnd:j,...D}=_;g={...g,...D,...j}}return g};function c(m){e=m(n)}function u(m){const{props:g}=n,v=pR(n.parent)||{},_=[],w=new Set;let k={},j=1/0;for(let V=0;V<LL;V++){const B=OL[V],Q=s[B],H=g[B]!==void 0?g[B]:v[B],ce=ju(H),oe=B===m?Q.isActive:null;oe===!1&&(j=V);let de=H===v[B]&&H!==g[B]&&ce;if(de&&r&&n.manuallyAnimateOnMount&&(de=!1),Q.protectedKeys={...k},!Q.isActive&&oe===null||!H&&!Q.prevProp||tm(H)||typeof H=="boolean")continue;const C=BL(Q.prevProp,H);let S=C||B===m&&Q.isActive&&!de&&ce||V>j&&ce,N=!1;const P=Array.isArray(H)?H:[H];let L=P.reduce(o(B),{});oe===!1&&(L={});const{prevResolvedValues:q={}}=Q,M={...q,...L},Ge=re=>{S=!0,w.has(re)&&(N=!0,w.delete(re)),Q.needsAnimating[re]=!0;const te=n.getValue(re);te&&(te.liveStyle=!1)};for(const re in M){const te=L[re],Ae=q[re];if(k.hasOwnProperty(re))continue;let Ie=!1;Ny(te)&&Ny(Ae)?Ie=!mR(te,Ae):Ie=te!==Ae,Ie?te!=null?Ge(re):w.add(re):te!==void 0&&w.has(re)?Ge(re):Q.protectedKeys[re]=!0}Q.prevProp=H,Q.prevResolvedValues=L,Q.isActive&&(k={...k,...L}),r&&n.blockInitialAnimation&&(S=!1);const tt=de&&C;S&&(!tt||N)&&_.push(...P.map(re=>{const te={type:B};if(typeof re=="string"&&r&&!tt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ae}=n,Ie=Tl(Ae,re);if(Ae.enteringChildren&&Ie){const{delayChildren:z}=Ie.transition||{};te.delay=fR(Ae.enteringChildren,n,z)}}return{animation:re,options:te}}))}if(w.size){const V={};if(typeof g.initial!="boolean"){const B=Tl(n,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(V.transition=B.transition)}w.forEach(B=>{const Q=n.getBaseTarget(B),H=n.getValue(B);H&&(H.liveStyle=!0),V[B]=Q??null}),_.push({animation:V})}let D=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function h(m,g){var _;if(s[m].isActive===g)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(w=>{var k;return(k=w.animationState)==null?void 0:k.setActive(m,g)}),s[m].isActive=g;const v=u(m);for(const w in s)s[w].protectedKeys={};return v}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=fT()}}}function BL(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!mR(e,n):!1}function Wa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fT(){return{animate:Wa(!0),whileInView:Wa(),whileHover:Wa(),whileTap:Wa(),whileDrag:Wa(),whileFocus:Wa(),exit:Wa()}}class xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qL extends xa{constructor(e){super(e),e.animationState||(e.animationState=UL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let FL=0;class HL extends xa{constructor(){super(...arguments),this.id=FL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);s&&!e&&o.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const GL={animation:{Feature:qL},exit:{Feature:HL}};function Pu(n,e,s,r={passive:!0}){return n.addEventListener(e,s,r),()=>n.removeEventListener(e,s)}function Ju(n){return{point:{x:n.pageX,y:n.pageY}}}const $L=n=>e=>ob(e)&&n(e,Ju(e));function yu(n,e,s,r){return Pu(n,e,$L(s),r)}const gR=1e-4,KL=1-gR,XL=1+gR,yR=.01,YL=0-yR,QL=0+yR;function zn(n){return n.max-n.min}function ZL(n,e,s){return Math.abs(n-e)<=s}function mT(n,e,s,r=.5){n.origin=r,n.originPoint=Ot(e.min,e.max,n.origin),n.scale=zn(s)/zn(e),n.translate=Ot(s.min,s.max,n.origin)-n.originPoint,(n.scale>=KL&&n.scale<=XL||isNaN(n.scale))&&(n.scale=1),(n.translate>=YL&&n.translate<=QL||isNaN(n.translate))&&(n.translate=0)}function bu(n,e,s,r){mT(n.x,e.x,s.x,r?r.originX:void 0),mT(n.y,e.y,s.y,r?r.originY:void 0)}function pT(n,e,s){n.min=s.min+e.min,n.max=n.min+zn(e)}function WL(n,e,s){pT(n.x,e.x,s.x),pT(n.y,e.y,s.y)}function gT(n,e,s){n.min=e.min-s.min,n.max=n.min+zn(e)}function Rf(n,e,s){gT(n.x,e.x,s.x),gT(n.y,e.y,s.y)}function Rs(n){return[n("x"),n("y")]}const bR=({current:n})=>n?n.ownerDocument.defaultView:null,yT=(n,e)=>Math.abs(n-e);function JL(n,e){const s=yT(n.x,e.x),r=yT(n.y,e.y);return Math.sqrt(s**2+r**2)}class vR{constructor(e,s,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ng(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,j=JL(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!j)return;const{point:D}=w,{timestamp:V}=Sn;this.history.push({...D,timestamp:V});const{onStart:B,onMove:Q}=this.handlers;k||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,w)},this.handlePointerMove=(w,k)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Cg(k,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(w,k)=>{this.end();const{onEnd:j,onSessionEnd:D,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Ng(w.type==="pointercancel"?this.lastMoveEventInfo:Cg(k,this.transformPagePoint),this.history);this.startEvent&&j&&j(w,B),D&&D(w,B)},!ob(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const h=Ju(e),m=Cg(h,this.transformPagePoint),{point:g}=m,{timestamp:v}=Sn;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=s;_&&_(e,Ng(m,this.history)),this.removeListeners=Qu(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fa(this.updatePoint)}}function Cg(n,e){return e?{point:e(n.point)}:n}function bT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Ng({point:n},e){return{point:n,delta:bT(n,_R(e)),offset:bT(n,e6(e)),velocity:t6(e,.1)}}function e6(n){return n[0]}function _R(n){return n[n.length-1]}function t6(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,r=null;const o=_R(n);for(;s>=0&&(r=n[s],!(o.timestamp-r.timestamp>Di(e)));)s--;if(!r)return{x:0,y:0};const c=Ds(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function n6(n,{min:e,max:s},r){return e!==void 0&&n<e?n=r?Ot(e,n,r.min):Math.max(n,e):s!==void 0&&n>s&&(n=r?Ot(s,n,r.max):Math.min(n,s)),n}function vT(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function s6(n,{top:e,left:s,bottom:r,right:o}){return{x:vT(n.x,s,o),y:vT(n.y,e,r)}}function _T(n,e){let s=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,r]=[r,s]),{min:s,max:r}}function i6(n,e){return{x:_T(n.x,e.x),y:_T(n.y,e.y)}}function r6(n,e){let s=.5;const r=zn(n),o=zn(e);return o>r?s=Iu(e.min,e.max-r,n.min):r>o&&(s=Iu(n.min,n.max-o,e.min)),fr(0,1,s)}function a6(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const My=.35;function o6(n=My){return n===!1?n=0:n===!0&&(n=My),{x:xT(n,"left","right"),y:xT(n,"top","bottom")}}function xT(n,e,s){return{min:wT(n,e),max:wT(n,s)}}function wT(n,e){return typeof n=="number"?n:n[e]||0}const l6=new WeakMap;class c6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ju(_).point)},u=(_,w)=>{const{drag:k,dragPropagation:j,onDragStart:D}=this.getProps();if(k&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p5(k),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(B=>{let Q=this.getAxisMotionValue(B).get()||0;if(Mi.test(Q)){const{projection:H}=this.visualElement;if(H&&H.layout){const ce=H.layout.layoutBox[B];ce&&(Q=zn(ce)*(parseFloat(Q)/100))}}this.originPoint[B]=Q}),D&&Pt.postRender(()=>D(_,w)),Iy(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},h=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:k,dragDirectionLock:j,onDirectionLock:D,onDrag:V}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:B}=w;if(j&&this.currentDirection===null){this.currentDirection=u6(B),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),V&&V(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Rs(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)==null?void 0:w.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new vR(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:bR(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Pt.postRender(()=>h(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:o}=this.getProps();if(!r||!Ph(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=n6(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;e&&pl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=s6(r.layoutBox,e):this.constraints=!1,this.elastic=o6(s),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=a6(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!pl(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=dL(r,o.root,this.visualElement.getTransformPagePoint());let u=i6(o.layout.layoutBox,c);if(s){const h=s(lL(u));this.hasMutatedConstraints=!!h,h&&(u=sR(h))}return u}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},g=Rs(v=>{if(!Ph(v,s,this.currentDirection))return;let _=m&&m[v]||{};u&&(_={min:0,max:0});const w=o?200:1e6,k=o?40:1e7,j={type:"inertia",velocity:r?e[v]:0,bounceStiffness:w,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...c,..._};return this.startAxisValueAnimation(v,j)});return Promise.all(g).then(h)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Iy(this.visualElement,e),r.start(yb(e,r,0,s,this.visualElement,!1))}stopAnimation(){Rs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rs(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[s];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rs(s=>{const{drag:r}=this.getProps();if(!Ph(s,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[s];c.set(e[s]-Ot(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!pl(s)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Rs(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();o[u]=r6({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rs(u=>{if(!Ph(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];h.set(Ot(m,g,o[u]))})}addListeners(){if(!this.visualElement.current)return;l6.set(this.visualElement,this);const e=this.visualElement.current,s=yu(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();pl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Pt.read(r);const u=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Rs(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=My,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function Ph(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function u6(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class d6 extends xa{constructor(e){super(e),this.removeGroupControls=Ms,this.removeListeners=Ms,this.controls=new c6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const ET=n=>(e,s)=>{n&&Pt.postRender(()=>n(e,s))};class h6 extends xa{constructor(){super(...arguments),this.removePointerDownListener=Ms}onPointerDown(e){this.session=new vR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:ET(e),onStart:ET(s),onMove:r,onEnd:(c,u)=>{delete this.session,o&&Pt.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ig=!1;class f6 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=e;c&&(s.group&&s.group.add(c),r&&r.register&&o&&r.register(c),Ig&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,Ig=!0,o||e.layoutDependency!==s||s===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Pt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ab.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:o}=e;Ig=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xR(n){const[e,s]=qk(),r=I.useContext(z0);return y.jsx(f6,{...n,layoutGroup:r,switchLayoutGroup:I.useContext(tR),isPresent:e,safeToRemove:s})}function m6(n,e,s){const r=Pn(n)?n:Dl(n);return r.start(yb("",r,e,s)),r.animation}const p6=(n,e)=>n.depth-e.depth;class g6{constructor(){this.children=[],this.isDirty=!1}add(e){q0(this.children,e),this.isDirty=!0}remove(e){F0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(p6),this.isDirty=!1,this.children.forEach(e)}}function y6(n,e){const s=Wn.now(),r=({timestamp:o})=>{const c=o-s;c>=e&&(fa(r),n(c-e))};return Pt.setup(r,!0),()=>fa(r)}const wR=["TopLeft","TopRight","BottomLeft","BottomRight"],b6=wR.length,TT=n=>typeof n=="string"?parseFloat(n):n,ST=n=>typeof n=="number"||Ne.test(n);function v6(n,e,s,r,o,c){o?(n.opacity=Ot(0,s.opacity??1,_6(r)),n.opacityExit=Ot(e.opacity??1,0,x6(r))):c&&(n.opacity=Ot(e.opacity??1,s.opacity??1,r));for(let u=0;u<b6;u++){const h=`border${wR[u]}Radius`;let m=AT(e,h),g=AT(s,h);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||ST(m)===ST(g)?(n[h]=Math.max(Ot(TT(m),TT(g),r),0),(Mi.test(g)||Mi.test(m))&&(n[h]+="%")):n[h]=g}(e.rotate||s.rotate)&&(n.rotate=Ot(e.rotate||0,s.rotate||0,r))}function AT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const _6=ER(0,.5,ok),x6=ER(.5,.95,Ms);function ER(n,e,s){return r=>r<n?0:r>e?1:s(Iu(n,e,r))}function kT(n,e){n.min=e.min,n.max=e.max}function Ys(n,e){kT(n.x,e.x),kT(n.y,e.y)}function RT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function CT(n,e,s,r,o){return n-=e,n=kf(n,1/s,r),o!==void 0&&(n=kf(n,1/o,r)),n}function w6(n,e=0,s=1,r=.5,o,c=n,u=n){if(Mi.test(e)&&(e=parseFloat(e),e=Ot(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ot(c.min,c.max,r);n===c&&(h-=e),n.min=CT(n.min,e,s,h,o),n.max=CT(n.max,e,s,h,o)}function NT(n,e,[s,r,o],c,u){w6(n,e[s],e[r],e[o],e.scale,c,u)}const E6=["x","scaleX","originX"],T6=["y","scaleY","originY"];function IT(n,e,s,r){NT(n.x,e,E6,s?s.x:void 0,r?r.x:void 0),NT(n.y,e,T6,s?s.y:void 0,r?r.y:void 0)}function DT(n){return n.translate===0&&n.scale===1}function TR(n){return DT(n.x)&&DT(n.y)}function MT(n,e){return n.min===e.min&&n.max===e.max}function S6(n,e){return MT(n.x,e.x)&&MT(n.y,e.y)}function jT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function SR(n,e){return jT(n.x,e.x)&&jT(n.y,e.y)}function PT(n){return zn(n.x)/zn(n.y)}function VT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class A6{constructor(){this.members=[]}add(e){q0(this.members,e),e.scheduleRender()}remove(e){if(F0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(o=>e===o);if(s===0)return!1;let r;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k6(n,e,s){let r="";const o=n.x.translate/e.x,c=n.y.translate/e.y,u=(s==null?void 0:s.z)||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:g,rotate:v,rotateX:_,rotateY:w,skewX:k,skewY:j}=s;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),k&&(r+=`skewX(${k}deg) `),j&&(r+=`skewY(${j}deg) `)}const h=n.x.scale*e.x,m=n.y.scale*e.y;return(h!==1||m!==1)&&(r+=`scale(${h}, ${m})`),r||"none"}const Dg=["","X","Y","Z"],R6=1e3;let C6=0;function Mg(n,e,s,r){const{latestValues:o}=e;o[n]&&(s[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function AR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=dR(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Pt,!(o||c))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&AR(r)}function kR({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=C6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(D6),this.nodes.forEach(V6),this.nodes.forEach(O6),this.nodes.forEach(M6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new g6)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new $0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Bk(u)&&!x5(u),this.instance=u;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),n){let v,_=0;const w=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{_=window.innerWidth}),n(u,()=>{const k=window.innerWidth;k!==_&&(_=k,this.root.updateBlockedByResize=!0,v&&v(),v=y6(w,250),ef.hasAnimatedSinceResize&&(ef.hasAnimatedSinceResize=!1,this.nodes.forEach(zT)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||q6,{onLayoutAnimationStart:D,onLayoutAnimationComplete:V}=g.getProps(),B=!this.targetLayout||!SR(this.targetLayout,k),Q=!_&&w;if(this.options.layoutRoot||this.resumeFrom||Q||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...ib(j,"layout"),onPlay:D,onComplete:V};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,Q)}else _||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P6),this.nodes.forEach(N6),this.nodes.forEach(I6)):this.nodes.forEach(LT),this.clearAllSnapshots();const h=Wn.now();Sn.delta=fr(0,1e3/60,h-Sn.timestamp),Sn.timestamp=h,Sn.isProcessing=!0,xg.update.process(Sn),xg.preRender.process(Sn),xg.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ab.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j6),this.sharedNodes.forEach(z6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!TR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(h||no(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),F6(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:u}=this.options;if(!u)return un();const h=u.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(H6))){const{scroll:v}=this.root;v&&(gl(h.x,v.offset.x),gl(h.y,v.offset.y))}return h}removeElementScroll(u){var m;const h=un();if(Ys(h,u),(m=this.scroll)!=null&&m.wasRoot)return h;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:_,options:w}=v;v!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Ys(h,u),gl(h.x,_.offset.x),gl(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const m=un();Ys(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&yl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),no(v.latestValues)&&yl(m,v.latestValues)}return no(this.latestValues)&&yl(m,this.latestValues),m}removeTransform(u){const h=un();Ys(h,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!no(g.latestValues))continue;ky(g.latestValues)&&g.updateSnapshot();const v=un(),_=g.measurePageBox();Ys(v,_),IT(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return no(this.latestValues)&&IT(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var k;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=Sn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ys(this.target,this.layout.layoutBox),rR(this.target,this.targetDelta)):Ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ky(this.parent.latestValues)||iR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Rf(this.relativeTargetOrigin,h,m),Ys(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var j;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ys(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;uL(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=un());const{target:k}=u;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RT(this.prevProjectionDelta.x,this.projectionDelta.x),RT(this.prevProjectionDelta.y,this.projectionDelta.y)),bu(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!VT(this.projectionDelta.x,this.prevProjectionDelta.x)||!VT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(u,h=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},_=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=un(),k=m?m.source:void 0,j=this.layout?this.layout.source:void 0,D=k!==j,V=this.getStack(),B=!V||V.members.length<=1,Q=!!(D&&!B&&this.options.crossfade===!0&&!this.path.some(B6));this.animationProgress=0;let H;this.mixTargetDelta=ce=>{const oe=ce/1e3;UT(_.x,u.x,oe),UT(_.y,u.y,oe),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U6(this.relativeTarget,this.relativeTargetOrigin,w,oe),H&&S6(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=un()),Ys(H,this.relativeTarget)),D&&(this.animationValues=v,v6(v,g,this.latestValues,oe,Q,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,m,g;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{ef.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dl(0)),this.currentAnimation=m6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),u.onUpdate&&u.onUpdate(v)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:g,latestValues:v}=u;if(!(!h||!m||!g)){if(this!==u&&this.layout&&g&&RR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||un();const _=zn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const w=zn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}Ys(h,m),yl(h,v),bu(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new A6),this.sharedNodes.get(u).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const g={};m.z&&Mg("z",u,g,this.animationValues);for(let v=0;v<Dg.length;v++)Mg(`rotate${Dg[v]}`,u,g,this.animationValues),Mg(`skew${Dg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Jh(h==null?void 0:h.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Jh(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!no(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=k6(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),u.transform=_;const{x:w,y:k}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const j in Ay){if(v[j]===void 0)continue;const{correct:D,applyTo:V,isCSSVariable:B}=Ay[j],Q=_==="none"?v[j]:D(v[j],g);if(V){const H=V.length;for(let ce=0;ce<H;ce++)u[V[ce]]=Q}else B?this.options.visualElement.renderState.vars[j]=Q:u[j]=Q}this.options.layoutId&&(u.pointerEvents=g===this?Jh(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(OT),this.root.sharedNodes.clear()}}}function N6(n){n.updateLayout()}function I6(n){var s;const e=((s=n.resumeFrom)==null?void 0:s.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:c}=n.options,u=e.source!==n.layout.source;c==="size"?Rs(_=>{const w=u?e.measuredBox[_]:e.layoutBox[_],k=zn(w);w.min=r[_].min,w.max=w.min+k}):RR(c,e.layoutBox,r)&&Rs(_=>{const w=u?e.measuredBox[_]:e.layoutBox[_],k=zn(r[_]);w.max=w.min+k,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+k)});const h=bl();bu(h,r,e.layoutBox);const m=bl();u?bu(m,n.applyTransform(o,!0),e.measuredBox):bu(m,r,e.layoutBox);const g=!TR(h);let v=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:k}=_;if(w&&k){const j=un();Rf(j,e.layoutBox,w.layoutBox);const D=un();Rf(D,r,k.layoutBox),SR(j,D)||(v=!0),_.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=j,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function D6(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function M6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function j6(n){n.clearSnapshot()}function OT(n){n.clearMeasurements()}function LT(n){n.isLayoutDirty=!1}function P6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function zT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function V6(n){n.resolveTargetDelta()}function O6(n){n.calcProjection()}function L6(n){n.resetSkewAndRotation()}function z6(n){n.removeLeadSnapshot()}function UT(n,e,s){n.translate=Ot(e.translate,0,s),n.scale=Ot(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function BT(n,e,s,r){n.min=Ot(e.min,s.min,r),n.max=Ot(e.max,s.max,r)}function U6(n,e,s,r){BT(n.x,e.x,s.x,r),BT(n.y,e.y,s.y,r)}function B6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const q6={duration:.45,ease:[.4,0,.1,1]},qT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),FT=qT("applewebkit/")&&!qT("chrome/")?Math.round:Ms;function HT(n){n.min=FT(n.min),n.max=FT(n.max)}function F6(n){HT(n.x),HT(n.y)}function RR(n,e,s){return n==="position"||n==="preserve-aspect"&&!ZL(PT(e),PT(s),.2)}function H6(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const G6=kR({attachResizeListener:(n,e)=>Pu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jg={current:void 0},CR=kR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jg.current){const n=new G6({});n.mount(window),n.setOptions({layoutScroll:!0}),jg.current=n}return jg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),$6={pan:{Feature:h6},drag:{Feature:d6,ProjectionNode:CR,MeasureLayout:xR}};function GT(n,e,s){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=r[o];c&&Pt.postRender(()=>c(e,Ju(e)))}class K6 extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=g5(e,(s,r)=>(GT(this.node,r,"Start"),o=>GT(this.node,o,"End"))))}unmount(){}}class X6 extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $T(n,e,s){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=r[o];c&&Pt.postRender(()=>c(e,Ju(e)))}class Y6 extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=_5(e,(s,r)=>($T(this.node,r,"Start"),(o,{success:c})=>$T(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jy=new WeakMap,Pg=new WeakMap,Q6=n=>{const e=jy.get(n.target);e&&e(n)},Z6=n=>{n.forEach(Q6)};function W6({root:n,...e}){const s=n||document;Pg.has(s)||Pg.set(s,{});const r=Pg.get(s),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(Z6,{root:n,...e})),r[o]}function J6(n,e,s){const r=W6(e);return jy.set(n,s),r.observe(n),()=>{jy.delete(n),r.unobserve(n)}}const ez={some:0,all:1};class tz extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:o="some",once:c}=e,u={root:s?s.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:ez[o]},h=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),w=g?v:_;w&&w(m)};return J6(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(nz(e,s))&&this.startObserver()}unmount(){}}function nz({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const sz={inView:{Feature:tz},tap:{Feature:Y6},focus:{Feature:X6},hover:{Feature:K6}},iz={layout:{ProjectionNode:CR,MeasureLayout:xR}},rz={...GL,...sz,...$6,...iz},jn=oL(rz,_L);function NR(n){var e,s,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(s=NR(n[e]))&&(r&&(r+=" "),r+=s)}else for(s in n)n[s]&&(r&&(r+=" "),r+=s);return r}function IR(){for(var n,e,s=0,r="",o=arguments.length;s<o;s++)(n=arguments[s])&&(e=NR(n))&&(r&&(r+=" "),r+=e);return r}const az=(n,e)=>{const s=new Array(n.length+e.length);for(let r=0;r<n.length;r++)s[r]=n[r];for(let r=0;r<e.length;r++)s[n.length+r]=e[r];return s},oz=(n,e)=>({classGroupId:n,validator:e}),DR=(n=new Map,e=null,s)=>({nextPart:n,validators:e,classGroupId:s}),Cf="-",KT=[],lz="arbitrary..",cz=n=>{const e=dz(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return uz(u);const h=u.split(Cf),m=h[0]===""&&h.length>1?1:0;return MR(h,m,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const m=r[u],g=s[u];return m?g?az(g,m):m:g||KT}return s[u]||KT}}},MR=(n,e,s)=>{if(n.length-e===0)return s.classGroupId;const o=n[e],c=s.nextPart.get(o);if(c){const g=MR(n,e+1,c);if(g)return g}const u=s.validators;if(u===null)return;const h=e===0?n.join(Cf):n.slice(e).join(Cf),m=u.length;for(let g=0;g<m;g++){const v=u[g];if(v.validator(h))return v.classGroupId}},uz=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),s=e.indexOf(":"),r=e.slice(0,s);return r?lz+r:void 0})(),dz=n=>{const{theme:e,classGroups:s}=n;return hz(s,e)},hz=(n,e)=>{const s=DR();for(const r in n){const o=n[r];bb(o,s,r,e)}return s},bb=(n,e,s,r)=>{const o=n.length;for(let c=0;c<o;c++){const u=n[c];fz(u,e,s,r)}},fz=(n,e,s,r)=>{if(typeof n=="string"){mz(n,e,s);return}if(typeof n=="function"){pz(n,e,s,r);return}gz(n,e,s,r)},mz=(n,e,s)=>{const r=n===""?e:jR(e,n);r.classGroupId=s},pz=(n,e,s,r)=>{if(yz(n)){bb(n(r),e,s,r);return}e.validators===null&&(e.validators=[]),e.validators.push(oz(s,n))},gz=(n,e,s,r)=>{const o=Object.entries(n),c=o.length;for(let u=0;u<c;u++){const[h,m]=o[u];bb(m,jR(e,h),s,r)}},jR=(n,e)=>{let s=n;const r=e.split(Cf),o=r.length;for(let c=0;c<o;c++){const u=r[c];let h=s.nextPart.get(u);h||(h=DR(),s.nextPart.set(u,h)),s=h}return s},yz=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,bz=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,s=Object.create(null),r=Object.create(null);const o=(c,u)=>{s[c]=u,e++,e>n&&(e=0,r=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=r[c])!==void 0)return o(c,u),u},set(c,u){c in s?s[c]=u:o(c,u)}}},Py="!",XT=":",vz=[],YT=(n,e,s,r,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:s,maybePostfixModifierPosition:r,isExternal:o}),_z=n=>{const{prefix:e,experimentalParseClassName:s}=n;let r=o=>{const c=[];let u=0,h=0,m=0,g;const v=o.length;for(let D=0;D<v;D++){const V=o[D];if(u===0&&h===0){if(V===XT){c.push(o.slice(m,D)),m=D+1;continue}if(V==="/"){g=D;continue}}V==="["?u++:V==="]"?u--:V==="("?h++:V===")"&&h--}const _=c.length===0?o:o.slice(m);let w=_,k=!1;_.endsWith(Py)?(w=_.slice(0,-1),k=!0):_.startsWith(Py)&&(w=_.slice(1),k=!0);const j=g&&g>m?g-m:void 0;return YT(c,k,w,j)};if(e){const o=e+XT,c=r;r=u=>u.startsWith(o)?c(u.slice(o.length)):YT(vz,!1,u,void 0,!0)}if(s){const o=r;r=c=>s({className:c,parseClassName:o})}return r},xz=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((s,r)=>{e.set(s,1e6+r)}),s=>{const r=[];let o=[];for(let c=0;c<s.length;c++){const u=s[c],h=u[0]==="[",m=e.has(u);h||m?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},wz=n=>({cache:bz(n.cacheSize),parseClassName:_z(n),sortModifiers:xz(n),...cz(n)}),Ez=/\s+/,Tz=(n,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],h=n.trim().split(Ez);let m="";for(let g=h.length-1;g>=0;g-=1){const v=h[g],{isExternal:_,modifiers:w,hasImportantModifier:k,baseClassName:j,maybePostfixModifierPosition:D}=s(v);if(_){m=v+(m.length>0?" "+m:m);continue}let V=!!D,B=r(V?j.substring(0,D):j);if(!B){if(!V){m=v+(m.length>0?" "+m:m);continue}if(B=r(j),!B){m=v+(m.length>0?" "+m:m);continue}V=!1}const Q=w.length===0?"":w.length===1?w[0]:c(w).join(":"),H=k?Q+Py:Q,ce=H+B;if(u.indexOf(ce)>-1)continue;u.push(ce);const oe=o(B,V);for(let de=0;de<oe.length;++de){const C=oe[de];u.push(H+C)}m=v+(m.length>0?" "+m:m)}return m},Sz=(...n)=>{let e=0,s,r,o="";for(;e<n.length;)(s=n[e++])&&(r=PR(s))&&(o&&(o+=" "),o+=r);return o},PR=n=>{if(typeof n=="string")return n;let e,s="";for(let r=0;r<n.length;r++)n[r]&&(e=PR(n[r]))&&(s&&(s+=" "),s+=e);return s},Az=(n,...e)=>{let s,r,o,c;const u=m=>{const g=e.reduce((v,_)=>_(v),n());return s=wz(g),r=s.cache.get,o=s.cache.set,c=h,h(m)},h=m=>{const g=r(m);if(g)return g;const v=Tz(m,s);return o(m,v),v};return c=u,(...m)=>c(Sz(...m))},kz=[],cn=n=>{const e=s=>s[n]||kz;return e.isThemeGetter=!0,e},VR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,OR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rz=/^\d+\/\d+$/,Cz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Iz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Dz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,al=n=>Rz.test(n),He=n=>!!n&&!Number.isNaN(Number(n)),Yr=n=>!!n&&Number.isInteger(Number(n)),Vg=n=>n.endsWith("%")&&He(n.slice(0,-1)),tr=n=>Cz.test(n),jz=()=>!0,Pz=n=>Nz.test(n)&&!Iz.test(n),LR=()=>!1,Vz=n=>Dz.test(n),Oz=n=>Mz.test(n),Lz=n=>!be(n)&&!ve(n),zz=n=>Yl(n,BR,LR),be=n=>VR.test(n),Ja=n=>Yl(n,qR,Pz),Og=n=>Yl(n,Hz,He),QT=n=>Yl(n,zR,LR),Uz=n=>Yl(n,UR,Oz),Vh=n=>Yl(n,FR,Vz),ve=n=>OR.test(n),tu=n=>Ql(n,qR),Bz=n=>Ql(n,Gz),ZT=n=>Ql(n,zR),qz=n=>Ql(n,BR),Fz=n=>Ql(n,UR),Oh=n=>Ql(n,FR,!0),Yl=(n,e,s)=>{const r=VR.exec(n);return r?r[1]?e(r[1]):s(r[2]):!1},Ql=(n,e,s=!1)=>{const r=OR.exec(n);return r?r[1]?e(r[1]):s:!1},zR=n=>n==="position"||n==="percentage",UR=n=>n==="image"||n==="url",BR=n=>n==="length"||n==="size"||n==="bg-size",qR=n=>n==="length",Hz=n=>n==="number",Gz=n=>n==="family-name",FR=n=>n==="shadow",$z=()=>{const n=cn("color"),e=cn("font"),s=cn("text"),r=cn("font-weight"),o=cn("tracking"),c=cn("leading"),u=cn("breakpoint"),h=cn("container"),m=cn("spacing"),g=cn("radius"),v=cn("shadow"),_=cn("inset-shadow"),w=cn("text-shadow"),k=cn("drop-shadow"),j=cn("blur"),D=cn("perspective"),V=cn("aspect"),B=cn("ease"),Q=cn("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...ce(),ve,be],de=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],S=()=>[ve,be,m],N=()=>[al,"full","auto",...S()],P=()=>[Yr,"none","subgrid",ve,be],L=()=>["auto",{span:["full",Yr,ve,be]},Yr,ve,be],q=()=>[Yr,"auto",ve,be],M=()=>["auto","min","max","fr",ve,be],Ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],tt=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...S()],re=()=>[al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],te=()=>[n,ve,be],Ae=()=>[...ce(),ZT,QT,{position:[ve,be]}],Ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",qz,zz,{size:[ve,be]}],ee=()=>[Vg,tu,Ja],le=()=>["","none","full",g,ve,be],he=()=>["",He,tu,Ja],Se=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[He,Vg,ZT,QT],Et=()=>["","none",j,ve,be],ot=()=>["none",He,ve,be],Un=()=>["none",He,ve,be],es=()=>[He,ve,be],Bn=()=>[al,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[tr],breakpoint:[tr],color:[jz],container:[tr],"drop-shadow":[tr],ease:["in","out","in-out"],font:[Lz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[tr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[tr],shadow:[tr],spacing:["px",He],text:[tr],"text-shadow":[tr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",al,be,ve,V]}],container:["container"],columns:[{columns:[He,be,ve,h]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Yr,"auto",ve,be]}],basis:[{basis:[al,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,al,"auto","initial","none",be]}],grow:[{grow:["",He,ve,be]}],shrink:[{shrink:["",He,ve,be]}],order:[{order:[Yr,"first","last","none",ve,be]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Ge(),"normal"]}],"justify-items":[{"justify-items":[...tt(),"normal"]}],"justify-self":[{"justify-self":["auto",...tt()]}],"align-content":[{content:["normal",...Ge()]}],"align-items":[{items:[...tt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...tt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ge()}],"place-items":[{"place-items":[...tt(),"baseline"]}],"place-self":[{"place-self":["auto",...tt()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[h,"screen",...re()]}],"min-w":[{"min-w":[h,"screen","none",...re()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",s,tu,Ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,Og]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vg,be]}],"font-family":[{font:[Bz,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ve,be]}],"line-clamp":[{"line-clamp":[He,"none",ve,Og]}],leading:[{leading:[c,...S()]}],"list-image":[{"list-image":["none",ve,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",ve,Ja]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[He,"auto",ve,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:Ie()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yr,ve,be],radial:["",ve,be],conic:[Yr,ve,be]},Fz,Uz]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,ve,be]}],"outline-w":[{outline:["",He,tu,Ja]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",v,Oh,Vh]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",_,Oh,Vh]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[He,Ja]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",w,Oh,Vh]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[He,ve,be]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[ve,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ce()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:Ie()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,be]}],filter:[{filter:["","none",ve,be]}],blur:[{blur:Et()}],brightness:[{brightness:[He,ve,be]}],contrast:[{contrast:[He,ve,be]}],"drop-shadow":[{"drop-shadow":["","none",k,Oh,Vh]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",He,ve,be]}],"hue-rotate":[{"hue-rotate":[He,ve,be]}],invert:[{invert:["",He,ve,be]}],saturate:[{saturate:[He,ve,be]}],sepia:[{sepia:["",He,ve,be]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,be]}],"backdrop-blur":[{"backdrop-blur":Et()}],"backdrop-brightness":[{"backdrop-brightness":[He,ve,be]}],"backdrop-contrast":[{"backdrop-contrast":[He,ve,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,ve,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,ve,be]}],"backdrop-invert":[{"backdrop-invert":["",He,ve,be]}],"backdrop-opacity":[{"backdrop-opacity":[He,ve,be]}],"backdrop-saturate":[{"backdrop-saturate":[He,ve,be]}],"backdrop-sepia":[{"backdrop-sepia":["",He,ve,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",ve,be]}],ease:[{ease:["linear","initial",B,ve,be]}],delay:[{delay:[He,ve,be]}],animate:[{animate:["none",Q,ve,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,ve,be]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:ot()}],"rotate-x":[{"rotate-x":ot()}],"rotate-y":[{"rotate-y":ot()}],"rotate-z":[{"rotate-z":ot()}],scale:[{scale:Un()}],"scale-x":[{"scale-x":Un()}],"scale-y":[{"scale-y":Un()}],"scale-z":[{"scale-z":Un()}],"scale-3d":["scale-3d"],skew:[{skew:es()}],"skew-x":[{"skew-x":es()}],"skew-y":[{"skew-y":es()}],transform:[{transform:[ve,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Bn()}],"translate-x":[{"translate-x":Bn()}],"translate-y":[{"translate-y":Bn()}],"translate-z":[{"translate-z":Bn()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,be]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[He,tu,Ja,Og]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HR=Az($z);function Kz(...n){return HR(IR(n))}const Is=({className:n,variant:e="primary",size:s="md",leftIcon:r,rightIcon:o,children:c,...u})=>{const h="relative font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",m={primary:"bg-primary text-white shadow-lg shadow-blue-500/30 hover:bg-blue-600 hover:shadow-blue-500/50",secondary:"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700",ghost:"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",danger:"bg-red-500 text-white shadow-lg shadow-red-500/30 hover:bg-red-600"},g={sm:"h-8 px-3 text-xs",md:"h-11 px-6 text-sm",lg:"h-14 px-8 text-base"};return y.jsxs(jn.button,{whileHover:{scale:1.02},whileTap:{scale:.95},className:Kz(h,m[e],g[s],n),...u,children:[r&&y.jsx("span",{className:"text-[1.2em] flex",children:r}),c,o&&y.jsx("span",{className:"text-[1.2em] flex",children:o})]})};!user&&t("login");const Xz=()=>{const n=ni(),e=pa(),{user:s,logout:r}=Ps(),{t:o}=fn(),[c,u]=I.useState(!1),[h,m]=I.useState(!1),[g,v]=I.useState(!1);I.useEffect(()=>{const D=()=>u(window.scrollY>20);return window.addEventListener("scroll",D),document.documentElement.classList.contains("dark")&&v(!0),()=>window.removeEventListener("scroll",D)},[]);const _=()=>{Rt.click(),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),v(!1)):(document.documentElement.classList.add("dark"),v(!0))},w=async()=>{Rt.click(),await r(),e("/")},k=D=>n.pathname===D,j=[{label:"Hasiera",path:"/",icon:"home"},{label:"Temarioa",path:"/topics",icon:"menu_book"},{label:"Jela",path:"/games",icon:"sports_esports"},{label:"Denda",path:"/shop",icon:"storefront"}];return s!=null&&s.isAdmin&&j.push({label:"Admin",path:"/admin",icon:"admin_panel_settings"}),y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${c?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md py-3 shadow-md border-slate-200 dark:border-slate-800":"bg-transparent py-5 border-transparent"} `,children:[y.jsxs("div",{className:"layout-container px-4 md:px-8 flex items-center justify-between",children:[y.jsxs(dt,{to:"/",className:"flex items-center gap-2 group",children:[y.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white shadow-lg group-hover:scale-105 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"calculate"})}),y.jsxs("span",{className:"font-black text-xl tracking-tight text-slate-900 dark:text-white hidden sm:block",children:["Zenbaki",y.jsx("span",{className:"text-primary",children:"Osoak"})]})]}),y.jsx("nav",{className:"hidden md:flex items-center gap-1 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-1.5 rounded-full border border-slate-200/50 dark:border-slate-700/50 shadow-sm",children:j.map(D=>{const V=n.pathname===D.path;return y.jsx(dt,{to:D.path,className:`relative px-4 py-2 rounded-full text-sm font-bold transition-all ${V?"text-primary bg-white dark:bg-slate-900 shadow-sm":"text-slate-500 hover:text-slate-900 dark:hover:text-white"} `,children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`material-symbols-outlined text-[20px] ${V?"filled":""} `,children:D.icon}),D.label]})},D.path)})}),y.jsxs("div",{className:"flex items-center gap-3",children:[s&&y.jsxs(dt,{to:"/shop",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-yellow-400/10 to-amber-500/10 dark:from-yellow-400/20 dark:to-amber-500/20 px-3 py-1.5 rounded-full border border-yellow-200 dark:border-yellow-900/50 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors cursor-pointer group",children:[y.jsx("span",{className:"material-symbols-outlined text-amber-500 group-hover:scale-110 transition-transform",children:"monetization_on"}),y.jsx("span",{className:"font-black text-amber-700 dark:text-amber-400 text-sm",children:s.coins||0})]}),y.jsx("button",{onClick:_,className:"size-10 rounded-full flex items-center justify-center text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:y.jsx("span",{className:"material-symbols-outlined text-xl",children:g?"light_mode":"dark_mode"})}),s?y.jsxs("div",{className:"group relative",children:[y.jsx(dt,{to:"/profile",children:y.jsx("div",{className:"size-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white dark:border-slate-700 shadow-md cursor-pointer hover:border-primary transition-colors",children:y.jsx("img",{src:s.photoURL,alt:"User",className:"size-full object-cover"})})}),y.jsxs("div",{className:"absolute right-0 top-10 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 p-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all translate-y-2 group-hover:translate-y-0 z-50",children:[y.jsxs("div",{className:"px-3 py-2 border-b border-slate-100 dark:border-slate-700 mb-2",children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:s.displayName}),y.jsxs("p",{className:"text-xs text-primary font-mono font-bold",children:[s.xp," XP"]})]}),y.jsxs("button",{onClick:w,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 text-sm font-medium transition-colors text-left",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"})," Irten"]})]})]}):y.jsx(dt,{to:"/login",children:y.jsx(Is,{size:"sm",children:"Sartu"})}),y.jsx("button",{className:"md:hidden size-10 flex items-center justify-center text-slate-900 dark:text-white",onClick:()=>m(!h),children:y.jsx("span",{className:"material-symbols-outlined",children:h?"close":"menu"})})]})]}),y.jsx(Fk,{children:h&&y.jsx(jn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 overflow-hidden",children:y.jsxs("nav",{className:"flex flex-col p-4 gap-2",children:[y.jsxs(dt,{to:"/",onClick:()=>m(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${k("/")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[y.jsx("span",{className:"material-symbols-outlined",children:"home"})," ",o("nav_home")]}),y.jsxs(dt,{to:"/topics",onClick:()=>m(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${k("/topics")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[y.jsx("span",{className:"material-symbols-outlined",children:"menu_book"})," ",o("nav_learn")]}),y.jsxs(dt,{to:"/games",onClick:()=>m(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${k("/games")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[y.jsx("span",{className:"material-symbols-outlined",children:"sports_esports"})," ",o("nav_games")]}),y.jsxs(dt,{to:"/shop",onClick:()=>m(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${k("/shop")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[y.jsx("span",{className:"material-symbols-outlined",children:"storefront"})," ",o("nav_shop")]}),(s==null?void 0:s.isAdmin)&&y.jsxs(dt,{to:"/admin",onClick:()=>m(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${k("/admin")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[y.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"})," ",o("nav_admin")]}),s&&y.jsxs(dt,{to:"/profile",onClick:()=>m(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${k("/profile")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[y.jsx("span",{className:"material-symbols-outlined",children:"account_circle"})," ",o("nav_profile")]}),!s&&y.jsxs("button",{onClick:()=>{signInWithGoogle(),m(!1)},className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:opacity-90 transition-opacity",children:[y.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),o("login")]}),s&&y.jsxs("button",{onClick:()=>{w(),m(!1)},className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"})," ",o("logout")]})]})})})]}),y.jsx("div",{className:"h-[76px]"})]})},Yz=()=>{const{t:n}=fn();return y.jsx("footer",{className:"w-full border-t border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark py-10 px-10",children:y.jsxs("div",{className:"max-w-[1200px] mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[y.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[y.jsx("div",{className:"size-6 text-primary",children:y.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"})})}),y.jsx("span",{className:"font-bold text-lg",children:n("hero_title")})]}),y.jsxs("div",{className:"flex gap-8 text-sm font-medium text-slate-600 dark:text-slate-400",children:[y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:n("for_teachers")}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:n("help")}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:n("privacy")})]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:n("copyright")})]})})},Qz=()=>{const{toasts:n,removeToast:e}=Gl(),s=o=>{switch(o){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"xp":return"bg-yellow-400 text-slate-900 border-yellow-500 font-black";case"achievement":return"bg-purple-600 text-white border-purple-400 font-bold shadow-purple-500/50";default:return"bg-slate-800 text-white border-slate-900"}},r=o=>{switch(o){case"success":return"check_circle";case"error":return"error";case"xp":return"bolt";case"achievement":return"emoji_events";default:return"info"}};return y.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",children:n.map(o=>y.jsxs("div",{onClick:()=>e(o.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border-b-4 cursor-pointer animate-in slide-in-from-right fade-in duration-300 hover:scale-105 transition-transform ${s(o.type)}`,children:[y.jsx("span",{className:"material-symbols-outlined",children:r(o.type)}),y.jsx("span",{className:"text-sm font-bold",children:o.message})]},o.id))})},Zz=()=>{const{user:n}=Ps(),e=ni(),[s,r]=I.useState(null),o=I.useRef({}),c=I.useRef(e.pathname),u=I.useRef(Date.now()),h=I.useRef(null);return I.useEffect(()=>{n&&!s&&(async()=>{const g=navigator.userAgent;try{const v=await fs.startSession(n.uid,g);r(v),console.log("Session started:",v)}catch(v){console.error("Failed to start session:",v)}})()},[n,s]),I.useEffect(()=>{if(!s)return;const m=Date.now(),g=Math.floor((m-u.current)/1e3),v=c.current;g>0&&(o.current[v]=(o.current[v]||0)+g),c.current=e.pathname,u.current=m,fs.updateSession(s,o.current)},[e.pathname,s]),I.useEffect(()=>{if(s)return h.current=setInterval(()=>{const m=Date.now(),g=Math.floor((m-u.current)/1e3),v=c.current,_={...o.current};_[v]=(_[v]||0)+g,fs.updateSession(s,_)},3e4),()=>{h.current&&clearInterval(h.current)}},[s]),I.useEffect(()=>()=>{if(s){const m=Date.now(),g=Math.floor((m-u.current)/1e3),v=c.current;o.current[v]=(o.current[v]||0)+g,fs.endSession(s,o.current),console.log("Session ended:",s)}},[s]),null};function Wz(...n){return HR(IR(n))}const Si=({className:n,variant:e="glass",hoverEffect:s=!0,children:r,...o})=>{const c="rounded-2xl p-6 transition-all duration-300 relative overflow-hidden",u={glass:"bg-surface-light/80 dark:bg-surface-dark/70 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-xl shadow-slate-200/50 dark:shadow-black/40",solid:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg",outline:"bg-transparent border-2 border-slate-200 dark:border-slate-700"},h=s?"hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/10 hover:border-primary/30 dark:hover:border-primary/30":"";return y.jsxs(jn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Wz(c,u[e],h,n),...o,children:[e==="glass"&&y.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),r]})},Jz=()=>{var u;const{user:n,loginAsGuest:e}=Ps(),{t:s}=fn(),[r,o]=I.useState(0),c=5e4;return I.useEffect(()=>{(async()=>{const g=(await fs.getLeaderboard()).reduce((v,_)=>v+_.xp,0);o(g)})()},[]),n?y.jsxs("main",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-7xl mx-auto w-full",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[y.jsxs(jn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:["Kaixo, ",y.jsxs("span",{className:"text-primary bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:[n.displayName,"!"]})]}),y.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 font-medium",children:"Prest zure abentura matematikoarekin jarraitzeko?"}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx(dt,{to:"/games",children:y.jsx(Is,{size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),children:"Jolastu"})}),y.jsx(dt,{to:"/progress",children:y.jsx(Is,{variant:"secondary",size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"bar_chart"}),children:"Nire Aurrerapena"})})]})]}),y.jsxs(Si,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-none relative overflow-visible",children:[y.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[y.jsx("div",{className:"size-24 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-inner",children:y.jsx("div",{className:"size-20 rounded-xl bg-cover bg-center",style:{backgroundImage:`url("${n.photoURL}")`}})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-blue-100 text-sm font-bold uppercase tracking-wider mb-1",children:"Zure Maila"}),y.jsx("div",{className:"text-4xl font-black",children:n.level}),y.jsx("div",{className:"w-full h-3 bg-black/20 rounded-full mt-3 overflow-hidden",children:y.jsx(jn.div,{initial:{width:0},animate:{width:`${n.xp%500/5}%`},className:"h-full bg-white rounded-full"})}),y.jsxs("div",{className:"text-right text-xs mt-1 font-mono opacity-80",children:[n.xp%500," / 500 XP"]})]})]}),y.jsx("div",{className:"absolute -top-10 -right-10 size-40 rounded-full bg-white/10 blur-3xl"}),y.jsx("div",{className:"absolute -bottom-10 -left-10 size-40 rounded-full bg-blue-400/20 blur-3xl"})]})]}),y.jsx("section",{children:y.jsx(Si,{className:"border-2 border-primary/20 bg-gradient-to-r from-slate-50 to-blue-50/50 dark:from-slate-800 dark:to-slate-800/50",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs(Si,{className:"p-6",children:[y.jsxs("h2",{className:"text-xl font-black mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"task_alt"}),s("daily_missions")]}),n?y.jsxs("div",{className:"space-y-4",children:[(u=n.missions)==null?void 0:u.map(h=>y.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:h.description}),h.completed?y.jsxs("span",{className:"text-xs font-black text-green-500 bg-green-100 px-2 py-0.5 rounded-full flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})," ",s("completed")]}):y.jsxs("span",{className:"text-xs font-bold text-amber-500 bg-amber-100 dark:bg-amber-900/30 px-2 py-0.5 rounded-full flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"})," ",h.reward]})]}),y.jsx("div",{className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${h.completed?"bg-green-500":"bg-blue-500"} transition-all duration-500`,style:{width:`${Math.min(100,h.progress/h.target*100)}%`}})}),y.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-right",children:[h.progress," / ",h.target]})]},h.id)),!n.missions&&y.jsx("p",{className:"text-sm text-slate-500",children:"Kargatzen..."})]}):y.jsxs("div",{className:"text-center py-6 text-slate-400",children:[y.jsx("p",{children:"Sartu saioa misioak ikusteko."}),y.jsx(dt,{to:"/login",children:y.jsx(Is,{size:"sm",variant:"secondary",className:"mt-2",children:"Hasi Saioa"})})]})]}),y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-3xl",children:"trophy"}),"Klasearen Helburua"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Guztion artean lortu behar dugu!"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-3xl font-black text-primary",children:r.toLocaleString()}),y.jsxs("span",{className:"text-slate-400 font-bold",children:[" / ",c.toLocaleString()," XP"]})]})]}),y.jsx("div",{className:"w-full h-8 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden shadow-inner relative",children:y.jsx(jn.div,{initial:{width:0},animate:{width:`${Math.min(100,r/c*100)}%`},className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 relative",children:y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,.15)_25%,transparent_25%,transparent_50%,rgba(255,255,255,.15)_50%,rgba(255,255,255,.15)_75%,transparent_75%,transparent)] bg-[length:1rem_1rem] animate-[progress-bar-stripes_1s_linear_infinite]"})})}),y.jsxs("p",{className:"text-center text-sm font-bold text-slate-500 mt-2",children:[Math.round(r/c*100),"% osatuta - Jarraitu horrela!"]})]}),y.jsxs("div",{className:"shrink-0 text-center bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm rotate-3 hover:rotate-0 transition-transform duration-300",children:[y.jsx("div",{className:"text-4xl mb-2",children:""}),y.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:"Sari Berezia"}),y.jsx("div",{className:"text-xs text-slate-400",children:"50k XP lortzean"})]})]})})}),y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(dt,{to:"/topics",className:"contents",children:y.jsxs(Si,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-blue-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"menu_book"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Teoria"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Ikasi eta errepasatu kontzeptuak jokoan hasi aurretik."})]})}),y.jsx(dt,{to:"/games",className:"contents",children:y.jsxs(Si,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-green-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"joystick"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Jolastu"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Jarri zure gaitasunak proban eta irabazi XP!"})]})}),y.jsx(dt,{to:"/progress",className:"contents",children:y.jsxs(Si,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-purple-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"military_tech"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Lorpenak"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Begiratu zure dominak eta desblokeatu berriak."})]})})]})]}):y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-20 left-10 size-64 bg-primary/20 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-20 right-10 size-80 bg-purple-500/20 rounded-full blur-[100px] animate-pulse",style:{animationDelay:"1s"}}),y.jsxs("div",{className:"relative z-10 max-w-2xl space-y-8",children:[y.jsxs(jn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight mb-4",children:["Zenbaki ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600",children:"Osoen"}),y.jsx("br",{})," Abentura"]}),y.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium max-w-lg mx-auto",children:"Ikasi matematikak jolasten! Irabazi puntuak, igo mailaz eta bihurtu klaseko txapelduna."})]}),y.jsxs(jn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[y.jsx(dt,{to:"/login",children:y.jsx(Is,{size:"lg",className:"w-full sm:w-auto shadow-xl shadow-primary/30",children:"Hasi Saioa"})}),y.jsx("button",{onClick:e,children:y.jsx(Is,{variant:"ghost",size:"lg",className:"w-full sm:w-auto",children:"Gonbidatu gisa sartu"})})]}),y.jsx(jn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-12",children:[{icon:"sports_esports",label:"Jolasak"},{icon:"military_tech",label:"Lorpenak"},{icon:"school",label:"Teoria"},{icon:"group",label:"Lagunak"}].map((h,m)=>y.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-slate-200 dark:border-slate-700",children:[y.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:h.icon}),y.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:h.label})]},m))})]})]})},vu=[{id:"intro",title:"1. Unitatea: Oinarriak",description:"Zenbaki osoen definizioa (Z), ordenatzea eta balio absolutua.",content:`
            <h3>Zer dira Zenbaki Osoak (Z)?</h3>
            <p>Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:</p>
            <ul>
                <li><strong>Positiboak:</strong> (+1, +2...)  "Daukadana".</li>
                <li><strong>Zero:</strong> (0)  Muga.</li>
                <li><strong>Negatiboak:</strong> (-1, -2...)  "Zor dudana" edo "Zero azpitik".</li>
            </ul>
            <br/>
            <h3>Zuzen Erreala eta Ordena</h3>
            <p>Zenbakiak lerro batean ordenatzen dira. Eskuinerantz handitzen dira.</p>
            <p><strong>Garrantzitsua:</strong> Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta <strong>txikiagoa</strong> da balioa (-100 < -1).</p>
        `,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correct:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correct:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correct:0}]},{id:"operations",title:"2. Unitatea: Batuketa eta Kenketa",description:"Parentesiak kendu eta eragiketa sinpleak.",content:`
            <h3>1. Pausoa: Parentesiak Kendu</h3>
            <p>Zenbaki baten aurrean zeinu bat badago:</p>
            <ul>
                <li><strong>Zeinu berdinak (+ + edo - -)</strong>  Positibo bihurtzen da (+).</li>
                <li><strong>Zeinu ezberdinak (+ - edo - +)</strong>  Negatibo bihurtzen da (-).</li>
            </ul>
            <br/>
            <h3>2. Pausoa: Eragiketa Egin</h3>
            <ul>
                <li><strong>Zeinu Berdina:</strong> Zenbakiak BATU eta zeinua mantendu. (+5+3=+8)</li>
                <li><strong>Zeinu Ezberdina:</strong> Zenbakiak KENDU eta handienaren zeinua jarri. (+5-3=+2)</li>
            </ul>
        `,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correct:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correct:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correct:2}]},{id:"multiplication",title:"3. Unitatea: Biderketa eta Zatiketa",description:"Zeinuen legea eta parentesi anitzak.",content:`
            <h3>Zeinuen Legea</h3>
            <p>Biderketetan eta zatiketetan arau hau betetzen da BETI:</p>
            <ul>
                <li>+  + = +</li>
                <li>-  - = +</li>
                <li>+  - = -</li>
                <li>-  + = -</li>
            </ul>
            <p><strong>Aholkua:</strong> Lagunaren araua: "Nire lagunaren (+) laguna (+) nire laguna da (+)". "Nire etsaien (-) etsaia (-) nire laguna da (+)".</p>
        `,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correct:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correct:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correct:2}]},{id:"powers",title:"4. Unitatea: Berreketak",description:"Potentziak, erro karratuak eta propietateak.",content:`
            <h3>Berreketen Propietateak</h3>
            <ul>
                <li><strong>Biderketa (Oinarri berdina):</strong> Berretzaileak BATU (a^n  a^m = a^(n+m)).</li>
                <li><strong>Zatiketa (Oinarri berdina):</strong> Berretzaileak KENDU (a^n : a^m = a^(n-m)).</li>
                <li><strong>Berreketaren Berreketa:</strong> Berretzaileak BIDERKATU ((a^n)^m = a^(nm)).</li>
            </ul>
            <br/>
            <h3>Zeinuen Araua (Oinarri Negatiboa)</h3>
            <ul>
                <li><strong>Berretzaile BIKOITIA (2, 4...):</strong> Emaitza POSITIBOA (+).</li>
                <li><strong>Berretzaile BAKOITIA (3, 5...):</strong> Oinarriaren zeinua mantendu.</li>
            </ul>
        `,quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correct:0},{question:"Zein da (-2)^2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correct:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correct:1}]},{id:"advanced",title:"5. Unitatea: Konbinatuak",description:"Eragiketen hierarkia (PEMDAS).",content:`
            <h3>Eragiketen Hierarkia (PEMDAS)</h3>
            <p>Ordena hau jarraitu behar da beti:</p>
            <ol>
                <li><strong>P</strong>arentesiak ( ) [ ]</li>
                <li><strong>E</strong>rroak eta Potentziak</li>
                <li><strong>M</strong>/<strong>D</strong>: Biderketak eta Zatiketak (Ezkerretik eskuinera)</li>
                <li><strong>A</strong>/<strong>S</strong>: Batuketak eta Kenketak (Ezkerretik eskuinera)</li>
            </ol>
        `,quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correct:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correct:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correct:1}]}],e9=()=>{const{user:n}=Ps(),{t:e}=fn();if(!n)return y.jsx(nr,{to:"/",replace:!0});const s=o=>n.completedLessons.includes(o),r=o=>{if(n!=null&&n.isAdmin||o===0)return!1;const c=vu[o-1].id;return!s(c)};return y.jsxs("main",{className:"flex-1 p-4 md:p-8 max-w-5xl mx-auto w-full",children:[y.jsxs(jn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-blue-500",children:"menu_book"}),e("topics_title")]}),y.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg max-w-2xl mx-auto",children:e("topics_subtitle")})]}),y.jsx("div",{className:"relative space-y-8 before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent dark:before:via-slate-700",children:vu.map((o,c)=>{const u=r(c),h=s(o.id);return y.jsxs(jn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.1},className:`relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group ${u?"opacity-70 grayscale":""}`,children:[y.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-4 shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10 shadow-xl ${h?"bg-green-500 border-green-100 dark:border-green-900 text-white":u?"bg-slate-200 border-slate-100 dark:bg-slate-700 dark:border-slate-800 text-slate-400":"bg-blue-500 border-blue-100 dark:border-blue-900 text-white animate-pulse"}`,children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:h?"check":u?"lock":"priority_high"})}),y.jsx(dt,{to:u?"#":`/theory/${o.id}`,className:`w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] ${u?"cursor-not-allowed pointer-events-none":""}`,children:y.jsxs(Si,{hoverEffect:!u,className:`p-6 border-l-4 ${h?"border-l-green-500":"border-l-blue-500"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase tracking-wide ${h?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":u?"bg-slate-100 text-slate-500":"bg-blue-100 text-blue-700"}`,children:[e("unit")," ",c+1]}),h&&y.jsxs("span",{className:"text-green-500 font-bold text-xs flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"verified"})," ",e("completed")]})]}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:o.title}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:o.description}),y.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-slate-500",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"school"})," ",e("theory")]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"quiz"})," ",e("quiz")]})]})]})})]},o.id)})})]})},t9=()=>{const{t:n}=fn(),[e,s]=I.useState(0);return y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsx("section",{children:y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border-l-4 border-primary mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:n("theory_intro_title")}),y.jsx("p",{children:n("theory_intro_desc")}),y.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[y.jsx("li",{dangerouslySetInnerHTML:{__html:n("theory_intro_pos")}}),y.jsx("li",{dangerouslySetInnerHTML:{__html:n("theory_intro_zero")}}),y.jsx("li",{dangerouslySetInnerHTML:{__html:n("theory_intro_neg")}})]})]})}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-inner",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"linear_scale"}),n("theory_interactive_title")]}),y.jsx("p",{className:"mb-6 text-sm",children:n("theory_interactive_desc")}),y.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center select-none overflow-hidden my-4 bg-slate-50 dark:bg-black/20 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("div",{className:"absolute w-[90%] h-1 bg-slate-300 dark:bg-slate-600 rounded-full"}),y.jsx("div",{className:"absolute w-[90%] flex justify-between px-4",children:[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(r=>y.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[y.jsx("div",{className:`w-0.5 ${r===0?"h-6 bg-slate-800 dark:bg-white":"h-3 bg-slate-400"}`}),y.jsx("span",{className:`text-xs font-bold ${r===0?"text-slate-900 dark:text-white":"text-slate-400"}`,children:r})]},r))}),y.jsx(jn.div,{drag:"x",dragConstraints:{left:-250,right:250},dragElastic:.1,onDrag:(r,o)=>{},className:"size-12 bg-primary text-white rounded-full flex items-center justify-center shadow-xl cursor-grab active:cursor-grabbing z-10 font-black border-4 border-white dark:border-slate-800",style:{x:0},whileHover:{scale:1.1},whileTap:{scale:.95},children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pan_tool_alt"})})]}),y.jsx("div",{className:"text-center mt-4",children:y.jsx("p",{className:"text-sm text-slate-500 italic",children:n("theory_interactive_tip")})}),y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-900/30 mt-6",children:[y.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 mb-2",children:n("theory_warning_title")}),y.jsx("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:n("theory_warning_desc")}}),y.jsx("div",{className:"mt-2 font-mono bg-white dark:bg-slate-800 p-2 rounded text-center border border-red-200 dark:border-red-900 animate-pulse",children:"-100 < -1"})]})]})]})},n9=()=>{const{t:n}=fn(),[e,s]=I.useState(0),r=()=>s(o=>(o+1)%3);return y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-6 rounded-2xl border border-yellow-200 dark:border-yellow-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-600",children:"layers_clear"}),n("theory_op_step1_title")]}),y.jsx("p",{className:"mb-4",children:n("theory_op_step1_desc")}),y.jsx("div",{onClick:r,className:"cursor-pointer bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border-2 border-yellow-400 flex flex-col items-center justify-center min-h-[160px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:y.jsxs(Fk,{mode:"wait",children:[e===0&&y.jsxs(jn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-slate-400 mb-2",children:"+(+5)"}),y.jsx("div",{className:"text-sm text-slate-500",children:n("theory_op_tap_simplify")})]},"step0"),e===1&&y.jsxs(jn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-green-500 mb-2",children:"+5"}),y.jsx("div",{className:"text-sm text-green-600 font-bold",children:n("theory_op_same_sign")})]},"step1"),e===2&&y.jsxs(jn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-red-500 mb-2",children:"-(-5)"}),y.jsx("div",{className:"text-sm text-red-600 font-bold",children:n("theory_op_example_more")})]},"step2")]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 text-center font-mono font-bold",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsxs("span",{className:"text-slate-400",children:["+(+a) ",n("or")," -(-a)"]})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-green-600 text-xl",children:n("theory_op_rule_same")})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsxs("span",{className:"text-slate-400",children:["+(-a) ",n("or")," -(+a)"]})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-red-600 text-xl",children:n("theory_op_rule_diff")})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"calculate"}),n("theory_op_step2_title")]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 mb-2",children:n("theory_op_same_title")}),y.jsx("p",{className:"text-sm mb-2",dangerouslySetInnerHTML:{__html:n("theory_op_same_desc")}}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 +3 = +8"}),y.jsx("li",{children:"-5 -3 = -8"})]})]}),y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:n("theory_op_diff_title")}),y.jsx("p",{className:"text-sm mb-2",dangerouslySetInnerHTML:{__html:n("theory_op_diff_desc")}}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 -3 = +2 (5 > 3)"}),y.jsx("li",{children:"-5 +3 = -2 (5 > 3)"})]})]})]})]})]})},s9=()=>{const{t:n}=fn();return y.jsx("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:y.jsxs("section",{className:"bg-purple-50 dark:bg-purple-900/10 p-6 rounded-2xl border border-purple-200 dark:border-purple-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-purple-600",children:"close"}),n("theory_mult_title")]}),y.jsx("p",{className:"mb-6",children:n("theory_mult_desc")}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(Lh,{s1:"+",s2:"+",res:"+",color:"green"}),y.jsx(Lh,{s1:"+",s2:"-",res:"-",color:"red"}),y.jsx(Lh,{s1:"-",s2:"+",res:"-",color:"red"}),y.jsx(Lh,{s1:"-",s2:"-",res:"+",color:"green"})]}),y.jsxs("div",{className:"mt-8 p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h4",{className:"font-bold mb-2",children:n("theory_mult_tip_title")}),y.jsx("p",{className:"text-sm",children:n("theory_mult_tip_desc")}),y.jsxs("ul",{className:"text-sm list-disc pl-5 mt-1 space-y-1",children:[y.jsx("li",{children:n("theory_mult_rule_1")}),y.jsx("li",{children:n("theory_mult_rule_2")})]})]})]})})},Lh=({s1:n,s2:e,res:s,color:r})=>{const[o,c]=I.useState(!1),{t:u}=fn();return y.jsxs("button",{onClick:()=>c(!o),className:`p-6 rounded-xl flex flex-col items-center justify-center gap-2 border-2 transition-all duration-300 ${o?r==="green"?"bg-green-100 border-green-400":"bg-red-100 border-red-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-primary"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 text-2xl font-black text-slate-400",children:[y.jsx("span",{className:"text-slate-900 dark:text-white",children:n}),y.jsx("span",{children:""}),y.jsx("span",{className:"text-slate-900 dark:text-white",children:e})]}),y.jsx("div",{className:"h-12 flex items-center justify-center w-full",children:o?y.jsxs(jn.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:`text-4xl font-black ${r==="green"?"text-green-600":"text-red-600"}`,children:["= ",s]}):y.jsx("span",{className:"text-sm text-primary font-bold bg-primary/10 px-3 py-1 rounded-full",children:u("theory_mult_tap")})})]})},WT={intro:{title:"1. Unitatea: Oinarriak",nextLink:"/games?mode=ordering&difficulty=easy",nextLabel:"Praktikatu: Ordena",Component:t9,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correctIdx:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correctIdx:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correctIdx:0}]},operations:{title:"2. Unitatea: Batuketa eta Kenketa",nextLink:"/games?mode=addition&difficulty=easy",nextLabel:"Praktikatu: Batuketak",Component:n9,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correctIdx:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correctIdx:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correctIdx:2}]},multiplication:{title:"3. Unitatea: Biderketa eta Zatiketa",nextLink:"/games?mode=multiplication&difficulty=easy",nextLabel:"Praktikatu: Biderketak",Component:s9,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correctIdx:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correctIdx:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correctIdx:2}]},powers:{title:"4. Unitatea: Berreketak eta Erroketak",nextLink:"/games?mode=powers&difficulty=easy",nextLabel:"Praktikatu: Berreketak",staticContent:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-200 dark:border-indigo-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-indigo-600",children:"functions"}),"Berreketen Propietateak"]}),y.jsx("p",{className:"mb-6 text-sm",children:"Hiru arau nagusi hauek buruz jakin behar dituzu eragiketak egiteko:"}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-green-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 font-bold text-lg",children:""}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Biderketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"}),"  a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n+m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-red-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 font-bold text-lg",children:":"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Zatiketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"KENDU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"})," : a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n-m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-blue-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 font-bold text-lg",children:"()"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Berreketaren Berreketa"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BIDERKATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["(a",y.jsx("sup",{children:"n"}),")",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"nm"})]})]})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-500",children:"exposure"}),"Zeinuen Araua (Oinarri Negatiboa)"]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BIKOITIA (2, 4...)"}),y.jsxs("p",{className:"text-sm",children:["Emaitza ",y.jsx("span",{className:"text-green-600 font-bold",children:"POSITIBOA (+)"}),"."]}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-3)",y.jsx("sup",{children:"2"})," = +9"]})]}),y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BAKOITIA (3, 5...)"}),y.jsx("p",{className:"text-sm",children:"Oinarriaren zeinua mantendu."}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-2)",y.jsx("sup",{children:"3"})," = -8"]})]})]})]})]}),quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correctIdx:0},{question:"Zein da (-2) ber 2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correctIdx:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correctIdx:1}]},advanced:{title:"5. Unitatea: Konbinatuak (PEMDAS)",nextLink:"/games?mode=combined&difficulty=easy",nextLabel:"Praktikatu: Konbinatuak",staticContent:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-2xl border border-orange-200 dark:border-orange-800",children:[y.jsx("h3",{className:"text-xl font-black text-orange-700 dark:text-orange-300 mb-2",children:"Eragiketen Hierarkia"}),y.jsx("p",{children:"Dena nahastuta dagoenean, ordena hau jarraitu behar da derrigorrez:"})]}),y.jsxs("section",{className:"flex flex-col items-center w-full max-w-lg mx-auto relative",children:[y.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 h-full w-1 bg-slate-200 dark:bg-slate-700 -z-10"}),y.jsxs("div",{className:"w-full bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-purple-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-purple-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"1"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Parentesiak ( ) [ ]"})})]}),y.jsxs("div",{className:"w-[95%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-indigo-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-indigo-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"2"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Berreketak eta Erroak"})})]}),y.jsxs("div",{className:"w-[90%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-blue-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-blue-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"3"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Biderketa eta Zatiketa"})})]}),y.jsxs("div",{className:"w-[80%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-green-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-green-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"4"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Batuketa eta Kenketa"})})]})]})]}),quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correctIdx:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correctIdx:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correctIdx:1}]}},i9=()=>{const{topicId:n}=u1(),{user:e,addXp:s}=Ps(),{t:r}=fn();pa();const o=n||"intro",c=`theory_${o}`,u=WT[o]||WT.intro,[h,m]=I.useState(new Array(3).fill(-1)),[g,v]=I.useState(!1),[_,w]=I.useState(!1),k=S=>e&&e.gameXp[S]||0,j=(e==null?void 0:e.isAdmin)===!0,D=!j&&k("ordering_hard")<dn.ordering_hard,V=k("addition_hard")>=dn.addition_hard||k("subtraction_hard")>=dn.subtraction_hard,B=!j&&!V,Q=k("multiplication_hard")>=dn.multiplication_hard||k("division_hard")>=dn.division_hard,H=!j&&!Q,ce=k("powers_hard")>=dn.powers_hard||k("roots_hard")>=dn.roots_hard,oe=!j&&!ce;if(n==="operations"&&D)return y.jsx(nr,{to:"/topics",replace:!0});if(n==="multiplication"&&B)return y.jsx(nr,{to:"/topics",replace:!0});if(n==="powers"&&H)return y.jsx(nr,{to:"/topics",replace:!0});if(n==="advanced"&&oe)return y.jsx(nr,{to:"/topics",replace:!0});I.useEffect(()=>{e&&e.completedLessons.includes(c)?(w(!0),m(u.quiz.map(S=>S.correctIdx)),v(!0)):(m(new Array(3).fill(-1)),v(!1),w(!1))},[c,e,u.quiz]);const de=async()=>{if(h.some(N=>N===-1))return;v(!0),h.every((N,P)=>N===u.quiz[P].correctIdx)?(Rt.win(),w(!0),e&&!e.completedLessons.includes(c)&&await s(50,c)):Rt.wrong()};return vu.find(S=>S.id===n)?y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-10 flex justify-center",children:y.jsxs("div",{className:"max-w-[900px] w-full flex flex-col gap-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx(dt,{to:"/topics",children:y.jsx(Is,{variant:"ghost",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),children:r("back_to_topics")})}),y.jsxs("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:[r("unit")," ",vu.findIndex(S=>S.id===n)+1]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-slate-100 dark:border-slate-700 pb-6",children:[y.jsx("div",{className:"size-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/30",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:r(`unit_${vu.findIndex(S=>S.id===n)+1}`)}),y.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight",children:u.title})]})]}),_?y.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 font-bold bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg",children:[y.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Teoria menperatuta!"]}):y.jsx("button",{onClick:de,className:"w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:scale-105 transition-transform",children:"Egiaztatu Erantzunak"}),y.jsxs(dt,{to:u.nextLink,onClick:S=>!_&&S.preventDefault(),className:`w-full md:w-auto flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-bold shadow-lg transition-all 
                        ${_?"bg-primary hover:bg-blue-600 text-white hover:-translate-y-1 cursor-pointer":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed opacity-70"}`,children:[y.jsx("span",{children:u.nextLabel}),y.jsx("span",{className:"material-symbols-outlined",children:_?"sports_esports":"lock"})]})]})]})}):y.jsx(nr,{to:"/topics",replace:!0})},r9=({text:n})=>{if(!n.includes("^")&&!n.includes(""))return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-1",children:n.split(" ").map((s,r)=>y.jsx("span",{className:s==="?"?"text-slate-400 animate-pulse":["+","-","","","(",")",":",""].includes(s)?"text-slate-400 mx-1":"text-primary",children:s},r))});const e=n.split(" ");return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-2 text-4xl md:text-5xl lg:text-6xl font-black text-slate-900 dark:text-white font-display tracking-tight",children:e.map((s,r)=>{if(s==="="||s==="?"||s===""||s===":")return y.jsx("span",{className:"text-slate-400 mx-1",children:s},r);const o=s.split(/(\^)/);return y.jsx("div",{className:"flex items-start text-primary",children:o.map((c,u)=>c==="^"?null:u>0&&o[u-1]==="^"?y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-[-0.5em]",children:c.replace(/[\(\)]/g,"")},u):y.jsx("span",{children:c},u))},r)})})},a9=({text:n,type:e})=>{if(n.startsWith(""))return y.jsxs("div",{className:"flex items-center gap-1 text-5xl md:text-6xl font-black text-primary",children:[y.jsx("span",{className:"text-slate-400",children:""}),y.jsx("span",{children:n.replace("","").replace("= ?","")}),y.jsx("span",{className:"text-slate-400 ml-4",children:"= ?"})]});if(n.includes("^")){const s=n.split(" = ?")[0],r=(c,u)=>{if(c.includes(")^")){const[h,m]=c.split(")^"),g=h.replace("(",""),[v,_]=g.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:"("}),y.jsx("span",{className:"text-primary",children:v}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:_}),y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:")"}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:m})]},u)}if(c.includes("^")){const[h,m]=c.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-primary",children:h}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:m})]},u)}return y.jsx("span",{children:c},u)},o=s.split(" ");return y.jsxs("div",{className:"flex items-center justify-center flex-wrap gap-2 text-5xl md:text-6xl font-black",children:[o.map((c,u)=>["",":"].includes(c)?y.jsx("span",{className:"text-slate-400 mx-2",children:c},u):r(c,u)),y.jsx("span",{className:"text-slate-400 ml-2",children:"= ?"})]})}return y.jsx(r9,{text:n})},o9=()=>{const{user:n,addXp:e}=Ps(),{t:s}=fn(),{addToast:r}=Gl(),[o]=J2(),c=pa(),[u,h]=I.useState("ordering"),[m,g]=I.useState("easy"),[v,_]=I.useState(null),[w,k]=I.useState(null),[j,D]=I.useState(1),[V,B]=I.useState(0),[Q,H]=I.useState(0),[ce,oe]=I.useState(""),[de,C]=I.useState(!1),[S,N]=I.useState(null),P=I.useRef(null),L=I.useRef(null),[q,M]=I.useState(0),[Ge,tt]=I.useState({sequence:[],currentStep:0,completedIds:[]}),X=ue=>n?n.completedLessons.includes(ue):!1,re=ue=>n&&n.gameXp[ue]||0,te=(n==null?void 0:n.isAdmin)===!0,Ae=te||re("ordering_hard")>=dn.ordering_hard,Ie=te||re("addition_hard")>=dn.addition_hard||re("subtraction_hard")>=dn.subtraction_hard,z=te||re("multiplication_hard")>=dn.multiplication_hard||re("division_hard")>=dn.division_hard,ee=te||re("powers_hard")>=dn.powers_hard||re("roots_hard")>=dn.roots_hard,le=te||(n?n.level>=5:!1),he=ue=>{switch(ue){case"ordering":return"theory_intro";case"addition":case"subtraction":return"theory_operations";case"multiplication":case"division":return"theory_multiplication";case"powers":case"roots":return"theory_powers";case"combined":return"theory_advanced";default:return null}},Se=(ue,_e)=>{if(_e==="easy")return!1;const Me=dn[`${ue}_easy`]||100;if(_e==="medium")return re(`${ue}_easy`)<Me;const je=dn[`${ue}_medium`]||150;return _e==="hard"?re(`${ue}_medium`)<je:!0};I.useEffect(()=>{let ue=o.get("mode");const _e=o.get("difficulty");ue==="mixed"&&!le&&(ue="ordering"),ue==="combined"&&!ee&&(ue="ordering"),(ue==="powers"||ue==="roots")&&!z&&(ue="ordering"),(ue==="multiplication"||ue==="division")&&!Ie&&(ue="ordering"),(ue==="addition"||ue==="subtraction")&&!Ae&&(ue="ordering");const Me=he(ue||"ordering");if(Me&&!X(Me)){r("error","Joko hau desblokeatzeko Teoria irakurri eta testa gainditu behar duzu!"),c("/topics");return}ue||(ue="ordering"),h(ue);let je=_e||"easy";return Se(ue,je)&&(je="easy"),g(je),Vs(ue,je),()=>{P.current&&clearInterval(P.current),L.current&&clearTimeout(L.current)}},[o,le,ee,Ae,Ie,z]),I.useEffect(()=>{if(m==="hard"&&!de&&(!w||(v==null?void 0:v.type)==="ordering")){P.current&&clearInterval(P.current);const _e=u==="combined"||u==="mixed"||(v==null?void 0:v.type)==="ordering"?45:30;((v==null?void 0:v.type)!=="ordering"||Ge.currentStep===0)&&N(_e),P.current=window.setInterval(()=>{N(Me=>Me!==null&&Me>0?Me-1:(De(),0))},1e3)}else(v==null?void 0:v.type)!=="ordering"&&(P.current&&clearInterval(P.current),N(null));return()=>{P.current&&clearInterval(P.current)}},[j,m,de,u,v]);const De=()=>{P.current&&clearInterval(P.current),Rt.wrong(),Os(),H(0),(v==null?void 0:v.type)!=="ordering"?(k({val:"Denbora!",isCorrect:!1}),oe("Denbora agortu da. Azkarrago hurrengoan!")):(oe("Denbora agortu da! Saiatu azkarrago."),k({val:"Denbora!",isCorrect:!1})),L.current=window.setTimeout(()=>{Nt()},2e3)},me=(ue,_e)=>{const Me=Math.floor(Math.random()*(_e-ue+1))+ue;return Me===0?0:Me},Et=()=>`${u}_${m}`,ot=()=>dn[Et()]||100,Un=()=>(n==null?void 0:n.gameXp[Et()])||0,es=ue=>{let _e=ue==="easy"?4:5,Me=ue==="easy"?10:ue==="medium"?25:100;const je=new Set;for(;je.size<_e;){let lt=me(-Me,Me);lt!==0&&je.add(lt)}const qe=Array.from(je).sort((lt,It)=>lt-It),Oe=Array.from(je).sort(()=>Math.random()-.5).map(lt=>({val:lt.toString(),isCorrect:!0,id:lt}));tt({sequence:qe,currentStep:0,completedIds:[]}),_({text:"Ordenatu zenbakiak TXIKIENETIK HANDIERA",options:Oe,type:"ordering",orderingSequence:qe}),oe("Gogoratu: Zenbaki negatiboetan, zenbat eta urrunago zerotik, orduan eta txikiagoa.")},Bn=ue=>{const _e=ue==="hard"?me(1,4):me(1,2);let Me=ue==="easy"?5:10,je=me(-Me,Me),qe=me(-Me,Me),Oe=me(-Me,Me);je===0&&(je=2),qe===0&&(qe=3),Oe===0&&(Oe=-2);let lt="",It=0,Dt=0;_e===1?(lt=`${je} + ${qe<0?`(${qe})`:qe}  ${Oe<0?`(${Oe})`:Oe}`,It=je+qe*Oe,Dt=(je+qe)*Oe):_e===2?(lt=`(${je} ${qe<0?"-":"+"} ${Math.abs(qe)})  ${Oe<0?`(${Oe})`:Oe}`,It=(je+qe)*Oe,Dt=je+qe*Oe):_e===3?(Oe=Oe===0?2:Oe,qe=Oe*me(1,5)*(Math.random()>.5?1:-1),lt=`${je} - ${qe<0?`(${qe})`:qe} : ${Oe<0?`(${Oe})`:Oe}`,It=je-qe/Oe,Dt=(je-qe)/Oe):(lt=`${je<0?`(${je})`:je}  ${qe<0?`(${qe})`:qe} - ${Oe<0?`(${Oe})`:Oe}`,It=je*qe-Oe,Dt=je*(qe-Oe));let $e=-It,Cn=It+me(1,5)*(Math.random()>.5?1:-1);const we=new Set([It,Dt,$e,Cn]);for(;we.size<4;)we.add(me(-50,50));const nt=Array.from(we).sort(()=>Math.random()-.5).map(Pe=>({val:`${Pe}`,isCorrect:Pe===It}));_({text:lt+" = ?",options:nt,type:"quiz"}),oe("Hierarkia (PEMDAS): Parentesiak lehenengo, gero Berreketak/Erroak, gero Biderketa/Zatiketa, azkenik Batuketa/Kenketa.")},Vs=(ue,_e)=>{if(L.current&&clearTimeout(L.current),k(null),oe(""),tt({sequence:[],currentStep:0,completedIds:[]}),ue==="ordering"){es(_e);return}if(ue==="combined"){Bn(_e);return}let Me=ue;if(ue==="mixed"){const we=Math.random();if(we<.15){es(_e);return}if(we<.35){Bn(_e);return}Me=["addition","subtraction","multiplication","division","powers","roots"][me(0,5)]}let je=_e==="easy"?9:_e==="medium"?20:50,qe=me(-je,je),Oe=me(-je,je),lt="",It="",Dt="";const $e=new Set;if(Me==="powers"){const we=me(1,3);let nt=_e==="easy"?me(2,9):me(2,15),Pe=me(2,5),Tt=me(2,5),_t=0,zt=0,it=0,Yt=0;if(we===1)lt="",Dt=`${nt}^${Pe}  ${nt}^${Tt} = ?`,_t=Pe+Tt,zt=Pe*Tt,it=Math.abs(Pe-Tt),Yt=_t+1,oe(`Oinarri berdineko biderketan, berretzaileak BATU egiten dira (${Pe} + ${Tt} = ${_t}).`);else if(we===2){if(Tt>=Pe){let ms=Pe;Pe=Tt+me(1,3),Tt=ms}lt=":",Dt=`${nt}^${Pe} : ${nt}^${Tt} = ?`,_t=Pe-Tt,zt=Pe+Tt,it=Math.floor(Pe/Tt),Yt=_t+2,oe(`Oinarri berdineko zatiketan, berretzaileak KENDU egiten dira (${Pe} - ${Tt} = ${_t}).`)}else lt="()",Dt=`(${nt}^${Pe})^${Tt} = ?`,_t=Pe*Tt,zt=Pe+Tt,it=Math.pow(Pe,Tt),Yt=_t-1,oe(`Berreketaren berreketan, berretzaileak BIDERKATU egiten dira (${Pe}  ${Tt} = ${_t}).`);for(It=`${nt}^${_t}`,$e.add(It),$e.add(`${nt}^${zt}`),it!==_t&&it!==zt&&$e.add(`${nt}^${it}`),$e.add(`${nt}^${Yt}`);$e.size<4;)$e.add(`${nt}^${_t+me(1,5)*(Math.random()>.5?1:-1)}`)}else if(Me==="roots"){let we=_e==="easy"?me(1,10):me(1,15);we===0&&(we=2),qe=we*we;let nt=we;Dt=`${qe} = ?`,It=nt.toString(),$e.add(It),$e.add((we+1).toString()),$e.add((we-1).toString()),$e.add(Math.floor(qe/2).toString()),oe(`Erantzuna: ${we}, zeren ${we} = ${qe}.`)}else{let we=qe,nt=Oe;if(Me==="division"){Oe===0&&(Oe=2);const it=me(-10,10);nt=Oe,we=(it===0?2:it)*nt}let Pe=0;switch(Me){case"addition":lt="+",Pe=we+nt;break;case"subtraction":lt="-",Pe=we-nt;break;case"multiplication":lt="",Pe=we*nt;break;case"division":lt=":",Pe=we/nt;break}Dt=`${we<0?`(${we})`:we} ${lt} ${nt<0?`(${nt})`:nt} = ?`,It=Pe>0?`+${Pe}`:`${Pe}`,$e.add(It);const Tt=Math.random()>.5?1:2,_t=Pe+(Math.random()>.5?Tt:-Tt);$e.add(_t>0?`+${_t}`:`${_t}`);let zt=0;for(lt==="+"?zt=we-nt:lt==="-"||lt===""?zt=we+nt:lt===":"&&(zt=we-nt),zt!==Pe&&$e.add(zt>0?`+${zt}`:`${zt}`),Math.random()<.2&&Pe!==0&&$e.add(Pe>0?`${-Pe}`:`+${-Pe}`);$e.size<4;){const it=Math.max(5,Math.abs(Pe)*.4),Yt=me(Pe-it,Pe+it);Yt!==Pe&&$e.add(Yt>0?`+${Yt}`:`${Yt}`)}oe(`Erantzuna: ${It}.`)}const Cn=Array.from($e).sort(()=>Math.random()-.5).map(we=>({val:we,isCorrect:we===It}));_({text:Dt,options:Cn,type:"quiz"})},qn=ue=>{const _e=m==="hard"?25:m==="medium"?15:10,Me=ue*(m==="hard"?3:2);return _e+Me},si=async ue=>{const _e=await e(ue,Et());_e>0?(r("xp",`+${_e} XP`),M(Me=>Me+_e)):ue>0?r("info","Zailtasun honetako XP muga lortu duzu! Saiatu hurrengoa."):_e<0&&(r("error",`-${Math.abs(_e)} XP (Penalizazioa)`),M(Me=>Me+_e))},Os=async()=>{const _e=qn(Q)*1.5;await si(-_e)},wa=ue=>{if(!v||!v.orderingSequence)return;const _e=v.orderingSequence[Ge.currentStep],Me=parseInt(ue.val);if(Me===_e){Rt.click();const je=[...Ge.completedIds,Me];if(je.length===v.orderingSequence.length){Rt.correct(),tt(Oe=>({...Oe,completedIds:je})),k({val:"Zuzena!",isCorrect:!0});const qe=qn(Q);B(Oe=>Oe+qe),H(Oe=>Oe+1),si(qe),L.current=window.setTimeout(()=>{Nt()},1500)}else tt(qe=>({...qe,currentStep:qe.currentStep+1,completedIds:je}))}else Rt.wrong(),Os(),H(0),r("error","Ordena okerra! Saiatu berriro.")},Ea=ue=>{if(!w){if((v==null?void 0:v.type)==="ordering"){wa(ue);return}if(k(ue),P.current&&clearInterval(P.current),ue.isCorrect){Rt.correct();const _e=qn(Q);B(Me=>Me+_e),H(Me=>Me+1),si(_e)}else Rt.wrong(),Os(),H(0);L.current=window.setTimeout(()=>{Nt()},1500)}},Nt=()=>{Rt.click(),j<5?(D(ue=>ue+1),Vs(u,m)):Ft()},Ft=async()=>{if(C(!0),Rt.win(),V>=(m==="hard"?50:30)){const ue=m==="hard"?50:m==="medium"?30:10;await si(ue),r("success",`Jokoa amaituta! Bonus: ${ue} XP`)}else r("success","Jokoa amaituta!")},ii=()=>{Rt.click(),C(!1),D(1),B(0),H(0),M(0),Vs(u,m)};if(de){const ue=V>(m==="hard"?100:50)?3:V>(m==="hard"?50:30)?2:1;return y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[ue===3&&y.jsx(b1,{}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full border border-slate-200 dark:border-slate-700 animate-in zoom-in-95 duration-300 relative z-10",children:[y.jsx("div",{className:"mb-6 flex justify-center gap-2",children:[1,2,3].map(_e=>y.jsx("span",{className:`material-symbols-outlined text-6xl ${_e<=ue?"text-yellow-400 fill-current animate-bounce":"text-slate-200 dark:text-slate-700"}`,style:{animationDelay:`${_e*100}ms`},children:"star"},_e))}),y.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:s(ue===3?"excellent":ue===2?"very_good":"good")}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:[V," ",s("points_scored"),q!==0&&y.jsxs("span",{className:`block mt-2 font-bold ${q>0?"text-yellow-500":"text-red-500"}`,children:[q>0?`+${q}`:q," XP ",s("this_session")]}),q===0&&y.jsx("span",{className:"block mt-2 text-xs text-slate-400 uppercase font-bold",children:s("xp_cap_reached")})]}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:ii,className:"w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"replay"}),s("play_again")]}),y.jsx(dt,{to:"/topics",className:"w-full py-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-bold",children:s("back_to_topics")})]})]})]})}const Ta=ot(),gr=Un(),mn=gr>=Ta;return y.jsx("main",{className:"layout-container flex h-full grow flex-col",children:y.jsx("div",{className:"w-full flex flex-1 justify-center py-5 px-4 md:px-8",children:y.jsxs("div",{className:"layout-content-container flex flex-col max-w-[1200px] flex-1 gap-8",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:[mn&&y.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 flex items-center justify-center font-black text-yellow-600 dark:text-yellow-400 opacity-20 -rotate-12 text-3xl",children:"MAX"}),y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500",children:"stars"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:["XP (",m,")"]})]}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:gr}),y.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-1",children:["/ ",Ta]})]}),y.jsx("div",{className:"w-full h-1 bg-slate-100 dark:bg-slate-700 rounded-full mt-1",children:y.jsx("div",{className:`h-full rounded-full transition-all ${mn?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,gr/Ta*100)}%`}})})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"school"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:s("level")})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:n?n.level:1})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"local_fire_department"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:s("streak")})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:Q})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-blue-400",children:"score"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:s("score")})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:V})]})]}),y.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[y.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6 order-2 lg:order-1",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1 bg-white dark:bg-[#1a2634] rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"tune"}),y.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-bold",children:s("difficulty")})]}),y.jsx("div",{className:"flex gap-1",children:["easy","medium","hard"].map(ue=>{const _e=Se(u,ue);return y.jsxs("button",{disabled:_e,onClick:()=>{Rt.click(),g(ue),Vs(u,ue),D(1),B(0),M(0)},className:`px-3 py-1 text-xs font-bold rounded-full capitalize border flex items-center gap-1 transition-all
                                ${m===ue?"bg-primary text-white border-primary":_e?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-transparent cursor-not-allowed opacity-70":"bg-transparent text-slate-500 border-slate-200 dark:border-slate-700 hover:border-primary/50"}`,children:[_e&&y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"lock"}),ue]},ue)})})]}),S!==null&&y.jsxs("div",{className:`w-20 bg-white dark:bg-[#1a2634] rounded-xl p-2 shadow-sm border flex items-center justify-center font-mono text-xl font-bold ${S<10?"text-red-500 border-red-500 animate-pulse":"text-slate-900 dark:text-white border-slate-200 dark:border-slate-800"}`,children:[S,"s"]})]}),y.jsxs("div",{className:"flex flex-col bg-white dark:bg-[#1a2634] rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 overflow-hidden relative",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400 text-sm",children:"quiz"}),y.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:[s("question")," ",j,"/5"]})]}),y.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ue,_e)=>y.jsx("div",{className:`h-1.5 w-6 rounded-full ${_e<j-1?"bg-green-500":_e===j-1?"bg-blue-500 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`},_e))})]}),y.jsx("div",{className:"p-8 md:p-12 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:v&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center w-full",children:[y.jsx("p",{className:"text-slate-400 text-sm font-medium mb-4 uppercase tracking-wider",children:v.type==="ordering"?s("order_nums"):s(u==="combined"?"calc_hierarchy":u==="powers"?"simplify":"calc_res")}),v.type!=="ordering"?y.jsx(a9,{text:v.text,type:v.type}):y.jsx("div",{className:"flex flex-col items-center gap-6 w-full",children:y.jsxs("div",{className:"flex gap-2 items-center justify-center flex-wrap min-h-[60px] p-4 bg-slate-100 dark:bg-slate-900 rounded-xl w-full",children:[Ge.completedIds.map(ue=>y.jsx("div",{className:"size-12 rounded-lg bg-green-500 text-white flex items-center justify-center font-bold text-lg animate-in zoom-in",children:ue},ue)),Ge.completedIds.length===0&&y.jsx("span",{className:"text-slate-400 italic",children:s("select_smallest")})]})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md mt-4",children:v.options.map((ue,_e)=>v.type==="ordering"&&Ge.completedIds.includes(ue.id)?y.jsx("div",{className:"h-[76px]"},_e):y.jsx("button",{onClick:()=>Ea(ue),disabled:!!w&&v.type!=="ordering",className:`group relative flex items-center justify-center py-6 px-4 rounded-xl border-2 transition-all 
                                    ${w===ue&&v.type!=="ordering"?ue.isCorrect?"border-green-500 bg-green-500/10":"border-red-500 bg-red-500/10":"border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-primary/5 active:bg-primary/10"}`,children:y.jsx("div",{className:`text-2xl font-bold transition-colors ${w===ue&&v.type!=="ordering"?ue.isCorrect?"text-green-600":"text-red-600":"text-slate-700 dark:text-slate-200 group-hover:text-primary"}`,children:ue.val.includes("^")?y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{children:ue.val.split("^")[0]}),y.jsx("sup",{className:"text-sm mt-1",children:ue.val.split("^")[1]})]}):ue.val})},_e))})]})}),w&&y.jsxs("div",{className:`border-t p-4 md:px-8 md:py-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-bottom-2 fade-in duration-300 ${w.isCorrect||(v==null?void 0:v.type)==="ordering"?"bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800/30":"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800/30"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${w.isCorrect||(v==null?void 0:v.type)==="ordering"?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-300"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:w.isCorrect||(v==null?void 0:v.type)==="ordering"?"celebration":"help"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:`font-bold text-lg leading-tight ${w.isCorrect||(v==null?void 0:v.type)==="ordering"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:w.isCorrect||(v==null?void 0:v.type)==="ordering"?(v==null?void 0:v.type)==="ordering"?s("correct_ordering"):s("correct_excl"):s("wrong_excl")}),(v==null?void 0:v.type)!=="ordering"&&y.jsx("p",{className:`${w.isCorrect?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"} text-sm`,children:w.isCorrect?s("correct_answer"):ce})]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold opacity-60 text-slate-600 dark:text-slate-300",children:[s("loading_next"),y.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"progress_activity"})]})]})]})]}),y.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6 order-1 lg:order-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-lg",children:s("game_modes")}),y.jsx(dt,{className:"text-primary text-sm font-medium hover:underline",to:"/topics",children:s("theory")})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[y.jsxs("button",{disabled:!le,onClick:()=>{le&&(Rt.click(),h("mixed"),g("easy"),D(1),B(0),M(0))},className:`relative p-5 rounded-2xl border-2 shadow-sm flex flex-col items-center gap-3 transition-all text-center group ${le?u==="mixed"?"bg-primary border-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:border-primary/50":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 cursor-not-allowed"}`,children:[!le&&y.jsx("div",{className:"absolute top-2 right-2 text-slate-400",children:y.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),y.jsx("div",{className:`size-14 rounded-full flex items-center justify-center border-4 border-white/20 shrink-0 ${u==="mixed"?"bg-white/20 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"}`,children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shuffle"})}),y.jsxs("div",{children:[y.jsx("h4",{className:`font-black text-xl leading-none ${u==="mixed"?"text-white":"text-slate-900 dark:text-white"}`,children:"Nahastuta"}),y.jsx("p",{className:`text-xs mt-1 font-bold uppercase tracking-wide opacity-80 ${u==="mixed"?"text-blue-100":"text-slate-500"}`,children:"Azterketa Orokorra"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("button",{disabled:!X("theory_intro"),onClick:()=>{X("theory_intro")&&(Rt.click(),h("ordering"),g("easy"),D(1),B(0),M(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${X("theory_intro")?u==="ordering"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/20 ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-amber-50 dark:hover:bg-amber-900/10 hover:border-amber-500/50":"opacity-50 grayscale cursor-not-allowed"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${u==="ordering"?"bg-white/20 text-white":"bg-amber-100 dark:bg-amber-900/30 text-amber-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"sort"})}),y.jsx("span",{className:`text-sm font-bold ${u==="ordering"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Ordena"})]}),y.jsxs("button",{disabled:!ee||!X("theory_advanced"),onClick:()=>{ee&&X("theory_advanced")&&(Rt.click(),h("combined"),g("easy"),D(1),B(0),M(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${!ee||!X("theory_advanced")?"bg-slate-50 dark:bg-slate-800 opacity-50 cursor-not-allowed border-slate-200":u==="combined"?"bg-purple-600 border-purple-600 text-white shadow-lg shadow-purple-600/20 ring-2 ring-purple-600 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-purple-50 dark:hover:bg-purple-900/10 hover:border-purple-600/50"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${u==="combined"?"bg-white/20 text-white":"bg-purple-100 dark:bg-purple-900/30 text-purple-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"function"})}),y.jsx("span",{className:`text-sm font-bold ${u==="combined"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Konbinatuak"}),(!ee||!X("theory_advanced"))&&y.jsx("span",{className:"material-symbols-outlined text-xs absolute top-2 right-2 text-slate-400",children:"lock"})]})]})]}),y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-2"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"2. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!Ae||!X("theory_operations")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!Ae,onClick:()=>{h("addition"),g("easy"),D(1),B(0),M(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${u==="addition"?"bg-green-600 border-green-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-green-50 dark:hover:bg-green-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center font-black text-lg",children:"+"}),y.jsx("span",{className:`text-sm font-bold ${u==="addition"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Batuketa"}),(!Ae||!X("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!Ae,onClick:()=>{h("subtraction"),g("easy"),D(1),B(0),M(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${u==="subtraction"?"bg-red-500 border-red-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-red-50 dark:hover:bg-red-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center font-black text-lg",children:"-"}),y.jsx("span",{className:`text-sm font-bold ${u==="subtraction"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Kenketa"}),(!Ae||!X("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"3. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!Ie||!X("theory_multiplication")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!Ie,onClick:()=>{h("multiplication"),g("easy"),D(1),B(0),M(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${u==="multiplication"?"bg-orange-500 border-orange-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-orange-50 dark:hover:bg-orange-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${u==="multiplication"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Biderketa"}),(!Ie||!X("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!Ie,onClick:()=>{h("division"),g("easy"),D(1),B(0),M(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${u==="division"?"bg-teal-500 border-teal-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:":"}),y.jsx("span",{className:`text-sm font-bold ${u==="division"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Zatiketa"}),(!Ie||!X("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"4. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 ${!z||!X("theory_powers")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!z,onClick:()=>{h("powers"),g("easy"),D(1),B(0),M(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${u==="powers"?"bg-indigo-500 border-indigo-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-black text-xs",children:"x"}),y.jsx("span",{className:`text-sm font-bold ${u==="powers"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Berreketak"}),(!z||!X("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!z,onClick:()=>{h("roots"),g("easy"),D(1),B(0),M(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${u==="roots"?"bg-teal-600 border-teal-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${u==="roots"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Erroketak"}),(!z||!X("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]})]})]})]})]})]})})})},l9=()=>{var m;const{user:n}=Ps(),[e,s]=I.useState([]),{t:r}=fn();if(I.useEffect(()=>{(async()=>{const v=await fs.getLeaderboard();s(v)})()},[n==null?void 0:n.xp]),!n)return y.jsx(nr,{to:"/",replace:!0});const o=Math.min(100,Math.floor(n.xp/9e3*100)),c=g=>{const _={theory_intro:"cat_theory_intro",theory_operations:"cat_theory_operations",theory_multiplication:"cat_theory_multiplication",theory_powers:"cat_theory_powers",theory_advanced:"cat_theory_advanced",ordering_easy:"cat_ordering_easy",ordering_medium:"cat_ordering_medium",ordering_hard:"cat_ordering_hard",combined_easy:"cat_combined_easy",combined_medium:"cat_combined_medium",combined_hard:"cat_combined_hard",mixed_easy:"cat_mixed_easy",mixed_medium:"cat_mixed_medium",mixed_hard:"cat_mixed_hard",addition_easy:"cat_addition_easy",addition_medium:"cat_addition_medium",addition_hard:"cat_addition_hard",subtraction_easy:"cat_subtraction_easy",subtraction_medium:"cat_subtraction_medium",subtraction_hard:"cat_subtraction_hard",multiplication_easy:"cat_multiplication_easy",multiplication_medium:"cat_multiplication_medium",multiplication_hard:"cat_multiplication_hard",division_easy:"cat_division_easy",division_medium:"cat_division_medium",division_hard:"cat_division_hard",powers_easy:"cat_powers_easy",powers_medium:"cat_powers_medium",powers_hard:"cat_powers_hard",roots_easy:"cat_roots_easy",roots_medium:"cat_roots_medium",roots_hard:"cat_roots_hard"}[g];return _?r(_):g},u=Object.entries(dn).reduce((g,[v,_])=>{let w="group_basics";v.includes("theory")?w="group_theory":v.includes("ordering")?w="group_ordering":v.includes("combined")?w="group_combined":v.includes("mixed")?w="group_mixed":v.includes("addition")||v.includes("subtraction")?w="group_add_sub":v.includes("multiplication")||v.includes("division")?w="group_mult_div":(v.includes("powers")||v.includes("roots"))&&(w="group_pow_root");const k=r(w);return g[k]||(g[k]=[]),g[k].push({key:v,limit:_,current:n.gameXp[v]||0}),g},{}),h=KA||[];return y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-8",children:y.jsxs("div",{className:"mx-auto max-w-[1100px] flex flex-col gap-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("h1",{className:"text-slate-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]",children:r("progress_welcome").replace("{0}",n.displayName.split(" ")[0])}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base font-normal leading-normal",children:r("progress_summary")})]}),y.jsxs(dt,{to:"/games",className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-all shadow-lg shadow-blue-500/20",children:[y.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),y.jsx("span",{children:r("keep_playing")})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[n.xp," XP"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:r("score_label")})]}),y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-primary mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"donut_large"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:["%",o]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:r("course_completed")})]}),y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"emoji_events"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[((m=n.achievements)==null?void 0:m.length)||0,"/",h.length]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:r("achievements_label")})]})]}),y.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm",children:y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex gap-6 justify-between items-end",children:[y.jsx("p",{className:"text-slate-900 dark:text-white text-base font-bold leading-normal",children:r("global_progress")}),y.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-xs font-bold",children:["%",o]})]}),y.jsx("div",{className:"w-full rounded-full bg-slate-100 dark:bg-slate-700 h-3 overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500 ease-out",style:{width:`${o}%`}})}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-normal leading-normal",children:o<30?r("progress_good_start"):o<70?r("progress_very_good"):r("progress_almost_there")})]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:r("medals_achievements")}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:h.map(g=>{var _;const v=(_=n.achievements)==null?void 0:_.includes(g.id);return y.jsxs("div",{className:`flex gap-4 p-4 rounded-xl border transition-all ${v?"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 shadow-sm":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 opacity-60 grayscale"}`,children:[y.jsx("div",{className:`size-12 rounded-full flex items-center justify-center shrink-0 ${v?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-slate-200 dark:bg-slate-700 text-slate-400"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:g.icon})}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("h4",{className:`font-bold ${v?"text-slate-900 dark:text-white":"text-slate-500"}`,children:g.title}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:g.description}),v&&y.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mt-1",children:r("xp_earned").replace("{0}",g.xpReward.toString())})]})]},g.id)})})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:r("game_details")}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.entries(u).map(([g,v])=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm",children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:g}),y.jsx("div",{className:"flex flex-col gap-4",children:v.map(_=>y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[y.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:c(_.key)}),y.jsxs("span",{className:`${_.current>=_.limit?"text-green-500 font-bold":"text-slate-400"}`,children:[_.current," / ",_.limit," XP"]})]}),y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 h-2 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full transition-all ${_.current>=_.limit?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,_.current/_.limit*100)}%`}})})]},_.key))})]},g))})]})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 flex flex-col gap-4",children:[y.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:r("your_level")}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"size-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-2xl font-black text-primary border-4 border-primary/20",children:n.level}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-slate-900 dark:text-white font-bold mb-1",children:r("student_level").replace("{0}",n.level.toString())}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:r("next_level_xp").replace("{0}",(500-n.xp%500).toString())}),y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2 mt-2",children:y.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n.xp%500/5}%`}})})]})]})]}),y.jsxs("div",{className:"rounded-xl bg-gradient-to-b from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 p-5 text-white flex flex-col gap-4 shadow-lg",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 pb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-400",children:"trophy"}),y.jsx("h3",{className:"font-bold text-lg",children:r("leaderboard")})]}),y.jsx("span",{className:"text-xs bg-white/10 px-2 py-1 rounded",children:r("this_week")})]}),y.jsx("div",{className:"flex flex-col gap-2",children:e.map((g,v)=>y.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${g.uid===n.uid?"bg-primary/20 border border-primary/50":"hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:`text-sm font-bold w-4 ${v===0?"text-yellow-400":v===1?"text-slate-300":v===2?"text-amber-600":"text-slate-500"}`,children:v+1}),y.jsx("div",{className:"size-8 rounded-full bg-slate-700 bg-cover bg-center",style:{backgroundImage:`url("${g.photoURL}")`}}),y.jsxs("span",{className:`text-sm font-medium ${g.uid===n.uid?"text-white font-bold":"text-slate-300"}`,children:[g.displayName," ",g.uid===n.uid&&r("you_suffix")]})]}),y.jsx("span",{className:"text-sm font-bold text-white",children:g.xp})]},g.uid))})]})]})]})]})})},c9=()=>{const[n,e]=I.useState(""),[s,r]=I.useState(""),[o,c]=I.useState(""),{login:u,loginAsGuest:h}=Ps(),{t:m}=fn(),g=pa(),v=async w=>{w.preventDefault(),c("");try{await u(n,s),g("/progress")}catch{c(m("login_error_check_data"))}},_=async()=>{try{await h(),g("/progress")}catch{c(m("login_error_guest"))}};return y.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:m("login_title_welcome")}),y.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:m("login_subtitle")}),o&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:o}),y.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:m("email_label")}),y.jsx("input",{type:"email",required:!0,value:n,onChange:w=>e(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:m("email_placeholder")})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:m("password_label")}),y.jsx("input",{type:"password",required:!0,value:s,onChange:w=>r(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:m("password_placeholder_dots")})]}),y.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:m("login_button")})]}),y.jsxs("div",{className:"flex items-center gap-4 my-6",children:[y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"}),y.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:m("or")}),y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"})]}),y.jsxs("button",{onClick:_,className:"w-full py-3.5 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-white font-bold transition-all border border-slate-200 dark:border-slate-600 flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"person"}),m("guest_continue")]}),y.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:[m("no_account")," ",y.jsx(dt,{to:"/register",className:"text-primary font-bold hover:underline",children:m("register_here")})]})]})})},u9=()=>{const[n,e]=I.useState(""),[s,r]=I.useState(""),[o,c]=I.useState(""),[u,h]=I.useState(""),{register:m}=Ps(),{t:g}=fn(),v=pa(),_=async w=>{w.preventDefault(),h("");try{await m(s,o,n),v("/progress")}catch{h(g("register_error"))}};return y.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:g("register_title")}),y.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:g("register_subtitle")}),u&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:u}),y.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:g("name_label")}),y.jsx("input",{type:"text",required:!0,value:n,onChange:w=>e(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:g("name_placeholder")})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:g("email_label")}),y.jsx("input",{type:"email",required:!0,value:s,onChange:w=>r(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:g("email_placeholder")})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:g("password_label")}),y.jsx("input",{type:"password",required:!0,value:o,onChange:w=>c(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:g("password_placeholder_dots")})]}),y.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:g("register_btn")})]}),y.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:[g("already_account")," ",y.jsx(dt,{to:"/login",className:"text-primary font-bold hover:underline",children:g("login_link")})]})]})})},JT=["https://ui-avatars.com/api/?name=User&background=136dec&color=fff","https://ui-avatars.com/api/?name=User&background=0d9488&color=fff","https://ui-avatars.com/api/?name=User&background=7c3aed&color=fff","https://ui-avatars.com/api/?name=User&background=db2777&color=fff","https://ui-avatars.com/api/?name=User&background=ea580c&color=fff"],d9=()=>{const{user:n}=Ps(),{t:e}=fn(),[s,r]=I.useState((n==null?void 0:n.displayName)||""),[o,c]=I.useState((n==null?void 0:n.photoURL)||JT[0]),[u,h]=I.useState(!1),[m,g]=I.useState("");if(!n)return y.jsx(nr,{to:"/",replace:!0});const v=async w=>{w.preventDefault(),h(!0),g(""),Rt.click();try{await fs.updateProfile(n.uid,{displayName:s,photoURL:o}),g(e("changes_saved")),Rt.correct(),setTimeout(()=>window.location.reload(),1e3)}catch{g(e("error")),Rt.wrong()}finally{h(!1)}},_=async()=>{window.confirm(e("delete_account_confirm"))&&alert(e("delete_account_contact"))};return y.jsx("main",{className:"flex-1 flex flex-col items-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-lg p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 border-b border-slate-100 dark:border-slate-700 pb-4",children:e("my_profile")}),m&&y.jsx("div",{className:"mb-6 p-4 rounded-xl bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 font-bold text-center",children:m}),y.jsxs("form",{onSubmit:v,className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e("choose_avatar")}),y.jsx("div",{className:"flex gap-3 justify-center flex-wrap",children:JT.map((w,k)=>y.jsx("button",{type:"button",onClick:()=>{c(w),Rt.click()},className:`size-14 rounded-full border-4 transition-transform hover:scale-110 ${o===w?"border-primary":"border-transparent"}`,style:{backgroundImage:`url("${w}")`,backgroundSize:"cover"}},k))})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e("username")}),y.jsx("input",{type:"text",value:s,onChange:w=>r(w.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),y.jsxs("div",{className:"flex flex-col gap-2 opacity-60",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e("email_read_only")}),y.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 cursor-not-allowed"})]}),y.jsx("button",{type:"submit",disabled:u,className:"mt-4 w-full py-4 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed",children:e(u?"saving":"save_changes")})]}),y.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm uppercase tracking-wide mb-3",children:e("danger_zone")}),y.jsxs("button",{type:"button",onClick:_,className:"text-red-500 hover:text-red-700 text-sm font-bold flex items-center gap-2 hover:underline",children:[y.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"}),e("delete_account")]})]})]})})},h9=()=>{const{user:n}=Ps(),{t:e}=fn(),{addToast:s}=Gl(),[r,o]=I.useState([]),[c,u]=I.useState(!0),[h,m]=I.useState(null);I.useEffect(()=>{g()},[n]);const g=async()=>{if(n!=null&&n.isAdmin){const _=await fs.getAllUsers();o(_),u(!1)}},v=async _=>{try{await fs.kickUser(_),s("success",e("user_kicked_success")),m(null),g()}catch{s("error",e("user_kicked_error"))}};return!n||!n.isAdmin?y.jsx(nr,{to:"/",replace:!0}):y.jsxs("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:[y.jsxs("div",{className:"w-full max-w-7xl",children:[y.jsxs("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-red-500",children:"admin_panel_settings"}),e("admin_panel")]}),c?y.jsx("div",{className:"flex justify-center p-12",children:y.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-primary",children:"loader"})}):y.jsx(Si,{className:"p-0 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:e("user")}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:e("email")}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"XP"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:e("level")}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:e("last_login")}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"IP"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-right",children:e("actions")})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:r.map(_=>y.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[y.jsxs("td",{className:"p-4 flex items-center gap-3",children:[y.jsx("div",{className:"size-10 rounded-full bg-cover bg-center bg-slate-200 shadow-sm border border-slate-200 dark:border-slate-700",style:{backgroundImage:`url("${_.photoURL}")`}}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:_.displayName}),_.isAdmin&&y.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-wider",children:"Admin"})]})]}),y.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400 font-mono text-xs",children:_.email}),y.jsx("td",{className:"p-4 text-center font-bold text-primary",children:_.xp}),y.jsx("td",{className:"p-4 text-center",children:y.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300",children:_.level})}),y.jsx("td",{className:"p-4 text-center text-xs text-slate-500",children:new Date(_.lastLoginDate).toLocaleDateString()}),y.jsx("td",{className:"p-4 text-center text-xs font-mono text-slate-400",children:_.lastIp||"-"}),y.jsx("td",{className:"p-4 text-right",children:!_.isAdmin&&y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsxs(dt,{to:`/admin/user/${_.uid}`,className:"px-3 py-1.5 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 font-bold text-xs flex items-center gap-1 hover:bg-blue-200 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"visibility"}),e("view")]}),y.jsx(Is,{variant:"danger",size:"sm",leftIcon:y.jsx("span",{className:"material-symbols-outlined text-lg",children:"person_remove"}),onClick:()=>m(_.uid),children:e("kick")})]})})]},_.uid))})]})})})]}),h&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs(Si,{className:"max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[y.jsx("div",{className:"size-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center mb-4 mx-auto",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"warning"})}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:e("are_you_sure")}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-center text-sm",children:e("kick_confirmation_text")}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(Is,{variant:"ghost",className:"flex-1",onClick:()=>m(null),children:e("cancel")}),y.jsx(Is,{variant:"danger",className:"flex-1",onClick:()=>v(h),children:e("kick")})]})]})})]})},f9=()=>{const{userId:n}=u1(),[e,s]=I.useState(null),[r,o]=I.useState(null),[c,u]=I.useState([]),[h,m]=I.useState(!0),{addToast:g}=Gl(),{t:v}=fn();if(I.useEffect(()=>{(async()=>{if(n)try{const k=await to.getUserProfile(n);s(k);const j=await fs.getUserAnalytics(n);o(j);const D=await fs.getUserSessions(n);u(D)}catch(k){console.error(k),g("error",v("error"))}finally{m(!1)}})()},[n]),h)return y.jsx("div",{className:"p-8 text-center",children:v("loading")});if(!e)return y.jsx("div",{className:"p-8 text-center",children:v("user")+" "+v("no_data")});const _=w=>{const k=Math.floor(w/3600),j=Math.floor(w%3600/60),D=w%60;return`${k}h ${j}m ${D}s`};return y.jsxs("div",{className:"flex-1 p-6 md:p-10 bg-slate-50 dark:bg-slate-900 min-h-screen",children:[y.jsxs(dt,{to:"/admin",className:"text-slate-500 hover:text-primary mb-6 flex items-center gap-2 font-bold",children:[y.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),v("admin_return")]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 mb-8 flex flex-col md:flex-row items-center gap-6",children:[y.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-24 h-24 rounded-full border-4 border-primary"}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white",children:e.displayName}),y.jsx("p",{className:"text-slate-500",children:e.email}),y.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 justify-center md:justify-start",children:[y.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-bold",children:[v("level")," ",e.level]}),y.jsxs("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-bold",children:[e.xp," XP"]}),y.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-bold",children:[r==null?void 0:r.totalSessions," ",v("sessions_total")]}),y.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold text-nowrap",children:[" ",_((r==null?void 0:r.totalTime)||0)]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-md border border-slate-200 dark:border-slate-700",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-slate-900 dark:text-white",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"bar_chart"}),v("most_used_sections")]}),y.jsxs("div",{className:"space-y-3",children:[(r==null?void 0:r.popularSections)&&Object.entries(r.popularSections).sort((w,k)=>k[1]-w[1]).slice(0,5).map(([w,k])=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[y.jsx("span",{className:"font-mono text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:w}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"h-2 w-24 bg-slate-200 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-primary",style:{width:`${Math.min(100,k*5)}%`}})}),y.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:k})]})]},w)),(!(r!=null&&r.popularSections)||Object.keys(r.popularSections).length===0)&&y.jsx("p",{className:"text-slate-500",children:v("no_data")})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-md border border-slate-200 dark:border-slate-700",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-slate-900 dark:text-white",children:[y.jsx("span",{className:"material-symbols-outlined text-purple-500",children:"history"}),v("last_sessions")]}),y.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2",children:[c.map(w=>y.jsxs("div",{className:"p-4 border border-slate-100 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:new Date(w.startTime).toLocaleDateString()}),y.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(w.startTime).toLocaleTimeString()," - ",w.endTime?new Date(w.endTime).toLocaleTimeString():v("active")]})]}),y.jsx("span",{className:"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-xs px-2 py-1 rounded font-mono",children:w.duration?_(w.duration):"..."})]}),y.jsx("p",{className:"text-xs text-slate-400 truncate",title:w.deviceInfo,children:w.deviceInfo})]},w.id)),c.length===0&&y.jsx("p",{className:"text-slate-500",children:v("no_sessions")})]})]})]})]})},m9=()=>{const{user:n}=Ps(),{addToast:e}=Gl(),{t:s}=fn(),[r,o]=I.useState(null),c=DE.filter(m=>m.type==="avatar"),u=DE.filter(m=>m.type==="frame"),h=async m=>{if(n){o(m.id),Rt.click();try{const g=await fs.buyItem(n.uid,m);g.success?(e("success",g.message),Rt.correct(),setTimeout(()=>window.location.reload(),1e3)):(e("error",g.message),Rt.wrong())}catch{e("error",s("error_buying"))}finally{o(null)}}};return n?y.jsx("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:y.jsxs("div",{className:"w-full max-w-6xl",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 gap-6",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-purple-500",children:"storefront"}),s("shop_title")]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 text-lg",children:s("shop_subtitle")})]}),y.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-white px-8 py-4 rounded-2xl shadow-lg shadow-amber-500/30 flex items-center gap-4 transform hover:scale-105 transition-transform",children:[y.jsx("div",{className:"size-12 rounded-full bg-white/20 flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"monetization_on"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-bold uppercase text-yellow-100 tracking-wider",children:s("balance")}),y.jsx("p",{className:"text-3xl font-black",children:n.coins||0})]})]})]}),y.jsxs("div",{className:"flex flex-col gap-12",children:[y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6 flex items-center gap-2 border-b border-slate-200 dark:border-slate-800 pb-2",children:[y.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"face"}),s("special_avatars")]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(m=>y.jsx(e1,{item:m,user:n,onBuy:h,buying:r===m.id},m.id))})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6 flex items-center gap-2 border-b border-slate-200 dark:border-slate-800 pb-2",children:[y.jsx("span",{className:"material-symbols-outlined text-green-500",children:"crop_square"}),s("frames")]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(m=>y.jsx(e1,{item:m,user:n,onBuy:h,buying:r===m.id},m.id))})]})]})]})}):null},e1=({item:n,user:e,onBuy:s,buying:r})=>{var m,g;const{t:o}=fn(),c=(m=e.inventory)==null?void 0:m.includes(n.id),u=e.coins>=n.price,h=n.requiresLevel?e.level<n.requiresLevel:!1;return y.jsxs(Si,{className:`relative flex flex-col p-0 overflow-hidden group ${h?"opacity-60 grayscale":""}`,children:[y.jsxs("div",{className:"h-40 bg-slate-100 dark:bg-slate-800 flex items-center justify-center relative overflow-hidden",children:[n.previewUrl?y.jsx("img",{src:n.previewUrl,alt:n.name,className:"size-24 rounded-full shadow-lg group-hover:scale-110 transition-transform duration-300"}):y.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-400",children:n.icon}),c&&y.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"}),o("owned")]})]}),y.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-black text-lg text-slate-900 dark:text-white leading-tight",children:n.name}),y.jsxs("div",{className:"text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded-lg flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"}),n.price]})]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 flex-1",children:n.description}),h?y.jsxs("div",{className:"w-full py-2 bg-slate-100 text-slate-500 rounded-lg text-xs font-bold text-center flex items-center justify-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"}),o("level_required").replace("{0}",((g=n.requiresLevel)==null?void 0:g.toString())||"1")]}):c?y.jsx(Is,{variant:"secondary",className:"w-full opacity-50 cursor-default",disabled:!0,children:o("purchased")}):y.jsx(Is,{variant:u?"primary":"secondary",className:"w-full",onClick:()=>s(n),disabled:!u||r,children:o(r?"buying":u?"buy":"insufficient_funds")})]})]})},p9=()=>y.jsx(A4,{children:y.jsx(k4,{children:y.jsx(aI,{children:y.jsx(X2,{children:y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(Xz,{}),y.jsx(Zz,{}),y.jsxs(T2,{children:[y.jsx(ks,{path:"/",element:y.jsx(Jz,{})}),y.jsx(ks,{path:"/topics",element:y.jsx(e9,{})}),y.jsx(ks,{path:"/theory",element:y.jsx(i9,{})}),y.jsx(ks,{path:"/games",element:y.jsx(o9,{})}),y.jsx(ks,{path:"/progress",element:y.jsx(l9,{})}),y.jsx(ks,{path:"/login",element:y.jsx(c9,{})}),y.jsx(ks,{path:"/register",element:y.jsx(u9,{})}),y.jsx(ks,{path:"/profile",element:y.jsx(d9,{})}),y.jsx(ks,{path:"/shop",element:y.jsx(m9,{})}),y.jsx(ks,{path:"/admin",element:y.jsx(h9,{})}),y.jsx(ks,{path:"/admin/user/:userId",element:y.jsx(f9,{})})]}),y.jsx(Yz,{}),y.jsx(Qz,{})]})})})})});class g9 extends n1.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,s){console.error("Uncaught error:",e,s),this.setState({errorInfo:s})}render(){return this.state.hasError?y.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",color:"red"},children:[y.jsx("h1",{children:"Something went wrong."}),y.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),y.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}const GR=document.getElementById("root");if(!GR)throw new Error("Could not find root element to mount to");const y9=DN.createRoot(GR);y9.render(y.jsx(n1.StrictMode,{children:y.jsx(g9,{children:y.jsx(p9,{})})}));
