(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function JT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xp={exports:{}},Gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function pN(){if(j_)return Gc;j_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Gc.Fragment=e,Gc.jsx=n,Gc.jsxs=n,Gc}var P_;function gN(){return P_||(P_=1,Xp.exports=pN()),Xp.exports}var y=gN(),Yp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function yN(){if(O_)return Oe;O_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function B(L,ee,le){this.props=L,this.context=ee,this.refs=M,this.updater=le||N}B.prototype.isReactComponent={},B.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function X(){}X.prototype=B.prototype;function q(L,ee,le){this.props=L,this.context=ee,this.refs=M,this.updater=le||N}var ae=q.prototype=new X;ae.constructor=q,O(ae,B.prototype),ae.isPureReactComponent=!0;var oe=Array.isArray;function ue(){}var R={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function C(L,ee,le){var he=le.ref;return{$$typeof:t,type:L,key:ee,ref:he!==void 0?he:null,props:le}}function j(L,ee){return C(L.type,ee,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function U(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return ee[le]})}var I=/\/+/g;function Xe(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):ee.toString(36)}function Ve(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ue,ue):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,ee,le,he,fe){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var we=!1;if(L===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(L.$$typeof){case t:case e:we=!0;break;case v:return we=L._init,Y(we(L._payload),ee,le,he,fe)}}if(we)return fe=fe(L),we=he===""?"."+Xe(L,0):he,oe(fe)?(le="",we!=null&&(le=we.replace(I,"$&/")+"/"),Y(fe,ee,le,"",function(jn){return jn})):fe!=null&&(P(fe)&&(fe=j(fe,le+(fe.key==null||L&&L.key===fe.key?"":(""+fe.key).replace(I,"$&/")+"/")+we)),ee.push(fe)),1;we=0;var Et=he===""?".":he+":";if(oe(L))for(var nt=0;nt<L.length;nt++)he=L[nt],Ne=Et+Xe(he,nt),we+=Y(he,ee,le,Ne,fe);else if(nt=A(L),typeof nt=="function")for(L=nt.call(L),nt=0;!(he=L.next()).done;)he=he.value,Ne=Et+Xe(he,nt++),we+=Y(he,ee,le,Ne,fe);else if(Ne==="object"){if(typeof L.then=="function")return Y(Ve(L),ee,le,he,fe);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(L,ee,le){if(L==null)return L;var he=[],fe=0;return Y(L,he,"","",function(Ne){return ee.call(le,Ne,fe++)}),he}function J(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var Ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},je={map:re,forEach:function(L,ee,le){re(L,function(){ee.apply(this,arguments)},le)},count:function(L){var ee=0;return re(L,function(){ee++}),ee},toArray:function(L){return re(L,function(ee){return ee})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Oe.Activity=x,Oe.Children=je,Oe.Component=B,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=q,Oe.StrictMode=s,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},Oe.cache=function(L){return function(){return L.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(L,ee,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=O({},L.props),fe=L.key;if(ee!=null)for(Ne in ee.key!==void 0&&(fe=""+ee.key),ee)!T.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(he[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=le;else if(1<Ne){for(var we=Array(Ne),Et=0;Et<Ne;Et++)we[Et]=arguments[Et+2];he.children=we}return C(L.type,fe,he)},Oe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Oe.createElement=function(L,ee,le){var he,fe={},Ne=null;if(ee!=null)for(he in ee.key!==void 0&&(Ne=""+ee.key),ee)T.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(fe[he]=ee[he]);var we=arguments.length-2;if(we===1)fe.children=le;else if(1<we){for(var Et=Array(we),nt=0;nt<we;nt++)Et[nt]=arguments[nt+2];fe.children=Et}if(L&&L.defaultProps)for(he in we=L.defaultProps,we)fe[he]===void 0&&(fe[he]=we[he]);return C(L,Ne,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:d,render:L}},Oe.isValidElement=P,Oe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:J}},Oe.memo=function(L,ee){return{$$typeof:p,type:L,compare:ee===void 0?null:ee}},Oe.startTransition=function(L){var ee=R.T,le={};R.T=le;try{var he=L(),fe=R.S;fe!==null&&fe(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ue,Ae)}catch(Ne){Ae(Ne)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),R.T=ee}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(L){return R.H.use(L)},Oe.useActionState=function(L,ee,le){return R.H.useActionState(L,ee,le)},Oe.useCallback=function(L,ee){return R.H.useCallback(L,ee)},Oe.useContext=function(L){return R.H.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L,ee){return R.H.useDeferredValue(L,ee)},Oe.useEffect=function(L,ee){return R.H.useEffect(L,ee)},Oe.useEffectEvent=function(L){return R.H.useEffectEvent(L)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(L,ee,le){return R.H.useImperativeHandle(L,ee,le)},Oe.useInsertionEffect=function(L,ee){return R.H.useInsertionEffect(L,ee)},Oe.useLayoutEffect=function(L,ee){return R.H.useLayoutEffect(L,ee)},Oe.useMemo=function(L,ee){return R.H.useMemo(L,ee)},Oe.useOptimistic=function(L,ee){return R.H.useOptimistic(L,ee)},Oe.useReducer=function(L,ee,le){return R.H.useReducer(L,ee,le)},Oe.useRef=function(L){return R.H.useRef(L)},Oe.useState=function(L){return R.H.useState(L)},Oe.useSyncExternalStore=function(L,ee,le){return R.H.useSyncExternalStore(L,ee,le)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var L_;function Cy(){return L_||(L_=1,Yp.exports=yN()),Yp.exports}var D=Cy();const e1=JT(D);var Qp={exports:{}},Kc={},Zp={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function vN(){return z_||(z_=1,(function(t){function e(Y,re){var J=Y.length;Y.push(re);e:for(;0<J;){var Ae=J-1>>>1,je=Y[Ae];if(0<a(je,re))Y[Ae]=re,Y[J]=je,J=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var re=Y[0],J=Y.pop();if(J!==re){Y[0]=J;e:for(var Ae=0,je=Y.length,L=je>>>1;Ae<L;){var ee=2*(Ae+1)-1,le=Y[ee],he=ee+1,fe=Y[he];if(0>a(le,J))he<je&&0>a(fe,le)?(Y[Ae]=fe,Y[he]=J,Ae=he):(Y[Ae]=le,Y[ee]=J,Ae=ee);else if(he<je&&0>a(fe,J))Y[Ae]=fe,Y[he]=J,Ae=he;else break e}}return re}function a(Y,re){var J=Y.sortIndex-re.sortIndex;return J!==0?J:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],v=1,x=null,w=3,A=!1,N=!1,O=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=Y)s(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(p)}}function oe(Y){if(O=!1,ae(Y),!N)if(n(f)!==null)N=!0,ue||(ue=!0,U());else{var re=n(p);re!==null&&Ve(oe,re.startTime-Y)}}var ue=!1,R=-1,T=5,C=-1;function j(){return M?!0:!(t.unstable_now()-C<T)}function P(){if(M=!1,ue){var Y=t.unstable_now();C=Y;var re=!0;try{e:{N=!1,O&&(O=!1,X(R),R=-1),A=!0;var J=w;try{t:{for(ae(Y),x=n(f);x!==null&&!(x.expirationTime>Y&&j());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,w=x.priorityLevel;var je=Ae(x.expirationTime<=Y);if(Y=t.unstable_now(),typeof je=="function"){x.callback=je,ae(Y),re=!0;break t}x===n(f)&&s(f),ae(Y)}else s(f);x=n(f)}if(x!==null)re=!0;else{var L=n(p);L!==null&&Ve(oe,L.startTime-Y),re=!1}}break e}finally{x=null,w=J,A=!1}re=void 0}}finally{re?U():ue=!1}}}var U;if(typeof q=="function")U=function(){q(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xe=I.port2;I.port1.onmessage=P,U=function(){Xe.postMessage(null)}}else U=function(){B(P,0)};function Ve(Y,re){R=B(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var J=w;w=re;try{return Y()}finally{w=J}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=w;w=Y;try{return re()}finally{w=J}},t.unstable_scheduleCallback=function(Y,re,J){var Ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ae+J:Ae):J=Ae,Y){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=J+je,Y={id:v++,callback:re,priorityLevel:Y,startTime:J,expirationTime:je,sortIndex:-1},J>Ae?(Y.sortIndex=J,e(p,Y),n(f)===null&&Y===n(p)&&(O?(X(R),R=-1):O=!0,Ve(oe,J-Ae))):(Y.sortIndex=je,e(f,Y),N||A||(N=!0,ue||(ue=!0,U()))),Y},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Y){var re=w;return function(){var J=w;w=re;try{return Y.apply(this,arguments)}finally{w=J}}}})(Wp)),Wp}var U_;function bN(){return U_||(U_=1,Zp.exports=vN()),Zp.exports}var Jp={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function xN(){if(B_)return Cn;B_=1;var t=Cy();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},Cn.flushSync=function(f){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=v,s.d.f()}},Cn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},Cn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Cn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,x=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:A}):v==="script"&&s.d.X(f,{crossOrigin:x,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},Cn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=d(v,p.crossOrigin);s.d.L(f,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},Cn.requestFormReset=function(f){s.d.r(f)},Cn.unstable_batchedUpdates=function(f,p){return f(p)},Cn.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var F_;function _N(){if(F_)return Jp.exports;F_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jp.exports=xN(),Jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function wN(){if(q_)return Kc;q_=1;var t=bN(),e=Cy(),n=_N();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return f(m),i;if(g===u)return f(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=g;else{for(var _=!1,S=m.child;S;){if(S===o){_=!0,o=m,u=g;break}if(S===u){_=!0,u=m,o=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===o){_=!0,o=g,u=m;break}if(S===u){_=!0,u=g,o=m;break}S=S.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function Xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case oe:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case q:return i.displayName||"Context";case X:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Xe(i.type)||"Memo";case T:r=i._payload,i=i._init;try{return Xe(i(r))}catch{}}return null}var Ve=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ae=[],je=-1;function L(i){return{current:i}}function ee(i){0>je||(i.current=Ae[je],Ae[je]=null,je--)}function le(i,r){je++,Ae[je]=i.current,i.current=r}var he=L(null),fe=L(null),Ne=L(null),we=L(null);function Et(i,r){switch(le(Ne,r),le(fe,i),le(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?s_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=s_(r),i=r_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(he),le(he,i)}function nt(){ee(he),ee(fe),ee(Ne)}function jn(i){i.memoizedState!==null&&le(we,i);var r=he.current,o=r_(r,i.type);r!==o&&(le(fe,i),le(he,o))}function Pn(i){fe.current===i&&(ee(he),ee(fe)),we.current===i&&(ee(we),Bc._currentValue=J)}var On,Ni;function Fn(i){if(On===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);On=r&&r[1]||"",Ni=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+On+i+Ni}var ya=!1;function Cs(i,r){if(!i||ya)return"";ya=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var $=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){$=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){$=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],S=g[1];if(_&&S){var V=_.split(`
`),K=S.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===K.length)for(u=V.length-1,m=K.length-1;1<=u&&0<=m&&V[u]!==K[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==K[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==K[m]){var W=`
`+V[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=m);break}}}finally{ya=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Fn(o):""}function Ns(i,r){switch(i.tag){case 26:case 27:case 5:return Fn(i.type);case 16:return Fn("Lazy");case 13:return i.child!==r&&r!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Cs(i.type,!1);case 11:return Cs(i.type.render,!1);case 1:return Cs(i.type,!0);case 31:return Fn("Activity");default:return""}}function va(i){try{var r="",o=null;do r+=Ns(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Pt=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,hi=t.unstable_cancelCallback,po=t.unstable_shouldYield,ce=t.unstable_requestPaint,pe=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,ot=t.unstable_LowPriority,Tt=t.unstable_IdlePriority,vn=t.log,St=t.unstable_setDisableYieldValue,Ln=null,Se=null;function Be(i){if(typeof vn=="function"&&St(i),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Ln,i)}catch{}}var xe=Math.clz32?Math.clz32:rn,vt=Math.log,It=Math.LN2;function rn(i){return i>>>=0,i===0?32:31-(vt(i)/It|0)|0}var Dt=256,bn=262144,Ot=4194304;function Zi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?m=Zi(u):(_&=S,_!==0?m=Zi(_):o||(o=S&~i,o!==0&&(m=Zi(o))))):(S=u&~g,S!==0?m=Zi(S):_!==0?m=Zi(_):o||(o=u&~i,o!==0&&(m=Zi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Ii(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Wf(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function Ji(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ba(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jf(i,r,o,u,m,g){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(o=_&~o;0<o;){var W=31-xe(o),ie=1<<W;S[W]=0,V[W]=-1;var $=K[W];if($!==null)for(K[W]=null,W=0;W<$.length;W++){var Z=$[W];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&xa(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(_&~r))}function xa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-xe(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Kl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-xe(o),m=1<<u;m&r|i[u]&r&&(i[u]|=r),o&=~m}}function $l(i,r){var o=r&-r;return o=(o&42)!==0?1:_a(o),(o&(i.suspendedLanes|r))!==0?0:o}function _a(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zu(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:R_(i.type))}function Di(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var Mi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Mi,un="__reactProps$"+Mi,es="__reactContainer$"+Mi,go="__reactEvents$"+Mi,em="__reactListeners$"+Mi,Wu="__reactHandles$"+Mi,Ju="__reactResources$"+Mi,ts="__reactMarker$"+Mi;function yo(i){delete i[Kt],delete i[un],delete i[go],delete i[em],delete i[Wu]}function ns(i){var r=i[Kt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[es]||o[Kt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=d_(i);i!==null;){if(o=i[Kt])return o;i=d_(i)}return r}i=o,o=i.parentNode}return null}function di(i){if(i=i[Kt]||i[es]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ei(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function is(i){var r=i[Ju];return r||(r=i[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(i){i[ts]=!0}var Xl=new Set,Yl={};function ss(i,r){rs(i,r),rs(i+"Capture",r)}function rs(i,r){for(Yl[i]=r,i=0;i<r.length;i++)Xl.add(r[i])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},Wl={};function eh(i){return Pt.call(Wl,i)?!0:Pt.call(Zl,i)?!1:Ql.test(i)?Wl[i]=!0:(Zl[i]=!0,!1)}function vo(i,r,o){if(eh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ti(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Xt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function dr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ct(i){if(!i._valueTracker){var r=dr(i)?"checked":"value";i._valueTracker=Jl(i,r,""+i[r])}}function wa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=dr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function as(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ea=/[\n"\\]/g;function qn(i){return i.replace(Ea,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bo(i,r,o,u,m,g,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+hn(r)):i.value!==""+hn(r)&&(i.value=""+hn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?ec(i,_,hn(r)):o!=null?ec(i,_,hn(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+hn(S):i.removeAttribute("name")}function th(i,r,o,u,m,g,_,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ct(i);return}o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),ct(i)}function ec(i,r,o){r==="number"&&as(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function fr(i,r,o,u){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function nh(i,r,o){if(r!=null&&(r=""+hn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+hn(o):""}function mr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ve(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=hn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),ct(i)}function Hn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ih.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function nc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&tc(i,m,u)}else for(var g in r)r.hasOwnProperty(g)&&tc(i,g,r[g])}function xo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(i){return pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Vi(){}var ic=null;function fi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gr=null,os=null;function Ta(i){var r=di(i);if(r&&(i=r.stateNode)){var o=i[un]||null;e:switch(i=r.stateNode,r.type){case"input":if(bo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var m=u[un]||null;if(!m)throw Error(s(90));bo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&wa(u)}break e;case"textarea":nh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&fr(i,!!o.multiple,r,!1)}}}var wo=!1;function yr(i,r,o){if(wo)return i(r,o);wo=!0;try{var u=i(r);return u}finally{if(wo=!1,(gr!==null||os!==null)&&(Zh(),gr&&(r=gr,i=os,os=gr=null,Ta(r),i)))for(r=0;r<i.length;r++)Ta(i[r])}}function ji(i,r){var o=i.stateNode;if(o===null)return null;var u=o[un]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=!1;if(mi)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Sa=!1}var ls=null,sc=null,Aa=null;function rc(){if(Aa)return Aa;var i,r=sc,o=r.length,u,m="value"in ls?ls.value:ls.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===m[g-u];u++);return Aa=m.slice(i,1<u?1-u:void 0)}function ka(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ds(){return!0}function Pi(){return!1}function xn(i){function r(o,u,m,g,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ds:Pi,this.isPropagationStopped=Pi,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),r}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=xn(Ms),vr=x({},Ms,{view:0,detail:0}),ac=xn(vr),br,Eo,us,To=x({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==us&&(us&&i.type==="mousemove"?(br=i.screenX-us.screenX,Eo=i.screenY-us.screenY):Eo=br=0,us=i),br)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),oc=xn(To),Ra=x({},To,{dataTransfer:0}),rh=xn(Ra),ah=x({},vr,{relatedTarget:0}),Ca=xn(ah),lc=x({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=xn(lc),So=x({},Ms,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=xn(So),ch=x({},Ms,{data:0}),hs=xn(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=dh[i])?!!r[i]:!1}function xr(){return fh}var zn=x({},vr,{key:function(i){if(i.key){var r=uh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ka(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(i){return i.type==="keypress"?ka(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ka(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mh=xn(zn),ph=x({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vs=xn(ph),h=x({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),b=xn(h),E=x({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=xn(E),H=x({},To,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=xn(H),de=x({},Ms,{newState:0,oldState:0}),Fe=xn(de),Bt=[9,13,27,32],rt=mi&&"CompositionEvent"in window,At=null;mi&&"documentMode"in document&&(At=document.documentMode);var pi=mi&&"TextEvent"in window&&!At,ds=mi&&(!rt||At&&8<At&&11>=At),Oi=" ",Li=!1;function Na(i,r){switch(i){case"keyup":return Bt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function zR(i,r){switch(i){case"compositionend":return Ao(r);case"keypress":return r.which!==32?null:(Li=!0,Oi);case"textInput":return i=r.data,i===Oi&&Li?null:i;default:return null}}function UR(i,r){if(ko)return i==="compositionend"||!rt&&Na(i,r)?(i=rc(),Aa=sc=ls=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ds&&r.locale!=="ko"?null:r.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!BR[i.type]:r==="textarea"}function gv(i,r,o,u){gr?os?os.push(u):os=[u]:gr=u,r=sd(r,"onChange"),0<r.length&&(o=new cs("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var cc=null,uc=null;function FR(i){Wx(i,0)}function gh(i){var r=ei(i);if(wa(r))return i}function yv(i,r){if(i==="change")return r}var vv=!1;if(mi){var tm;if(mi){var nm="oninput"in document;if(!nm){var bv=document.createElement("div");bv.setAttribute("oninput","return;"),nm=typeof bv.oninput=="function"}tm=nm}else tm=!1;vv=tm&&(!document.documentMode||9<document.documentMode)}function xv(){cc&&(cc.detachEvent("onpropertychange",_v),uc=cc=null)}function _v(i){if(i.propertyName==="value"&&gh(uc)){var r=[];gv(r,uc,i,fi(i)),yr(FR,r)}}function qR(i,r,o){i==="focusin"?(xv(),cc=r,uc=o,cc.attachEvent("onpropertychange",_v)):i==="focusout"&&xv()}function HR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gh(uc)}function GR(i,r){if(i==="click")return gh(r)}function KR(i,r){if(i==="input"||i==="change")return gh(r)}function $R(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ni=typeof Object.is=="function"?Object.is:$R;function hc(i,r){if(ni(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Pt.call(r,m)||!ni(i[m],r[m]))return!1}return!0}function wv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ev(i,r){var o=wv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wv(o)}}function Tv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Tv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Sv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=as(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=as(i.document)}return r}function im(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var XR=mi&&"documentMode"in document&&11>=document.documentMode,Ro=null,sm=null,dc=null,rm=!1;function Av(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rm||Ro==null||Ro!==as(u)||(u=Ro,"selectionStart"in u&&im(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dc&&hc(dc,u)||(dc=u,u=sd(sm,"onSelect"),0<u.length&&(r=new cs("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ro)))}function Ia(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Co={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},am={},kv={};mi&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Da(i){if(am[i])return am[i];if(!Co[i])return i;var r=Co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in kv)return am[i]=r[o];return i}var Rv=Da("animationend"),Cv=Da("animationiteration"),Nv=Da("animationstart"),YR=Da("transitionrun"),QR=Da("transitionstart"),ZR=Da("transitioncancel"),Iv=Da("transitionend"),Dv=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function zi(i,r){Dv.set(i,r),ss(r,[i])}var yh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},gi=[],No=0,lm=0;function vh(){for(var i=No,r=lm=No=0;r<i;){var o=gi[r];gi[r++]=null;var u=gi[r];gi[r++]=null;var m=gi[r];gi[r++]=null;var g=gi[r];if(gi[r++]=null,u!==null&&m!==null){var _=u.pending;_===null?m.next=m:(m.next=_.next,_.next=m),u.pending=m}g!==0&&Mv(o,m,g)}}function bh(i,r,o,u){gi[No++]=i,gi[No++]=r,gi[No++]=o,gi[No++]=u,lm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function cm(i,r,o,u){return bh(i,r,o,u),xh(i)}function Ma(i,r){return bh(i,null,null,r),xh(i)}function Mv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-xe(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=o|536870912),g):null}function xh(i){if(50<Vc)throw Vc=0,vp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Io={};function WR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,r,o,u){return new WR(i,r,o,u)}function um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function js(i,r){var o=i.alternate;return o===null?(o=ii(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Vv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _h(i,r,o,u,m,g){var _=0;if(u=i,typeof i=="function")um(i)&&(_=1);else if(typeof i=="string")_=iN(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=ii(31,o,r,m),i.elementType=C,i.lanes=g,i;case O:return Va(o.children,m,g,r);case M:_=8,m|=24;break;case B:return i=ii(12,o,r,m|2),i.elementType=B,i.lanes=g,i;case oe:return i=ii(13,o,r,m),i.elementType=oe,i.lanes=g,i;case ue:return i=ii(19,o,r,m),i.elementType=ue,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:_=10;break e;case X:_=9;break e;case ae:_=11;break e;case R:_=14;break e;case T:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=ii(_,o,r,m),r.elementType=i,r.type=u,r.lanes=g,r}function Va(i,r,o,u){return i=ii(7,i,u,r),i.lanes=o,i}function hm(i,r,o){return i=ii(6,i,null,r),i.lanes=o,i}function jv(i){var r=ii(18,null,null,0);return r.stateNode=i,r}function dm(i,r,o){return r=ii(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Pv=new WeakMap;function yi(i,r){if(typeof i=="object"&&i!==null){var o=Pv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:va(r)},Pv.set(i,r),r)}return{value:i,source:r,stack:va(r)}}var Do=[],Mo=0,wh=null,fc=0,vi=[],bi=0,_r=null,fs=1,ms="";function Ps(i,r){Do[Mo++]=fc,Do[Mo++]=wh,wh=i,fc=r}function Ov(i,r,o){vi[bi++]=fs,vi[bi++]=ms,vi[bi++]=_r,_r=i;var u=fs;i=ms;var m=32-xe(u)-1;u&=~(1<<m),o+=1;var g=32-xe(r)+m;if(30<g){var _=m-m%5;g=(u&(1<<_)-1).toString(32),u>>=_,m-=_,fs=1<<32-xe(r)+m|o<<m|u,ms=g+i}else fs=1<<g|o<<m|u,ms=i}function fm(i){i.return!==null&&(Ps(i,1),Ov(i,1,0))}function mm(i){for(;i===wh;)wh=Do[--Mo],Do[Mo]=null,fc=Do[--Mo],Do[Mo]=null;for(;i===_r;)_r=vi[--bi],vi[bi]=null,ms=vi[--bi],vi[bi]=null,fs=vi[--bi],vi[bi]=null}function Lv(i,r){vi[bi++]=fs,vi[bi++]=ms,vi[bi++]=_r,fs=r.id,ms=r.overflow,_r=i}var _n=null,xt=null,et=!1,wr=null,xi=!1,pm=Error(s(519));function Er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mc(yi(r,i)),pm}function zv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Kt]=i,r[un]=u,o){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<Pc.length;o++)$e(Pc[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),th(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),mr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||n_(r.textContent,o)?(u.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),u.onScroll!=null&&$e("scroll",r),u.onScrollEnd!=null&&$e("scrollend",r),u.onClick!=null&&(r.onclick=Vi),r=!0):r=!1,r||Er(i,!0)}function Uv(i){for(_n=i.return;_n;)switch(_n.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:_n=_n.return}}function Vo(i){if(i!==_n)return!1;if(!et)return Uv(i),et=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Mp(i.type,i.memoizedProps)),o=!o),o&&xt&&Er(i),Uv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=h_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=h_(i)}else r===27?(r=xt,Or(i.type)?(i=Lp,Lp=null,xt=i):xt=r):xt=_n?wi(i.stateNode.nextSibling):null;return!0}function ja(){xt=_n=null,et=!1}function gm(){var i=wr;return i!==null&&(Xn===null?Xn=i:Xn.push.apply(Xn,i),wr=null),i}function mc(i){wr===null?wr=[i]:wr.push(i)}var ym=L(null),Pa=null,Os=null;function Tr(i,r,o){le(ym,r._currentValue),r._currentValue=o}function Ls(i){i._currentValue=ym.current,ee(ym)}function vm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function bm(i,r,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var _=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var V=0;V<r.length;V++)if(S.context===r[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),vm(g.return,o,i),u||(_=null);break e}g=S.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(s(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),vm(_,o,i),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function jo(i,r,o,u){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=m.type;ni(m.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(m===we.current){if(_=m.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Bc):i=[Bc])}m=m.return}i!==null&&bm(r,i,o,u),r.flags|=262144}function Eh(i){for(i=i.firstContext;i!==null;){if(!ni(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Oa(i){Pa=i,Os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wn(i){return Bv(Pa,i)}function Th(i,r){return Pa===null&&Oa(i),Bv(i,r)}function Bv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Os===null){if(i===null)throw Error(s(308));Os=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Os=Os.next=r;return o}var JR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},eC=t.unstable_scheduleCallback,tC=t.unstable_NormalPriority,Yt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new JR,data:new Map,refCount:0}}function pc(i){i.refCount--,i.refCount===0&&eC(tC,function(){i.controller.abort()})}var gc=null,_m=0,Po=0,Oo=null;function nC(i,r){if(gc===null){var o=gc=[];_m=0,Po=Tp(),Oo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return _m++,r.then(Fv,Fv),r}function Fv(){if(--_m===0&&gc!==null){Oo!==null&&(Oo.status="fulfilled");var i=gc;gc=null,Po=0,Oo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function iC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var qv=Y.S;Y.S=function(i,r){Ax=pe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&nC(i,r),qv!==null&&qv(i,r)};var La=L(null);function wm(){var i=La.current;return i!==null?i:gt.pooledCache}function Sh(i,r){r===null?le(La,La.current):le(La,r.pool)}function Hv(){var i=wm();return i===null?null:{parent:Yt._currentValue,pool:i}}var Lo=Error(s(460)),Em=Error(s(474)),Ah=Error(s(542)),kh={then:function(){}};function Gv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Vi,Vi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Xv(i),i;default:if(typeof r.status=="string")r.then(Vi,Vi);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Xv(i),i}throw Ua=r,Lo}}function za(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ua=o,Lo):o}}var Ua=null;function $v(){if(Ua===null)throw Error(s(459));var i=Ua;return Ua=null,i}function Xv(i){if(i===Lo||i===Ah)throw Error(s(483))}var zo=null,yc=0;function Rh(i){var r=yc;return yc+=1,zo===null&&(zo=[]),Kv(zo,i,r)}function vc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ch(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Yv(i){function r(F,z){if(i){var G=F.deletions;G===null?(F.deletions=[z],F.flags|=16):G.push(z)}}function o(F,z){if(!i)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(F,z){return F=js(F,z),F.index=0,F.sibling=null,F}function g(F,z,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<z?(F.flags|=67108866,z):G):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function _(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,z,G,te){return z===null||z.tag!==6?(z=hm(G,F.mode,te),z.return=F,z):(z=m(z,G),z.return=F,z)}function V(F,z,G,te){var Ee=G.type;return Ee===O?W(F,z,G.props.children,te,G.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&za(Ee)===z.type)?(z=m(z,G.props),vc(z,G),z.return=F,z):(z=_h(G.type,G.key,G.props,null,F.mode,te),vc(z,G),z.return=F,z)}function K(F,z,G,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=dm(G,F.mode,te),z.return=F,z):(z=m(z,G.children||[]),z.return=F,z)}function W(F,z,G,te,Ee){return z===null||z.tag!==7?(z=Va(G,F.mode,te,Ee),z.return=F,z):(z=m(z,G),z.return=F,z)}function ie(F,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=hm(""+z,F.mode,G),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return G=_h(z.type,z.key,z.props,null,F.mode,G),vc(G,z),G.return=F,G;case N:return z=dm(z,F.mode,G),z.return=F,z;case T:return z=za(z),ie(F,z,G)}if(Ve(z)||U(z))return z=Va(z,F.mode,G,null),z.return=F,z;if(typeof z.then=="function")return ie(F,Rh(z),G);if(z.$$typeof===q)return ie(F,Th(F,z),G);Ch(F,z)}return null}function $(F,z,G,te){var Ee=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:S(F,z,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===Ee?V(F,z,G,te):null;case N:return G.key===Ee?K(F,z,G,te):null;case T:return G=za(G),$(F,z,G,te)}if(Ve(G)||U(G))return Ee!==null?null:W(F,z,G,te,null);if(typeof G.then=="function")return $(F,z,Rh(G),te);if(G.$$typeof===q)return $(F,z,Th(F,G),te);Ch(F,G)}return null}function Z(F,z,G,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(G)||null,S(z,F,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return F=F.get(te.key===null?G:te.key)||null,V(z,F,te,Ee);case N:return F=F.get(te.key===null?G:te.key)||null,K(z,F,te,Ee);case T:return te=za(te),Z(F,z,G,te,Ee)}if(Ve(te)||U(te))return F=F.get(G)||null,W(z,F,te,Ee,null);if(typeof te.then=="function")return Z(F,z,G,Rh(te),Ee);if(te.$$typeof===q)return Z(F,z,G,Th(z,te),Ee);Ch(z,te)}return null}function ye(F,z,G,te){for(var Ee=null,it=null,_e=z,He=z=0,Qe=null;_e!==null&&He<G.length;He++){_e.index>He?(Qe=_e,_e=null):Qe=_e.sibling;var st=$(F,_e,G[He],te);if(st===null){_e===null&&(_e=Qe);break}i&&_e&&st.alternate===null&&r(F,_e),z=g(st,z,He),it===null?Ee=st:it.sibling=st,it=st,_e=Qe}if(He===G.length)return o(F,_e),et&&Ps(F,He),Ee;if(_e===null){for(;He<G.length;He++)_e=ie(F,G[He],te),_e!==null&&(z=g(_e,z,He),it===null?Ee=_e:it.sibling=_e,it=_e);return et&&Ps(F,He),Ee}for(_e=u(_e);He<G.length;He++)Qe=Z(_e,F,He,G[He],te),Qe!==null&&(i&&Qe.alternate!==null&&_e.delete(Qe.key===null?He:Qe.key),z=g(Qe,z,He),it===null?Ee=Qe:it.sibling=Qe,it=Qe);return i&&_e.forEach(function(Fr){return r(F,Fr)}),et&&Ps(F,He),Ee}function ke(F,z,G,te){if(G==null)throw Error(s(151));for(var Ee=null,it=null,_e=z,He=z=0,Qe=null,st=G.next();_e!==null&&!st.done;He++,st=G.next()){_e.index>He?(Qe=_e,_e=null):Qe=_e.sibling;var Fr=$(F,_e,st.value,te);if(Fr===null){_e===null&&(_e=Qe);break}i&&_e&&Fr.alternate===null&&r(F,_e),z=g(Fr,z,He),it===null?Ee=Fr:it.sibling=Fr,it=Fr,_e=Qe}if(st.done)return o(F,_e),et&&Ps(F,He),Ee;if(_e===null){for(;!st.done;He++,st=G.next())st=ie(F,st.value,te),st!==null&&(z=g(st,z,He),it===null?Ee=st:it.sibling=st,it=st);return et&&Ps(F,He),Ee}for(_e=u(_e);!st.done;He++,st=G.next())st=Z(_e,F,He,st.value,te),st!==null&&(i&&st.alternate!==null&&_e.delete(st.key===null?He:st.key),z=g(st,z,He),it===null?Ee=st:it.sibling=st,it=st);return i&&_e.forEach(function(mN){return r(F,mN)}),et&&Ps(F,He),Ee}function pt(F,z,G,te){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var Ee=G.key;z!==null;){if(z.key===Ee){if(Ee=G.type,Ee===O){if(z.tag===7){o(F,z.sibling),te=m(z,G.props.children),te.return=F,F=te;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&za(Ee)===z.type){o(F,z.sibling),te=m(z,G.props),vc(te,G),te.return=F,F=te;break e}o(F,z);break}else r(F,z);z=z.sibling}G.type===O?(te=Va(G.props.children,F.mode,te,G.key),te.return=F,F=te):(te=_h(G.type,G.key,G.props,null,F.mode,te),vc(te,G),te.return=F,F=te)}return _(F);case N:e:{for(Ee=G.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(F,z.sibling),te=m(z,G.children||[]),te.return=F,F=te;break e}else{o(F,z);break}else r(F,z);z=z.sibling}te=dm(G,F.mode,te),te.return=F,F=te}return _(F);case T:return G=za(G),pt(F,z,G,te)}if(Ve(G))return ye(F,z,G,te);if(U(G)){if(Ee=U(G),typeof Ee!="function")throw Error(s(150));return G=Ee.call(G),ke(F,z,G,te)}if(typeof G.then=="function")return pt(F,z,Rh(G),te);if(G.$$typeof===q)return pt(F,z,Th(F,G),te);Ch(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(F,z.sibling),te=m(z,G),te.return=F,F=te):(o(F,z),te=hm(G,F.mode,te),te.return=F,F=te),_(F)):o(F,z)}return function(F,z,G,te){try{yc=0;var Ee=pt(F,z,G,te);return zo=null,Ee}catch(_e){if(_e===Lo||_e===Ah)throw _e;var it=ii(29,_e,null,F.mode);return it.lanes=te,it.return=F,it}finally{}}}var Ba=Yv(!0),Qv=Yv(!1),Sr=!1;function Tm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function kr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(at&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=xh(i),Mv(i,null,o),r}return bh(i,u,r,o),xh(i)}function bc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Kl(i,o)}}function Am(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var km=!1;function xc(){if(km){var i=Oo;if(i!==null)throw i}}function _c(i,r,o,u){km=!1;var m=i.updateQueue;Sr=!1;var g=m.firstBaseUpdate,_=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,K=V.next;V.next=null,_===null?g=K:_.next=K,_=V;var W=i.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=K:S.next=K,W.lastBaseUpdate=V))}if(g!==null){var ie=m.baseState;_=0,W=K=V=null,S=g;do{var $=S.lane&-536870913,Z=$!==S.lane;if(Z?(Ye&$)===$:(u&$)===$){$!==0&&$===Po&&(km=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=i,ke=S;$=r;var pt=o;switch(ke.tag){case 1:if(ye=ke.payload,typeof ye=="function"){ie=ye.call(pt,ie,$);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ke.payload,$=typeof ye=="function"?ye.call(pt,ie,$):ye,$==null)break e;ie=x({},ie,$);break e;case 2:Sr=!0}}$=S.callback,$!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[$]:Z.push($))}else Z={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(K=W=Z,V=ie):W=W.next=Z,_|=$;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);W===null&&(V=ie),m.baseState=V,m.firstBaseUpdate=K,m.lastBaseUpdate=W,g===null&&(m.shared.lanes=0),Dr|=_,i.lanes=_,i.memoizedState=ie}}function Zv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Wv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Zv(o[i],r)}var Uo=L(null),Nh=L(0);function Jv(i,r){i=$s,le(Nh,i),le(Uo,r),$s=i|r.baseLanes}function Rm(){le(Nh,$s),le(Uo,Uo.current)}function Cm(){$s=Nh.current,ee(Uo),ee(Nh)}var si=L(null),_i=null;function Rr(i){var r=i.alternate;le(Ft,Ft.current&1),le(si,i),_i===null&&(r===null||Uo.current!==null||r.memoizedState!==null)&&(_i=i)}function Nm(i){le(Ft,Ft.current),le(si,i),_i===null&&(_i=i)}function eb(i){i.tag===22?(le(Ft,Ft.current),le(si,i),_i===null&&(_i=i)):Cr()}function Cr(){le(Ft,Ft.current),le(si,si.current)}function ri(i){ee(si),_i===i&&(_i=null),ee(Ft)}var Ft=L(0);function Ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Pp(o)||Op(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zs=0,qe=null,ft=null,Qt=null,Dh=!1,Bo=!1,Fa=!1,Mh=0,wc=0,Fo=null,sC=0;function Lt(){throw Error(s(321))}function Im(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ni(i[o],r[o]))return!1;return!0}function Dm(i,r,o,u,m,g){return zs=g,qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?Ob:$m,Fa=!1,g=o(u,m),Fa=!1,Bo&&(g=nb(r,o,u,m)),tb(i),g}function tb(i){Y.H=Sc;var r=ft!==null&&ft.next!==null;if(zs=0,Qt=ft=qe=null,Dh=!1,wc=0,Fo=null,r)throw Error(s(300));i===null||Zt||(i=i.dependencies,i!==null&&Eh(i)&&(Zt=!0))}function nb(i,r,o,u){qe=i;var m=0;do{if(Bo&&(Fo=null),wc=0,Bo=!1,25<=m)throw Error(s(301));if(m+=1,Qt=ft=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=Lb,g=r(o,u)}while(Bo);return g}function rC(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Ec(r):r,i=i.useState()[0],(ft!==null?ft.memoizedState:null)!==i&&(qe.flags|=1024),r}function Mm(){var i=Mh!==0;return Mh=0,i}function Vm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(Dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dh=!1}zs=0,Qt=ft=qe=null,Bo=!1,wc=Mh=0,Fo=null}function Un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?qe.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function qt(){if(ft===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var r=Qt===null?qe.memoizedState:Qt.next;if(r!==null)Qt=r,ft=i;else{if(i===null)throw qe.alternate===null?Error(s(467)):Error(s(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Qt===null?qe.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(i){var r=wc;return wc+=1,Fo===null&&(Fo=[]),i=Kv(Fo,i,r),r=qe,(Qt===null?r.memoizedState:Qt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Ob:$m),i}function jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ec(i);if(i.$$typeof===q)return wn(i)}throw Error(s(438,String(i)))}function Pm(i){var r=null,o=qe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vh(),qe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=j;return r.index++,o}function Us(i,r){return typeof r=="function"?r(i):r}function Ph(i){var r=qt();return Om(r,ft,i)}function Om(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var _=m.next;m.next=g.next,g.next=_}r.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var S=_=null,V=null,K=r,W=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Ye&ie)===ie:(zs&ie)===ie){var $=K.revertLane;if($===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Po&&(W=!0);else if((zs&$)===$){K=K.next,$===Po&&(W=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=ie,_=g):V=V.next=ie,qe.lanes|=$,Dr|=$;ie=K.action,Fa&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else $={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=$,_=g):V=V.next=$,qe.lanes|=ie,Dr|=ie;K=K.next}while(K!==null&&K!==r);if(V===null?_=g:V.next=S,!ni(g,i.memoizedState)&&(Zt=!0,W&&(o=Oo,o!==null)))throw o;i.memoizedState=g,i.baseState=_,i.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lm(i){var r=qt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do g=i(g,_.action),_=_.next;while(_!==m);ni(g,r.memoizedState)||(Zt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function ib(i,r,o){var u=qe,m=qt(),g=et;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!ni((ft||m).memoizedState,o);if(_&&(m.memoizedState=o,Zt=!0),m=m.queue,Bm(ab.bind(null,u,m,i),[i]),m.getSnapshot!==r||_||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,qo(9,{destroy:void 0},rb.bind(null,u,m,o,r),null),gt===null)throw Error(s(349));g||(zs&127)!==0||sb(u,r,o)}return o}function sb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=qe.updateQueue,r===null?(r=Vh(),qe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function rb(i,r,o,u){r.value=o,r.getSnapshot=u,ob(r)&&lb(i)}function ab(i,r,o){return o(function(){ob(r)&&lb(i)})}function ob(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ni(i,o)}catch{return!0}}function lb(i){var r=Ma(i,2);r!==null&&Yn(r,i,2)}function zm(i){var r=Un();if(typeof i=="function"){var o=i;if(i=o(),Fa){Be(!0);try{o()}finally{Be(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:i},r}function cb(i,r,o,u){return i.baseState=o,Om(i,ft,typeof u=="function"?u:Us)}function aC(i,r,o,u,m){if(zh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};Y.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,ub(r,g)):(g.next=o.next,r.pending=o.next=g)}}function ub(i,r){var o=r.action,u=r.payload,m=i.state;if(r.isTransition){var g=Y.T,_={};Y.T=_;try{var S=o(m,u),V=Y.S;V!==null&&V(_,S),hb(i,r,S)}catch(K){Um(i,r,K)}finally{g!==null&&_.types!==null&&(g.types=_.types),Y.T=g}}else try{g=o(m,u),hb(i,r,g)}catch(K){Um(i,r,K)}}function hb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){db(i,r,u)},function(u){return Um(i,r,u)}):db(i,r,o)}function db(i,r,o){r.status="fulfilled",r.value=o,fb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,ub(i,o)))}function Um(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,fb(r),r=r.next;while(r!==u)}i.action=null}function fb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function mb(i,r){return r}function pb(i,r){if(et){var o=gt.formState;if(o!==null){e:{var u=qe;if(et){if(xt){t:{for(var m=xt,g=xi;m.nodeType!==8;){if(!g){m=null;break t}if(m=wi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){xt=wi(m.nextSibling),u=m.data==="F!";break e}}Er(u)}u=!1}u&&(r=o[0])}}return o=Un(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mb,lastRenderedState:r},o.queue=u,o=Vb.bind(null,qe,u),u.dispatch=o,u=zm(!1),g=Km.bind(null,qe,!1,u.queue),u=Un(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,o=aC.bind(null,qe,m,g,o),m.dispatch=o,u.memoizedState=i,[r,o,!1]}function gb(i){var r=qt();return yb(r,ft,i)}function yb(i,r,o){if(r=Om(i,r,mb)[0],i=Ph(Us)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ec(r)}catch(_){throw _===Lo?Ah:_}else u=r;r=qt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(qe.flags|=2048,qo(9,{destroy:void 0},oC.bind(null,m,o),null)),[u,g,i]}function oC(i,r){i.action=r}function vb(i){var r=qt(),o=ft;if(o!==null)return yb(r,o,i);qt(),r=r.memoizedState,o=qt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function qo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=qe.updateQueue,r===null&&(r=Vh(),qe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function bb(){return qt().memoizedState}function Oh(i,r,o,u){var m=Un();qe.flags|=i,m.memoizedState=qo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Lh(i,r,o,u){var m=qt();u=u===void 0?null:u;var g=m.memoizedState.inst;ft!==null&&u!==null&&Im(u,ft.memoizedState.deps)?m.memoizedState=qo(r,g,o,u):(qe.flags|=i,m.memoizedState=qo(1|r,g,o,u))}function xb(i,r){Oh(8390656,8,i,r)}function Bm(i,r){Lh(2048,8,i,r)}function lC(i){qe.flags|=4;var r=qe.updateQueue;if(r===null)r=Vh(),qe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function _b(i){var r=qt().memoizedState;return lC({ref:r,nextImpl:i}),function(){if((at&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function wb(i,r){return Lh(4,2,i,r)}function Eb(i,r){return Lh(4,4,i,r)}function Tb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Sb(i,r,o){o=o!=null?o.concat([i]):null,Lh(4,4,Tb.bind(null,r,i),o)}function Fm(){}function Ab(i,r){var o=qt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Im(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function kb(i,r){var o=qt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Im(r,u[1]))return u[0];if(u=i(),Fa){Be(!0);try{i()}finally{Be(!1)}}return o.memoizedState=[u,r],u}function qm(i,r,o){return o===void 0||(zs&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Rx(),qe.lanes|=i,Dr|=i,o)}function Rb(i,r,o,u){return ni(o,r)?o:Uo.current!==null?(i=qm(i,o,u),ni(i,r)||(Zt=!0),i):(zs&42)===0||(zs&1073741824)!==0&&(Ye&261930)===0?(Zt=!0,i.memoizedState=o):(i=Rx(),qe.lanes|=i,Dr|=i,r)}function Cb(i,r,o,u,m){var g=re.p;re.p=g!==0&&8>g?g:8;var _=Y.T,S={};Y.T=S,Km(i,!1,r,o);try{var V=m(),K=Y.S;if(K!==null&&K(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=iC(V,u);Tc(i,r,W,li(i))}else Tc(i,r,u,li(i))}catch(ie){Tc(i,r,{then:function(){},status:"rejected",reason:ie},li())}finally{re.p=g,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function cC(){}function Hm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var m=Nb(i).queue;Cb(i,m,r,J,o===null?cC:function(){return Ib(i),o(u)})}function Nb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:J},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Ib(i){var r=Nb(i);r.next===null&&(r=i.alternate.memoizedState),Tc(i,r.next.queue,{},li())}function Gm(){return wn(Bc)}function Db(){return qt().memoizedState}function Mb(){return qt().memoizedState}function uC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=li();i=Ar(o);var u=kr(r,i,o);u!==null&&(Yn(u,r,o),bc(u,r,o)),r={cache:xm()},i.payload=r;return}r=r.return}}function hC(i,r,o){var u=li();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zh(i)?jb(r,o):(o=cm(i,r,o,u),o!==null&&(Yn(o,i,u),Pb(o,r,u)))}function Vb(i,r,o){var u=li();Tc(i,r,o,u)}function Tc(i,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zh(i))jb(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,S=g(_,o);if(m.hasEagerState=!0,m.eagerState=S,ni(S,_))return bh(i,r,m,0),gt===null&&vh(),!1}catch{}finally{}if(o=cm(i,r,m,u),o!==null)return Yn(o,i,u),Pb(o,r,u),!0}return!1}function Km(i,r,o,u){if(u={lane:2,revertLane:Tp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zh(i)){if(r)throw Error(s(479))}else r=cm(i,o,u,2),r!==null&&Yn(r,i,2)}function zh(i){var r=i.alternate;return i===qe||r!==null&&r===qe}function jb(i,r){Bo=Dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Pb(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Kl(i,o)}}var Sc={readContext:wn,use:jh,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Sc.useEffectEvent=Lt;var Ob={readContext:wn,use:jh,useCallback:function(i,r){return Un().memoizedState=[i,r===void 0?null:r],i},useContext:wn,useEffect:xb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Oh(4194308,4,Tb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Oh(4194308,4,i,r)},useInsertionEffect:function(i,r){Oh(4,2,i,r)},useMemo:function(i,r){var o=Un();r=r===void 0?null:r;var u=i();if(Fa){Be(!0);try{i()}finally{Be(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Un();if(o!==void 0){var m=o(r);if(Fa){Be(!0);try{o(r)}finally{Be(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=hC.bind(null,qe,i),[u.memoizedState,i]},useRef:function(i){var r=Un();return i={current:i},r.memoizedState=i},useState:function(i){i=zm(i);var r=i.queue,o=Vb.bind(null,qe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Un();return qm(o,i,r)},useTransition:function(){var i=zm(!1);return i=Cb.bind(null,qe,i.queue,!0,!1),Un().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=qe,m=Un();if(et){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),gt===null)throw Error(s(349));(Ye&127)!==0||sb(u,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,xb(ab.bind(null,u,g,i),[i]),u.flags|=2048,qo(9,{destroy:void 0},rb.bind(null,u,g,o,r),null),o},useId:function(){var i=Un(),r=gt.identifierPrefix;if(et){var o=ms,u=fs;o=(u&~(1<<32-xe(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=sC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Gm,useFormState:pb,useActionState:pb,useOptimistic:function(i){var r=Un();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Km.bind(null,qe,!0,o),o.dispatch=r,[i,r]},useMemoCache:Pm,useCacheRefresh:function(){return Un().memoizedState=uC.bind(null,qe)},useEffectEvent:function(i){var r=Un(),o={impl:i};return r.memoizedState=o,function(){if((at&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},$m={readContext:wn,use:jh,useCallback:Ab,useContext:wn,useEffect:Bm,useImperativeHandle:Sb,useInsertionEffect:wb,useLayoutEffect:Eb,useMemo:kb,useReducer:Ph,useRef:bb,useState:function(){return Ph(Us)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=qt();return Rb(o,ft.memoizedState,i,r)},useTransition:function(){var i=Ph(Us)[0],r=qt().memoizedState;return[typeof i=="boolean"?i:Ec(i),r]},useSyncExternalStore:ib,useId:Db,useHostTransitionStatus:Gm,useFormState:gb,useActionState:gb,useOptimistic:function(i,r){var o=qt();return cb(o,ft,i,r)},useMemoCache:Pm,useCacheRefresh:Mb};$m.useEffectEvent=_b;var Lb={readContext:wn,use:jh,useCallback:Ab,useContext:wn,useEffect:Bm,useImperativeHandle:Sb,useInsertionEffect:wb,useLayoutEffect:Eb,useMemo:kb,useReducer:Lm,useRef:bb,useState:function(){return Lm(Us)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=qt();return ft===null?qm(o,i,r):Rb(o,ft.memoizedState,i,r)},useTransition:function(){var i=Lm(Us)[0],r=qt().memoizedState;return[typeof i=="boolean"?i:Ec(i),r]},useSyncExternalStore:ib,useId:Db,useHostTransitionStatus:Gm,useFormState:vb,useActionState:vb,useOptimistic:function(i,r){var o=qt();return ft!==null?cb(o,ft,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Pm,useCacheRefresh:Mb};Lb.useEffectEvent=_b;function Xm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:x({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ym={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=li(),m=Ar(u);m.payload=r,o!=null&&(m.callback=o),r=kr(i,m,u),r!==null&&(Yn(r,i,u),bc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=li(),m=Ar(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=kr(i,m,u),r!==null&&(Yn(r,i,u),bc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=li(),u=Ar(o);u.tag=2,r!=null&&(u.callback=r),r=kr(i,u,o),r!==null&&(Yn(r,i,o),bc(r,i,o))}};function zb(i,r,o,u,m,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,_):r.prototype&&r.prototype.isPureReactComponent?!hc(o,u)||!hc(m,g):!0}function Ub(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Ym.enqueueReplaceState(r,r.state,null)}function qa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=x({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function Bb(i){yh(i)}function Fb(i){console.error(i)}function qb(i){yh(i)}function Uh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Hb(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Qm(i,r,o){return o=Ar(o),o.tag=3,o.payload={element:null},o.callback=function(){Uh(i,r)},o}function Gb(i){return i=Ar(i),i.tag=3,i}function Kb(i,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){Hb(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Hb(r,o,u),typeof m!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function dC(i,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&jo(r,o,m,!0),o=si.current,o!==null){switch(o.tag){case 31:case 13:return _i===null?Wh():o.alternate===null&&zt===0&&(zt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===kh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),_p(i,u,m)),!1;case 22:return o.flags|=65536,u===kh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),_p(i,u,m)),!1}throw Error(s(435,o.tag))}return _p(i,u,m),Wh(),!1}if(et)return r=si.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==pm&&(i=Error(s(422),{cause:u}),mc(yi(i,o)))):(u!==pm&&(r=Error(s(423),{cause:u}),mc(yi(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=yi(u,o),m=Qm(i.stateNode,u,m),Am(i,m),zt!==4&&(zt=2)),!1;var g=Error(s(520),{cause:u});if(g=yi(g,o),Mc===null?Mc=[g]:Mc.push(g),zt!==4&&(zt=2),r===null)return!0;u=yi(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Qm(o.stateNode,u,i),Am(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Gb(m),Kb(m,i,o,u),Am(o,m),!1}o=o.return}while(o!==null);return!1}var Zm=Error(s(461)),Zt=!1;function En(i,r,o,u){r.child=i===null?Qv(r,null,o,u):Ba(r,i.child,o,u)}function $b(i,r,o,u,m){o=o.render;var g=r.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Oa(r),u=Dm(i,r,o,_,g,m),S=Mm(),i!==null&&!Zt?(Vm(i,r,m),Bs(i,r,m)):(et&&S&&fm(r),r.flags|=1,En(i,r,u,m),r.child)}function Xb(i,r,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!um(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Yb(i,r,g,u,m)):(i=_h(o.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!rp(i,m)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:hc,o(_,u)&&i.ref===r.ref)return Bs(i,r,m)}return r.flags|=1,i=js(g,u),i.ref=r.ref,i.return=r,r.child=i}function Yb(i,r,o,u,m){if(i!==null){var g=i.memoizedProps;if(hc(g,u)&&i.ref===r.ref)if(Zt=!1,r.pendingProps=u=g,rp(i,m))(i.flags&131072)!==0&&(Zt=!0);else return r.lanes=i.lanes,Bs(i,r,m)}return Wm(i,r,o,u,m)}function Qb(i,r,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,r.child=null;return Zb(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sh(r,g!==null?g.cachePool:null),g!==null?Jv(r,g):Rm(),eb(r);else return u=r.lanes=536870912,Zb(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Sh(r,g.cachePool),Jv(r,g),Cr(),r.memoizedState=null):(i!==null&&Sh(r,null),Rm(),Cr());return En(i,r,m,o),r.child}function Ac(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Zb(i,r,o,u,m){var g=wm();return g=g===null?null:{parent:Yt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Sh(r,null),Rm(),eb(r),i!==null&&jo(i,r,u,!0),r.childLanes=m,null}function Bh(i,r){return r=qh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Wb(i,r,o){return Ba(r,i.child,null,o),i=Bh(r,r.pendingProps),i.flags|=2,ri(r),r.memoizedState=null,i}function fC(i,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(et){if(u.mode==="hidden")return i=Bh(r,u),r.lanes=536870912,Ac(null,i);if(Nm(r),(i=xt)?(i=u_(i,xi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:fs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=jv(i),o.return=r,r.child=o,_n=r,xt=null)):i=null,i===null)throw Er(r);return r.lanes=536870912,null}return Bh(r,u)}var g=i.memoizedState;if(g!==null){var _=g.dehydrated;if(Nm(r),m)if(r.flags&256)r.flags&=-257,r=Wb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Zt||jo(i,r,o,!1),m=(o&i.childLanes)!==0,Zt||m){if(u=gt,u!==null&&(_=$l(u,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,Ma(i,_),Yn(u,i,_),Zm;Wh(),r=Wb(i,r,o)}else i=g.treeContext,xt=wi(_.nextSibling),_n=r,et=!0,wr=null,xi=!1,i!==null&&Lv(r,i),r=Bh(r,u),r.flags|=4096;return r}return i=js(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Fh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Wm(i,r,o,u,m){return Oa(r),o=Dm(i,r,o,u,void 0,m),u=Mm(),i!==null&&!Zt?(Vm(i,r,m),Bs(i,r,m)):(et&&u&&fm(r),r.flags|=1,En(i,r,o,m),r.child)}function Jb(i,r,o,u,m,g){return Oa(r),r.updateQueue=null,o=nb(r,u,o,m),tb(i),u=Mm(),i!==null&&!Zt?(Vm(i,r,g),Bs(i,r,g)):(et&&u&&fm(r),r.flags|=1,En(i,r,o,g),r.child)}function ex(i,r,o,u,m){if(Oa(r),r.stateNode===null){var g=Io,_=o.contextType;typeof _=="object"&&_!==null&&(g=wn(_)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ym,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Tm(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?wn(_):Io,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Xm(r,o,_,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Ym.enqueueReplaceState(g,g.state,null),_c(r,u,g,m),xc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,V=qa(o,S);g.props=V;var K=g.context,W=o.contextType;_=Io,typeof W=="object"&&W!==null&&(_=wn(W));var ie=o.getDerivedStateFromProps;W=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==_)&&Ub(r,g,u,_),Sr=!1;var $=r.memoizedState;g.state=$,_c(r,u,g,m),xc(),K=r.memoizedState,S||$!==K||Sr?(typeof ie=="function"&&(Xm(r,o,ie,u),K=r.memoizedState),(V=Sr||zb(r,o,V,u,$,K,_))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=_,u=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Sm(i,r),_=r.memoizedProps,W=qa(o,_),g.props=W,ie=r.pendingProps,$=g.context,K=o.contextType,V=Io,typeof K=="object"&&K!==null&&(V=wn(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==ie||$!==V)&&Ub(r,g,u,V),Sr=!1,$=r.memoizedState,g.state=$,_c(r,u,g,m),xc();var Z=r.memoizedState;_!==ie||$!==Z||Sr||i!==null&&i.dependencies!==null&&Eh(i.dependencies)?(typeof S=="function"&&(Xm(r,o,S,u),Z=r.memoizedState),(W=Sr||zb(r,o,W,u,$,Z,V)||i!==null&&i.dependencies!==null&&Eh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),g.props=u,g.state=Z,g.context=V,u=W):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Fh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Ba(r,i.child,null,m),r.child=Ba(r,null,o,m)):En(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Bs(i,r,m),i}function tx(i,r,o,u){return ja(),r.flags|=256,En(i,r,o,u),r.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ep(i){return{baseLanes:i,cachePool:Hv()}}function tp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=oi),i}function nx(i,r,o){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(et){if(m?Rr(r):Cr(),(i=xt)?(i=u_(i,xi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:fs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=jv(i),o.return=r,r.child=o,_n=r,xt=null)):i=null,i===null)throw Er(r);return Op(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(Cr(),m=r.mode,S=qh({mode:"hidden",children:S},m),u=Va(u,m,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=ep(o),u.childLanes=tp(i,_,o),r.memoizedState=Jm,Ac(null,u)):(Rr(r),np(r,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(g)r.flags&256?(Rr(r),r.flags&=-257,r=ip(i,r,o)):r.memoizedState!==null?(Cr(),r.child=i.child,r.flags|=128,r=null):(Cr(),S=u.fallback,m=r.mode,u=qh({mode:"visible",children:u.children},m),S=Va(S,m,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ba(r,i.child,null,o),u=r.child,u.memoizedState=ep(o),u.childLanes=tp(i,_,o),r.memoizedState=Jm,r=Ac(null,u));else if(Rr(r),Op(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var K=_.dgst;_=K,u=Error(s(419)),u.stack="",u.digest=_,mc({value:u,source:null,stack:null}),r=ip(i,r,o)}else if(Zt||jo(i,r,o,!1),_=(o&i.childLanes)!==0,Zt||_){if(_=gt,_!==null&&(u=$l(_,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,Ma(i,u),Yn(_,i,u),Zm;Pp(S)||Wh(),r=ip(i,r,o)}else Pp(S)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,xt=wi(S.nextSibling),_n=r,et=!0,wr=null,xi=!1,i!==null&&Lv(r,i),r=np(r,u.children),r.flags|=4096);return r}return m?(Cr(),S=u.fallback,m=r.mode,V=i.child,K=V.sibling,u=js(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?S=js(K,S):(S=Va(S,m,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Ac(null,u),u=r.child,S=i.child.memoizedState,S===null?S=ep(o):(m=S.cachePool,m!==null?(V=Yt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Hv(),S={baseLanes:S.baseLanes|o,cachePool:m}),u.memoizedState=S,u.childLanes=tp(i,_,o),r.memoizedState=Jm,Ac(i.child,u)):(Rr(r),o=i.child,i=o.sibling,o=js(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function np(i,r){return r=qh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function qh(i,r){return i=ii(22,i,null,r),i.lanes=0,i}function ip(i,r,o){return Ba(r,i.child,null,o),i=np(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function ix(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),vm(i.return,r,o)}function sp(i,r,o,u,m,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=m,_.treeForkCount=g)}function sx(i,r,o){var u=r.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var _=Ft.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,le(Ft,_),En(i,r,u,o),u=et?fc:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ix(i,o,r);else if(i.tag===19)ix(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Ih(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),sp(r,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Ih(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}sp(r,!0,o,null,g,u);break;case"together":sp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Bs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Dr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(jo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=js(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=js(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function rp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Eh(i)))}function mC(i,r,o){switch(r.tag){case 3:Et(r,r.stateNode.containerInfo),Tr(r,Yt,i.memoizedState.cache),ja();break;case 27:case 5:jn(r);break;case 4:Et(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Nm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Rr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?nx(i,r,o):(Rr(r),i=Bs(i,r,o),i!==null?i.sibling:null);Rr(r);break;case 19:var m=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(jo(i,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return sx(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Ft,Ft.current),u)break;return null;case 22:return r.lanes=0,Qb(i,r,o,r.pendingProps);case 24:Tr(r,Yt,i.memoizedState.cache)}return Bs(i,r,o)}function rx(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Zt=!0;else{if(!rp(i,o)&&(r.flags&128)===0)return Zt=!1,mC(i,r,o);Zt=(i.flags&131072)!==0}else Zt=!1,et&&(r.flags&1048576)!==0&&Ov(r,fc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=za(r.elementType),r.type=i,typeof i=="function")um(i)?(u=qa(i,u),r.tag=1,r=ex(null,r,i,u,o)):(r.tag=0,r=Wm(null,r,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===ae){r.tag=11,r=$b(null,r,i,u,o);break e}else if(m===R){r.tag=14,r=Xb(null,r,i,u,o);break e}}throw r=Xe(i)||i,Error(s(306,r,""))}}return r;case 0:return Wm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=qa(u,r.pendingProps),ex(i,r,u,m,o);case 3:e:{if(Et(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,Sm(i,r),_c(r,u,null,o);var _=r.memoizedState;if(u=_.cache,Tr(r,Yt,u),u!==g.cache&&bm(r,[Yt],o,!0),xc(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=tx(i,r,u,o);break e}else if(u!==m){m=yi(Error(s(424)),r),mc(m),r=tx(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xt=wi(i.firstChild),_n=r,et=!0,wr=null,xi=!0,o=Qv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ja(),u===m){r=Bs(i,r,o);break e}En(i,r,u,o)}r=r.child}return r;case 26:return Fh(i,r),i===null?(o=g_(r.type,null,r.pendingProps,null))?r.memoizedState=o:et||(o=r.type,i=r.pendingProps,u=rd(Ne.current).createElement(o),u[Kt]=r,u[un]=i,Tn(u,o,i),$t(u),r.stateNode=u):r.memoizedState=g_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return jn(r),i===null&&et&&(u=r.stateNode=f_(r.type,r.pendingProps,Ne.current),_n=r,xi=!0,m=xt,Or(r.type)?(Lp=m,xt=wi(u.firstChild)):xt=m),En(i,r,r.pendingProps.children,o),Fh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&et&&((m=u=xt)&&(u=HC(u,r.type,r.pendingProps,xi),u!==null?(r.stateNode=u,_n=r,xt=wi(u.firstChild),xi=!1,m=!0):m=!1),m||Er(r)),jn(r),m=r.type,g=r.pendingProps,_=i!==null?i.memoizedProps:null,u=g.children,Mp(m,g)?u=null:_!==null&&Mp(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=Dm(i,r,rC,null,null,o),Bc._currentValue=m),Fh(i,r),En(i,r,u,o),r.child;case 6:return i===null&&et&&((i=o=xt)&&(o=GC(o,r.pendingProps,xi),o!==null?(r.stateNode=o,_n=r,xt=null,i=!0):i=!1),i||Er(r)),null;case 13:return nx(i,r,o);case 4:return Et(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ba(r,null,u,o):En(i,r,u,o),r.child;case 11:return $b(i,r,r.type,r.pendingProps,o);case 7:return En(i,r,r.pendingProps,o),r.child;case 8:return En(i,r,r.pendingProps.children,o),r.child;case 12:return En(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Tr(r,r.type,u.value),En(i,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Oa(r),m=wn(m),u=u(m),r.flags|=1,En(i,r,u,o),r.child;case 14:return Xb(i,r,r.type,r.pendingProps,o);case 15:return Yb(i,r,r.type,r.pendingProps,o);case 19:return sx(i,r,o);case 31:return fC(i,r,o);case 22:return Qb(i,r,o,r.pendingProps);case 24:return Oa(r),u=wn(Yt),i===null?(m=wm(),m===null&&(m=gt,g=xm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:u,cache:m},Tm(r),Tr(r,Yt,m)):((i.lanes&o)!==0&&(Sm(i,r),_c(r,null,null,o),xc()),m=i.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Tr(r,Yt,u)):(u=g.cache,Tr(r,Yt,u),u!==m.cache&&bm(r,[Yt],o,!0))),En(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fs(i){i.flags|=4}function ap(i,r,o,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Dx())i.flags|=8192;else throw Ua=kh,Em}else i.flags&=-16777217}function ax(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!__(r))if(Dx())i.flags|=8192;else throw Ua=kh,Em}function Hh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Qu():536870912,i.lanes|=r,$o|=r)}function kc(i,r){if(!et)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function _t(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function pC(i,r,o){var u=r.pendingProps;switch(mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(r),null;case 1:return _t(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ls(Yt),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Vo(r)?Fs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gm())),_t(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Fs(r),g!==null?(_t(r),ax(r,g)):(_t(r),ap(r,m,null,u,o))):g?g!==i.memoizedState?(Fs(r),_t(r),ax(r,g)):(_t(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Fs(r),_t(r),ap(r,m,i,u,o)),null;case 27:if(Pn(r),o=Ne.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return _t(r),null}i=he.current,Vo(r)?zv(r):(i=f_(m,u,o),r.stateNode=i,Fs(r))}return _t(r),null;case 5:if(Pn(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return _t(r),null}if(g=he.current,Vo(r))zv(r);else{var _=rd(Ne.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?_.createElement(m,{is:u.is}):_.createElement(m)}}g[Kt]=r,g[un]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(Tn(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fs(r)}}return _t(r),ap(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Fs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ne.current,Vo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,m=_n,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Kt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||n_(i.nodeValue,o)),i||Er(r,!0)}else i=rd(i).createTextNode(u),i[Kt]=r,r.stateNode=i}return _t(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Vo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Kt]=r}else ja(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),i=!1}else o=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(ri(r),r):(ri(r),null);if((r.flags&128)!==0)throw Error(s(558))}return _t(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Vo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Kt]=r}else ja(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),m=!1}else m=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(ri(r),r):(ri(r),null)}return ri(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Hh(r,r.updateQueue),_t(r),null);case 4:return nt(),i===null&&Rp(r.stateNode.containerInfo),_t(r),null;case 10:return Ls(r.type),_t(r),null;case 19:if(ee(Ft),u=r.memoizedState,u===null)return _t(r),null;if(m=(r.flags&128)!==0,g=u.rendering,g===null)if(m)kc(u,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ih(i),g!==null){for(r.flags|=128,kc(u,!1),i=g.updateQueue,r.updateQueue=i,Hh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Vv(o,i),o=o.sibling;return le(Ft,Ft.current&1|2),et&&Ps(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&pe()>Yh&&(r.flags|=128,m=!0,kc(u,!1),r.lanes=4194304)}else{if(!m)if(i=Ih(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Hh(r,i),kc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!et)return _t(r),null}else 2*pe()-u.renderingStartTime>Yh&&o!==536870912&&(r.flags|=128,m=!0,kc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=pe(),i.sibling=null,o=Ft.current,le(Ft,m?o&1|2:o&1),et&&Ps(r,u.treeForkCount),i):(_t(r),null);case 22:case 23:return ri(r),Cm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(_t(r),r.subtreeFlags&6&&(r.flags|=8192)):_t(r),o=r.updateQueue,o!==null&&Hh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ee(La),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ls(Yt),_t(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gC(i,r){switch(mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ls(Yt),nt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pn(r),null;case 31:if(r.memoizedState!==null){if(ri(r),r.alternate===null)throw Error(s(340));ja()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ri(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ja()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(Ft),null;case 4:return nt(),null;case 10:return Ls(r.type),null;case 22:case 23:return ri(r),Cm(),i!==null&&ee(La),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ls(Yt),null;case 25:return null;default:return null}}function ox(i,r){switch(mm(r),r.tag){case 3:Ls(Yt),nt();break;case 26:case 27:case 5:Pn(r);break;case 4:nt();break;case 31:r.memoizedState!==null&&ri(r);break;case 13:ri(r);break;case 19:ee(Ft);break;case 10:Ls(r.type);break;case 22:case 23:ri(r),Cm(),i!==null&&ee(La);break;case 24:Ls(Yt)}}function Rc(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,_=o.inst;u=g(),_.destroy=u}o=o.next}while(o!==m)}}catch(S){ht(r,r.return,S)}}function Nr(i,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,m=r;var V=o,K=S;try{K()}catch(W){ht(m,V,W)}}}u=u.next}while(u!==g)}}catch(W){ht(r,r.return,W)}}function lx(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Wv(r,o)}catch(u){ht(i,i.return,u)}}}function cx(i,r,o){o.props=qa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ht(i,r,u)}}function Cc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){ht(i,r,m)}}function ps(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ht(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ht(i,r,m)}else o.current=null}function ux(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ht(i,i.return,m)}}function op(i,r,o){try{var u=i.stateNode;LC(u,i.type,o,r),u[un]=r}catch(m){ht(i,i.return,m)}}function hx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Or(i.type)||i.tag===4}function lp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Or(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Vi));else if(u!==4&&(u===27&&Or(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(cp(i,r,o),i=i.sibling;i!==null;)cp(i,r,o),i=i.sibling}function Gh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Or(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Gh(i,r,o),i=i.sibling;i!==null;)Gh(i,r,o),i=i.sibling}function dx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Tn(r,u,o),r[Kt]=i,r[un]=o}catch(g){ht(i,i.return,g)}}var qs=!1,Wt=!1,up=!1,fx=typeof WeakSet=="function"?WeakSet:Set,dn=null;function yC(i,r){if(i=i.containerInfo,Ip=dd,i=Sv(i),im(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,S=-1,V=-1,K=0,W=0,ie=i,$=null;t:for(;;){for(var Z;ie!==o||m!==0&&ie.nodeType!==3||(S=_+m),ie!==g||u!==0&&ie.nodeType!==3||(V=_+u),ie.nodeType===3&&(_+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)$=ie,ie=Z;for(;;){if(ie===i)break t;if($===o&&++K===m&&(S=_),$===g&&++W===u&&(V=_),(Z=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=Z}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dp={focusedElem:i,selectionRange:o},dd=!1,dn=r;dn!==null;)if(r=dn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,dn=i;else for(;dn!==null;){switch(r=dn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ye=qa(o.type,m);i=u.getSnapshotBeforeUpdate(ye,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ke){ht(o,o.return,ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,dn=i;break}dn=r.return}}function mx(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Gs(i,o),u&4&&Rc(5,o);break;case 1:if(Gs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){ht(o,o.return,_)}else{var m=qa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){ht(o,o.return,_)}}u&64&&lx(o),u&512&&Cc(o,o.return);break;case 3:if(Gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Wv(i,r)}catch(_){ht(o,o.return,_)}}break;case 27:r===null&&u&4&&dx(o);case 26:case 5:Gs(i,o),r===null&&u&4&&ux(o),u&512&&Cc(o,o.return);break;case 12:Gs(i,o);break;case 31:Gs(i,o),u&4&&yx(i,o);break;case 13:Gs(i,o),u&4&&vx(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=AC.bind(null,o),KC(i,o))));break;case 22:if(u=o.memoizedState!==null||qs,!u){r=r!==null&&r.memoizedState!==null||Wt,m=qs;var g=Wt;qs=u,(Wt=r)&&!g?Ks(i,o,(o.subtreeFlags&8772)!==0):Gs(i,o),qs=m,Wt=g}break;case 30:break;default:Gs(i,o)}}function px(i){var r=i.alternate;r!==null&&(i.alternate=null,px(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&yo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var kt=null,Gn=!1;function Hs(i,r,o){for(o=o.child;o!==null;)gx(i,r,o),o=o.sibling}function gx(i,r,o){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Ln,o)}catch{}switch(o.tag){case 26:Wt||ps(o,r),Hs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Wt||ps(o,r);var u=kt,m=Gn;Or(o.type)&&(kt=o.stateNode,Gn=!1),Hs(i,r,o),Lc(o.stateNode),kt=u,Gn=m;break;case 5:Wt||ps(o,r);case 6:if(u=kt,m=Gn,kt=null,Hs(i,r,o),kt=u,Gn=m,kt!==null)if(Gn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(g){ht(o,r,g)}else try{kt.removeChild(o.stateNode)}catch(g){ht(o,r,g)}break;case 18:kt!==null&&(Gn?(i=kt,l_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tl(i)):l_(kt,o.stateNode));break;case 4:u=kt,m=Gn,kt=o.stateNode.containerInfo,Gn=!0,Hs(i,r,o),kt=u,Gn=m;break;case 0:case 11:case 14:case 15:Nr(2,o,r),Wt||Nr(4,o,r),Hs(i,r,o);break;case 1:Wt||(ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&cx(o,r,u)),Hs(i,r,o);break;case 21:Hs(i,r,o);break;case 22:Wt=(u=Wt)||o.memoizedState!==null,Hs(i,r,o),Wt=u;break;default:Hs(i,r,o)}}function yx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tl(i)}catch(o){ht(r,r.return,o)}}}function vx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tl(i)}catch(o){ht(r,r.return,o)}}function vC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new fx),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new fx),r;default:throw Error(s(435,i.tag))}}function Kh(i,r){var o=vC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=kC.bind(null,i,u);u.then(m,m)}})}function Kn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Or(S.type)){kt=S.stateNode,Gn=!1;break e}break;case 5:kt=S.stateNode,Gn=!1;break e;case 3:case 4:kt=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(kt===null)throw Error(s(160));gx(g,_,m),kt=null,Gn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)bx(r,i),r=r.sibling}var Ui=null;function bx(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Kn(r,i),$n(i),u&4&&(Nr(3,i,i.return),Rc(3,i),Nr(5,i,i.return));break;case 1:Kn(r,i),$n(i),u&512&&(Wt||o===null||ps(o,o.return)),u&64&&qs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ui;if(Kn(r,i),$n(i),u&512&&(Wt||o===null||ps(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ts]||g[Kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Tn(g,u,o),g[Kt]=i,$t(g),u=g;break e;case"link":var _=b_("link","href",m).get(u+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(g=_[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}g=m.createElement(u),Tn(g,u,o),m.head.appendChild(g);break;case"meta":if(_=b_("meta","content",m).get(u+(o.content||""))){for(S=0;S<_.length;S++)if(g=_[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}g=m.createElement(u),Tn(g,u,o),m.head.appendChild(g);break;default:throw Error(s(468,u))}g[Kt]=i,$t(g),u=g}i.stateNode=u}else x_(m,i.type,i.stateNode);else i.stateNode=v_(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?x_(m,i.type,i.stateNode):v_(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&op(i,i.memoizedProps,o.memoizedProps)}break;case 27:Kn(r,i),$n(i),u&512&&(Wt||o===null||ps(o,o.return)),o!==null&&u&4&&op(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Kn(r,i),$n(i),u&512&&(Wt||o===null||ps(o,o.return)),i.flags&32){m=i.stateNode;try{Hn(m,"")}catch(ye){ht(i,i.return,ye)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,op(i,m,o!==null?o.memoizedProps:m)),u&1024&&(up=!0);break;case 6:if(Kn(r,i),$n(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){ht(i,i.return,ye)}}break;case 3:if(ld=null,m=Ui,Ui=ad(r.containerInfo),Kn(r,i),Ui=m,$n(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{tl(r.containerInfo)}catch(ye){ht(i,i.return,ye)}up&&(up=!1,xx(i));break;case 4:u=Ui,Ui=ad(i.stateNode.containerInfo),Kn(r,i),$n(i),Ui=u;break;case 12:Kn(r,i),$n(i);break;case 31:Kn(r,i),$n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kh(i,u)));break;case 13:Kn(r,i),$n(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xh=pe()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kh(i,u)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=qs,W=Wt;if(qs=K||m,Wt=W||V,Kn(r,i),Wt=W,qs=K,$n(i),u&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||V||qs||Wt||Ha(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(g=V.stateNode,m)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=V.stateNode;var ie=V.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ye){ht(V,V.return,ye)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ye){ht(V,V.return,ye)}}}else if(r.tag===18){if(o===null){V=r;try{var Z=V.stateNode;m?c_(Z,!0):c_(V.stateNode,!1)}catch(ye){ht(V,V.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Kh(i,o))));break;case 19:Kn(r,i),$n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kh(i,u)));break;case 30:break;case 21:break;default:Kn(r,i),$n(i)}}function $n(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(hx(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=lp(i);Gh(i,g,m);break;case 5:var _=o.stateNode;o.flags&32&&(Hn(_,""),o.flags&=-33);var S=lp(i);Gh(i,S,_);break;case 3:case 4:var V=o.stateNode.containerInfo,K=lp(i);cp(i,K,V);break;default:throw Error(s(161))}}catch(W){ht(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function xx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;xx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)mx(i,r.alternate,r),r=r.sibling}function Ha(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Nr(4,r,r.return),Ha(r);break;case 1:ps(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&cx(r,r.return,o),Ha(r);break;case 27:Lc(r.stateNode);case 26:case 5:ps(r,r.return),Ha(r);break;case 22:r.memoizedState===null&&Ha(r);break;case 30:Ha(r);break;default:Ha(r)}i=i.sibling}}function Ks(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Ks(m,g,o),Rc(4,g);break;case 1:if(Ks(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){ht(u,u.return,K)}if(u=g,m=u.updateQueue,m!==null){var S=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Zv(V[m],S)}catch(K){ht(u,u.return,K)}}o&&_&64&&lx(g),Cc(g,g.return);break;case 27:dx(g);case 26:case 5:Ks(m,g,o),o&&u===null&&_&4&&ux(g),Cc(g,g.return);break;case 12:Ks(m,g,o);break;case 31:Ks(m,g,o),o&&_&4&&yx(m,g);break;case 13:Ks(m,g,o),o&&_&4&&vx(m,g);break;case 22:g.memoizedState===null&&Ks(m,g,o),Cc(g,g.return);break;case 30:break;default:Ks(m,g,o)}r=r.sibling}}function hp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&pc(o))}function dp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i))}function Bi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_x(i,r,o,u),r=r.sibling}function _x(i,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Bi(i,r,o,u),m&2048&&Rc(9,r);break;case 1:Bi(i,r,o,u);break;case 3:Bi(i,r,o,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i)));break;case 12:if(m&2048){Bi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,_=g.id,S=g.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ht(r,r.return,V)}}else Bi(i,r,o,u);break;case 31:Bi(i,r,o,u);break;case 13:Bi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?Bi(i,r,o,u):Nc(i,r):g._visibility&2?Bi(i,r,o,u):(g._visibility|=2,Ho(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&hp(_,r);break;case 24:Bi(i,r,o,u),m&2048&&dp(r.alternate,r);break;default:Bi(i,r,o,u)}}function Ho(i,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,_=r,S=o,V=u,K=_.flags;switch(_.tag){case 0:case 11:case 15:Ho(g,_,S,V,m),Rc(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Ho(g,_,S,V,m):Nc(g,_):(W._visibility|=2,Ho(g,_,S,V,m)),m&&K&2048&&hp(_.alternate,_);break;case 24:Ho(g,_,S,V,m),m&&K&2048&&dp(_.alternate,_);break;default:Ho(g,_,S,V,m)}r=r.sibling}}function Nc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,m=u.flags;switch(u.tag){case 22:Nc(o,u),m&2048&&hp(u.alternate,u);break;case 24:Nc(o,u),m&2048&&dp(u.alternate,u);break;default:Nc(o,u)}r=r.sibling}}var Ic=8192;function Go(i,r,o){if(i.subtreeFlags&Ic)for(i=i.child;i!==null;)wx(i,r,o),i=i.sibling}function wx(i,r,o){switch(i.tag){case 26:Go(i,r,o),i.flags&Ic&&i.memoizedState!==null&&sN(o,Ui,i.memoizedState,i.memoizedProps);break;case 5:Go(i,r,o);break;case 3:case 4:var u=Ui;Ui=ad(i.stateNode.containerInfo),Go(i,r,o),Ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ic,Ic=16777216,Go(i,r,o),Ic=u):Go(i,r,o));break;default:Go(i,r,o)}}function Ex(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Dc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];dn=u,Sx(u,i)}Ex(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tx(i),i=i.sibling}function Tx(i){switch(i.tag){case 0:case 11:case 15:Dc(i),i.flags&2048&&Nr(9,i,i.return);break;case 3:Dc(i);break;case 12:Dc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$h(i)):Dc(i);break;default:Dc(i)}}function $h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];dn=u,Sx(u,i)}Ex(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Nr(8,r,r.return),$h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$h(r));break;default:$h(r)}i=i.sibling}}function Sx(i,r){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:Nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,dn=u;else e:for(o=i;dn!==null;){u=dn;var m=u.sibling,g=u.return;if(px(u),u===o){dn=null;break e}if(m!==null){m.return=g,dn=m;break e}dn=g}}}var bC={getCacheForType:function(i){var r=wn(Yt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return wn(Yt).controller.signal}},xC=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,Ke=null,Ye=0,ut=0,ai=null,Ir=!1,Ko=!1,fp=!1,$s=0,zt=0,Dr=0,Ga=0,mp=0,oi=0,$o=0,Mc=null,Xn=null,pp=!1,Xh=0,Ax=0,Yh=1/0,Qh=null,Mr=null,an=0,Vr=null,Xo=null,Xs=0,gp=0,yp=null,kx=null,Vc=0,vp=null;function li(){return(at&2)!==0&&Ye!==0?Ye&-Ye:Y.T!==null?Tp():Zu()}function Rx(){if(oi===0)if((Ye&536870912)===0||et){var i=bn;bn<<=1,(bn&3932160)===0&&(bn=262144),oi=i}else oi=536870912;return i=si.current,i!==null&&(i.flags|=32),oi}function Yn(i,r,o){(i===gt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(Yo(i,0),jr(i,Ye,oi,!1)),ba(i,o),((at&2)===0||i!==gt)&&(i===gt&&((at&2)===0&&(Ga|=o),zt===4&&jr(i,Ye,oi,!1)),gs(i))}function Cx(i,r,o){if((at&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Ii(i,r),m=u?EC(i,r):xp(i,r,!0),g=u;do{if(m===0){Ko&&!u&&jr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!_C(o)){m=xp(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=i;m=Mc;var V=S.current.memoizedState.isDehydrated;if(V&&(Yo(S,_).flags|=256),_=xp(S,_,!1),_!==2){if(fp&&!V){S.errorRecoveryDisabledLanes|=g,Ga|=g,m=4;break e}g=Xn,Xn=m,g!==null&&(Xn===null?Xn=g:Xn.push.apply(Xn,g))}m=_}if(g=!1,m!==2)continue}}if(m===1){Yo(i,0),jr(i,r,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:jr(u,r,oi,!Ir);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Xh+300-pe(),10<m)){if(jr(u,r,oi,!Ir),Wi(u,0,!0)!==0)break e;Xs=r,u.timeoutHandle=a_(Nx.bind(null,u,o,Xn,Qh,pp,r,oi,Ga,$o,Ir,g,"Throttled",-0,0),m);break e}Nx(u,o,Xn,Qh,pp,r,oi,Ga,$o,Ir,g,null,-0,0)}}break}while(!0);gs(i)}function Nx(i,r,o,u,m,g,_,S,V,K,W,ie,$,Z){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vi},wx(r,g,ie);var ye=(g&62914560)===g?Xh-pe():(g&4194048)===g?Ax-pe():0;if(ye=rN(ie,ye),ye!==null){Xs=g,i.cancelPendingCommit=ye(Lx.bind(null,i,r,g,o,u,m,_,S,V,W,ie,null,$,Z)),jr(i,g,_,!K);return}}Lx(i,r,g,o,u,m,_,S,V)}function _C(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!ni(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(i,r,o,u){r&=~mp,r&=~Ga,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var g=31-xe(m),_=1<<g;u[g]=-1,m&=~_}o!==0&&xa(i,o,r)}function Zh(){return(at&6)===0?(jc(0),!1):!0}function bp(){if(Ke!==null){if(ut===0)var i=Ke.return;else i=Ke,Os=Pa=null,jm(i),zo=null,yc=0,i=Ke;for(;i!==null;)ox(i.alternate,i),i=i.return;Ke=null}}function Yo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,BC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Xs=0,bp(),gt=i,Ke=o=js(i.current,null),Ye=r,ut=0,ai=null,Ir=!1,Ko=Ii(i,r),fp=!1,$o=oi=mp=Ga=Dr=zt=0,Xn=Mc=null,pp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-xe(u),g=1<<m;r|=i[m],u&=~g}return $s=r,vh(),o}function Ix(i,r){qe=null,Y.H=Sc,r===Lo||r===Ah?(r=$v(),ut=3):r===Em?(r=$v(),ut=4):ut=r===Zm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ai=r,Ke===null&&(zt=1,Uh(i,yi(r,i.current)))}function Dx(){var i=si.current;return i===null?!0:(Ye&4194048)===Ye?_i===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===_i:!1}function Mx(){var i=Y.H;return Y.H=Sc,i===null?Sc:i}function Vx(){var i=Y.A;return Y.A=bC,i}function Wh(){zt=4,Ir||(Ye&4194048)!==Ye&&si.current!==null||(Ko=!0),(Dr&134217727)===0&&(Ga&134217727)===0||gt===null||jr(gt,Ye,oi,!1)}function xp(i,r,o){var u=at;at|=2;var m=Mx(),g=Vx();(gt!==i||Ye!==r)&&(Qh=null,Yo(i,r)),r=!1;var _=zt;e:do try{if(ut!==0&&Ke!==null){var S=Ke,V=ai;switch(ut){case 8:bp(),_=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(r=!0);var K=ut;if(ut=0,ai=null,Qo(i,S,V,K),o&&Ko){_=0;break e}break;default:K=ut,ut=0,ai=null,Qo(i,S,V,K)}}wC(),_=zt;break}catch(W){Ix(i,W)}while(!0);return r&&i.shellSuspendCounter++,Os=Pa=null,at=u,Y.H=m,Y.A=g,Ke===null&&(gt=null,Ye=0,vh()),_}function wC(){for(;Ke!==null;)jx(Ke)}function EC(i,r){var o=at;at|=2;var u=Mx(),m=Vx();gt!==i||Ye!==r?(Qh=null,Yh=pe()+500,Yo(i,r)):Ko=Ii(i,r);e:do try{if(ut!==0&&Ke!==null){r=Ke;var g=ai;t:switch(ut){case 1:ut=0,ai=null,Qo(i,r,g,1);break;case 2:case 9:if(Gv(g)){ut=0,ai=null,Px(r);break}r=function(){ut!==2&&ut!==9||gt!==i||(ut=7),gs(i)},g.then(r,r);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Gv(g)?(ut=0,ai=null,Px(r)):(ut=0,ai=null,Qo(i,r,g,7));break;case 5:var _=null;switch(Ke.tag){case 26:_=Ke.memoizedState;case 5:case 27:var S=Ke;if(_?__(_):S.stateNode.complete){ut=0,ai=null;var V=S.sibling;if(V!==null)Ke=V;else{var K=S.return;K!==null?(Ke=K,Jh(K)):Ke=null}break t}}ut=0,ai=null,Qo(i,r,g,5);break;case 6:ut=0,ai=null,Qo(i,r,g,6);break;case 8:bp(),zt=6;break e;default:throw Error(s(462))}}TC();break}catch(W){Ix(i,W)}while(!0);return Os=Pa=null,Y.H=u,Y.A=m,at=o,Ke!==null?0:(gt=null,Ye=0,vh(),zt)}function TC(){for(;Ke!==null&&!po();)jx(Ke)}function jx(i){var r=rx(i.alternate,i,$s);i.memoizedProps=i.pendingProps,r===null?Jh(i):Ke=r}function Px(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Jb(o,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=Jb(o,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:jm(r);default:ox(o,r),r=Ke=Vv(r,$s),r=rx(o,r,$s)}i.memoizedProps=i.pendingProps,r===null?Jh(i):Ke=r}function Qo(i,r,o,u){Os=Pa=null,jm(r),zo=null,yc=0;var m=r.return;try{if(dC(i,m,r,o,Ye)){zt=1,Uh(i,yi(o,i.current)),Ke=null;return}}catch(g){if(m!==null)throw Ke=m,g;zt=1,Uh(i,yi(o,i.current)),Ke=null;return}r.flags&32768?(et||u===1?i=!0:Ko||(Ye&536870912)!==0?i=!1:(Ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=si.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ox(r,i)):Jh(r)}function Jh(i){var r=i;do{if((r.flags&32768)!==0){Ox(r,Ir);return}i=r.return;var o=pC(r.alternate,r,$s);if(o!==null){Ke=o;return}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=i}while(r!==null);zt===0&&(zt=5)}function Ox(i,r){do{var o=gC(i.alternate,i);if(o!==null){o.flags&=32767,Ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=o}while(i!==null);zt=6,Ke=null}function Lx(i,r,o,u,m,g,_,S,V){i.cancelPendingCommit=null;do ed();while(an!==0);if((at&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=lm,Jf(i,o,g,_,S,V),i===gt&&(Ke=gt=null,Ye=0),Xo=r,Vr=i,Xs=o,gp=g,yp=m,kx=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RC(De,function(){return qx(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=re.p,re.p=2,_=at,at|=4;try{yC(i,r,o)}finally{at=_,re.p=m,Y.T=u}}an=1,zx(),Ux(),Bx()}}function zx(){if(an===1){an=0;var i=Vr,r=Xo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=re.p;re.p=2;var m=at;at|=4;try{bx(r,i);var g=Dp,_=Sv(i.containerInfo),S=g.focusedElem,V=g.selectionRange;if(_!==S&&S&&S.ownerDocument&&Tv(S.ownerDocument.documentElement,S)){if(V!==null&&im(S)){var K=V.start,W=V.end;if(W===void 0&&(W=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(W,S.value.length);else{var ie=S.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var Z=$.getSelection(),ye=S.textContent.length,ke=Math.min(V.start,ye),pt=V.end===void 0?ke:Math.min(V.end,ye);!Z.extend&&ke>pt&&(_=pt,pt=ke,ke=_);var F=Ev(S,ke),z=Ev(S,pt);if(F&&z&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var G=ie.createRange();G.setStart(F.node,F.offset),Z.removeAllRanges(),ke>pt?(Z.addRange(G),Z.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Z.addRange(G))}}}}for(ie=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}dd=!!Ip,Dp=Ip=null}finally{at=m,re.p=u,Y.T=o}}i.current=r,an=2}}function Ux(){if(an===2){an=0;var i=Vr,r=Xo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=re.p;re.p=2;var m=at;at|=4;try{mx(i,r.alternate,r)}finally{at=m,re.p=u,Y.T=o}}an=3}}function Bx(){if(an===4||an===3){an=0,ce();var i=Vr,r=Xo,o=Xs,u=kx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,Xo=Vr=null,Fx(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Mr=null),Is(o),r=r.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Ln,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,m=re.p,re.p=2,Y.T=null;try{for(var g=i.onRecoverableError,_=0;_<u.length;_++){var S=u[_];g(S.value,{componentStack:S.stack})}}finally{Y.T=r,re.p=m}}(Xs&3)!==0&&ed(),gs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===vp?Vc++:(Vc=0,vp=i):Vc=0,jc(0)}}function Fx(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,pc(r)))}function ed(){return zx(),Ux(),Bx(),qx()}function qx(){if(an!==5)return!1;var i=Vr,r=gp;gp=0;var o=Is(Xs),u=Y.T,m=re.p;try{re.p=32>o?32:o,Y.T=null,o=yp,yp=null;var g=Vr,_=Xs;if(an=0,Xo=Vr=null,Xs=0,(at&6)!==0)throw Error(s(331));var S=at;if(at|=4,Tx(g.current),_x(g,g.current,_,o),at=S,jc(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Ln,g)}catch{}return!0}finally{re.p=m,Y.T=u,Fx(i,r)}}function Hx(i,r,o){r=yi(o,r),r=Qm(i.stateNode,r,2),i=kr(i,r,2),i!==null&&(ba(i,2),gs(i))}function ht(i,r,o){if(i.tag===3)Hx(i,i,o);else for(;r!==null;){if(r.tag===3){Hx(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mr===null||!Mr.has(u))){i=yi(o,i),o=Gb(2),u=kr(r,o,2),u!==null&&(Kb(o,u,r,i),ba(u,2),gs(u));break}}r=r.return}}function _p(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new xC;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(fp=!0,m.add(o),i=SC.bind(null,i,r,o),r.then(i,i))}function SC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,gt===i&&(Ye&o)===o&&(zt===4||zt===3&&(Ye&62914560)===Ye&&300>pe()-Xh?(at&2)===0&&Yo(i,0):mp|=o,$o===Ye&&($o=0)),gs(i)}function Gx(i,r){r===0&&(r=Qu()),i=Ma(i,r),i!==null&&(ba(i,r),gs(i))}function AC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Gx(i,o)}function kC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Gx(i,o)}function RC(i,r){return Nt(i,r)}var td=null,Zo=null,wp=!1,nd=!1,Ep=!1,Pr=0;function gs(i){i!==Zo&&i.next===null&&(Zo===null?td=Zo=i:Zo=Zo.next=i),nd=!0,wp||(wp=!0,NC())}function jc(i,r){if(!Ep&&nd){Ep=!0;do for(var o=!1,u=td;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var _=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-xe(42|i)+1)-1,g&=m&~(_&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Yx(u,g))}else g=Ye,g=Wi(u,u===gt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ii(u,g)||(o=!0,Yx(u,g));u=u.next}while(o);Ep=!1}}function CC(){Kx()}function Kx(){nd=wp=!1;var i=0;Pr!==0&&UC()&&(i=Pr);for(var r=pe(),o=null,u=td;u!==null;){var m=u.next,g=$x(u,r);g===0?(u.next=null,o===null?td=m:o.next=m,m===null&&(Zo=o)):(o=u,(i!==0||(g&3)!==0)&&(nd=!0)),u=m}an!==0&&an!==5||jc(i),Pr!==0&&(Pr=0)}function $x(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var _=31-xe(g),S=1<<_,V=m[_];V===-1?((S&o)===0||(S&u)!==0)&&(m[_]=Wf(S,r)):V<=r&&(i.expiredLanes|=S),g&=~S}if(r=gt,o=Ye,o=Wi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&hi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ii(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&hi(u),Is(o)){case 2:case 8:o=Ue;break;case 32:o=De;break;case 268435456:o=Tt;break;default:o=De}return u=Xx.bind(null,i),o=Nt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&hi(u),i.callbackPriority=2,i.callbackNode=null,2}function Xx(i,r){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ed()&&i.callbackNode!==o)return null;var u=Ye;return u=Wi(i,i===gt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Cx(i,u,r),$x(i,pe()),i.callbackNode!=null&&i.callbackNode===o?Xx.bind(null,i):null)}function Yx(i,r){if(ed())return null;Cx(i,r,!0)}function NC(){FC(function(){(at&6)!==0?Nt(ze,CC):Kx()})}function Tp(){if(Pr===0){var i=Po;i===0&&(i=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),Pr=i}return Pr}function Qx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_o(""+i)}function Zx(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function IC(i,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var g=Qx((m[un]||null).action),_=u.submitter;_&&(r=(r=_[un]||null)?Qx(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var S=new cs("action","action",null,u,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Pr!==0){var V=_?Zx(m,_):new FormData(m);Hm(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=_?Zx(m,_):new FormData(m),Hm(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Sp=0;Sp<om.length;Sp++){var Ap=om[Sp],DC=Ap.toLowerCase(),MC=Ap[0].toUpperCase()+Ap.slice(1);zi(DC,"on"+MC)}zi(Rv,"onAnimationEnd"),zi(Cv,"onAnimationIteration"),zi(Nv,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(YR,"onTransitionRun"),zi(QR,"onTransitionStart"),zi(ZR,"onTransitionCancel"),zi(Iv,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function Wx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],V=S.instance,K=S.currentTarget;if(S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=K;try{g(m)}catch(W){yh(W)}m.currentTarget=null,g=V}else for(_=0;_<u.length;_++){if(S=u[_],V=S.instance,K=S.currentTarget,S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=K;try{g(m)}catch(W){yh(W)}m.currentTarget=null,g=V}}}}function $e(i,r){var o=r[go];o===void 0&&(o=r[go]=new Set);var u=i+"__bubble";o.has(u)||(Jx(r,i,2,!1),o.add(u))}function kp(i,r,o){var u=0;r&&(u|=4),Jx(o,i,u,r)}var id="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[id]){i[id]=!0,Xl.forEach(function(o){o!=="selectionchange"&&(VC.has(o)||kp(o,!1,i),kp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[id]||(r[id]=!0,kp("selectionchange",!1,r))}}function Jx(i,r,o,u){switch(R_(r)){case 2:var m=lN;break;case 8:m=cN;break;default:m=qp}o=m.bind(null,r,o,i),m=void 0,!Sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Cp(i,r,o,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===m)break;if(_===4)for(_=u.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;S!==null;){if(_=ns(S),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){u=g=_;continue e}S=S.parentNode}}u=u.return}yr(function(){var K=g,W=fi(o),ie=[];e:{var $=Dv.get(i);if($!==void 0){var Z=cs,ye=i;switch(i){case"keypress":if(ka(o)===0)break e;case"keydown":case"keyup":Z=mh;break;case"focusin":ye="focus",Z=Ca;break;case"focusout":ye="blur",Z=Ca;break;case"beforeblur":case"afterblur":Z=Ca;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=b;break;case Rv:case Cv:case Nv:Z=oh;break;case Iv:Z=k;break;case"scroll":case"scrollend":Z=ac;break;case"wheel":Z=Q;break;case"copy":case"cut":case"paste":Z=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Vs;break;case"toggle":case"beforetoggle":Z=Fe}var ke=(r&4)!==0,pt=!ke&&(i==="scroll"||i==="scrollend"),F=ke?$!==null?$+"Capture":null:$;ke=[];for(var z=K,G;z!==null;){var te=z;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||F===null||(te=ji(z,F),te!=null&&ke.push(Oc(z,te,G))),pt)break;z=z.return}0<ke.length&&($=new Z($,ye,null,o,W),ie.push({event:$,listeners:ke}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",$&&o!==ic&&(ye=o.relatedTarget||o.fromElement)&&(ns(ye)||ye[es]))break e;if((Z||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(ye=o.relatedTarget||o.toElement,Z=K,ye=ye?ns(ye):null,ye!==null&&(pt=l(ye),ke=ye.tag,ye!==pt||ke!==5&&ke!==27&&ke!==6)&&(ye=null)):(Z=null,ye=K),Z!==ye)){if(ke=oc,te="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ke=Vs,te="onPointerLeave",F="onPointerEnter",z="pointer"),pt=Z==null?$:ei(Z),G=ye==null?$:ei(ye),$=new ke(te,z+"leave",Z,o,W),$.target=pt,$.relatedTarget=G,te=null,ns(W)===K&&(ke=new ke(F,z+"enter",ye,o,W),ke.target=G,ke.relatedTarget=pt,te=ke),pt=te,Z&&ye)t:{for(ke=jC,F=Z,z=ye,G=0,te=F;te;te=ke(te))G++;te=0;for(var Ee=z;Ee;Ee=ke(Ee))te++;for(;0<G-te;)F=ke(F),G--;for(;0<te-G;)z=ke(z),te--;for(;G--;){if(F===z||z!==null&&F===z.alternate){ke=F;break t}F=ke(F),z=ke(z)}ke=null}else ke=null;Z!==null&&e_(ie,$,Z,ke,!1),ye!==null&&pt!==null&&e_(ie,pt,ye,ke,!0)}}e:{if($=K?ei(K):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var it=yv;else if(pv($))if(vv)it=KR;else{it=HR;var _e=qR}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&xo(K.elementType)&&(it=yv):it=GR;if(it&&(it=it(i,K))){gv(ie,it,o,W);break e}_e&&_e(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&ec($,"number",$.value)}switch(_e=K?ei(K):window,i){case"focusin":(pv(_e)||_e.contentEditable==="true")&&(Ro=_e,sm=K,dc=null);break;case"focusout":dc=sm=Ro=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,Av(ie,o,W);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":Av(ie,o,W)}var He;if(rt)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else ko?Na(i,o)&&(Qe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Qe="onCompositionStart");Qe&&(ds&&o.locale!=="ko"&&(ko||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&ko&&(He=rc()):(ls=W,sc="value"in ls?ls.value:ls.textContent,ko=!0)),_e=sd(K,Qe),0<_e.length&&(Qe=new hs(Qe,i,null,o,W),ie.push({event:Qe,listeners:_e}),He?Qe.data=He:(He=Ao(o),He!==null&&(Qe.data=He)))),(He=pi?zR(i,o):UR(i,o))&&(Qe=sd(K,"onBeforeInput"),0<Qe.length&&(_e=new hs("onBeforeInput","beforeinput",null,o,W),ie.push({event:_e,listeners:Qe}),_e.data=He)),IC(ie,i,K,o,W)}Wx(ie,r)})}function Oc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function sd(i,r){for(var o=r+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ji(i,o),m!=null&&u.unshift(Oc(i,m,g)),m=ji(i,r),m!=null&&u.push(Oc(i,m,g))),i.tag===3)return u;i=i.return}return[]}function jC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function e_(i,r,o,u,m){for(var g=r._reactName,_=[];o!==null&&o!==u;){var S=o,V=S.alternate,K=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||K===null||(V=K,m?(K=ji(o,g),K!=null&&_.unshift(Oc(o,K,V))):m||(K=ji(o,g),K!=null&&_.push(Oc(o,K,V)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var PC=/\r\n?/g,OC=/\u0000|\uFFFD/g;function t_(i){return(typeof i=="string"?i:""+i).replace(PC,`
`).replace(OC,"")}function n_(i,r){return r=t_(r),t_(i)===r}function mt(i,r,o,u,m,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Hn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Hn(i,""+u);break;case"className":ti(i,"class",u);break;case"tabIndex":ti(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(i,o,u);break;case"style":nc(i,u,g);break;case"data":if(r!=="object"){ti(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=_o(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&mt(i,r,"name",m.name,m,null),mt(i,r,"formEncType",m.formEncType,m,null),mt(i,r,"formMethod",m.formMethod,m,null),mt(i,r,"formTarget",m.formTarget,m,null)):(mt(i,r,"encType",m.encType,m,null),mt(i,r,"method",m.method,m,null),mt(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=_o(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Vi);break;case"onScroll":u!=null&&$e("scroll",i);break;case"onScrollEnd":u!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=_o(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":$e("beforetoggle",i),$e("toggle",i),vo(i,"popover",u);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sh.get(o)||o,vo(i,o,u))}}function Np(i,r,o,u,m,g){switch(o){case"style":nc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Hn(i,u):(typeof u=="number"||typeof u=="bigint")&&Hn(i,""+u);break;case"onScroll":u!=null&&$e("scroll",i);break;case"onScrollEnd":u!=null&&$e("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[un]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):vo(i,o,u)}}}function Tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(i,r,g,_,o,null)}}m&&mt(i,r,"srcSet",o.srcSet,o,null),u&&mt(i,r,"src",o.src,o,null);return;case"input":$e("invalid",i);var S=g=_=m=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":m=W;break;case"type":_=W;break;case"checked":V=W;break;case"defaultChecked":K=W;break;case"value":g=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:mt(i,r,u,W,o,null)}}th(i,g,S,V,K,_,m,!1);return;case"select":$e("invalid",i),u=_=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:mt(i,r,m,S,o,null)}r=g,o=_,i.multiple=!!u,r!=null?fr(i,!!u,r,!1):o!=null&&fr(i,!!u,o,!0);return;case"textarea":$e("invalid",i),g=m=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:mt(i,r,_,S,o,null)}mr(i,u,m,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(i,r,V,u,o,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(u=0;u<Pc.length;u++)$e(Pc[u],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(i,r,K,u,o,null)}return;default:if(xo(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Np(i,r,W,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&mt(i,r,S,u,o,null))}function LC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,_=null,S=null,V=null,K=null,W=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=ie;default:u.hasOwnProperty(Z)||mt(i,r,Z,null,u,ie)}}for(var $ in u){var Z=u[$];if(ie=o[$],u.hasOwnProperty($)&&(Z!=null||ie!=null))switch($){case"type":g=Z;break;case"name":m=Z;break;case"checked":K=Z;break;case"defaultChecked":W=Z;break;case"value":_=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==ie&&mt(i,r,$,Z,u,ie)}}bo(i,_,S,V,K,W,g,m);return;case"select":Z=_=S=$=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(g)||mt(i,r,g,null,u,V)}for(m in u)if(g=u[m],V=o[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":_=g;default:g!==V&&mt(i,r,m,g,u,V)}r=S,o=_,u=Z,$!=null?fr(i,!!o,$,!1):!!u!=!!o&&(r!=null?fr(i,!!o,r,!0):fr(i,!!o,o?[]:"",!1));return;case"textarea":Z=$=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:mt(i,r,S,null,u,m)}for(_ in u)if(m=u[_],g=o[_],u.hasOwnProperty(_)&&(m!=null||g!=null))switch(_){case"value":$=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&mt(i,r,_,m,u,g)}nh(i,$,Z);return;case"option":for(var ye in o)if($=o[ye],o.hasOwnProperty(ye)&&$!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:mt(i,r,ye,null,u,$)}for(V in u)if($=u[V],Z=o[V],u.hasOwnProperty(V)&&$!==Z&&($!=null||Z!=null))switch(V){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:mt(i,r,V,$,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)$=o[ke],o.hasOwnProperty(ke)&&$!=null&&!u.hasOwnProperty(ke)&&mt(i,r,ke,null,u,$);for(K in u)if($=u[K],Z=o[K],u.hasOwnProperty(K)&&$!==Z&&($!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:mt(i,r,K,$,u,Z)}return;default:if(xo(r)){for(var pt in o)$=o[pt],o.hasOwnProperty(pt)&&$!==void 0&&!u.hasOwnProperty(pt)&&Np(i,r,pt,void 0,u,$);for(W in u)$=u[W],Z=o[W],!u.hasOwnProperty(W)||$===Z||$===void 0&&Z===void 0||Np(i,r,W,$,u,Z);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&mt(i,r,F,null,u,$);for(ie in u)$=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||$===Z||$==null&&Z==null||mt(i,r,ie,$,u,Z)}function i_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,_=m.initiatorType,S=m.duration;if(g&&S&&i_(_)){for(_=0,S=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>S)break;var W=V.transferSize,ie=V.initiatorType;W&&i_(ie)&&(V=V.responseEnd,_+=W*(V<S?1:(S-K)/(V-K)))}if(--u,r+=8*(g+_)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ip=null,Dp=null;function rd(i){return i.nodeType===9?i:i.ownerDocument}function s_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Mp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vp=null;function UC(){var i=window.event;return i&&i.type==="popstate"?i===Vp?!1:(Vp=i,!0):(Vp=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(i){return o_.resolve(null).then(i).catch(qC)}:a_;function qC(i){setTimeout(function(){throw i})}function Or(i){return i==="head"}function l_(i,r){var o=r,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),tl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Lc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Lc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[ts]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&Lc(i.ownerDocument.body);o=m}while(o);tl(r)}function c_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),yo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function HC(i,r,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ts])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=wi(i.nextSibling),i===null)break}return null}function GC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=wi(i.nextSibling),i===null))return null;return i}function u_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=wi(i.nextSibling),i===null))return null;return i}function Pp(i){return i.data==="$?"||i.data==="$~"}function Op(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function KC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function wi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Lp=null;function h_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return wi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function d_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function f_(i,r,o){switch(r=rd(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Lc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);yo(i)}var Ei=new Map,m_=new Set;function ad(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ys=re.d;re.d={f:$C,r:XC,D:YC,C:QC,L:ZC,m:WC,X:eN,S:JC,M:tN};function $C(){var i=Ys.f(),r=Zh();return i||r}function XC(i){var r=di(i);r!==null&&r.tag===5&&r.type==="form"?Ib(r):Ys.r(i)}var Wo=typeof document>"u"?null:document;function p_(i,r,o){var u=Wo;if(u&&typeof r=="string"&&r){var m=qn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),m_.has(m)||(m_.add(m),i={rel:i,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),Tn(r,"link",i),$t(r),u.head.appendChild(r)))}}function YC(i){Ys.D(i),p_("dns-prefetch",i,null)}function QC(i,r){Ys.C(i,r),p_("preconnect",i,r)}function ZC(i,r,o){Ys.L(i,r,o);var u=Wo;if(u&&i&&r){var m='link[rel="preload"][as="'+qn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+qn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+qn(o.imageSizes)+'"]')):m+='[href="'+qn(i)+'"]';var g=m;switch(r){case"style":g=Jo(i);break;case"script":g=el(i)}Ei.has(g)||(i=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Ei.set(g,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(zc(g))||r==="script"&&u.querySelector(Uc(g))||(r=u.createElement("link"),Tn(r,"link",i),$t(r),u.head.appendChild(r)))}}function WC(i,r){Ys.m(i,r);var o=Wo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+qn(u)+'"][href="'+qn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=el(i)}if(!Ei.has(g)&&(i=x({rel:"modulepreload",href:i},r),Ei.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uc(g)))return}u=o.createElement("link"),Tn(u,"link",i),$t(u),o.head.appendChild(u)}}}function JC(i,r,o){Ys.S(i,r,o);var u=Wo;if(u&&i){var m=is(u).hoistableStyles,g=Jo(i);r=r||"default";var _=m.get(g);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(zc(g)))S.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Ei.get(g))&&zp(i,o);var V=_=u.createElement("link");$t(V),Tn(V,"link",i),V._p=new Promise(function(K,W){V.onload=K,V.onerror=W}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,od(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:S},m.set(g,_)}}}function eN(i,r){Ys.X(i,r);var o=Wo;if(o&&i){var u=is(o).hoistableScripts,m=el(i),g=u.get(m);g||(g=o.querySelector(Uc(m)),g||(i=x({src:i,async:!0},r),(r=Ei.get(m))&&Up(i,r),g=o.createElement("script"),$t(g),Tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function tN(i,r){Ys.M(i,r);var o=Wo;if(o&&i){var u=is(o).hoistableScripts,m=el(i),g=u.get(m);g||(g=o.querySelector(Uc(m)),g||(i=x({src:i,async:!0,type:"module"},r),(r=Ei.get(m))&&Up(i,r),g=o.createElement("script"),$t(g),Tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function g_(i,r,o,u){var m=(m=Ne.current)?ad(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Jo(o.href),o=is(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Jo(o.href);var g=is(m).hoistableStyles,_=g.get(i);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,_),(g=m.querySelector(zc(i)))&&!g._p&&(_.instance=g,_.state.loading=5),Ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ei.set(i,o),g||nN(m,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=el(o),o=is(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Jo(i){return'href="'+qn(i)+'"'}function zc(i){return'link[rel="stylesheet"]['+i+"]"}function y_(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function nN(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Tn(r,"link",o),$t(r),i.head.appendChild(r))}function el(i){return'[src="'+qn(i)+'"]'}function Uc(i){return"script[async]"+i}function v_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+qn(o.href)+'"]');if(u)return r.instance=u,$t(u),u;var m=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),$t(u),Tn(u,"style",m),od(u,o.precedence,i),r.instance=u;case"stylesheet":m=Jo(o.href);var g=i.querySelector(zc(m));if(g)return r.state.loading|=4,r.instance=g,$t(g),g;u=y_(o),(m=Ei.get(m))&&zp(u,m),g=(i.ownerDocument||i).createElement("link"),$t(g);var _=g;return _._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Tn(g,"link",u),r.state.loading|=4,od(g,o.precedence,i),r.instance=g;case"script":return g=el(o.src),(m=i.querySelector(Uc(g)))?(r.instance=m,$t(m),m):(u=o,(m=Ei.get(g))&&(u=x({},o),Up(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),$t(m),Tn(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,od(u,o.precedence,i));return r.instance}function od(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function zp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ld=null;function b_(i,r,o){if(ld===null){var u=new Map,m=ld=new Map;m.set(o,u)}else m=ld,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[ts]||g[Kt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=i+_;var S=u.get(_);S?S.push(g):u.set(_,[g])}}return u}function x_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function iN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function __(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function sN(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Jo(u.href),g=r.querySelector(zc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=cd.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,$t(g);return}g=r.ownerDocument||r,u=y_(u),(m=Ei.get(m))&&zp(u,m),g=g.createElement("link"),$t(g);var _=g;_._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Tn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=cd.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Bp=0;function rN(i,r){return i.stylesheets&&i.count===0&&hd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Bp===0&&(Bp=62500*zC());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Bp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ud=null;function hd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ud=new Map,r.forEach(aN,i),ud=null,cd.call(i))}function aN(i,r){if(!(r.state.loading&4)){var o=ud.get(i);if(o)var u=o.get(null);else{o=new Map,ud.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var _=m[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}m=r.instance,_=m.getAttribute("data-precedence"),g=o.get(_)||u,g===u&&o.set(null,m),o.set(_,m),this.count++,u=cd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Bc={$$typeof:q,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function oN(i,r,o,u,m,g,_,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function w_(i,r,o,u,m,g,_,S,V,K,W,ie){return i=new oN(i,r,o,_,V,K,W,ie,S),r=1,g===!0&&(r|=24),g=ii(3,null,null,r),i.current=g,g.stateNode=i,r=xm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Tm(g),i}function E_(i){return i?(i=Io,i):Io}function T_(i,r,o,u,m,g){m=E_(m),u.context===null?u.context=m:u.pendingContext=m,u=Ar(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=kr(i,u,r),o!==null&&(Yn(o,i,r),bc(o,i,r))}function S_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Fp(i,r){S_(i,r),(i=i.alternate)&&S_(i,r)}function A_(i){if(i.tag===13||i.tag===31){var r=Ma(i,67108864);r!==null&&Yn(r,i,67108864),Fp(i,67108864)}}function k_(i){if(i.tag===13||i.tag===31){var r=li();r=_a(r);var o=Ma(i,r);o!==null&&Yn(o,i,r),Fp(i,r)}}var dd=!0;function lN(i,r,o,u){var m=Y.T;Y.T=null;var g=re.p;try{re.p=2,qp(i,r,o,u)}finally{re.p=g,Y.T=m}}function cN(i,r,o,u){var m=Y.T;Y.T=null;var g=re.p;try{re.p=8,qp(i,r,o,u)}finally{re.p=g,Y.T=m}}function qp(i,r,o,u){if(dd){var m=Hp(u);if(m===null)Cp(i,r,u,fd,o),C_(i,u);else if(hN(m,i,r,o,u))u.stopPropagation();else if(C_(i,u),r&4&&-1<uN.indexOf(i)){for(;m!==null;){var g=di(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Zi(g.pendingLanes);if(_!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var V=1<<31-xe(_);S.entanglements[1]|=V,_&=~V}gs(g),(at&6)===0&&(Yh=pe()+500,jc(0))}}break;case 31:case 13:S=Ma(g,2),S!==null&&Yn(S,g,2),Zh(),Fp(g,2)}if(g=Hp(u),g===null&&Cp(i,r,u,fd,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else Cp(i,r,u,null,o)}}function Hp(i){return i=fi(i),Gp(i)}var fd=null;function Gp(i){if(fd=null,i=ns(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return fd=i,null}function R_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case ze:return 2;case Ue:return 8;case De:case ot:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var Kp=!1,Lr=null,zr=null,Ur=null,Fc=new Map,qc=new Map,Br=[],uN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(i,r){switch(i){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Fc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(r.pointerId)}}function Hc(i,r,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=di(r),r!==null&&A_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function hN(i,r,o,u,m){switch(r){case"focusin":return Lr=Hc(Lr,i,r,o,u,m),!0;case"dragenter":return zr=Hc(zr,i,r,o,u,m),!0;case"mouseover":return Ur=Hc(Ur,i,r,o,u,m),!0;case"pointerover":var g=m.pointerId;return Fc.set(g,Hc(Fc.get(g)||null,i,r,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,qc.set(g,Hc(qc.get(g)||null,i,r,o,u,m)),!0}return!1}function N_(i){var r=ns(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Di(i.priority,function(){k_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,Di(i.priority,function(){k_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function md(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Hp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);ic=u,o.target.dispatchEvent(u),ic=null}else return r=di(o),r!==null&&A_(r),i.blockedOn=o,!1;r.shift()}return!0}function I_(i,r,o){md(i)&&o.delete(r)}function dN(){Kp=!1,Lr!==null&&md(Lr)&&(Lr=null),zr!==null&&md(zr)&&(zr=null),Ur!==null&&md(Ur)&&(Ur=null),Fc.forEach(I_),qc.forEach(I_)}function pd(i,r){i.blockedOn===r&&(i.blockedOn=null,Kp||(Kp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dN)))}var gd=null;function D_(i){gd!==i&&(gd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gd===i&&(gd=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(Gp(u||o)===null)continue;break}var g=di(o);g!==null&&(i.splice(r,3),r-=3,Hm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function tl(i){function r(V){return pd(V,i)}Lr!==null&&pd(Lr,i),zr!==null&&pd(zr,i),Ur!==null&&pd(Ur,i),Fc.forEach(r),qc.forEach(r);for(var o=0;o<Br.length;o++){var u=Br[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Br.length&&(o=Br[0],o.blockedOn===null);)N_(o),o.blockedOn===null&&Br.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],_=m[un]||null;if(typeof g=="function")_||D_(o);else if(_){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,_=g[un]||null)S=_.formAction;else if(Gp(m)!==null)continue}else S=_.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),D_(o)}}}function M_(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function $p(i){this._internalRoot=i}yd.prototype.render=$p.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=li();T_(o,u,i,r,null,null)},yd.prototype.unmount=$p.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;T_(i.current,2,null,i,null,null),Zh(),r[es]=null}};function yd(i){this._internalRoot=i}yd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Zu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Br.length&&r!==0&&r<Br[o].priority;o++);Br.splice(o,0,i),o===0&&N_(i)}};var V_=e.version;if(V_!=="19.2.3")throw Error(s(527,V_,"19.2.3"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var fN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{Ln=vd.inject(fN),Se=vd}catch{}}return Kc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",m=Bb,g=Fb,_=qb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=w_(i,1,!1,null,null,o,u,null,m,g,_,M_),i[es]=r.current,Rp(i),new $p(r)},Kc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,m="",g=Bb,_=Fb,S=qb,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=w_(i,1,!0,r,o??null,u,m,V,g,_,S,M_),r.context=E_(null),o=r.current,u=li(),u=_a(u),m=Ar(u),m.callback=null,kr(o,m,u),o=u,r.current.lanes=o,ba(r,o),gs(r),i[es]=r.current,Rp(i),new yd(r)},Kc.version="19.2.3",Kc}var H_;function EN(){if(H_)return Qp.exports;H_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qp.exports=wN(),Qp.exports}var TN=EN();const SN=JT(TN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G_="popstate";function AN(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:f=""}=co(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ig("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:pu(l))}function s(a,l){Jn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return RN(e,n,s,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kN(){return Math.random().toString(36).substring(2,10)}function K_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ig(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||kN()}}function pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function RN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",f=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function x(){d="POP";let M=v(),B=M==null?null:M-p;p=M,f&&f({action:d,location:O.location,delta:B})}function w(M,B){d="PUSH";let X=Ig(O.location,M,B);n&&n(X,M),p=v()+1;let q=K_(X,p),ae=O.createHref(X);try{c.pushState(q,"",ae)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;a.location.assign(ae)}l&&f&&f({action:d,location:O.location,delta:1})}function A(M,B){d="REPLACE";let X=Ig(O.location,M,B);n&&n(X,M),p=v();let q=K_(X,p),ae=O.createHref(X);c.replaceState(q,"",ae),l&&f&&f({action:d,location:O.location,delta:0})}function N(M){return CN(M)}let O={get action(){return d},get location(){return t(a,c)},listen(M){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(G_,x),f=M,()=>{a.removeEventListener(G_,x),f=null}},createHref(M){return e(a,M)},createURL:N,encodeLocation(M){let B=N(M);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:A,go(M){return c.go(M)}};return O}function CN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:pu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function t1(t,e,n="/"){return NN(t,e,n,!1)}function NN(t,e,n,s){let a=typeof e=="string"?co(e):e,l=sr(a.pathname||"/",n);if(l==null)return null;let c=n1(t);IN(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=FN(l);d=UN(c[f],p,s)}return d}function n1(t,e=[],n=[],s="",a=!1){let l=(c,d,f=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&f)return;Ct(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let x=tr([s,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(Ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),n1(c.children,e,w,x,f)),!(c.path==null&&!c.index)&&e.push({path:x,score:LN(x,c.index),routesMeta:w})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of i1(c.path))l(c,d,!0,p)}),e}function i1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=i1(s.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function IN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var DN=/^:[\w-]+$/,MN=3,VN=2,jN=1,PN=10,ON=-2,$_=t=>t==="*";function LN(t,e){let n=t.split("/"),s=n.length;return n.some($_)&&(s+=ON),e&&(s+=VN),n.filter(a=>!$_(a)).reduce((a,l)=>a+(DN.test(l)?MN:l===""?jN:PN),s)}function zN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function UN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],p=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Wd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),w=f.route;if(!x&&p&&n&&!s[s.length-1].route.index&&(x=Wd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:tr([l,x.pathname]),pathnameBase:$N(tr([l,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(l=tr([l,x.pathnameBase]))}return c}function Wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=BN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:x},w)=>{if(v==="*"){let N=d[w]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const A=d[w];return x&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function BN(t,e=!1,n=!0){Jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function FN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function sr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var qN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HN=t=>qN.test(t);function GN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?co(t):t,l;if(n)if(HN(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=X_(n.substring(1),"/"):l=X_(n,e)}else l=e;return{pathname:l,search:XN(s),hash:YN(a)}}function X_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function eg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ny(t){let e=KN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Iy(t,e,n,s=!1){let a;typeof t=="string"?a=co(t):(a={...t},Ct(!a.pathname||!a.pathname.includes("?"),eg("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),eg("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),eg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),x-=1;a.pathname=w.join("/")}d=x>=0?e[x]:"/"}let f=GN(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var tr=t=>t.join("/").replace(/\/\/+/g,"/"),$N=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ZN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var s1=["POST","PUT","PATCH","DELETE"];new Set(s1);var WN=["GET",...s1];new Set(WN);var Nl=D.createContext(null);Nl.displayName="DataRouter";var kf=D.createContext(null);kf.displayName="DataRouterState";D.createContext(!1);var r1=D.createContext({isTransitioning:!1});r1.displayName="ViewTransition";var JN=D.createContext(new Map);JN.displayName="Fetchers";var e2=D.createContext(null);e2.displayName="Await";var Ci=D.createContext(null);Ci.displayName="Navigation";var Du=D.createContext(null);Du.displayName="Location";var Yi=D.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var Dy=D.createContext(null);Dy.displayName="RouteError";function t2(t,{relative:e}={}){Ct(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(Ci),{hash:a,pathname:l,search:c}=Mu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:tr([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Il(){return D.useContext(Du)!=null}function Rs(){return Ct(Il(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Du).location}var a1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o1(t){D.useContext(Ci).static||D.useLayoutEffect(t)}function uo(){let{isDataRoute:t}=D.useContext(Yi);return t?p2():n2()}function n2(){Ct(Il(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Nl),{basename:e,navigator:n}=D.useContext(Ci),{matches:s}=D.useContext(Yi),{pathname:a}=Rs(),l=JSON.stringify(Ny(s)),c=D.useRef(!1);return o1(()=>{c.current=!0}),D.useCallback((f,p={})=>{if(Jn(c.current,a1),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=Iy(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:tr([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}D.createContext(null);function i2(){let{matches:t}=D.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function Mu(t,{relative:e}={}){let{matches:n}=D.useContext(Yi),{pathname:s}=Rs(),a=JSON.stringify(Ny(n));return D.useMemo(()=>Iy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function s2(t,e){return l1(t,e)}function l1(t,e,n,s,a){var X;Ct(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Ci),{matches:c}=D.useContext(Yi),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let q=x&&x.path||"";c1(p,!x||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Rs(),A;if(e){let q=typeof e=="string"?co(e):e;Ct(v==="/"||((X=q.pathname)==null?void 0:X.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=w;let N=A.pathname||"/",O=N;if(v!=="/"){let q=v.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let M=t1(t,{pathname:O});Jn(x||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Jn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=c2(M&&M.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:tr([v,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:tr([v,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,s,a);return e&&B?D.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function r2(){let t=m2(),e=QN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var a2=D.createElement(r2,null),o2=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(Yi.Provider,{value:this.props.routeContext},D.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l2({routeContext:t,match:e,children:n}){let s=D.useContext(Nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Yi.Provider,{value:t},n)}function c2(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);Ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=v),x.route.id){let{loaderData:w,errors:A}=n,N=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||N){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&s?(v,x)=>{var w,A;s(v,{location:n.location,params:((A=(w=n.matches)==null?void 0:w[0])==null?void 0:A.params)??{},unstable_pattern:ZN(n.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,w)=>{let A,N=!1,O=null,M=null;n&&(A=c&&x.route.id?c[x.route.id]:void 0,O=x.route.errorElement||a2,d&&(f<0&&w===0?(c1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,M=null):f===w&&(N=!0,M=x.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),X=()=>{let q;return A?q=O:N?q=M:x.route.Component?q=D.createElement(x.route.Component,null):x.route.element?q=x.route.element:q=v,D.createElement(l2,{match:x,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:q})};return n&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?D.createElement(o2,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:X(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):X()},null)}function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u2(t){let e=D.useContext(Nl);return Ct(e,My(t)),e}function h2(t){let e=D.useContext(kf);return Ct(e,My(t)),e}function d2(t){let e=D.useContext(Yi);return Ct(e,My(t)),e}function Vy(t){let e=d2(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function f2(){return Vy("useRouteId")}function m2(){var s;let t=D.useContext(Dy),e=h2("useRouteError"),n=Vy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function p2(){let{router:t}=u2("useNavigate"),e=Vy("useNavigate"),n=D.useRef(!1);return o1(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{Jn(n.current,a1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Y_={};function c1(t,e,n){!e&&!Y_[t]&&(Y_[t]=!0,Jn(!1,n))}D.memo(g2);function g2({routes:t,future:e,state:n,unstable_onError:s}){return l1(t,void 0,n,s,e)}function ll({to:t,replace:e,state:n,relative:s}){Ct(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Ci);Jn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(Yi),{pathname:c}=Rs(),d=uo(),f=Iy(t,Ny(l),c,s==="path"),p=JSON.stringify(f);return D.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function qi(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y2({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ct(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=co(n));let{pathname:p="/",search:v="",hash:x="",state:w=null,key:A="default"}=n,N=D.useMemo(()=>{let O=sr(p,d);return O==null?null:{location:{pathname:O,search:v,hash:x,state:w,key:A},navigationType:s}},[d,p,v,x,w,A,s]);return Jn(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(Ci.Provider,{value:f},D.createElement(Du.Provider,{children:e,value:N}))}function v2({children:t,location:e}){return s2(Dg(t),e)}function Dg(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){n.push.apply(n,Dg(s.props.children,l));return}Ct(s.type===qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Dg(s.props.children,l)),n.push(c)}),n}var jd="get",Pd="application/x-www-form-urlencoded";function Rf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function b2(t){return Rf(t)&&t.tagName.toLowerCase()==="button"}function x2(t){return Rf(t)&&t.tagName.toLowerCase()==="form"}function _2(t){return Rf(t)&&t.tagName.toLowerCase()==="input"}function w2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E2(t,e){return t.button===0&&(!e||e==="_self")&&!w2(t)}function Mg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function T2(t,e){let n=Mg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var bd=null;function S2(){if(bd===null)try{new FormData(document.createElement("form"),0),bd=!1}catch{bd=!0}return bd}var A2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tg(t){return t!=null&&!A2.has(t)?(Jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):t}function k2(t,e){let n,s,a,l,c;if(x2(t)){let d=t.getAttribute("action");s=d?sr(d,e):null,n=t.getAttribute("method")||jd,a=tg(t.getAttribute("enctype"))||Pd,l=new FormData(t)}else if(b2(t)||_2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(s=f?sr(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||jd,a=tg(t.getAttribute("formenctype"))||tg(d.getAttribute("enctype"))||Pd,l=new FormData(d,t),!S2()){let{name:p,type:v,value:x}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,x)}}else{if(Rf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jd,s=null,a=Pd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R2(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function C2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function I2(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await C2(l,n);return c.links?c.links():[]}return[]}));return j2(s.flat(1).filter(N2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Q_(t,e,n,s,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var v;return n[p].pathname!==f.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var x;let v=s.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function D2(t,e,{includeHydrateFallback:n}={}){return M2(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function M2(t){return[...new Set(t)]}function V2(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function j2(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(V2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function u1(){let t=D.useContext(Nl);return jy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function P2(){let t=D.useContext(kf);return jy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=D.createContext(void 0);Py.displayName="FrameworkContext";function h1(){let t=D.useContext(Py);return jy(t,"You must render this element inside a <HydratedRouter> element"),t}function O2(t,e){let n=D.useContext(Py),[s,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=e,w=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=B=>{B.forEach(X=>{c(X.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[t]),D.useEffect(()=>{if(s){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[s]);let A=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:$c(d,A),onBlur:$c(f,N),onMouseEnter:$c(p,A),onMouseLeave:$c(v,N),onTouchStart:$c(x,A)}]:[!1,w,{}]}function $c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function L2({page:t,...e}){let{router:n}=u1(),s=D.useMemo(()=>t1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(U2,{page:t,matches:s,...e}):null}function z2(t){let{manifest:e,routeModules:n}=h1(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return I2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function U2({page:t,matches:e,...n}){let s=Rs(),{manifest:a,routeModules:l}=h1(),{basename:c}=u1(),{loaderData:d,matches:f}=P2(),p=D.useMemo(()=>Q_(t,e,f,a,s,"data"),[t,e,f,a,s]),v=D.useMemo(()=>Q_(t,e,f,a,s,"assets"),[t,e,f,a,s]),x=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,O=!1;if(e.forEach(B=>{var q;let X=a.routes[B.route.id];!X||!X.hasLoader||(!p.some(ae=>ae.route.id===B.route.id)&&B.route.id in d&&((q=l[B.route.id])!=null&&q.shouldRevalidate)||X.hasClientLoader?O=!0:N.add(B.route.id))}),N.size===0)return[];let M=R2(t,c,"data");return O&&N.size>0&&M.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[M.pathname+M.search]},[c,d,s,a,p,e,t,l]),w=D.useMemo(()=>D2(v,a),[v,a]),A=z2(v);return D.createElement(D.Fragment,null,x.map(N=>D.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>D.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),A.map(({key:N,link:O})=>D.createElement("link",{key:N,nonce:n.nonce,...O})))}function B2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d1&&(window.__reactRouterVersion="7.10.1")}catch{}function F2({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=AN({window:s,v5Compat:!0}));let l=a.current,[c,d]=D.useState({action:l.action,location:l.location}),f=D.useCallback(p=>{n===!1?d(p):D.startTransition(()=>d(p))},[n]);return D.useLayoutEffect(()=>l.listen(f),[l,f]),D.createElement(y2,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:v,viewTransition:x,...w},A){let{basename:N,unstable_useTransitions:O}=D.useContext(Ci),M=typeof p=="string"&&f1.test(p),B,X=!1;if(typeof p=="string"&&M&&(B=p,d1))try{let j=new URL(window.location.href),P=p.startsWith("//")?new URL(j.protocol+p):new URL(p),U=sr(P.pathname,N);P.origin===j.origin&&U!=null?p=U+P.search+P.hash:X=!0}catch{Jn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=t2(p,{relative:a}),[ae,oe,ue]=O2(s,w),R=K2(p,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:x,unstable_useTransitions:O});function T(j){e&&e(j),j.defaultPrevented||R(j)}let C=D.createElement("a",{...w,...ue,href:B||q,onClick:X||l?e:T,ref:B2(A,oe),target:f,"data-discover":!M&&n==="render"?"true":void 0});return ae&&!M?D.createElement(D.Fragment,null,C,D.createElement(L2,{page:q})):C});Mt.displayName="Link";var q2=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...p},v){let x=Mu(c,{relative:p.relative}),w=Rs(),A=D.useContext(kf),{navigator:N,basename:O}=D.useContext(Ci),M=A!=null&&W2(x)&&d===!0,B=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,X=w.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(X=X.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&O&&(q=sr(q,O)||q);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=X===B||!a&&X.startsWith(B)&&X.charAt(ae)==="/",ue=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),R={isActive:oe,isPending:ue,isTransitioning:M},T=oe?e:void 0,C;typeof s=="function"?C=s(R):C=[s,oe?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(R):l;return D.createElement(Mt,{...p,"aria-current":T,className:C,ref:v,style:j,to:c,viewTransition:d},typeof f=="function"?f(R):f)});q2.displayName="NavLink";var H2=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=jd,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:x,...w},A)=>{let{unstable_useTransitions:N}=D.useContext(Ci),O=Q2(),M=Z2(d,{relative:p}),B=c.toLowerCase()==="get"?"get":"post",X=typeof d=="string"&&f1.test(d),q=ae=>{if(f&&f(ae),ae.defaultPrevented)return;ae.preventDefault();let oe=ae.nativeEvent.submitter,ue=(oe==null?void 0:oe.getAttribute("formmethod"))||c,R=()=>O(oe||ae.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:x});N&&n!==!1?D.startTransition(()=>R()):R()};return D.createElement("form",{ref:A,method:B,action:M,onSubmit:s?f:q,...w,"data-discover":!X&&t==="render"?"true":void 0})});H2.displayName="Form";function G2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(t){let e=D.useContext(Nl);return Ct(e,G2(t)),e}function K2(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let f=uo(),p=Rs(),v=Mu(t,{relative:l});return D.useCallback(x=>{if(E2(x,e)){x.preventDefault();let w=n!==void 0?n:pu(p)===pu(v),A=()=>f(t,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c});d?D.startTransition(()=>A()):A()}},[p,f,v,n,s,e,t,a,l,c,d])}function $2(t){Jn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Mg(t)),n=D.useRef(!1),s=Rs(),a=D.useMemo(()=>T2(s.search,n.current?null:e.current),[s.search]),l=uo(),c=D.useCallback((d,f)=>{const p=Mg(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+p,f)},[l,a]);return[a,c]}var X2=0,Y2=()=>`__${String(++X2)}__`;function Q2(){let{router:t}=m1("useSubmit"),{basename:e}=D.useContext(Ci),n=f2(),s=t.fetch,a=t.navigate;return D.useCallback(async(l,c={})=>{let{action:d,method:f,encType:p,formData:v,body:x}=k2(l,e);if(c.navigate===!1){let w=c.fetcherKey||Y2();await s(w,n,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:x,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function Z2(t,{relative:e}={}){let{basename:n}=D.useContext(Ci),s=D.useContext(Yi);Ct(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Mu(t||".",{relative:e})},c=Rs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:tr([n,l.pathname])),pu(l)}function W2(t,{relative:e}={}){let n=D.useContext(r1);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=m1("useViewTransitionState"),a=Mu(t,{relative:e});if(!n.isTransitioning)return!1;let l=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wd(a.pathname,c)!=null||Wd(a.pathname,l)!=null}const Oy=D.createContext({});function Ly(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const zy=typeof window<"u",p1=zy?D.useLayoutEffect:D.useEffect,Cf=D.createContext(null);function Uy(t,e){t.indexOf(e)===-1&&t.push(e)}function By(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rr=(t,e,n)=>n>e?e:n<t?t:n;let Fy=()=>{};const ar={},g1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function y1(t){return typeof t=="object"&&t!==null}const v1=t=>/^0[^.\s]+$/u.test(t);function qy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ri=t=>t,J2=(t,e)=>n=>e(t(n)),Vu=(...t)=>t.reduce(J2),gu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Hy{constructor(){this.subscriptions=[]}add(e){return Uy(this.subscriptions,e),()=>By(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vs=t=>t*1e3,ki=t=>t/1e3;function b1(t,e){return e?t*(1e3/e):0}const x1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eI=1e-7,tI=12;function nI(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=x1(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>eI&&++d<tI);return c}function ju(t,e,n,s){if(t===e&&n===s)return Ri;const a=l=>nI(l,0,1,t,n);return l=>l===0||l===1?l:x1(a(l),e,s)}const _1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,w1=t=>e=>1-t(1-e),E1=ju(.33,1.53,.69,.99),Gy=w1(E1),T1=_1(Gy),S1=t=>(t*=2)<1?.5*Gy(t):.5*(2-Math.pow(2,-10*(t-1))),Ky=t=>1-Math.sin(Math.acos(t)),A1=w1(Ky),k1=_1(Ky),iI=ju(.42,0,1,1),sI=ju(0,0,.58,1),R1=ju(.42,0,.58,1),rI=t=>Array.isArray(t)&&typeof t[0]!="number",C1=t=>Array.isArray(t)&&typeof t[0]=="number",aI={linear:Ri,easeIn:iI,easeInOut:R1,easeOut:sI,circIn:Ky,circInOut:k1,circOut:A1,backIn:Gy,backInOut:T1,backOut:E1,anticipate:S1},oI=t=>typeof t=="string",Z_=t=>{if(C1(t)){Fy(t.length===4);const[e,n,s,a]=t;return ju(e,n,s,a)}else if(oI(t))return aI[t];return t},xd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lI(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,x=!1,w=!1)=>{const N=w&&a?n:s;return x&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const cI=40;function N1(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=xd.reduce((q,ae)=>(q[ae]=lI(l),q),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:v,update:x,preRender:w,render:A,postRender:N}=c,O=()=>{const q=ar.useManualTiming?a.timestamp:performance.now();n=!1,ar.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,cI),1)),a.timestamp=q,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),v.process(a),x.process(a),w.process(a),A.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},M=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:xd.reduce((q,ae)=>{const oe=c[ae];return q[ae]=(ue,R=!1,T=!1)=>(n||M(),oe.schedule(ue,R,T)),q},{}),cancel:q=>{for(let ae=0;ae<xd.length;ae++)c[xd[ae]].cancel(q)},state:a,steps:c}}const{schedule:Rt,cancel:na,state:Sn,steps:ng}=N1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ri,!0);let Od;function uI(){Od=void 0}const Wn={now:()=>(Od===void 0&&Wn.set(Sn.isProcessing||ar.useManualTiming?Sn.timestamp:performance.now()),Od),set:t=>{Od=t,queueMicrotask(uI)}},I1=t=>e=>typeof e=="string"&&e.startsWith(t),D1=I1("--"),hI=I1("var(--"),$y=t=>hI(t)?dI.test(t.split("/*")[0].trim()):!1,dI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yu={...Dl,transform:t=>rr(0,1,t)},_d={...Dl,default:1},su=t=>Math.round(t*1e5)/1e5,Xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fI(t){return t==null}const mI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yy=(t,e)=>n=>!!(typeof n=="string"&&mI.test(n)&&n.startsWith(t)||e&&!fI(n)&&Object.prototype.hasOwnProperty.call(n,e)),M1=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Xy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},pI=t=>rr(0,255,t),ig={...Dl,transform:t=>Math.round(pI(t))},Qa={test:Yy("rgb","red"),parse:M1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ig.transform(t)+", "+ig.transform(e)+", "+ig.transform(n)+", "+su(yu.transform(s))+")"};function gI(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Vg={test:Yy("#"),parse:gI,transform:Qa.transform},Pu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gr=Pu("deg"),bs=Pu("%"),Me=Pu("px"),yI=Pu("vh"),vI=Pu("vw"),W_={...bs,parse:t=>bs.parse(t)/100,transform:t=>bs.transform(t*100)},cl={test:Yy("hsl","hue"),parse:M1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+bs.transform(su(e))+", "+bs.transform(su(n))+", "+su(yu.transform(s))+")"},tn={test:t=>Qa.test(t)||Vg.test(t)||cl.test(t),parse:t=>Qa.test(t)?Qa.parse(t):cl.test(t)?cl.parse(t):Vg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qa.transform(t):cl.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},bI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xy))==null?void 0:e.length)||0)+(((n=t.match(bI))==null?void 0:n.length)||0)>0}const V1="number",j1="color",_I="var",wI="var(",J_="${}",EI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(EI,f=>(tn.test(f)?(s.color.push(l),a.push(j1),n.push(tn.parse(f))):f.startsWith(wI)?(s.var.push(l),a.push(_I),n.push(f)):(s.number.push(l),a.push(V1),n.push(parseFloat(f))),++l,J_)).split(J_);return{values:n,split:d,indexes:s,types:a}}function P1(t){return vu(t).values}function O1(t){const{split:e,types:n}=vu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===V1?l+=su(a[c]):d===j1?l+=tn.transform(a[c]):l+=a[c]}return l}}const TI=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function SI(t){const e=P1(t);return O1(t)(e.map(TI))}const ia={test:xI,parse:P1,createTransformer:O1,getAnimatableNone:SI};function sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AI({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=sg(f,d,t+1/3),l=sg(f,d,t),c=sg(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Jd(t,e){return n=>n>0?e:t}const Vt=(t,e,n)=>t+(e-t)*n,rg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},kI=[Vg,Qa,cl],RI=t=>kI.find(e=>e.test(t));function ew(t){const e=RI(t);if(!e)return!1;let n=e.parse(t);return e===cl&&(n=AI(n)),n}const tw=(t,e)=>{const n=ew(t),s=ew(e);if(!n||!s)return Jd(t,e);const a={...n};return l=>(a.red=rg(n.red,s.red,l),a.green=rg(n.green,s.green,l),a.blue=rg(n.blue,s.blue,l),a.alpha=Vt(n.alpha,s.alpha,l),Qa.transform(a))},jg=new Set(["none","hidden"]);function CI(t,e){return jg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function NI(t,e){return n=>Vt(t,e,n)}function Qy(t){return typeof t=="number"?NI:typeof t=="string"?$y(t)?Jd:tn.test(t)?tw:MI:Array.isArray(t)?L1:typeof t=="object"?tn.test(t)?tw:II:Jd}function L1(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Qy(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function II(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Qy(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function DI(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const MI=(t,e)=>{const n=ia.createTransformer(e),s=vu(t),a=vu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?jg.has(t)&&!a.values.length||jg.has(e)&&!s.values.length?CI(t,e):Vu(L1(DI(s,a),a.values),n):Jd(t,e)};function z1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):Qy(t)(t,e)}const VI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>na(e),now:()=>Sn.isProcessing?Sn.timestamp:Wn.now()}},U1=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ef=2e4;function Zy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ef;)e+=n,s=t.next(e);return e>=ef?1/0:e}function jI(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Zy(s),ef);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ki(a)}}const PI=5;function B1(t,e,n){const s=Math.max(e-PI,0);return b1(n-t(s),e-s)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ag=.001;function OI({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:s=Ut.mass}){let a,l,c=1-e;c=rr(Ut.minDamping,Ut.maxDamping,c),t=rr(Ut.minDuration,Ut.maxDuration,ki(t)),c<1?(a=p=>{const v=p*c,x=v*t,w=v-n,A=Pg(p,c),N=Math.exp(-x);return ag-w/A*N},l=p=>{const x=p*c*t,w=x*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-x),O=Pg(Math.pow(p,2),c);return(-a(p)+ag>0?-1:1)*((w-A)*N)/O}):(a=p=>{const v=Math.exp(-p*t),x=(p-n)*t+1;return-ag+v*x},l=p=>{const v=Math.exp(-p*t),x=(n-p)*(t*t);return v*x});const d=5/t,f=zI(a,l,d);if(t=vs(t),isNaN(f))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const LI=12;function zI(t,e,n){let s=n;for(let a=1;a<LI;a++)s=s-t(s)/e(s);return s}function Pg(t,e){return t*Math.sqrt(1-e*e)}const UI=["duration","bounce"],BI=["stiffness","damping","mass"];function nw(t,e){return e.some(n=>t[n]!==void 0)}function FI(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!nw(t,BI)&&nw(t,UI))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*rr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ut.mass,stiffness:a,damping:l}}else{const n=OI(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function tf(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:v,duration:x,velocity:w,isResolvedFromDuration:A}=FI({...n,velocity:-ki(n.velocity||0)}),N=w||0,O=p/(2*Math.sqrt(f*v)),M=c-l,B=ki(Math.sqrt(f/v)),X=Math.abs(M)<5;s||(s=X?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=X?Ut.restDelta.granular:Ut.restDelta.default);let q;if(O<1){const oe=Pg(B,O);q=ue=>{const R=Math.exp(-O*B*ue);return c-R*((N+O*B*M)/oe*Math.sin(oe*ue)+M*Math.cos(oe*ue))}}else if(O===1)q=oe=>c-Math.exp(-B*oe)*(M+(N+B*M)*oe);else{const oe=B*Math.sqrt(O*O-1);q=ue=>{const R=Math.exp(-O*B*ue),T=Math.min(oe*ue,300);return c-R*((N+O*B*M)*Math.sinh(T)+oe*M*Math.cosh(T))/oe}}const ae={calculatedDuration:A&&x||null,next:oe=>{const ue=q(oe);if(A)d.done=oe>=x;else{let R=oe===0?N:0;O<1&&(R=oe===0?vs(N):B1(q,oe,ue));const T=Math.abs(R)<=s,C=Math.abs(c-ue)<=a;d.done=T&&C}return d.value=d.done?c:ue,d},toString:()=>{const oe=Math.min(Zy(ae),ef),ue=U1(R=>ae.next(oe*R).value,oe,30);return oe+"ms "+ue},toTransition:()=>{}};return ae}tf.applyToOptions=t=>{const e=jI(t,100,tf);return t.ease=e.ease,t.duration=vs(e.duration),t.type="keyframes",t};function Og({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:v}){const x=t[0],w={done:!1,value:x},A=T=>d!==void 0&&T<d||f!==void 0&&T>f,N=T=>d===void 0?f:f===void 0||Math.abs(d-T)<Math.abs(f-T)?d:f;let O=n*e;const M=x+O,B=c===void 0?M:c(M);B!==M&&(O=B-x);const X=T=>-O*Math.exp(-T/s),q=T=>B+X(T),ae=T=>{const C=X(T),j=q(T);w.done=Math.abs(C)<=p,w.value=w.done?B:j};let oe,ue;const R=T=>{A(w.value)&&(oe=T,ue=tf({keyframes:[w.value,N(w.value)],velocity:B1(q,T,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return R(0),{calculatedDuration:null,next:T=>{let C=!1;return!ue&&oe===void 0&&(C=!0,ae(T),R(T)),oe!==void 0&&T>=oe?ue.next(T-oe):(!C&&ae(T),w)}}}function qI(t,e,n){const s=[],a=n||ar.mix||z1,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Ri:e;d=Vu(f,d)}s.push(d)}return s}function HI(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Fy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=qI(e,s,a),f=d.length,p=v=>{if(c&&v<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const w=gu(t[x],t[x+1],v);return d[x](w)};return n?v=>p(rr(t[0],t[l-1],v)):p}function GI(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=gu(0,e,s);t.push(Vt(n,1,a))}}function KI(t){const e=[0];return GI(e,t.length-1),e}function $I(t,e){return t.map(n=>n*e)}function XI(t,e){return t.map(()=>e||R1).splice(0,t.length-1)}function ru({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=rI(s)?s.map(Z_):Z_(s),l={done:!1,value:e[0]},c=$I(n&&n.length===e.length?n:KI(e),t),d=HI(c,e,{ease:Array.isArray(a)?a:XI(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const YI=t=>t!==null;function Wy(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(YI),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const QI={decay:Og,inertia:Og,tween:ru,keyframes:ru,spring:tf};function F1(t){typeof t.type=="string"&&(t.type=QI[t.type])}class Jy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ZI=t=>t/100;class e0 extends Jy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;F1(e);const{type:n=ru,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||ru;f!==ru&&typeof d[0]!="number"&&(this.mixKeyframes=Vu(ZI,z1(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Zy(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:x,repeatType:w,repeatDelay:A,type:N,onUpdate:O,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,ae=s;if(x){const T=Math.min(this.currentTime,a)/d;let C=Math.floor(T),j=T%1;!j&&T>=1&&(j=1),j===1&&C--,C=Math.min(C,x+1),!!(C%2)&&(w==="reverse"?(j=1-j,A&&(j-=A/d)):w==="mirror"&&(ae=c)),q=rr(0,1,j)*d}const oe=X?{done:!1,value:v[0]}:ae.next(q);l&&(oe.value=l(oe.value));let{done:ue}=oe;!X&&f!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return R&&N!==Og&&(oe.value=Wy(v,this.options,M,this.speed)),O&&O(oe.value),R&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return ki(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ki(e)}get time(){return ki(this.currentTime)}set time(e){var n;e=vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ki(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=VI,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function WI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Za=t=>t*180/Math.PI,Lg=t=>{const e=Za(Math.atan2(t[1],t[0]));return zg(e)},JI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Lg,rotateZ:Lg,skewX:t=>Za(Math.atan(t[1])),skewY:t=>Za(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zg=t=>(t=t%360,t<0&&(t+=360),t),iw=Lg,sw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sw,scaleY:rw,scale:t=>(sw(t)+rw(t))/2,rotateX:t=>zg(Za(Math.atan2(t[6],t[5]))),rotateY:t=>zg(Za(Math.atan2(-t[2],t[0]))),rotateZ:iw,rotate:iw,skewX:t=>Za(Math.atan(t[4])),skewY:t=>Za(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ug(t){return t.includes("scale")?1:0}function Bg(t,e){if(!t||t==="none")return Ug(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=eD,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JI,a=d}if(!a)return Ug(e);const l=s[e],c=a[1].split(",").map(nD);return typeof l=="function"?l(c):c[l]}const tD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Bg(n,e)};function nD(t){return parseFloat(t.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(Ml),aw=t=>t===Dl||t===Me,iD=new Set(["x","y","z"]),sD=Ml.filter(t=>!iD.has(t));function rD(t){const e=[];return sD.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bg(e,"x"),y:(t,{transform:e})=>Bg(e,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const to=new Set;let Fg=!1,qg=!1,Hg=!1;function q1(){if(qg){const t=Array.from(to).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=rD(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}qg=!1,Fg=!1,to.forEach(t=>t.complete(Hg)),to.clear()}function H1(){to.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qg=!0)})}function aD(){Hg=!0,H1(),q1(),Hg=!1}class t0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(to.add(this),Fg||(Fg=!0,Rt.read(H1),Rt.resolveKeyframes(q1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}WI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),to.delete(this)}cancel(){this.state==="scheduled"&&(to.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oD=t=>t.startsWith("--");function lD(t,e,n){oD(e)?t.style.setProperty(e,n):t.style[e]=n}const cD=qy(()=>window.ScrollTimeline!==void 0),uD={};function hD(t,e){const n=qy(t);return()=>uD[e]??n()}const G1=hD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zc([0,.65,.55,1]),circOut:Zc([.55,0,1,.45]),backIn:Zc([.31,.01,.66,-.59]),backOut:Zc([.33,1.53,.69,.99])};function K1(t,e){if(t)return typeof t=="function"?G1()?U1(t,e):"ease-out":C1(t)?Zc(t):Array.isArray(t)?t.map(n=>K1(n,e)||ow.easeOut):ow[t]}function dD(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const v={[e]:n};f&&(v.offset=f);const x=K1(d,a);Array.isArray(x)&&(v.easing=x);const w={delay:s,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function $1(t){return typeof t=="function"&&"applyToOptions"in t}function fD({type:t,...e}){return $1(t)&&G1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mD extends Jy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Fy(typeof e.type!="string");const p=fD(e);this.animation=dD(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Wy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):lD(n,s,v),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ki(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ki(e)}get time(){return ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&cD()?(this.animation.timeline=e,Ri):n(this)}}const X1={anticipate:S1,backInOut:T1,circInOut:k1};function pD(t){return t in X1}function gD(t){typeof t.ease=="string"&&pD(t.ease)&&(t.ease=X1[t.ease])}const lw=10;class yD extends mD{constructor(e){gD(e),F1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new e0({...c,autoplay:!1}),f=vs(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-lw).value,d.sample(f).value,lw),d.stop()}}const cw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ia.test(t)||t==="0")&&!t.startsWith("url("));function vD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bD(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=cw(a,e),d=cw(l,e);return!c||!d?!1:vD(t)||(n==="spring"||$1(n))&&s}function Gg(t){t.duration=0,t.type="keyframes"}const xD=new Set(["opacity","clipPath","filter","transform"]),_D=qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wD(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return _D()&&n&&xD.has(n)&&(n!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const ED=40;class TD extends Jy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:v,...x}){var N;super(),this.stop=()=>{var O,M;this._animation&&(this._animation.stop(),(O=this.stopTimeline)==null||O.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=Wn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:v,...x},A=(v==null?void 0:v.KeyframeResolver)||t0;this.keyframeResolver=new A(d,(O,M,B)=>this.onKeyframesResolved(O,M,w,!B),f,p,v),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Wn.now(),bD(e,l,c,d)||((ar.instantAnimations||!f)&&(v==null||v(Wy(e,s,n))),e[0]=e[e.length-1],Gg(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ED?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&wD(w)?new yD({...w,element:w.motionValue.owner.current}):new e0(w);A.finished.then(()=>this.notifyFinished()).catch(Ri),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),aD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const SD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AD(t){const e=SD.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Y1(t,e,n=1){const[s,a]=AD(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return g1(c)?parseFloat(c):c}return $y(a)?Y1(a,e,n+1):a}function n0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Q1=new Set(["width","height","top","left","right","bottom",...Ml]),kD={test:t=>t==="auto",parse:t=>t},Z1=t=>e=>e.test(t),W1=[Dl,Me,bs,Gr,vI,yI,kD],uw=t=>W1.find(Z1(t));function RD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||v1(t):!0}const CD=new Set(["brightness","contrast","saturate","opacity"]);function ND(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Xy)||[];if(!s)return t;const a=n.replace(s,"");let l=CD.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const ID=/\b([a-z-]*)\(.*?\)/gu,Kg={...ia,getAnimatableNone:t=>{const e=t.match(ID);return e?e.map(ND).join(" "):t}},hw={...Dl,transform:Math.round},DD={rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:_d,scaleX:_d,scaleY:_d,scaleZ:_d,skew:Gr,skewX:Gr,skewY:Gr,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:yu,originX:W_,originY:W_,originZ:Me},i0={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...DD,zIndex:hw,fillOpacity:yu,strokeOpacity:yu,numOctaves:hw},MD={...i0,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Kg,WebkitFilter:Kg},J1=t=>MD[t];function eS(t,e){let n=J1(t);return n!==Kg&&(n=ia),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VD=new Set(["auto","none","0"]);function jD(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!VD.has(l)&&vu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=eS(n,a)}class PD extends t0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),$y(p))){const v=Y1(p,n.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Q1.has(s)||e.length!==2)return;const[a,l]=e,c=uw(a),d=uw(l);if(c!==d)if(aw(c)&&aw(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else eo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||RD(e[a]))&&s.push(a);s.length&&jD(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function OD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const tS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nS(t){return y1(t)&&"offsetHeight"in t}const dw=30,LD=t=>!isNaN(parseFloat(t));class zD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hy);const s=this.events[e].add(n);return e==="change"?()=>{s(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dw);return b1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new zD(t,e)}const{schedule:s0}=N1(queueMicrotask,!1),Hi={x:!1,y:!1};function iS(){return Hi.x||Hi.y}function UD(t){return t==="x"||t==="y"?Hi[t]?null:(Hi[t]=!0,()=>{Hi[t]=!1}):Hi.x||Hi.y?null:(Hi.x=Hi.y=!0,()=>{Hi.x=Hi.y=!1})}function sS(t,e){const n=OD(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function fw(t){return!(t.pointerType==="touch"||iS())}function BD(t,e,n={}){const[s,a,l]=sS(t,n),c=d=>{if(!fw(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const v=x=>{fw(x)&&(p(x),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const rS=(t,e)=>e?t===e?!0:rS(t,e.parentElement):!1,r0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qD(t){return FD.has(t.tagName)||t.tabIndex!==-1}const Ld=new WeakSet;function mw(t){return e=>{e.key==="Enter"&&t(e)}}function og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const HD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=mw(()=>{if(Ld.has(n))return;og(n,"down");const a=mw(()=>{og(n,"up")}),l=()=>og(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function pw(t){return r0(t)&&!iS()}function GD(t,e,n={}){const[s,a,l]=sS(t,n),c=d=>{const f=d.currentTarget;if(!pw(d))return;Ld.add(f);const p=e(f,d),v=(A,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",w),Ld.has(f)&&Ld.delete(f),pw(A)&&typeof p=="function"&&p(A,{success:N})},x=A=>{v(A,f===window||f===document||n.useGlobalTarget||rS(f,A.target))},w=A=>{v(A,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",w,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),nS(d)&&(d.addEventListener("focus",p=>HD(p,a)),!qD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function aS(t){return y1(t)&&"ownerSVGElement"in t}function KD(t){return aS(t)&&t.tagName==="svg"}const Mn=t=>!!(t&&t.getVelocity),$D=[...W1,tn,ia],XD=t=>$D.find(Z1(t)),a0=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YD(...t){return e=>{let n=!1;const s=t.map(a=>{const l=gw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():gw(t[a],null)}}}}function QD(...t){return D.useCallback(YD(...t),t)}class ZD extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=nS(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WD({children:t,isPresent:e,anchorX:n,root:s}){const a=D.useId(),l=D.useRef(null),c=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=D.useContext(a0),f=QD(l,t==null?void 0:t.ref);return D.useInsertionEffect(()=>{const{width:p,height:v,top:x,left:w,right:A}=c.current;if(e||!l.current||!p||!v)return;const N=n==="left"?`left: ${w}`:`right: ${A}`;l.current.dataset.motionPopId=a;const O=document.createElement("style");d&&(O.nonce=d);const M=s??document.head;return M.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${x}px !important;
          }
        `),()=>{M.contains(O)&&M.removeChild(O)}},[e]),y.jsx(ZD,{isPresent:e,childRef:l,sizeRef:c,children:D.cloneElement(t,{ref:f})})}const JD=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const p=Ly(eM),v=D.useId();let x=!0,w=D.useMemo(()=>(x=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const N of p.values())if(!N)return;s&&s()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,s]);return l&&x&&(w={...w}),D.useMemo(()=>{p.forEach((A,N)=>p.set(N,!1))},[n]),D.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(WD,{isPresent:n,anchorX:d,root:f,children:t})),y.jsx(Cf.Provider,{value:w,children:t})};function eM(){return new Map}function oS(t=!0){const e=D.useContext(Cf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const wd=t=>t.key||"";function yw(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const o0=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[p,v]=oS(c),x=D.useMemo(()=>yw(t),[t]),w=c&&!p?[]:x.map(wd),A=D.useRef(!0),N=D.useRef(x),O=Ly(()=>new Map),[M,B]=D.useState(x),[X,q]=D.useState(x);p1(()=>{A.current=!1,N.current=x;for(let ue=0;ue<X.length;ue++){const R=wd(X[ue]);w.includes(R)?O.delete(R):O.get(R)!==!0&&O.set(R,!1)}},[X,w.length,w.join("-")]);const ae=[];if(x!==M){let ue=[...x];for(let R=0;R<X.length;R++){const T=X[R],C=wd(T);w.includes(C)||(ue.splice(R,0,T),ae.push(T))}return l==="wait"&&ae.length&&(ue=ae),q(yw(ue)),B(x),null}const{forceRender:oe}=D.useContext(Oy);return y.jsx(y.Fragment,{children:X.map(ue=>{const R=wd(ue),T=c&&!p?!1:x===X||w.includes(R),C=()=>{if(O.has(R))O.set(R,!0);else return;let j=!0;O.forEach(P=>{P||(j=!1)}),j&&(oe==null||oe(),q(N.current),c&&(v==null||v()),s&&s())};return y.jsx(JD,{isPresent:T,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:T?void 0:C,anchorX:d,children:ue},R)})})},lS=D.createContext({strict:!1}),vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in vw)wl[t]={isEnabled:e=>vw[t].some(n=>!!e[n])};function tM(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const nM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nM.has(t)}let cS=t=>!nf(t);function iM(t){typeof t=="function"&&(cS=e=>e.startsWith("on")?!nf(e):t(e))}try{iM(require("@emotion/is-prop-valid").default)}catch{}function sM(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(cS(a)||n===!0&&nf(a)||!e&&!nf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Nf=D.createContext({});function If(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bu(t){return typeof t=="string"||Array.isArray(t)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c0=["initial",...l0];function Df(t){return If(t.animate)||c0.some(e=>bu(t[e]))}function uS(t){return!!(Df(t)||t.variants)}function rM(t,e){if(Df(t)){const{initial:n,animate:s}=t;return{initial:n===!1||bu(n)?n:void 0,animate:bu(s)?s:void 0}}return t.inherit!==!1?e:{}}function aM(t){const{initial:e,animate:n}=rM(t,D.useContext(Nf));return D.useMemo(()=>({initial:e,animate:n}),[bw(e),bw(n)])}function bw(t){return Array.isArray(t)?t.join(" "):t}function xw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=xw(t,e.target.x),s=xw(t,e.target.y);return`${n}% ${s}%`}},oM={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ia.parse(t);if(a.length>5)return s;const l=ia.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const p=Vt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},$g={borderRadius:{...Xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xc,borderTopRightRadius:Xc,borderBottomLeftRadius:Xc,borderBottomRightRadius:Xc,boxShadow:oM};function hS(t,{layout:e,layoutId:n}){return Vl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$g[t]||t==="opacity")}const lM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cM=Ml.length;function uM(t,e,n){let s="",a=!0;for(let l=0;l<cM;l++){const c=Ml[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=tS(d,i0[c]);if(!f){a=!1;const v=lM[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function u0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Vl.has(f)){c=!0;continue}else if(D1(f)){a[f]=p;continue}else{const v=tS(p,i0[f]);f.startsWith("origin")?(d=!0,l[f]=v):s[f]=v}}if(e.transform||(c||n?s.transform=uM(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${f} ${p} ${v}`}}const h0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dS(t,e,n){for(const s in e)!Mn(e[s])&&!hS(s,n)&&(t[s]=e[s])}function hM({transformTemplate:t},e){return D.useMemo(()=>{const n=h0();return u0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dM(t,e){const n=t.style||{},s={};return dS(s,n,t),Object.assign(s,hM(t,e)),s}function fM(t,e){const n={},s=dM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const mM={offset:"stroke-dashoffset",array:"stroke-dasharray"},pM={offset:"strokeDashoffset",array:"strokeDasharray"};function gM(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?mM:pM;t[l.offset]=Me.transform(-s);const c=Me.transform(e),d=Me.transform(n);t[l.array]=`${c} ${d}`}function fS(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,p,v){if(u0(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:w}=t;x.transform&&(w.transform=x.transform,delete x.transform),(w.transform||x.transformOrigin)&&(w.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),w.transform&&(w.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),a!==void 0&&gM(x,a,l,c,!1)}const mS=()=>({...h0(),attrs:{}}),pS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yM(t,e,n,s){const a=D.useMemo(()=>{const l=mS();return fS(l,e,pS(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};dS(l,t.style,t),a.style={...l,...a.style}}return a}const vM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d0(t){return typeof t!="string"||t.includes("-")?!1:!!(vM.indexOf(t)>-1||/[A-Z]/u.test(t))}function bM(t,e,n,{latestValues:s},a,l=!1){const d=(d0(t)?yM:fM)(e,s,a,t),f=sM(e,typeof t=="string",l),p=t!==D.Fragment?{...f,...d,ref:n}:{},{children:v}=e,x=D.useMemo(()=>Mn(v)?v.get():v,[v]);return D.createElement(t,{...p,children:x})}function _w(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function f0(t,e,n,s){if(typeof e=="function"){const[a,l]=_w(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=_w(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function zd(t){return Mn(t)?t.get():t}function xM({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:_M(n,s,a,t),renderState:e()}}function _M(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=zd(l[w]);let{initial:c,animate:d}=t;const f=Df(t),p=uS(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const x=v?d:c;if(x&&typeof x!="boolean"&&!If(x)){const w=Array.isArray(x)?x:[x];for(let A=0;A<w.length;A++){const N=f0(t,w[A]);if(N){const{transitionEnd:O,transition:M,...B}=N;for(const X in B){let q=B[X];if(Array.isArray(q)){const ae=v?q.length-1:0;q=q[ae]}q!==null&&(a[X]=q)}for(const X in O)a[X]=O[X]}}}return a}const gS=t=>(e,n)=>{const s=D.useContext(Nf),a=D.useContext(Cf),l=()=>xM(t,e,s,a);return n?l():Ly(l)};function m0(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Mn(s[c])||e.style&&Mn(e.style[c])||hS(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const wM=gS({scrapeMotionValuesFromProps:m0,createRenderState:h0});function yS(t,e,n){const s=m0(t,e,n);for(const a in t)if(Mn(t[a])||Mn(e[a])){const l=Ml.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const EM=gS({scrapeMotionValuesFromProps:yS,createRenderState:mS}),TM=Symbol.for("motionComponentSymbol");function ul(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SM(t,e,n){return D.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ul(n)&&(n.current=s))},[e])}const p0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AM="framerAppearId",vS="data-"+p0(AM),bS=D.createContext({});function kM(t,e,n,s,a){var O,M;const{visualElement:l}=D.useContext(Nf),c=D.useContext(lS),d=D.useContext(Cf),f=D.useContext(a0).reducedMotion,p=D.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const v=p.current,x=D.useContext(bS);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&RM(p.current,n,a,x);const w=D.useRef(!1);D.useInsertionEffect(()=>{v&&w.current&&v.update(n,d)});const A=n[vS],N=D.useRef(!!A&&!((O=window.MotionHandoffIsComplete)!=null&&O.call(window,A))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,A)));return p1(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),D.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,A)}),N.current=!1),v.enteringChildren=void 0)}),v}function RM(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&ul(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:f,layoutRoot:p})}function xS(t){if(t)return t.options.allowProjection!==!1?t.projection:xS(t.parent)}function lg(t,{forwardMotionProps:e=!1}={},n,s){n&&tM(n);const a=d0(t)?EM:wM;function l(d,f){let p;const v={...D.useContext(a0),...d,layoutId:CM(d)},{isStatic:x}=v,w=aM(d),A=a(d,x);if(!x&&zy){NM();const N=IM(v);p=N.MeasureLayout,w.visualElement=kM(t,A,v,s,N.ProjectionNode)}return y.jsxs(Nf.Provider,{value:w,children:[p&&w.visualElement?y.jsx(p,{visualElement:w.visualElement,...v}):null,bM(t,d,SM(A,w.visualElement,f),A,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=D.forwardRef(l);return c[TM]=t,c}function CM({layoutId:t}){const e=D.useContext(Oy).id;return e&&t!==void 0?e+"-"+t:t}function NM(t,e){D.useContext(lS).strict}function IM(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function DM(t,e){if(typeof Proxy>"u")return lg;const n=new Map,s=(l,c)=>lg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,lg(c,void 0,t,e)),n.get(c))})}function _S({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function MM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function cg(t){return t===void 0||t===1}function Xg({scale:t,scaleX:e,scaleY:n}){return!cg(t)||!cg(e)||!cg(n)}function Xa(t){return Xg(t)||wS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wS(t){return ww(t.x)||ww(t.y)}function ww(t){return t&&t!=="0%"}function sf(t,e,n){const s=t-n,a=e*s;return n+a}function Ew(t,e,n,s,a){return a!==void 0&&(t=sf(t,a,s)),sf(t,n,s)+e}function Yg(t,e=0,n=1,s,a){t.min=Ew(t.min,e,n,s,a),t.max=Ew(t.max,e,n,s,a)}function ES(t,{x:e,y:n}){Yg(t.x,e.translate,e.scale,e.originPoint),Yg(t.y,n.translate,n.scale,n.originPoint)}const Tw=.999999999999,Sw=1.0000000000001;function jM(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&dl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,ES(t,c)),s&&Xa(l.latestValues)&&dl(t,l.latestValues))}e.x<Sw&&e.x>Tw&&(e.x=1),e.y<Sw&&e.y>Tw&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function Aw(t,e,n,s,a=.5){const l=Vt(t.min,t.max,a);Yg(t,e,n,l,s)}function dl(t,e){Aw(t.x,e.x,e.scaleX,e.scale,e.originX),Aw(t.y,e.y,e.scaleY,e.scale,e.originY)}function TS(t,e){return _S(VM(t.getBoundingClientRect(),e))}function PM(t,e,n){const s=TS(t,n),{scroll:a}=e;return a&&(hl(s.x,a.offset.x),hl(s.y,a.offset.y)),s}const kw=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:kw(),y:kw()}),Rw=()=>({min:0,max:0}),ln=()=>({x:Rw(),y:Rw()}),Qg={current:null},SS={current:!1};function OM(){if(SS.current=!0,!!zy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qg.current=t.matches;t.addEventListener("change",e),e()}else Qg.current=!1}const LM=new WeakMap;function zM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Mn(a))t.addValue(s,a);else if(Mn(l))t.addValue(s,_l(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,_l(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UM{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=t0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Wn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Rt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Df(n),this.isVariantNode=uS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in x){const A=x[w];f[w]!==void 0&&Mn(A)&&A.set(f[w])}}mount(e){var n;this.current=e,LM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),SS.current||OM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),na(this.notifyUpdate),na(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Cw.length;s++){const a=Cw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=zM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=_l(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(g1(s)||v1(s))?s=parseFloat(s):!XD(s)&&ia.test(n)&&(s=eS(e,n)),this.setBaseTarget(e,Mn(s)?s.get():s)),Mn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=f0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Mn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){s0.render(this.render)}}class AS extends UM{constructor(){super(...arguments),this.KeyframeResolver=PD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kS(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function BM(t){return window.getComputedStyle(t)}class FM extends AS{constructor(){super(...arguments),this.type="html",this.renderInstance=kS}readValueFromInstance(e,n){var s;if(Vl.has(n))return(s=this.projection)!=null&&s.isProjecting?Ug(n):tD(e,n);{const a=BM(e),l=(D1(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TS(e,n)}build(e,n,s){u0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return m0(e,n,s)}}const RS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qM(t,e,n,s){kS(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(RS.has(a)?a:p0(a),e.attrs[a])}class HM extends AS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vl.has(n)){const s=J1(n);return s&&s.default||0}return n=RS.has(n)?n:p0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return yS(e,n,s)}build(e,n,s){fS(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){qM(e,n,s,a)}mount(e){this.isSVGTag=pS(e.tagName),super.mount(e)}}const GM=(t,e)=>d0(t)?new HM(e):new FM(e,{allowProjection:t!==D.Fragment});function pl(t,e,n){const s=t.getProps();return f0(s,e,n!==void 0?n:s.custom,t)}const Zg=t=>Array.isArray(t);function KM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function $M(t){return Zg(t)?t[t.length-1]||0:t}function XM(t,e){const n=pl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=$M(l[c]);KM(t,c,d)}}function YM(t){return!!(Mn(t)&&t.add)}function Wg(t,e){const n=t.getValue("willChange");if(YM(n))return n.add(e);if(!n&&ar.WillChange){const s=new ar.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function CS(t){return t.props[vS]}const QM=t=>t!==null;function ZM(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(QM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const WM={type:"spring",stiffness:500,damping:25,restSpeed:10},JM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eV={type:"keyframes",duration:.8},tV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nV=(t,{keyframes:e})=>e.length>2?eV:Vl.has(t)?t.startsWith("scale")?JM(e[1]):WM:tV;function iV({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const g0=(t,e,n,s={},a,l)=>c=>{const d=n0(s,t)||{},f=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-vs(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};iV(d)||Object.assign(v,nV(t,v)),v.duration&&(v.duration=vs(v.duration)),v.repeatDelay&&(v.repeatDelay=vs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Gg(v),v.delay===0&&(x=!0)),(ar.instantAnimations||ar.skipAnimations)&&(x=!0,Gg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const w=ZM(v.keyframes,d);if(w!==void 0){Rt.update(()=>{v.onUpdate(w),v.onComplete()});return}}return d.isSync?new e0(v):new TD(v)};function sV({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function NS(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const x=t.getValue(v,t.latestValues[v]??null),w=d[v];if(w===void 0||p&&sV(p,v))continue;const A={delay:n,...n0(l||{},v)},N=x.get();if(N!==void 0&&!x.isAnimating&&!Array.isArray(w)&&w===N&&!A.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const B=CS(t);if(B){const X=window.MotionHandoffAnimation(B,v,Rt);X!==null&&(A.startTime=X,O=!0)}}Wg(t,v),x.start(g0(v,x,w,t.shouldReduceMotion&&Q1.has(v)?{type:!1}:A,t,O));const M=x.animation;M&&f.push(M)}return c&&Promise.all(f).then(()=>{Rt.update(()=>{c&&XM(t,c)})}),f}function IS(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Jg(t,e,n={}){var f;const s=pl(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(NS(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:w}=a;return rV(t,e,p,v,x,w,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,v]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function rV(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Jg(f,e,{...c,delay:n+(typeof s=="function"?0:s)+IS(t.variantChildren,f,s,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function aV(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Jg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Jg(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;s=Promise.all(NS(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function DS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const oV=c0.length;function MS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oV;n++){const s=c0[n],a=t.props[s];(bu(a)||a===!1)&&(e[s]=a)}return e}const lV=[...l0].reverse(),cV=l0.length;function uV(t){return e=>Promise.all(e.map(({animation:n,options:s})=>aV(t,n,s)))}function hV(t){let e=uV(t),n=Nw(),s=!0;const a=f=>(p,v)=>{var w;const x=pl(t,v,f==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(x){const{transition:A,transitionEnd:N,...O}=x;p={...p,...O,...N}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,v=MS(t.parent)||{},x=[],w=new Set;let A={},N=1/0;for(let M=0;M<cV;M++){const B=lV[M],X=n[B],q=p[B]!==void 0?p[B]:v[B],ae=bu(q),oe=B===f?X.isActive:null;oe===!1&&(N=M);let ue=q===v[B]&&q!==p[B]&&ae;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),X.protectedKeys={...A},!X.isActive&&oe===null||!q&&!X.prevProp||If(q)||typeof q=="boolean")continue;const R=dV(X.prevProp,q);let T=R||B===f&&X.isActive&&!ue&&ae||M>N&&ae,C=!1;const j=Array.isArray(q)?q:[q];let P=j.reduce(a(B),{});oe===!1&&(P={});const{prevResolvedValues:U={}}=X,I={...U,...P},Xe=re=>{T=!0,w.has(re)&&(C=!0,w.delete(re)),X.needsAnimating[re]=!0;const J=t.getValue(re);J&&(J.liveStyle=!1)};for(const re in I){const J=P[re],Ae=U[re];if(A.hasOwnProperty(re))continue;let je=!1;Zg(J)&&Zg(Ae)?je=!DS(J,Ae):je=J!==Ae,je?J!=null?Xe(re):w.add(re):J!==void 0&&w.has(re)?Xe(re):X.protectedKeys[re]=!0}X.prevProp=q,X.prevResolvedValues=P,X.isActive&&(A={...A,...P}),s&&t.blockInitialAnimation&&(T=!1);const Ve=ue&&R;T&&(!Ve||C)&&x.push(...j.map(re=>{const J={type:B};if(typeof re=="string"&&s&&!Ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,je=pl(Ae,re);if(Ae.enteringChildren&&je){const{delayChildren:L}=je.transition||{};J.delay=IS(Ae.enteringChildren,t,L)}}return{animation:re,options:J}}))}if(w.size){const M={};if(typeof p.initial!="boolean"){const B=pl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(M.transition=B.transition)}w.forEach(B=>{const X=t.getBaseTarget(B),q=t.getValue(B);q&&(q.liveStyle=!0),M[B]=X??null}),x.push({animation:M})}let O=!!x.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(x):Promise.resolve()}function d(f,p){var x;if(n[f].isActive===p)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(w=>{var A;return(A=w.animationState)==null?void 0:A.setActive(f,p)}),n[f].isActive=p;const v=c(f);for(const w in n)n[w].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Nw()}}}function dV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DS(e,t):!1}function Ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nw(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fV extends ua{constructor(e){super(e),e.animationState||(e.animationState=hV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();If(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mV=0;class pV extends ua{constructor(){super(...arguments),this.id=mV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gV={animation:{Feature:fV},exit:{Feature:pV}};function xu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ou(t){return{point:{x:t.pageX,y:t.pageY}}}const yV=t=>e=>r0(e)&&t(e,Ou(e));function au(t,e,n,s){return xu(t,e,yV(n),s)}const VS=1e-4,vV=1-VS,bV=1+VS,jS=.01,xV=0-jS,_V=0+jS;function Bn(t){return t.max-t.min}function wV(t,e,n){return Math.abs(t-e)<=n}function Iw(t,e,n,s=.5){t.origin=s,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Bn(n)/Bn(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vV&&t.scale<=bV||isNaN(t.scale))&&(t.scale=1),(t.translate>=xV&&t.translate<=_V||isNaN(t.translate))&&(t.translate=0)}function ou(t,e,n,s){Iw(t.x,e.x,n.x,s?s.originX:void 0),Iw(t.y,e.y,n.y,s?s.originY:void 0)}function Dw(t,e,n){t.min=n.min+e.min,t.max=t.min+Bn(e)}function EV(t,e,n){Dw(t.x,e.x,n.x),Dw(t.y,e.y,n.y)}function Mw(t,e,n){t.min=e.min-n.min,t.max=t.min+Bn(e)}function rf(t,e,n){Mw(t.x,e.x,n.x),Mw(t.y,e.y,n.y)}function Ti(t){return[t("x"),t("y")]}const PS=({current:t})=>t?t.ownerDocument.defaultView:null,Vw=(t,e)=>Math.abs(t-e);function TV(t,e){const n=Vw(t.x,e.x),s=Vw(t.y,e.y);return Math.sqrt(n**2+s**2)}class OS{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=hg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,N=TV(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!N)return;const{point:O}=w,{timestamp:M}=Sn;this.history.push({...O,timestamp:M});const{onStart:B,onMove:X}=this.handlers;A||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=ug(A,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:N,onSessionEnd:O,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=hg(w.type==="pointercancel"?this.lastMoveEventInfo:ug(A,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,B),O&&O(w,B)},!r0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Ou(e),f=ug(d,this.transformPagePoint),{point:p}=f,{timestamp:v}=Sn;this.history=[{...p,timestamp:v}];const{onSessionStart:x}=n;x&&x(e,hg(f,this.history)),this.removeListeners=Vu(au(this.contextWindow,"pointermove",this.handlePointerMove),au(this.contextWindow,"pointerup",this.handlePointerUp),au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),na(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function jw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:jw(t,LS(e)),offset:jw(t,SV(e)),velocity:AV(e,.1)}}function SV(t){return t[0]}function LS(t){return t[t.length-1]}function AV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=LS(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>vs(e)));)n--;if(!s)return{x:0,y:0};const l=ki(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function kV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Vt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Vt(n,t,s.max):Math.min(t,n)),t}function Pw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RV(t,{top:e,left:n,bottom:s,right:a}){return{x:Pw(t.x,n,a),y:Pw(t.y,e,s)}}function Ow(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function CV(t,e){return{x:Ow(t.x,e.x),y:Ow(t.y,e.y)}}function NV(t,e){let n=.5;const s=Bn(t),a=Bn(e);return a>s?n=gu(e.min,e.max-s,t.min):s>a&&(n=gu(t.min,t.max-a,e.min)),rr(0,1,n)}function IV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ey=.35;function DV(t=ey){return t===!1?t=0:t===!0&&(t=ey),{x:Lw(t,"left","right"),y:Lw(t,"top","bottom")}}function Lw(t,e,n){return{min:zw(t,e),max:zw(t,n)}}function zw(t,e){return typeof t=="number"?t:t[e]||0}const MV=new WeakMap;class VV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ou(x).point)},c=(x,w)=>{const{drag:A,dragPropagation:N,onDragStart:O}=this.getProps();if(A&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UD(A),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(B=>{let X=this.getAxisMotionValue(B).get()||0;if(bs.test(X)){const{projection:q}=this.visualElement;if(q&&q.layout){const ae=q.layout.layoutBox[B];ae&&(X=Bn(ae)*(parseFloat(X)/100))}}this.originPoint[B]=X}),O&&Rt.postRender(()=>O(x,w)),Wg(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:N,onDirectionLock:O,onDrag:M}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=w;if(N&&this.currentDirection===null){this.currentDirection=jV(B),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),M&&M(x,w)},f=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w,this.stop(x,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ti(x=>{var w;return this.getAnimationState(x)==="paused"&&((w=this.getAxisMotionValue(x).animation)==null?void 0:w.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new OS(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:PS(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Rt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Ed(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=kV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=RV(s.layoutBox,e):this.constraints=!1,this.elastic=DV(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ti(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=IV(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ul(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=PM(s,a.root,this.visualElement.getTransformPagePoint());let c=CV(a.layout.layoutBox,l);if(n){const d=n(MM(c));this.hasMutatedConstraints=!!d,d&&(c=_S(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Ti(v=>{if(!Ed(v,n,this.currentDirection))return;let x=f&&f[v]||{};c&&(x={min:0,max:0});const w=a?200:1e6,A=a?40:1e7,N={type:"inertia",velocity:s?e[v]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,N)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Wg(this.visualElement,e),s.start(g0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ti(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ti(n=>{const{drag:s}=this.getProps();if(!Ed(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-Vt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ul(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ti(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=NV({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ti(c=>{if(!Ed(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(Vt(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;MV.set(this.visualElement,this);const e=this.visualElement.current,n=au(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ul(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(s);const c=xu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ti(v=>{const x=this.getAxisMotionValue(v);x&&(this.originPoint[v]+=f[v].translate,x.set(x.get()+f[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ey,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Ed(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PV extends ua{constructor(e){super(e),this.removeGroupControls=Ri,this.removeListeners=Ri,this.controls=new VV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uw=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class OV extends ua{constructor(){super(...arguments),this.removePointerDownListener=Ri}onPointerDown(e){this.session=new OS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Uw(e),onStart:Uw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Rt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=au(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let dg=!1;class LV extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,dg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Rt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),s0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zS(t){const[e,n]=oS(),s=D.useContext(Oy);return y.jsx(LV,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(bS),isPresent:e,safeToRemove:n})}function zV(t,e,n){const s=Mn(t)?t:_l(t);return s.start(g0("",s,e,n)),s.animation}const UV=(t,e)=>t.depth-e.depth;class BV{constructor(){this.children=[],this.isDirty=!1}add(e){Uy(this.children,e),this.isDirty=!0}remove(e){By(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UV),this.isDirty=!1,this.children.forEach(e)}}function FV(t,e){const n=Wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(na(s),t(l-e))};return Rt.setup(s,!0),()=>na(s)}const US=["TopLeft","TopRight","BottomLeft","BottomRight"],qV=US.length,Bw=t=>typeof t=="string"?parseFloat(t):t,Fw=t=>typeof t=="number"||Me.test(t);function HV(t,e,n,s,a,l){a?(t.opacity=Vt(0,n.opacity??1,GV(s)),t.opacityExit=Vt(e.opacity??1,0,KV(s))):l&&(t.opacity=Vt(e.opacity??1,n.opacity??1,s));for(let c=0;c<qV;c++){const d=`border${US[c]}Radius`;let f=qw(e,d),p=qw(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Fw(f)===Fw(p)?(t[d]=Math.max(Vt(Bw(f),Bw(p),s),0),(bs.test(p)||bs.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,s))}function qw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GV=BS(0,.5,A1),KV=BS(.5,.95,Ri);function BS(t,e,n){return s=>s<t?0:s>e?1:n(gu(t,e,s))}function Hw(t,e){t.min=e.min,t.max=e.max}function Fi(t,e){Hw(t.x,e.x),Hw(t.y,e.y)}function Gw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Kw(t,e,n,s,a){return t-=e,t=sf(t,1/n,s),a!==void 0&&(t=sf(t,1/a,s)),t}function $V(t,e=0,n=1,s=.5,a,l=t,c=t){if(bs.test(e)&&(e=parseFloat(e),e=Vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Vt(l.min,l.max,s);t===l&&(d-=e),t.min=Kw(t.min,e,n,d,a),t.max=Kw(t.max,e,n,d,a)}function $w(t,e,[n,s,a],l,c){$V(t,e[n],e[s],e[a],e.scale,l,c)}const XV=["x","scaleX","originX"],YV=["y","scaleY","originY"];function Xw(t,e,n,s){$w(t.x,e,XV,n?n.x:void 0,s?s.x:void 0),$w(t.y,e,YV,n?n.y:void 0,s?s.y:void 0)}function Yw(t){return t.translate===0&&t.scale===1}function FS(t){return Yw(t.x)&&Yw(t.y)}function Qw(t,e){return t.min===e.min&&t.max===e.max}function QV(t,e){return Qw(t.x,e.x)&&Qw(t.y,e.y)}function Zw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qS(t,e){return Zw(t.x,e.x)&&Zw(t.y,e.y)}function Ww(t){return Bn(t.x)/Bn(t.y)}function Jw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZV{constructor(){this.members=[]}add(e){Uy(this.members,e),e.scheduleRender()}remove(e){if(By(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WV(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:x,rotateY:w,skewX:A,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),x&&(s+=`rotateX(${x}deg) `),w&&(s+=`rotateY(${w}deg) `),A&&(s+=`skewX(${A}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const fg=["","X","Y","Z"],JV=1e3;let ej=0;function mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function HS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=CS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&HS(s)}function GS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=ej++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ij),this.nodes.forEach(oj),this.nodes.forEach(lj),this.nodes.forEach(sj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new BV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Hy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=aS(c)&&!KD(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let v,x=0;const w=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{x=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==x&&(x=A,this.root.updateBlockedByResize=!0,v&&v(),v=FV(w,250),Ud.hasAnimatedSinceResize&&(Ud.hasAnimatedSinceResize=!1,this.nodes.forEach(nE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||fj,{onLayoutAnimationStart:O,onLayoutAnimationComplete:M}=p.getProps(),B=!this.targetLayout||!qS(this.targetLayout,A),X=!x&&w;if(this.options.layoutRoot||this.resumeFrom||X||x&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...n0(N,"layout"),onPlay:O,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,X)}else x||nE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aj),this.nodes.forEach(tj),this.nodes.forEach(nj)):this.nodes.forEach(tE),this.clearAllSnapshots();const d=Wn.now();Sn.delta=rr(0,1e3/60,d-Sn.timestamp),Sn.timestamp=d,Sn.isProcessing=!0,ng.update.process(Sn),ng.preRender.process(Sn),ng.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rj),this.sharedNodes.forEach(uj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!FS(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Xa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),mj(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return ln();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(pj))){const{scroll:v}=this.root;v&&(hl(d.x,v.offset.x),hl(d.y,v.offset.y))}return d}removeElementScroll(c){var f;const d=ln();if(Fi(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:x,options:w}=v;v!==this.root&&x&&w.layoutScroll&&(x.wasRoot&&Fi(d,c),hl(d.x,x.offset.x),hl(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=ln();Fi(f,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&dl(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Xa(v.latestValues)&&dl(f,v.latestValues)}return Xa(this.latestValues)&&dl(f,this.latestValues),f}removeTransform(c){const d=ln();Fi(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Xa(p.latestValues))continue;Xg(p.latestValues)&&p.updateSnapshot();const v=ln(),x=p.measurePageBox();Fi(v,x),Xw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Xa(this.latestValues)&&Xw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=Sn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fi(this.target,this.layout.layoutBox),ES(this.target,this.targetDelta)):Fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xg(this.parent.latestValues)||wS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),rf(this.relativeTargetOrigin,d,f),Fi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var N;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Fi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;jM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ln());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gw(this.prevProjectionDelta.x,this.projectionDelta.x),Gw(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!Jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fl(),this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},x=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=ln(),A=f?f.source:void 0,N=this.layout?this.layout.source:void 0,O=A!==N,M=this.getStack(),B=!M||M.members.length<=1,X=!!(O&&!B&&this.options.crossfade===!0&&!this.path.some(dj));this.animationProgress=0;let q;this.mixTargetDelta=ae=>{const oe=ae/1e3;iE(x.x,c.x,oe),iE(x.y,c.y,oe),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hj(this.relativeTarget,this.relativeTargetOrigin,w,oe),q&&QV(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ln()),Fi(q,this.relativeTarget)),O&&(this.animationValues=v,HV(v,p,this.latestValues,oe,X,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=zV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:v}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&KS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ln();const x=Bn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const w=Bn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}Fi(d,f),dl(d,v),ou(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ZV),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&mg("z",c,p,this.animationValues);for(let v=0;v<fg.length;v++)mg(`rotate${fg[v]}`,c,p,this.animationValues),mg(`skew${fg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=zd(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=zd(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=WV(this.projectionDeltaWithTransform,this.treeScale,v);f&&(x=f(v,x)),c.transform=x;const{x:w,y:A}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in $g){if(v[N]===void 0)continue;const{correct:O,applyTo:M,isCSSVariable:B}=$g[N],X=x==="none"?v[N]:O(v[N],p);if(M){const q=M.length;for(let ae=0;ae<q;ae++)c[M[ae]]=X}else B?this.options.visualElement.renderState.vars[N]=X:c[N]=X}this.options.layoutId&&(c.pointerEvents=p===this?zd(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(eE),this.root.sharedNodes.clear()}}}function tj(t){t.updateLayout()}function nj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Ti(x=>{const w=c?e.measuredBox[x]:e.layoutBox[x],A=Bn(w);w.min=s[x].min,w.max=w.min+A}):KS(l,e.layoutBox,s)&&Ti(x=>{const w=c?e.measuredBox[x]:e.layoutBox[x],A=Bn(s[x]);w.max=w.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+A)});const d=fl();ou(d,s,e.layoutBox);const f=fl();c?ou(f,t.applyTransform(a,!0),e.measuredBox):ou(f,s,e.layoutBox);const p=!FS(d);let v=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:w,layout:A}=x;if(w&&A){const N=ln();rf(N,e.layoutBox,w.layoutBox);const O=ln();rf(O,s,A.layoutBox),qS(N,O)||(v=!0),x.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=N,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function ij(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rj(t){t.clearSnapshot()}function eE(t){t.clearMeasurements()}function tE(t){t.isLayoutDirty=!1}function aj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oj(t){t.resolveTargetDelta()}function lj(t){t.calcProjection()}function cj(t){t.resetSkewAndRotation()}function uj(t){t.removeLeadSnapshot()}function iE(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sE(t,e,n,s){t.min=Vt(e.min,n.min,s),t.max=Vt(e.max,n.max,s)}function hj(t,e,n,s){sE(t.x,e.x,n.x,s),sE(t.y,e.y,n.y,s)}function dj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fj={duration:.45,ease:[.4,0,.1,1]},rE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aE=rE("applewebkit/")&&!rE("chrome/")?Math.round:Ri;function oE(t){t.min=aE(t.min),t.max=aE(t.max)}function mj(t){oE(t.x),oE(t.y)}function KS(t,e,n){return t==="position"||t==="preserve-aspect"&&!wV(Ww(e),Ww(n),.2)}function pj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const gj=GS({attachResizeListener:(t,e)=>xu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pg={current:void 0},$S=GS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pg.current){const t=new gj({});t.mount(window),t.setOptions({layoutScroll:!0}),pg.current=t}return pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yj={pan:{Feature:OV},drag:{Feature:PV,ProjectionNode:$S,MeasureLayout:zS}};function lE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Rt.postRender(()=>l(e,Ou(e)))}class vj extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=BD(e,(n,s)=>(lE(this.node,s,"Start"),a=>lE(this.node,a,"End"))))}unmount(){}}class bj extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(xu(this.node.current,"focus",()=>this.onFocus()),xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Rt.postRender(()=>l(e,Ou(e)))}class xj extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=GD(e,(n,s)=>(cE(this.node,s,"Start"),(a,{success:l})=>cE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ty=new WeakMap,gg=new WeakMap,_j=t=>{const e=ty.get(t.target);e&&e(t)},wj=t=>{t.forEach(_j)};function Ej({root:t,...e}){const n=t||document;gg.has(n)||gg.set(n,{});const s=gg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(wj,{root:t,...e})),s[a]}function Tj(t,e,n){const s=Ej(e);return ty.set(t,n),s.observe(t),()=>{ty.delete(t),s.unobserve(t)}}const Sj={some:0,all:1};class Aj extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Sj[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),w=p?v:x;w&&w(f)};return Tj(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kj(e,n))&&this.startObserver()}unmount(){}}function kj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Rj={inView:{Feature:Aj},tap:{Feature:xj},focus:{Feature:bj},hover:{Feature:vj}},Cj={layout:{ProjectionNode:$S,MeasureLayout:zS}},Nj={...gV,...Rj,...yj,...Cj},pn=DM(Nj,GM),XS=()=>{const t=D.useRef(null);return D.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;e.width=window.innerWidth,e.height=window.innerHeight;const s=[],a=["#136dec","#fbbf24","#10b981","#ef4444","#8b5cf6"];for(let c=0;c<150;c++)s.push({x:e.width/2,y:e.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20-5,color:a[Math.floor(Math.random()*a.length)],size:Math.random()*8+4,life:100});const l=()=>{if(!n||!e)return;n.clearRect(0,0,e.width,e.height);let c=!1;s.forEach(d=>{d.life>0&&(c=!0,d.x+=d.vx,d.y+=d.vy,d.vy+=.5,d.life--,n.fillStyle=d.color,n.fillRect(d.x,d.y,d.size,d.size))}),c&&requestAnimationFrame(l)};l()},[]),y.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-50"})};let Yc=null;const Ij=()=>(Yc||(Yc=new(window.AudioContext||window.webkitAudioContext)),Yc.state==="suspended"&&Yc.resume(),Yc),ci=(t,e,n,s=0,a=.1)=>{const l=Ij();if(!l)return;const c=l.createOscillator(),d=l.createGain();c.type=e,c.frequency.setValueAtTime(t,l.currentTime+s),d.gain.setValueAtTime(a,l.currentTime+s),d.gain.exponentialRampToValueAtTime(.01,l.currentTime+s+n),c.connect(d),d.connect(l.destination),c.start(l.currentTime+s),c.stop(l.currentTime+s+n)},en={correct:()=>{ci(600,"sine",.1,0),ci(800,"sine",.2,.1)},wrong:()=>{ci(150,"sawtooth",.3,0)},click:()=>{ci(400,"triangle",.05,0,.05)},win:()=>{ci(400,"sine",.1,0),ci(500,"sine",.1,.1),ci(600,"sine",.1,.2),ci(800,"square",.4,.3)},levelUp:()=>{ci(400,"sine",.1,0),ci(500,"sine",.1,.1),ci(600,"sine",.1,.2),ci(800,"sine",.1,.3),ci(1e3,"square",.4,.4)}},Dj=({achievements:t,onClose:e})=>(D.useEffect(()=>{en.win()},[]),y.jsx(o0,{children:y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx(pn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),y.jsxs(pn.div,{initial:{scale:.5,opacity:0,y:100},animate:{scale:1,opacity:1,y:0},exit:{scale:.5,opacity:0,y:100},onClick:n=>n.stopPropagation(),className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-2xl text-center overflow-hidden border-4 border-yellow-400",children:[y.jsx(XS,{}),y.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-yellow-300 via-orange-400 to-yellow-300 animate-shimmer"}),y.jsx("div",{className:"mb-6 flex justify-center",children:y.jsx("div",{className:"size-24 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center text-yellow-500 animate-bounce",children:y.jsx("span",{className:"material-symbols-outlined text-6xl",children:"emoji_events"})})}),y.jsx("h2",{className:"text-3xl font-black text-slate-800 dark:text-white mb-2",children:"Lorpen Berria!"}),y.jsx("div",{className:"space-y-6 my-6",children:t.map(n=>y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800/30",children:[y.jsx("div",{className:"font-bold text-xl text-yellow-600 dark:text-yellow-400 mb-1",children:n.title}),y.jsx("div",{className:"text-slate-600 dark:text-slate-300 text-sm",children:n.description}),y.jsxs("div",{className:"mt-3 inline-flex items-center gap-1 text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded-full",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"})," +100"]})]},n.id))}),y.jsx("button",{onClick:e,className:"w-full py-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-bold rounded-xl shadow-lg hover:scale-105 transition-transform",children:"Jarraitu"})]})]})})),Mj=()=>{};var uE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Vj=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,v=l>>2,x=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,A=p&63;f||(A=64,c||(w=64)),s.push(n[v],n[x],n[w],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||x==null)throw new jj;const w=l<<2|d>>4;if(s.push(w),p!==64){const A=d<<4&240|p>>2;if(s.push(A),x!==64){const N=p<<6&192|x;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pj=function(t){const e=YS(t);return QS.encodeByteArray(e,!0)},af=function(t){return Pj(t).replace(/\./g,"")},ZS=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=()=>Oj().__FIREBASE_DEFAULTS__,zj=()=>{if(typeof process>"u"||typeof uE>"u")return;const t=uE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZS(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return Mj()||Lj()||zj()||Uj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=Mf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Bj=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},JS=()=>{var t;return(t=Mf())==null?void 0:t.config},eA=t=>{var e;return(e=Mf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[af(JSON.stringify(n)),af(JSON.stringify(c)),""].join(".")}const lu={};function Hj(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function Gj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hE=!1;function nA(t,e){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||lu[t]===e||lu[t]||hE)return;lu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=Hj().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{hE=!0,c()},w}function v(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=Gj(s),A=n("text"),N=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),M=document.getElementById(O)||document.createElement("a"),B=n("preprendIcon"),X=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;d(q),v(M,O);const ae=p();f(X,B),q.append(X,N,M,ae),document.body.appendChild(q)}l?(N.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function $j(){var e;const t=(e=Mf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zj(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wj(){return!$j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jj(){try{return typeof indexedDB=="object"}catch{return!1}}function eP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="FirebaseError";class hr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tP,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?nP(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new hr(a,d,s)}}function nP(t,e){return t.replace(iP,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const iP=/\{\$([^}]+)}/g;function sP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function io(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(dE(l)&&dE(c)){if(!io(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rP(t,e){const n=new aP(t,e);return n.subscribe.bind(n)}class aP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=yg),a.error===void 0&&(a.error=yg),a.complete===void 0&&(a.complete=yg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Fj;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uP(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cP(t){return t===Ya?void 0:t}function uP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const dP={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},fP=Ze.INFO,mP={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},pP=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=mP[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y0{constructor(e){this.name=e,this._logLevel=fP,this._logHandler=pP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const gP=(t,e)=>e.some(n=>t instanceof n);let fE,mE;function yP(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vP(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iA=new WeakMap,ny=new WeakMap,sA=new WeakMap,vg=new WeakMap,v0=new WeakMap;function bP(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Zr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&iA.set(n,t)}).catch(()=>{}),v0.set(e,t),e}function xP(t){if(ny.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ny.set(t,e)}let iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _P(t){iy=t(iy)}function wP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(bg(this),e,...n);return sA.set(s,e.sort?e.sort():[e]),Zr(s)}:vP().includes(t)?function(...e){return t.apply(bg(this),e),Zr(iA.get(this))}:function(...e){return Zr(t.apply(bg(this),e))}}function EP(t){return typeof t=="function"?wP(t):(t instanceof IDBTransaction&&xP(t),gP(t,yP())?new Proxy(t,iy):t)}function Zr(t){if(t instanceof IDBRequest)return bP(t);if(vg.has(t))return vg.get(t);const e=EP(t);return e!==t&&(vg.set(t,e),v0.set(e,t)),e}const bg=t=>v0.get(t);function TP(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Zr(c);return s&&c.addEventListener("upgradeneeded",f=>{s(Zr(c.result),f.oldVersion,f.newVersion,Zr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const SP=["get","getKey","getAll","getAllKeys","count"],AP=["put","add","delete","clear"],xg=new Map;function pE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=AP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||SP.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&f.done]))[0]};return xg.set(e,l),l}_P(t=>({...t,get:(e,n,s)=>pE(e,n)||t.get(e,n,s),has:(e,n)=>!!pE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sy="@firebase/app",gE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new y0("@firebase/app"),CP="@firebase/app-compat",NP="@firebase/analytics-compat",IP="@firebase/analytics",DP="@firebase/app-check-compat",MP="@firebase/app-check",VP="@firebase/auth",jP="@firebase/auth-compat",PP="@firebase/database",OP="@firebase/data-connect",LP="@firebase/database-compat",zP="@firebase/functions",UP="@firebase/functions-compat",BP="@firebase/installations",FP="@firebase/installations-compat",qP="@firebase/messaging",HP="@firebase/messaging-compat",GP="@firebase/performance",KP="@firebase/performance-compat",$P="@firebase/remote-config",XP="@firebase/remote-config-compat",YP="@firebase/storage",QP="@firebase/storage-compat",ZP="@firebase/firestore",WP="@firebase/ai",JP="@firebase/firestore-compat",eO="firebase",tO="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",nO={[sy]:"fire-core",[CP]:"fire-core-compat",[IP]:"fire-analytics",[NP]:"fire-analytics-compat",[MP]:"fire-app-check",[DP]:"fire-app-check-compat",[VP]:"fire-auth",[jP]:"fire-auth-compat",[PP]:"fire-rtdb",[OP]:"fire-data-connect",[LP]:"fire-rtdb-compat",[zP]:"fire-fn",[UP]:"fire-fn-compat",[BP]:"fire-iid",[FP]:"fire-iid-compat",[qP]:"fire-fcm",[HP]:"fire-fcm-compat",[GP]:"fire-perf",[KP]:"fire-perf-compat",[$P]:"fire-rc",[XP]:"fire-rc-compat",[YP]:"fire-gcs",[QP]:"fire-gcs-compat",[ZP]:"fire-fst",[JP]:"fire-fst-compat",[WP]:"fire-vertex","fire-js":"fire-js",[eO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,iO=new Map,ay=new Map;function yE(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function El(t){const e=t.name;if(ay.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,t);for(const n of of.values())yE(n,t);for(const n of iO.values())yE(n,t);return!0}function b0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Si(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Lu("app","Firebase",sO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=tO;function rA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ry,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Wr.create("bad-app-name",{appName:String(a)});if(n||(n=JS()),!n)throw Wr.create("no-options");const l=of.get(a);if(l){if(io(n,l.options)&&io(s,l.config))return l;throw Wr.create("duplicate-app",{appName:a})}const c=new hP(a);for(const f of ay.values())c.addComponent(f);const d=new rO(n,s,c);return of.set(a,d),d}function aA(t=ry){const e=of.get(t);if(!e&&t===ry&&JS())return rA();if(!e)throw Wr.create("no-app",{appName:t});return e}function Jr(t,e,n){let s=nO[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(c.join(" "));return}El(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firebase-heartbeat-database",oO=1,_u="firebase-heartbeat-store";let _g=null;function oA(){return _g||(_g=TP(aO,oO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),_g}async function lO(t){try{const n=(await oA()).transaction(_u),s=await n.objectStore(_u).get(lA(t));return await n.done,s}catch(e){if(e instanceof hr)or.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}}async function vE(t,e){try{const s=(await oA()).transaction(_u,"readwrite");await s.objectStore(_u).put(e,lA(t)),await s.done}catch(n){if(n instanceof hr)or.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(s.message)}}}function lA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=1024,uO=30;class hO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=bE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>uO){const c=mO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bE(),{heartbeatsToSend:s,unsentEntries:a}=dO(this._heartbeatsCache.heartbeats),l=af(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return or.warn(n),""}}}function bE(){return new Date().toISOString().substring(0,10)}function dO(t,e=cO){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jj()?eP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xE(t){return af(JSON.stringify({version:2,heartbeats:t})).length}function mO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){El(new so("platform-logger",e=>new kP(e),"PRIVATE")),El(new so("heartbeat",e=>new hO(e),"PRIVATE")),Jr(sy,gE,t),Jr(sy,gE,"esm2020"),Jr("fire-js","")}pO("");var gO="firebase",yO="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(gO,yO,"app");function cA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vO=cA,uA=new Lu("auth","Firebase",cA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new y0("@firebase/auth");function bO(t,...e){lf.logLevel<=Ze.WARN&&lf.warn(`Auth (${Pl}): ${t}`,...e)}function Bd(t,...e){lf.logLevel<=Ze.ERROR&&lf.error(`Auth (${Pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw x0(t,...e)}function xs(t,...e){return x0(t,...e)}function hA(t,e,n){const s={...vO(),[e]:n};return new Lu("auth","Firebase",s).create(e,{appName:t.name})}function nr(t){return hA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return uA.create(t,...e)}function Re(t,e,...n){if(!t)throw x0(e,...n)}function Js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function lr(t,e){t||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function xO(){return _E()==="http:"||_E()==="https:"}function _E(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xO()||Yj()||"connection"in navigator)?navigator.onLine:!0}function wO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=Kj()||Qj()}get(){return _O()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SO=new Uu(3e4,6e4);function ha(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function da(t,e,n,s,a={}){return fA(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=zu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return Xj()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&jl(t.emulatorConfig.host)&&(p.credentials="include"),dA.fetch()(await mA(t,t.config.apiHost,n,d),p)})}async function fA(t,e,n){t._canInitEmulator=!1;const s={...EO,...e};try{const a=new kO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Td(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Td(t,"user-disabled",c);const v=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hA(t,v,p);$i(t,v)}}catch(a){if(a instanceof hr)throw a;$i(t,"network-request-failed",{message:String(a)})}}async function Bu(t,e,n,s,a={}){const l=await da(t,e,n,s,a);return"mfaPendingCredential"in l&&$i(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function mA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?_0(t.config,a):`${t.config.apiScheme}://${a}`;return TO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function AO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(xs(this.auth,"network-request-failed")),SO.get())})}}function Td(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=xs(t,e,s);return a.customData._tokenResponse=n,a}function wE(t){return t!==void 0&&t.enterprise!==void 0}class RO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CO(t,e){return da(t,"GET","/v2/recaptchaConfig",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function cf(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IO(t,e=!1){const n=yn(t),s=await n.getIdToken(e),a=w0(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:cu(wg(a.auth_time)),issuedAtTime:cu(wg(a.iat)),expirationTime:cu(wg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function wg(t){return Number(t)*1e3}function w0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const a=ZS(n);return a?JSON.parse(a):(Bd("Failed to decode base64 JWT payload"),null)}catch(a){return Bd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function EE(t){const e=w0(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hr&&DO(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function DO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var x;const e=t.auth,n=await t.getIdToken(),s=await wu(t,cf(e,{idToken:n}));Re(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(x=a.providerUserInfo)!=null&&x.length?pA(a.providerUserInfo):[],c=jO(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function VO(t){const e=yn(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jO(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function pA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e){const n=await fA(t,{},async()=>{const s=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await mA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:s};return t.emulatorConfig&&jl(t.emulatorConfig.host)&&(f.credentials="include"),dA.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OO(t,e){return da(t,"POST","/v2/accounts:revokeToken",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=EE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await PO(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new gl;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new MO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ly(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IO(this,e)}reload(){return VO(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await wu(this,NO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:A,providerData:N,stsTokenManager:O}=n;Re(x&&O,e,"internal-error");const M=gl.fromJSON(this.name,O);Re(typeof x=="string",e,"internal-error"),qr(s,e.name),qr(a,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),qr(l,e.name),qr(c,e.name),qr(d,e.name),qr(f,e.name),qr(p,e.name),qr(v,e.name);const B=new Gi({uid:x,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:M,createdAt:p,lastLoginAt:v});return N&&Array.isArray(N)&&(B.providerData=N.map(X=>({...X}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new gl;a.updateFromServerResponse(n);const l=new Gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await uf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new gl;d.updateFromIdToken(s);const f=new Gi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function er(t){lr(t instanceof Function,"Expected a class definition");let e=TE.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gA.type="NONE";const SE=gA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class yl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Fd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Fd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cf(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yl(er(SE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||er(SE);const c=Fd(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let x;if(typeof v=="string"){const w=await cf(e,{idToken:v}).catch(()=>{});if(!w)break;x=await Gi._fromGetAccountInfoResponse(e,w,v)}else x=Gi._fromJSON(e,v);p!==l&&(d=x),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new yl(l,e,s):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new yl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wA(e))return"Blackberry";if(EA(e))return"Webos";if(vA(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(_A(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function yA(t=Vn()){return/firefox\//i.test(t)}function vA(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(t=Vn()){return/crios\//i.test(t)}function xA(t=Vn()){return/iemobile/i.test(t)}function _A(t=Vn()){return/android/i.test(t)}function wA(t=Vn()){return/blackberry/i.test(t)}function EA(t=Vn()){return/webos/i.test(t)}function E0(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LO(t=Vn()){var e;return E0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function zO(){return Zj()&&document.documentMode===10}function TA(t=Vn()){return E0(t)||_A(t)||EA(t)||wA(t)||/windows phone/i.test(t)||xA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e=[]){let n;switch(t){case"Browser":n=AE(Vn());break;case"Worker":n=`${AE(Vn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e={}){return da(t,"GET","/v2/passwordPolicy",ha(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=6;class qO{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new UO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cf(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(nr(this));const n=e?yn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BO(this),n=new qO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await OO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&bO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ho(t){return yn(t)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=rP(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GO(t){Vf=t}function AA(t){return Vf.loadJS(t)}function KO(){return Vf.recaptchaEnterpriseScript}function $O(){return Vf.gapiScript}function XO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YO{constructor(){this.enterprise=new QO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZO="recaptcha-enterprise",kA="NO_RECAPTCHA";class WO{constructor(e){this.type=ZO,this.auth=ho(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{CO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new RO(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{d(f)})})}function a(l,c,d){const f=window.grecaptcha;wE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(kA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&wE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=KO();f.length!==0&&(f+=d),AA(f).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function RE(t,e,n,s=!1,a=!1){const l=new WO(t);let c;if(a)c=kA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cy(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await RE(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await RE(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e){const n=b0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(io(l,e??{}))return a;$i(a,"already-initialized")}return n.initialize({options:e})}function e4(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function t4(t,e,n){const s=ho(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=RA(e),{host:c,port:d}=n4(e),f=d===null?"":`:${d}`,p={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(io(p,s.config.emulator)&&io(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,jl(c)?(tA(`${l}//${c}${f}`),nA("Auth",!0)):i4()}function RA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n4(t){const e=RA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:CE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:CE(c)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,n){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function s4(t,e){return da(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}async function o4(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends T0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,n,"signInWithPassword",r4);case"emailLink":return a4(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,s,"signUpPassword",s4);case"emailLink":return o4(e,{idToken:n,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="http://localhost";class ro extends T0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new ro(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:l4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u4(t){const e=Wc(Jc(t)).link,n=e?Wc(Jc(e)).deep_link_id:null,s=Wc(Jc(t)).deep_link_id;return(s?Wc(Jc(s)).link:null)||s||n||e||t}class S0{constructor(e){const n=Wc(Jc(e)),s=n.apiKey??null,a=n.oobCode??null,l=c4(n.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=u4(e);try{return new S0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=S0.parseLink(n);return Re(s,"argument-error"),Eu._fromEmailAndCode(e,s.code,s.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends CA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Fu{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Fu{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Fu{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e){return Bu(t,"POST","/v1/accounts:signUp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Gi._fromIdTokenResponse(e,s,a),c=NE(s);return new ao({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=NE(s);return new ao({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function NE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends hr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new hf(e,n,s,a)}}function NA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,l,e,s):l})}async function d4(t,e,n=!1){const s=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ao._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e,n=!1){const{auth:s}=t;if(Si(s.app))return Promise.reject(nr(s));const a="reauthenticate";try{const l=await wu(t,NA(s,a,e,t),n);Re(l.idToken,s,"internal-error");const c=w0(l.idToken);Re(c,s,"internal-error");const{sub:d}=c;return Re(t.uid===d,s,"user-mismatch"),ao._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$i(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e,n=!1){if(Si(t.app))return Promise.reject(nr(t));const s="signIn",a=await NA(t,s,e),l=await ao._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function m4(t,e){return IA(ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t){const e=ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p4(t,e,n){if(Si(t.app))return Promise.reject(nr(t));const s=ho(t),c=await cy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h4).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&DA(t),f}),d=await ao._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function g4(t,e,n){return Si(t.app)?Promise.reject(nr(t)):m4(yn(t),Ol.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DA(t),s})}function y4(t,e,n,s){return yn(t).onIdTokenChanged(e,n,s)}function v4(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function b4(t,e,n,s){return yn(t).onAuthStateChanged(e,n,s)}function x4(t){return yn(t).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=1e3,w4=10;class VA extends MA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);zO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,w4):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const E4=VA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends MA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jA.type="SESSION";const PA=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new jf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),f=await T4(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const p=A0("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(x){const w=x;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function A4(t){_s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function k4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function C4(){return OA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firebaseLocalStorageDb",N4=1,ff="firebaseLocalStorage",zA="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pf(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function I4(){const t=indexedDB.deleteDatabase(LA);return new qu(t).toPromise()}function uy(){const t=indexedDB.open(LA,N4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ff,{keyPath:zA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ff)?e(s):(s.close(),await I4(),e(await uy()))})})}async function IE(t,e,n){const s=Pf(t,!0).put({[zA]:e,value:n});return new qu(s).toPromise()}async function D4(t,e){const n=Pf(t,!1).get(e),s=await new qu(n).toPromise();return s===void 0?null:s.value}function DE(t,e){const n=Pf(t,!0).delete(e);return new qu(n).toPromise()}const M4=800,V4=3;class UA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>V4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(C4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await k4(),!this.activeServiceWorker)return;this.sender=new S4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await IE(e,df,"1"),await DE(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>IE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>D4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Pf(a,!1).getAll();return new qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UA.type="LOCAL";const j4=UA;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){return e?er(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends T0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O4(t){return IA(t.auth,new k0(t),t.bypassAuthState)}function L4(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),f4(n,new k0(t),t.bypassAuthState)}async function z4(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),d4(n,new k0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O4;case"linkViaPopup":case"linkViaRedirect":return z4;case"reauthViaPopup":case"reauthViaRedirect":return L4;default:$i(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new Uu(2e3,1e4);class ml extends BA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=A0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U4.get())};e()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="pendingRedirect",qd=new Map;class F4 extends BA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const s=await q4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q4(t,e){const n=K4(e),s=G4(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function H4(t,e){qd.set(t._key(),e)}function G4(t){return er(t._redirectPersistence)}function K4(t){return Fd(B4,t.config.apiKey,t.name)}async function $4(t,e,n=!1){if(Si(t.app))return Promise.reject(nr(t));const s=ho(t),a=P4(s,e),c=await new F4(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=600*1e3;class Y4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!FA(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(xs(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X4&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J4=/^https?/;async function e3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z4(t);for(const n of e)try{if(t3(n))return}catch{}$i(t,"unauthorized-domain")}function t3(t){const e=oy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!J4.test(n))return!1;if(W4.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new Uu(3e4,6e4);function VE(){const t=_s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i3(t){return new Promise((e,n)=>{var a,l,c;function s(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(xs(t,"network-request-failed"))},timeout:n3.get()})}if((l=(a=_s().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=_s().gapi)!=null&&c.load)s();else{const d=XO("iframefcb");return _s()[d]=()=>{gapi.load?s():n(xs(t,"network-request-failed"))},AA(`${$O()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function s3(t){return Hd=Hd||i3(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Uu(5e3,15e3),a3="__/auth/iframe",o3="emulator/auth/iframe",l3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u3(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_0(e,o3):`https://${t.config.authDomain}/${a3}`,s={apiKey:e.apiKey,appName:t.name,v:Pl},a=c3.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${zu(s).slice(1)}`}async function h3(t){const e=await s3(t),n=_s().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:u3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l3,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=xs(t,"network-request-failed"),d=_s().setTimeout(()=>{l(c)},r3.get());function f(){_s().clearTimeout(d),a(s)}s.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f3=500,m3=600,p3="_blank",g3="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y3(t,e,n,s=f3,a=m3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const f={...d3,width:s.toString(),height:a.toString(),top:l,left:c},p=Vn().toLowerCase();n&&(d=bA(p)?p3:n),yA(p)&&(e=e||g3,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[A,N])=>`${w}${A}=${N},`,"");if(LO(p)&&d!=="_self")return v3(e||"",d),new jE(null);const x=window.open(e||"",d,v);Re(x,t,"popup-blocked");try{x.focus()}catch{}return new jE(x)}function v3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__/auth/handler",x3="emulator/auth/handler",_3=encodeURIComponent("fac");async function PE(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Pl,eventId:a};if(e instanceof CA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",sP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))c[v]=x}if(e instanceof Fu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),p=f?`#${_3}=${encodeURIComponent(f)}`:"";return`${w3(t)}?${zu(d).slice(1)}${p}`}function w3({config:t}){return t.emulator?_0(t,x3):`https://${t.authDomain}/${b3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class E3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PA,this._completeRedirectFn=$4,this._overrideRedirectResult=H4}async _openPopup(e,n,s,a){var c;lr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await PE(e,n,s,oy(),a);return y3(e,l,A0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await PE(e,n,s,oy(),a);return A4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(lr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await h3(e),s=new Y4(e);return n.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eg,{type:Eg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[Eg];l!==void 0&&n(!!l),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TA()||vA()||E0()}}const T3=E3;var OE="@firebase/auth",LE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k3(t){El(new so("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(t)},p=new HO(s,a,l,f);return e4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),El(new so("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(s=>new S3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(OE,LE,A3(t)),Jr(OE,LE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=300,C3=eA("authIdTokenMaxAge")||R3;let zE=null;const N3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>C3)return;const a=n==null?void 0:n.token;zE!==a&&(zE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function I3(t=aA()){const e=b0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JO(t,{popupRedirectResolver:T3,persistence:[j4,E4,PA]}),s=eA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=N3(l.toString());v4(n,c,()=>c(n.currentUser)),y4(n,d=>c(d))}}const a=WS("auth");return a&&t4(n,`http://${a}`),n}function D3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GO({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=xs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",D3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k3("Browser");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,qA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function C(){}C.prototype=T.prototype,R.F=T.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(j,P,U){for(var I=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)I[Xe-2]=arguments[Xe];return T.prototype[P].apply(j,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,T,C){C||(C=0);const j=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)j[P]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(P=0;P<16;++P)j[P]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=R.g[0],C=R.g[1],P=R.g[2];let U=R.g[3],I;I=T+(U^C&(P^U))+j[0]+3614090360&4294967295,T=C+(I<<7&4294967295|I>>>25),I=U+(P^T&(C^P))+j[1]+3905402710&4294967295,U=T+(I<<12&4294967295|I>>>20),I=P+(C^U&(T^C))+j[2]+606105819&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(T^P&(U^T))+j[3]+3250441966&4294967295,C=P+(I<<22&4294967295|I>>>10),I=T+(U^C&(P^U))+j[4]+4118548399&4294967295,T=C+(I<<7&4294967295|I>>>25),I=U+(P^T&(C^P))+j[5]+1200080426&4294967295,U=T+(I<<12&4294967295|I>>>20),I=P+(C^U&(T^C))+j[6]+2821735955&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(T^P&(U^T))+j[7]+4249261313&4294967295,C=P+(I<<22&4294967295|I>>>10),I=T+(U^C&(P^U))+j[8]+1770035416&4294967295,T=C+(I<<7&4294967295|I>>>25),I=U+(P^T&(C^P))+j[9]+2336552879&4294967295,U=T+(I<<12&4294967295|I>>>20),I=P+(C^U&(T^C))+j[10]+4294925233&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(T^P&(U^T))+j[11]+2304563134&4294967295,C=P+(I<<22&4294967295|I>>>10),I=T+(U^C&(P^U))+j[12]+1804603682&4294967295,T=C+(I<<7&4294967295|I>>>25),I=U+(P^T&(C^P))+j[13]+4254626195&4294967295,U=T+(I<<12&4294967295|I>>>20),I=P+(C^U&(T^C))+j[14]+2792965006&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(T^P&(U^T))+j[15]+1236535329&4294967295,C=P+(I<<22&4294967295|I>>>10),I=T+(P^U&(C^P))+j[1]+4129170786&4294967295,T=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(T^C))+j[6]+3225465664&4294967295,U=T+(I<<9&4294967295|I>>>23),I=P+(T^C&(U^T))+j[11]+643717713&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^T&(P^U))+j[0]+3921069994&4294967295,C=P+(I<<20&4294967295|I>>>12),I=T+(P^U&(C^P))+j[5]+3593408605&4294967295,T=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(T^C))+j[10]+38016083&4294967295,U=T+(I<<9&4294967295|I>>>23),I=P+(T^C&(U^T))+j[15]+3634488961&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^T&(P^U))+j[4]+3889429448&4294967295,C=P+(I<<20&4294967295|I>>>12),I=T+(P^U&(C^P))+j[9]+568446438&4294967295,T=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(T^C))+j[14]+3275163606&4294967295,U=T+(I<<9&4294967295|I>>>23),I=P+(T^C&(U^T))+j[3]+4107603335&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^T&(P^U))+j[8]+1163531501&4294967295,C=P+(I<<20&4294967295|I>>>12),I=T+(P^U&(C^P))+j[13]+2850285829&4294967295,T=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(T^C))+j[2]+4243563512&4294967295,U=T+(I<<9&4294967295|I>>>23),I=P+(T^C&(U^T))+j[7]+1735328473&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^T&(P^U))+j[12]+2368359562&4294967295,C=P+(I<<20&4294967295|I>>>12),I=T+(C^P^U)+j[5]+4294588738&4294967295,T=C+(I<<4&4294967295|I>>>28),I=U+(T^C^P)+j[8]+2272392833&4294967295,U=T+(I<<11&4294967295|I>>>21),I=P+(U^T^C)+j[11]+1839030562&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^T)+j[14]+4259657740&4294967295,C=P+(I<<23&4294967295|I>>>9),I=T+(C^P^U)+j[1]+2763975236&4294967295,T=C+(I<<4&4294967295|I>>>28),I=U+(T^C^P)+j[4]+1272893353&4294967295,U=T+(I<<11&4294967295|I>>>21),I=P+(U^T^C)+j[7]+4139469664&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^T)+j[10]+3200236656&4294967295,C=P+(I<<23&4294967295|I>>>9),I=T+(C^P^U)+j[13]+681279174&4294967295,T=C+(I<<4&4294967295|I>>>28),I=U+(T^C^P)+j[0]+3936430074&4294967295,U=T+(I<<11&4294967295|I>>>21),I=P+(U^T^C)+j[3]+3572445317&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^T)+j[6]+76029189&4294967295,C=P+(I<<23&4294967295|I>>>9),I=T+(C^P^U)+j[9]+3654602809&4294967295,T=C+(I<<4&4294967295|I>>>28),I=U+(T^C^P)+j[12]+3873151461&4294967295,U=T+(I<<11&4294967295|I>>>21),I=P+(U^T^C)+j[15]+530742520&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^T)+j[2]+3299628645&4294967295,C=P+(I<<23&4294967295|I>>>9),I=T+(P^(C|~U))+j[0]+4096336452&4294967295,T=C+(I<<6&4294967295|I>>>26),I=U+(C^(T|~P))+j[7]+1126891415&4294967295,U=T+(I<<10&4294967295|I>>>22),I=P+(T^(U|~C))+j[14]+2878612391&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~T))+j[5]+4237533241&4294967295,C=P+(I<<21&4294967295|I>>>11),I=T+(P^(C|~U))+j[12]+1700485571&4294967295,T=C+(I<<6&4294967295|I>>>26),I=U+(C^(T|~P))+j[3]+2399980690&4294967295,U=T+(I<<10&4294967295|I>>>22),I=P+(T^(U|~C))+j[10]+4293915773&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~T))+j[1]+2240044497&4294967295,C=P+(I<<21&4294967295|I>>>11),I=T+(P^(C|~U))+j[8]+1873313359&4294967295,T=C+(I<<6&4294967295|I>>>26),I=U+(C^(T|~P))+j[15]+4264355552&4294967295,U=T+(I<<10&4294967295|I>>>22),I=P+(T^(U|~C))+j[6]+2734768916&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~T))+j[13]+1309151649&4294967295,C=P+(I<<21&4294967295|I>>>11),I=T+(P^(C|~U))+j[4]+4149444226&4294967295,T=C+(I<<6&4294967295|I>>>26),I=U+(C^(T|~P))+j[11]+3174756917&4294967295,U=T+(I<<10&4294967295|I>>>22),I=P+(T^(U|~C))+j[2]+718787259&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~T))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,T){T===void 0&&(T=R.length);const C=T-this.blockSize,j=this.C;let P=this.h,U=0;for(;U<T;){if(P==0)for(;U<=C;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<T;)if(j[P++]=R.charCodeAt(U++),P==this.blockSize){a(this,j),P=0;break}}else for(;U<T;)if(j[P++]=R[U++],P==this.blockSize){a(this,j),P=0;break}}this.h=P,this.o+=T},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;T=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=T&255,T/=256;for(this.v(R),R=Array(16),T=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)R[T++]=this.g[C]>>>j&255;return R};function l(R,T){var C=d;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=T(R)}function c(R,T){this.h=T;const C=[];let j=!0;for(let P=R.length-1;P>=0;P--){const U=R[P]|0;j&&U==T||(C[P]=U,j=!1)}this.g=C}var d={};function f(R){return-128<=R&&R<128?l(R,function(T){return new c([T|0],T<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return M(p(-R));const T=[];let C=1;for(let j=0;R>=C;j++)T[j]=R/C|0,C*=4294967296;return new c(T,0)}function v(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return M(v(R.substring(1),T));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(T,8));let j=x;for(let U=0;U<R.length;U+=8){var P=Math.min(8,R.length-U);const I=parseInt(R.substring(U,U+P),T);P<8?(P=p(Math.pow(T,P)),j=j.j(P).add(p(I))):(j=j.j(C),j=j.add(p(I)))}return j}var x=f(0),w=f(1),A=f(16777216);t=c.prototype,t.m=function(){if(O(this))return-M(this).m();let R=0,T=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);R+=(j>=0?j:4294967296+j)*T,T*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(O(this))return"-"+M(this).toString(R);const T=p(Math.pow(R,6));var C=this;let j="";for(;;){const P=ae(C,T).g;C=B(C,P.j(T));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=P,N(C))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function O(R){return R.h==-1}t.l=function(R){return R=B(this,R),O(R)?-1:N(R)?0:1};function M(R){const T=R.g.length,C=[];for(let j=0;j<T;j++)C[j]=~R.g[j];return new c(C,~R.h).add(w)}t.abs=function(){return O(this)?M(this):this},t.add=function(R){const T=Math.max(this.g.length,R.g.length),C=[];let j=0;for(let P=0;P<=T;P++){let U=j+(this.i(P)&65535)+(R.i(P)&65535),I=(U>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);j=I>>>16,U&=65535,I&=65535,C[P]=I<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function B(R,T){return R.add(M(T))}t.j=function(R){if(N(this)||N(R))return x;if(O(this))return O(R)?M(this).j(M(R)):M(M(this).j(R));if(O(R))return M(this.j(M(R)));if(this.l(A)<0&&R.l(A)<0)return p(this.m()*R.m());const T=this.g.length+R.g.length,C=[];for(var j=0;j<2*T;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<R.g.length;P++){const U=this.i(j)>>>16,I=this.i(j)&65535,Xe=R.i(P)>>>16,Ve=R.i(P)&65535;C[2*j+2*P]+=I*Ve,X(C,2*j+2*P),C[2*j+2*P+1]+=U*Ve,X(C,2*j+2*P+1),C[2*j+2*P+1]+=I*Xe,X(C,2*j+2*P+1),C[2*j+2*P+2]+=U*Xe,X(C,2*j+2*P+2)}for(R=0;R<T;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=T;R<2*T;R++)C[R]=0;return new c(C,0)};function X(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function q(R,T){this.g=R,this.h=T}function ae(R,T){if(N(T))throw Error("division by zero");if(N(R))return new q(x,x);if(O(R))return T=ae(M(R),T),new q(M(T.g),M(T.h));if(O(T))return T=ae(R,M(T)),new q(M(T.g),T.h);if(R.g.length>30){if(O(R)||O(T))throw Error("slowDivide_ only works with positive integers.");for(var C=w,j=T;j.l(R)<=0;)C=oe(C),j=oe(j);var P=ue(C,1),U=ue(j,1);for(j=ue(j,2),C=ue(C,2);!N(j);){var I=U.add(j);I.l(R)<=0&&(P=P.add(C),U=I),j=ue(j,1),C=ue(C,1)}return T=B(R,P.j(T)),new q(P,T)}for(P=x;R.l(T)>=0;){for(C=Math.max(1,Math.floor(R.m()/T.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=p(C),I=U.j(T);O(I)||I.l(R)>0;)C-=j,U=p(C),I=U.j(T);N(U)&&(U=w),P=P.add(U),R=B(R,I)}return new q(P,R)}t.B=function(R){return ae(this,R).h},t.and=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)&R.i(j);return new c(C,this.h&R.h)},t.or=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)|R.i(j);return new c(C,this.h|R.h)},t.xor=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)^R.i(j);return new c(C,this.h^R.h)};function oe(R){const T=R.g.length+1,C=[];for(let j=0;j<T;j++)C[j]=R.i(j)<<1|R.i(j-1)>>>31;return new c(C,R.h)}function ue(R,T){const C=T>>5;T%=32;const j=R.g.length-C,P=[];for(let U=0;U<j;U++)P[U]=T>0?R.i(U+C)>>>T|R.i(U+C+1)<<32-T:R.i(U+C);return new c(P,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,ea=c}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HA,eu,GA,Gd,hy,KA,$A,XA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,b){if(b)e:{var E=s;h=h.split(".");for(var k=0;k<h.length-1;k++){var H=h[k];if(!(H in E))break e;E=E[H]}h=h[h.length-1],k=E[h],b=b(k),b!=k&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var E=[],k;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&E.push([k,b[k]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function f(h,b,E){return h.call.apply(h.bind,arguments)}function p(h,b,E){return p=f,p.apply(null,arguments)}function v(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function x(h,b){function E(){}E.prototype=b.prototype,h.Z=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(k,H,Q){for(var de=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)de[Fe-2]=arguments[Fe];return b.prototype[H].apply(k,de)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const b=h.length;if(b>0){const E=Array(b);for(let k=0;k<b;k++)E[k]=h[k];return E}return[]}function N(h,b){for(let k=1;k<arguments.length;k++){const H=arguments[k];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const Q=H.length||0;h.length=E+Q;for(let de=0;de<Q;de++)h[E+de]=H[de]}else h.push(H)}}class O{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(h){c.setTimeout(()=>{throw h},0)}function B(){var h=R;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class X{constructor(){this.h=this.g=null}add(b,E){const k=q.get();k.set(b,E),this.h?this.h.next=k:this.g=k,this.h=k}}var q=new O(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,R=new X,T=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(C)}};function C(){for(var h;h=B();){try{h.h.call(h.g)}catch(E){M(E)}var b=q;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ue=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,b),c.removeEventListener("test",E,b)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Xe(h,b){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}x(Xe,P),Xe.prototype.init=function(h,b){const E=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(h,b,E,k,H){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!k,this.ha=H,this.key=++Y,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,b,E){for(const k in h)b.call(E,h[k],k,h)}function je(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function L(h){const b={};for(const E in h)b[E]=h[E];return b}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,b){let E,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(E in k)h[E]=k[E];for(let Q=0;Q<ee.length;Q++)E=ee[Q],Object.prototype.hasOwnProperty.call(k,E)&&(h[E]=k[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,b,E,k,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const de=Ne(h,b,k,H);return de>-1?(b=h[de],E||(b.fa=!1)):(b=new re(b,this.src,Q,!!k,H),b.fa=E,h.push(b)),b};function fe(h,b){const E=b.type;if(E in h.g){var k=h.g[E],H=Array.prototype.indexOf.call(k,b,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(k,H,1),Q&&(J(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ne(h,b,E,k){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==b&&Q.capture==!!E&&Q.ha==k)return H}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Et={};function nt(h,b,E,k,H){if(Array.isArray(b)){for(let Q=0;Q<b.length;Q++)nt(h,b[Q],E,k,H);return null}return E=va(E),h&&h[Ve]?h.J(b,E,d(k)?!!k.capture:!1,H):jn(h,b,E,!1,k,H)}function jn(h,b,E,k,H,Q){if(!b)throw Error("Invalid event type");const de=d(H)?!!H.capture:!!H;let Fe=Cs(h);if(Fe||(h[we]=Fe=new he(h)),E=Fe.add(b,E,k,de,Q),E.proxy)return E;if(k=Pn(),E.proxy=k,k.src=h,k.listener=E,h.addEventListener)U||(H=de),H===void 0&&(H=!1),h.addEventListener(b.toString(),k,H);else if(h.attachEvent)h.attachEvent(Fn(b.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pn(){function h(E){return b.call(h.src,h.listener,E)}const b=ya;return h}function On(h,b,E,k,H){if(Array.isArray(b))for(var Q=0;Q<b.length;Q++)On(h,b[Q],E,k,H);else k=d(k)?!!k.capture:!!k,E=va(E),h&&h[Ve]?(h=h.i,Q=String(b).toString(),Q in h.g&&(b=h.g[Q],E=Ne(b,E,k,H),E>-1&&(J(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Cs(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Ne(b,E,k,H)),(E=h>-1?b[h]:null)&&Ni(E))}function Ni(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Ve])fe(b.i,h);else{var E=h.type,k=h.proxy;b.removeEventListener?b.removeEventListener(E,k,h.capture):b.detachEvent?b.detachEvent(Fn(E),k):b.addListener&&b.removeListener&&b.removeListener(k),(E=Cs(b))?(fe(E,h),E.h==0&&(E.src=null,b[we]=null)):J(h)}}}function Fn(h){return h in Et?Et[h]:Et[h]="on"+h}function ya(h,b){if(h.da)h=!0;else{b=new Xe(b,this);const E=h.listener,k=h.ha||h.src;h.fa&&Ni(h),h=E.call(k,b)}return h}function Cs(h){return h=h[we],h instanceof he?h:null}var Ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function va(h){return typeof h=="function"?h:(h[Ns]||(h[Ns]=function(b){return h.handleEvent(b)}),h[Ns])}function Pt(){j.call(this),this.i=new he(this),this.M=this,this.G=null}x(Pt,j),Pt.prototype[Ve]=!0,Pt.prototype.removeEventListener=function(h,b,E,k){On(this,h,b,E,k)};function Nt(h,b){var E,k=h.G;if(k)for(E=[];k;k=k.G)E.push(k);if(h=h.M,k=b.type||b,typeof b=="string")b=new P(b,h);else if(b instanceof P)b.target=b.target||h;else{var H=b;b=new P(k,h),le(b,H)}H=!0;let Q,de;if(E)for(de=E.length-1;de>=0;de--)Q=b.g=E[de],H=hi(Q,k,!0,b)&&H;if(Q=b.g=h,H=hi(Q,k,!0,b)&&H,H=hi(Q,k,!1,b)&&H,E)for(de=0;de<E.length;de++)Q=b.g=E[de],H=hi(Q,k,!1,b)&&H}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const E=h.g[b];for(let k=0;k<E.length;k++)J(E[k]);delete h.g[b],h.h--}}this.G=null},Pt.prototype.J=function(h,b,E,k){return this.i.add(String(h),b,!1,E,k)},Pt.prototype.K=function(h,b,E,k){return this.i.add(String(h),b,!0,E,k)};function hi(h,b,E,k){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let H=!0;for(let Q=0;Q<b.length;++Q){const de=b[Q];if(de&&!de.da&&de.capture==E){const Fe=de.listener,Bt=de.ha||de.src;de.fa&&fe(h.i,de),H=Fe.call(Bt,k)!==!1&&H}}return H&&!k.defaultPrevented}function po(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function ce(h){h.g=po(()=>{h.g=null,h.i&&(h.i=!1,ce(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class pe extends j{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(h){j.call(this),this.h=h,this.g={}}x(Ie,j);var ze=[];function Ue(h){Ae(h.g,function(b,E){this.g.hasOwnProperty(E)&&Ni(b)},h),h.g={}}Ie.prototype.N=function(){Ie.Z.N.call(this),Ue(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=c.JSON.stringify,ot=c.JSON.parse,Tt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function vn(){}function St(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Se(){P.call(this,"d")}x(Se,P);function Be(){P.call(this,"c")}x(Be,P);var xe={},vt=null;function It(){return vt=vt||new Pt}xe.Ia="serverreachability";function rn(h){P.call(this,xe.Ia,h)}x(rn,P);function Dt(h){const b=It();Nt(b,new rn(b))}xe.STAT_EVENT="statevent";function bn(h,b){P.call(this,xe.STAT_EVENT,h),this.stat=b}x(bn,P);function Ot(h){const b=It();Nt(b,new bn(b,h))}xe.Ja="timingevent";function Zi(h,b){P.call(this,xe.Ja,h),this.size=b}x(Zi,P);function Wi(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function Ii(){this.g=!0}Ii.prototype.ua=function(){this.g=!1};function Wf(h,b,E,k,H,Q){h.info(function(){if(h.g)if(Q){var de="",Fe=Q.split("&");for(let rt=0;rt<Fe.length;rt++){var Bt=Fe[rt].split("=");if(Bt.length>1){const At=Bt[0];Bt=Bt[1];const pi=At.split("_");de=pi.length>=2&&pi[1]=="type"?de+(At+"="+Bt+"&"):de+(At+"=redacted&")}}}else de=null;else de=Q;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+b+`
`+E+`
`+de})}function Qu(h,b,E,k,H,Q,de){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+b+`
`+E+`
`+Q+" "+de})}function Ji(h,b,E,k){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Jf(h,E)+(k?" "+k:"")})}function ba(h,b){h.info(function(){return"TIMEOUT: "+b})}Ii.prototype.info=function(){};function Jf(h,b){if(!h.g)return b;if(!b)return null;try{const Q=JSON.parse(b);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(let de=1;de<k.length;de++)k[de]=""}}}}return De(Q)}catch{return b}}var xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function _a(){}x(_a,vn),_a.prototype.g=function(){return new XMLHttpRequest},$l=new _a;function Is(h){return encodeURIComponent(String(h))}function Zu(h){var b=1;h=h.split(":");const E=[];for(;b>0&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function Di(h,b,E,k){this.j=h,this.i=b,this.l=E,this.S=k||1,this.V=new Ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}var Kt={},un={};function es(h,b,E){h.M=1,h.A=wa(Xt(b)),h.u=E,h.R=!0,go(h,null)}function go(h,b){h.F=Date.now(),ts(h),h.B=Xt(h.A);var E=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),xo(E.i,"t",k),h.C=0,E=h.j.L,h.h=new Mi,h.g=dh(h.j,E?b:null,!h.u),h.P>0&&(h.O=new pe(p(h.Y,h,h.g),h.P)),b=h.V,E=h.g,k=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(ze[0]=H.toString()),H=ze);for(let Q=0;Q<H.length;Q++){const de=nt(E,H[Q],k||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Dt(),Wf(h.i,h.v,h.B,h.l,h.S,h.u)}Di.prototype.ba=function(h){h=h.target;const b=this.O;b&&Pi(h)==3?b.j():this.Y(h)},Di.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=Pi(this.g),Bt=this.g.ya(),rt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||Fe!=4||Bt==7||(Bt==8||rt<=0?Dt(3):Dt(2)),ns(this);var b=this.g.ca();this.X=b;var E=em(this);if(this.o=b==200,Qu(this.i,this.v,this.B,this.l,this.S,Fe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var k,H=this.g;if((k=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(k)){var Q=k;break t}}Q=null}if(h=Q)Ji(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,is(this,h);else{this.o=!1,this.m=3,Ot(12),ei(this),di(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<E.length;)if(At=Ju(this,E),At==un){Fe==4&&(this.m=4,Ot(14),h=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Kt){this.m=4,Ot(15),Ji(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ji(this.i,this.l,At,null),is(this,At);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||E.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)Ji(this.i,this.l,E,"[Invalid Chunked Response]"),ei(this),di(this);else if(E.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),lc(de),de.P=!0,Ot(11))}}else Ji(this.i,this.l,E,null),is(this,E);Fe==4&&ei(this),this.o&&!this.K&&(Fe==4?lh(this.j,this):(this.o=!1,ts(this)))}else Ms(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),ei(this),di(this)}}}catch{}finally{}};function em(h){if(!Wu(h))return h.g.la();const b=xn(h.g);if(b==="")return"";let E="";const k=b.length,H=Pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ei(h),di(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<k;Q++)h.h.h=!0,E+=h.h.i.decode(b[Q],{stream:!(H&&Q==k-1)});return b.length=0,h.h.g+=E,h.C=0,h.h.g}function Wu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ju(h,b){var E=h.C,k=b.indexOf(`
`,E);return k==-1?un:(E=Number(b.substring(E,k)),isNaN(E)?Kt:(k+=1,k+E>b.length?un:(b=b.slice(k,k+E),h.C=k+E,b)))}Di.prototype.cancel=function(){this.K=!0,ei(this)};function ts(h){h.T=Date.now()+h.H,yo(h,h.H)}function yo(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Wi(p(h.aa,h),b)}function ns(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Di.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ba(this.i,this.B),this.M!=2&&(Dt(),Ot(17)),ei(this),this.m=2,di(this)):yo(this,this.T-h)};function di(h){h.j.I==0||h.K||lh(h.j,h)}function ei(h){ns(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Ue(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function is(h,b){try{var E=h.j;if(E.I!=0&&(E.g==h||rs(E.h,h))){if(!h.L&&rs(E.h,h)&&E.I==3){try{var k=E.Ba.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)So(E),br(E);else break e;Ca(E),Ot(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Wi(p(E.Va,E),6e3));ss(E.h)<=1&&E.ta&&(E.ta=void 0)}else hs(E,11)}else if((h.L||E.g==h)&&So(E),!I(b))for(H=E.Ba.g.parse(b),b=0;b<H.length;b++){let rt=H[b];const At=rt[0];if(!(At<=E.K))if(E.K=At,rt=rt[1],E.I==2)if(rt[0]=="c"){E.M=rt[1],E.ba=rt[2];const pi=rt[3];pi!=null&&(E.ka=pi,E.j.info("VER="+E.ka));const ds=rt[4];ds!=null&&(E.za=ds,E.j.info("SVER="+E.za));const Oi=rt[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(k=1.5*Oi,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Li=h.g;if(Li){const Na=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var Q=k.h;Q.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ql(Q,Q.h),Q.h=null))}if(k.G){const Ao=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(k.wa=Ao,ct(k.J,k.G,Ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var de=h;if(k.na=hh(k,k.L?k.ba:null,k.W),de.L){Zl(k.h,de);var Fe=de,Bt=k.O;Bt&&(Fe.H=Bt),Fe.D&&(ns(Fe),ts(Fe)),k.g=de}else ah(k);E.i.length>0&&us(E)}else rt[0]!="stop"&&rt[0]!="close"||hs(E,7);else E.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?hs(E,7):ac(E):rt[0]!="noop"&&E.l&&E.l.qa(rt),E.A=0)}}Dt(4)}catch{}}var $t=class{constructor(h,b){this.g=h,this.map=b}};function Xl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ss(h){return h.h?1:h.g?h.g.size:0}function rs(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Ql(h,b){h.g?h.g.add(b):h.h=b}function Zl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Xl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.G);return b}return A(h.i)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(h,b){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const k=h[E].indexOf("=");let H,Q=null;k>=0?(H=h[E].substring(0,k),Q=h[E].substring(k+1)):H=h[E],b(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ti(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof ti?(this.l=h.l,hn(this,h.j),this.o=h.o,this.g=h.g,dr(this,h.u),this.h=h.h,Jl(this,sh(h.i)),this.m=h.m):h&&(b=String(h).match(eh))?(this.l=!1,hn(this,b[1]||"",!0),this.o=as(b[2]||""),this.g=as(b[3]||"",!0),dr(this,b[4]),this.h=as(b[5]||"",!0),Jl(this,b[6]||"",!0),this.m=as(b[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}ti.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Ea(b,bo,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Ea(b,bo,!0),"@"),h.push(Is(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ea(E,E.charAt(0)=="/"?ec:th,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ea(E,nh)),h.join("")},ti.prototype.resolve=function(h){const b=Xt(this);let E=!!h.j;E?hn(b,h.j):E=!!h.o,E?b.o=h.o:E=!!h.g,E?b.g=h.g:E=h.u!=null;var k=h.h;if(E)dr(b,h.u);else if(E=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var H=b.h.lastIndexOf("/");H!=-1&&(k=b.h.slice(0,H+1)+k)}if(H=k,H==".."||H==".")k="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){k=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let de=0;de<H.length;){const Fe=H[de++];Fe=="."?k&&de==H.length&&Q.push(""):Fe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),k&&de==H.length&&Q.push("")):(Q.push(Fe),k=!0)}k=Q.join("/")}else k=H}return E?b.h=k:E=h.i.toString()!=="",E?Jl(b,sh(h.i)):E=!!h.m,E&&(b.m=h.m),b};function Xt(h){return new ti(h)}function hn(h,b,E){h.j=E?as(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function dr(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Jl(h,b,E){b instanceof mr?(h.i=b,_o(h.i,h.l)):(E||(b=Ea(b,fr)),h.i=new mr(b,h.l))}function ct(h,b,E){h.i.set(b,E)}function wa(h){return ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function as(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ea(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,qn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bo=/[#\/\?@]/g,th=/[#\?:]/g,ec=/[#\?]/g,fr=/[#\?@]/g,nh=/#/g;function mr(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&vo(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=mr.prototype,t.add=function(h,b){Hn(this),this.i=null,h=pr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function ih(h,b){Hn(h),b=pr(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function tc(h,b){return Hn(h),b=pr(h,b),h.g.has(b)}t.forEach=function(h,b){Hn(this),this.g.forEach(function(E,k){E.forEach(function(H){h.call(b,H,k,this)},this)},this)};function nc(h,b){Hn(h);let E=[];if(typeof b=="string")tc(h,b)&&(E=E.concat(h.g.get(pr(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)E=E.concat(h[b]);return E}t.set=function(h,b){return Hn(this),this.i=null,h=pr(this,h),tc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=nc(this,h),h.length>0?String(h[0]):b):b};function xo(h,b,E){ih(h,b),E.length>0&&(h.i=null,h.g.set(pr(h,b),A(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let k=0;k<b.length;k++){var E=b[k];const H=Is(E);E=nc(this,E);for(let Q=0;Q<E.length;Q++){let de=H;E[Q]!==""&&(de+="="+Is(E[Q])),h.push(de)}}return this.i=h.join("&")};function sh(h){const b=new mr;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function pr(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function _o(h,b){b&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(E,k){const H=k.toLowerCase();k!=H&&(ih(this,k),xo(this,H,E))},h)),h.j=b}function Vi(h,b){const E=new Ii;if(c.Image){const k=new Image;k.onload=v(fi,E,"TestLoadImage: loaded",!0,b,k),k.onerror=v(fi,E,"TestLoadImage: error",!1,b,k),k.onabort=v(fi,E,"TestLoadImage: abort",!1,b,k),k.ontimeout=v(fi,E,"TestLoadImage: timeout",!1,b,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else b(!1)}function ic(h,b){const E=new Ii,k=new AbortController,H=setTimeout(()=>{k.abort(),fi(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:k.signal}).then(Q=>{clearTimeout(H),Q.ok?fi(E,"TestPingServer: ok",!0,b):fi(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),fi(E,"TestPingServer: error",!1,b)})}function fi(h,b,E,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(E)}catch{}}function gr(){this.g=new Tt}function os(h){this.i=h.Sb||null,this.h=h.ab||!1}x(os,vn),os.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(h,b){Pt.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ta,Pt),t=Ta.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,ji(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?yr(this):ji(this),this.readyState==3&&wo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,yr(this))},t.Na=function(h){this.g&&(this.response=h,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ji(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function ji(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function mi(h){let b="";return Ae(h,function(E,k){b+=k,b+=":",b+=E,b+=`\r
`}),b}function Sa(h,b,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=mi(E),typeof h=="string"?E!=null&&Is(E):ct(h,b,E))}function dt(h){Pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(dt,Pt);var ls=/^https?$/i,sc=["POST","PUT"];t=dt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(Q){Aa(this,Q);return}if(h=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)E.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())E.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(sc,b,void 0)>=0)||k||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of E)this.g.setRequestHeader(Q,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Aa(this,Q)}};function Aa(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,rc(h),Ds(h)}function rc(h){h.A||(h.A=!0,Nt(h,"complete"),Nt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Nt(this,"complete"),Nt(this,"abort"),Ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ka(this):this.Xa())},t.Xa=function(){ka(this)};function ka(h){if(h.h&&typeof l<"u"){if(h.v&&Pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Nt(h,"readystatechange"),Pi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var k;if(k=Q===0){let de=String(h.D).match(eh)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),k=!ls.test(de?de.toLowerCase():"")}E=k}if(E)Nt(h,"complete"),Nt(h,"success");else{h.o=6;try{var H=Pi(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",rc(h)}}finally{Ds(h)}}}}function Ds(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,b||Nt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),ot(b)}};function xn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(h){const b={};h=(h.g&&Pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(I(h[k]))continue;var E=Zu(h[k]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=b[H]||[];b[H]=Q,Q.push(E)}je(b,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function vr(h){this.za=0,this.i=[],this.j=new Ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cs("baseRetryDelayMs",5e3,h),this.Za=cs("retryDelaySeedMs",1e4,h),this.Ta=cs("forwardChannelMaxRetries",2,h),this.va=cs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Xl(h&&h.concurrentRequestLimit),this.Ba=new gr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vr.prototype,t.ka=8,t.I=1,t.connect=function(h,b,E,k){Ot(0),this.W=h,this.H=b||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=hh(this,null,this.W),us(this)};function ac(h){if(Eo(h),h.I==3){var b=h.V++,E=Xt(h.J);if(ct(E,"SID",h.M),ct(E,"RID",b),ct(E,"TYPE","terminate"),Ra(h,E),b=new Di(h,h.j,b),b.M=2,b.A=wa(Xt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=b.A,E=!0),E||(b.g=dh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ts(b)}uh(h)}function br(h){h.g&&(lc(h),h.g.cancel(),h.g=null)}function Eo(h){br(h),h.v&&(c.clearTimeout(h.v),h.v=null),So(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function us(h){if(!Yl(h.h)&&!h.m){h.m=!0;var b=h.Ea;oe||T(),ue||(oe(),ue=!0),R.add(b,h),h.D=0}}function To(h,b){return ss(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Wi(p(h.Ea,h,b),ch(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Di(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=rh(this,H,b),E=Xt(this.J),ct(E,"RID",h),ct(E,"CVER",22),this.G&&ct(E,"X-HTTP-Session-Id",this.G),Ra(this,E),Q&&(this.R?b="headers="+Is(mi(Q))+"&"+b:this.u&&Sa(E,this.u,Q)),Ql(this.h,H),this.Ra&&ct(E,"TYPE","init"),this.S?(ct(E,"$req",b),ct(E,"SID","null"),H.U=!0,es(H,E,null)):es(H,E,b),this.I=2}}else this.I==3&&(h?oc(this,h):this.i.length==0||Yl(this.h)||oc(this))};function oc(h,b){var E;b?E=b.l:E=h.V++;const k=Xt(h.J);ct(k,"SID",h.M),ct(k,"RID",E),ct(k,"AID",h.K),Ra(h,k),h.u&&h.o&&Sa(k,h.u,h.o),E=new Di(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),b&&(h.i=b.G.concat(h.i)),b=rh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ql(h.h,E),es(E,k,b)}function Ra(h,b){h.H&&Ae(h.H,function(E,k){ct(b,k,E)}),h.l&&Ae({},function(E,k){ct(b,k,E)})}function rh(h,b,E){E=Math.min(h.i.length,E);const k=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let Fe=-1;for(;;){const Bt=["count="+E];Fe==-1?E>0?(Fe=H[0].g,Bt.push("ofs="+Fe)):Fe=0:Bt.push("ofs="+Fe);let rt=!0;for(let At=0;At<E;At++){var Q=H[At].g;const pi=H[At].map;if(Q-=Fe,Q<0)Fe=Math.max(0,H[At].g-100),rt=!1;else try{Q="req"+Q+"_"||"";try{var de=pi instanceof Map?pi:Object.entries(pi);for(const[ds,Oi]of de){let Li=Oi;d(Oi)&&(Li=De(Oi)),Bt.push(Q+ds+"="+encodeURIComponent(Li))}}catch(ds){throw Bt.push(Q+"type="+encodeURIComponent("_badmap")),ds}}catch{k&&k(pi)}}if(rt){de=Bt.join("&");break e}}de=void 0}return h=h.i.splice(0,E),b.G=h,de}function ah(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;oe||T(),ue||(oe(),ue=!0),R.add(b,h),h.A=0}}function Ca(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Wi(p(h.Da,h),ch(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Wi(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),br(this),oh(this))};function lc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function oh(h){h.g=new Di(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Xt(h.na);ct(b,"RID","rpc"),ct(b,"SID",h.M),ct(b,"AID",h.K),ct(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&ct(b,"TO",h.ia),ct(b,"TYPE","xmlhttp"),Ra(h,b),h.u&&h.o&&Sa(b,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=wa(Xt(b)),E.u=null,E.R=!0,go(E,h)}t.Va=function(){this.C!=null&&(this.C=null,br(this),Ca(this),Ot(19))};function So(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function lh(h,b){var E=null;if(h.g==b){So(h),lc(h),h.g=null;var k=2}else if(rs(h.h,b))E=b.G,Zl(h.h,b),k=1;else return;if(h.I!=0){if(b.o)if(k==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var H=h.D;k=It(),Nt(k,new Zi(k,E)),us(h)}else ah(h);else if(H=b.m,H==3||H==0&&b.X>0||!(k==1&&To(h,b)||k==2&&Ca(h)))switch(E&&E.length>0&&(b=h.h,b.i=b.i.concat(E)),H){case 1:hs(h,5);break;case 4:hs(h,10);break;case 3:hs(h,6);break;default:hs(h,2)}}}function ch(h,b){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*b}function hs(h,b){if(h.j.info("Error code "+b),b==2){var E=p(h.bb,h),k=h.Ua;const H=!k;k=new ti(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(k,"https"),wa(k),H?Vi(k.toString(),E):ic(k.toString(),E)}else Ot(2);h.I=0,h.l&&h.l.pa(b),uh(h),Eo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const b=Wl(h.h);(b.length!=0||h.i.length!=0)&&(N(h.ja,b),N(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function hh(h,b,E){var k=E instanceof ti?Xt(E):new ti(E);if(k.g!="")b&&(k.g=b+"."+k.g),dr(k,k.u);else{var H=c.location;k=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;const Q=new ti(null);k&&hn(Q,k),b&&(Q.g=b),H&&dr(Q,H),E&&(Q.h=E),k=Q}return E=h.G,b=h.wa,E&&b&&ct(k,E,b),ct(k,"VER",h.ka),Ra(h,k),k}function dh(h,b,E){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new dt(new os({ab:E})):new dt(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}t=fh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xr(){}xr.prototype.g=function(h,b){return new zn(h,b)};function zn(h,b){Pt.call(this),this.g=new vr(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!I(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Vs(this)}x(zn,Pt),zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){ac(this.g)},zn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=De(h),h=E);b.i.push(new $t(b.Ya++,h)),b.I==3&&us(b)},zn.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,zn.Z.N.call(this)};function mh(h){Se.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}x(mh,Se);function ph(){Be.call(this),this.status=1}x(ph,Be);function Vs(h){this.g=h}x(Vs,fh),Vs.prototype.ra=function(){Nt(this.g,"a")},Vs.prototype.qa=function(h){Nt(this.g,new mh(h))},Vs.prototype.pa=function(h){Nt(this.g,new ph)},Vs.prototype.oa=function(){Nt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,XA=function(){return new xr},$A=function(){return It()},KA=xe,hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Gd=xa,Kl.COMPLETE="complete",GA=Kl,St.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,eu=St,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,HA=dt}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",FE="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new y0("@firebase/firestore");function sl(){return oo.logLevel}function ge(t,...e){if(oo.logLevel<=Ze.DEBUG){const n=e.map(R0);oo.debug(`Firestore (${Ll}): ${t}`,...n)}}function cr(t,...e){if(oo.logLevel<=Ze.ERROR){const n=e.map(R0);oo.error(`Firestore (${Ll}): ${t}`,...n)}}function Tl(t,...e){if(oo.logLevel<=Ze.WARN){const n=e.map(R0);oo.warn(`Firestore (${Ll}): ${t}`,...n)}}function R0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YA(t,s,n)}function YA(t,e,n){let s=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function lt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||YA(e,a,s)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class V3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class j3{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let l=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ir,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ir)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt(typeof s.accessToken=="string",31837,{l:s}),new QA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class P3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new P3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=z3(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function We(t,e){return t<e?-1:t>e?1:0}function dy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Tg(a)===Tg(l)?We(a,l):Tg(a)?1:-1}return We(t.length,e.length)}const U3=55296,B3=57343;function Tg(t){const e=t.charCodeAt(0);return e>=U3&&e<=B3}function Sl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__name__";class ys{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ys.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const s=ys.isNumericId(e),a=ys.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ys.extractNumericId(e).compare(ys.extractNumericId(n)):dy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class bt extends ys{construct(e,n,s){return new bt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const F3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends ys{construct(e,n,s){return new kn(e,n,s)}static isValidIdentifier(e){return F3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HE}static keyField(){return new kn([HE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(bt.fromString(e))}static fromName(e){return new Te(bt.fromString(e).popFirst(5))}static empty(){return new Te(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q3(t,e,n,s){if(e===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GE(t){if(!Te.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KE(t){if(Te.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function As(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(t);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hu(t,e){if(!WA(t))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,XE=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*XE);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XE}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:sn("string",wt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new wt(0,0))}static max(){return new Pe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function H3(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new sa(a,Te.empty(),e)}function G3(t){return new sa(t.readTime,t.key,Tu)}class sa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new sa(Pe.min(),Te.empty(),Tu)}static max(){return new sa(Pe.max(),Te.empty(),Tu)}}function K3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==$3)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>s(f)))})),c=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((v=>{c[p]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function Y3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-1;function zf(t){return t==null}function mf(t){return t===0&&1/t==-1/0}function Q3(t){return typeof t=="number"&&Number.isInteger(t)&&!mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="";function Z3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YE(e)),e=W3(t.get(n),e);return YE(e)}function W3(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case JA:n+="";break;default:n+=l}}return n}function YE(t){return t+JA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??An.RED,this.left=a??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new An(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return An.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new cn(kn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new tk("Invalid base64 string: "+l):l}})(e);return new Rn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=J3.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function aa(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="server_timestamp",ik="__type__",sk="__previous_value__",rk="__local_write_time__";function I0(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ik])==null?void 0:s.stringValue)===nk}function Uf(t){const e=t.mapValue.fields[sk];return I0(e)?Uf(e):e}function Su(t){const e=ra(t.mapValue.fields[rk].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,s,a,l,c,d,f,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const pf="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||pf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="__type__",t5="__max__",kd={mapValue:{}},ok="__vector__",gf="value";function oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I0(t)?4:i5(t)?9007199254740991:n5(t)?10:11:Ce(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=oa(t);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ra(a.timestampValue),d=ra(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return aa(a.bytesValue).isEqual(aa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ht(a.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ht(a.integerValue)===Ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ht(a.doubleValue),d=Ht(l.doubleValue);return c===d?mf(c)===mf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Sl(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(QE(c)!==QE(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!ks(c[f],d[f])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function ku(t,e){return(t.values||[]).find((n=>ks(n,e)))!==void 0}function Al(t,e){if(t===e)return 0;const n=oa(t),s=oa(e);if(n!==s)return We(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Ht(l.integerValue||l.doubleValue),f=Ht(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return WE(t.timestampValue,e.timestampValue);case 4:return WE(Su(t),Su(e));case 5:return dy(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=aa(l),f=aa(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=We(d[p],f[p]);if(v!==0)return v}return We(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=We(Ht(l.latitude),Ht(c.latitude));return d!==0?d:We(Ht(l.longitude),Ht(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return JE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var w,A,N,O;const d=l.fields||{},f=c.fields||{},p=(w=d[gf])==null?void 0:w.arrayValue,v=(A=f[gf])==null?void 0:A.arrayValue,x=We(((N=p==null?void 0:p.values)==null?void 0:N.length)||0,((O=v==null?void 0:v.values)==null?void 0:O.length)||0);return x!==0?x:JE(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===kd.mapValue&&c===kd.mapValue)return 0;if(l===kd.mapValue)return 1;if(c===kd.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let x=0;x<f.length&&x<v.length;++x){const w=dy(f[x],v[x]);if(w!==0)return w;const A=Al(d[f[x]],p[v[x]]);if(A!==0)return A}return We(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function WE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ra(t),s=ra(e),a=We(n.seconds,s.seconds);return a!==0?a:We(n.nanos,s.nanos)}function JE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Al(n[a],s[a]);if(l)return l}return We(n.length,s.length)}function kl(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ra(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return aa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=fy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${fy(n.fields[c])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function Kd(t){switch(oa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(t);return e?16+Kd(e):16;case 5:return 2*t.stringValue.length;case 6:return aa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Kd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return fa(s.fields,((l,c)=>{a+=l.length+Kd(c)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function eT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function my(t){return!!t&&"integerValue"in t}function D0(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function n5(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ak])==null?void 0:s.stringValue)===ok}function uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return{...t}}function i5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=kn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=uu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];$d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){fa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Zn(uu(this.value))}}function lk(t){const e=[];return fa(t.fields,((n,s)=>{const a=new kn([n]);if($d(s)){const l=lk(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,Pe.min(),Pe.min(),Pe.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,a){return new Dn(e,1,n,Pe.min(),s,a,0)}static newNoDocument(e,n){return new Dn(e,2,n,Pe.min(),Pe.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Pe.min(),Pe.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function iT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(c.referenceValue),n.key):s=Al(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function sT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function s5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{}class nn extends ck{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a5(e,n,s):n==="array-contains"?new c5(e,s):n==="in"?new u5(e,s):n==="not-in"?new h5(e,s):n==="array-contains-any"?new d5(e,s):new nn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new o5(e,s):new l5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Al(n,this.value)):n!==null&&oa(this.value)===oa(n)&&this.matchesComparison(Al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends ck{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xi(e,n)}matches(e){return uk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uk(t){return t.op==="and"}function hk(t){return r5(t)&&uk(t)}function r5(t){for(const e of t.filters)if(e instanceof Xi)return!1;return!0}function py(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+kl(t.value);if(hk(t))return t.filters.map((e=>py(e))).join(",");{const e=t.filters.map((n=>py(n))).join(",");return`${t.op}(${e})`}}function dk(t,e){return t instanceof nn?(function(s,a){return a instanceof nn&&s.op===a.op&&s.field.isEqual(a.field)&&ks(s.value,a.value)})(t,e):t instanceof Xi?(function(s,a){return a instanceof Xi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&dk(c,a.filters[d])),!0):!1})(t,e):void Ce(19439)}function fk(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`})(t):t instanceof Xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(fk).join(" ,")+"}"})(t):"Filter"}class a5 extends nn{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class o5 extends nn{constructor(e,n){super(e,"in",n),this.keys=mk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l5 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=mk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Te.fromName(s.referenceValue)))}class c5 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return D0(n)&&ku(n.arrayValue,this.value)}}class u5 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}}class h5 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ku(this.value.arrayValue,n)}}class d5 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!D0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ku(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function rT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new f5(t,e,n,s,a,l,c)}function M0(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>py(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>kl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>kl(s))).join(",")),e.Te=n}return e.Te}function V0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sT(t.startAt,e.startAt)&&sT(t.endAt,e.endAt)}function gy(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m5(t,e,n,s,a,l,c,d){return new Bl(t,e,n,s,a,l,c,d)}function j0(t){return new Bl(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pk(t){return t.collectionGroup!==null}function hu(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new cn(kn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ru(l,s))})),n.has(kn.keyField().canonicalString())||e.Ie.push(new Ru(kn.keyField(),s))}return e.Ie}function ws(t){const e=Le(t);return e.Ee||(e.Ee=p5(e,hu(t))),e.Ee}function p5(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ru(a.field,l)}));const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function yy(t,e){const n=t.filters.concat([e]);return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vf(t,e,n){return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return V0(ws(t),ws(e))&&t.limitType===e.limitType}function gk(t){return`${M0(ws(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>fk(a))).join(", ")}]`),zf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>kl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>kl(a))).join(",")),`Target(${s})`})(ws(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,f){const p=iT(c,d,f);return c.inclusive?p<=0:p<0})(s.startAt,hu(s),a)||s.endAt&&!(function(c,d,f){const p=iT(c,d,f);return c.inclusive?p>=0:p>0})(s.endAt,hu(s),a))})(t,e)}function g5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yk(t){return(e,n)=>{let s=!1;for(const a of hu(t)){const l=y5(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function y5(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),p=d.data.field(l);return f!==null&&p!==null?Al(f,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return ek(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=new jt(Te.comparator);function ur(){return v5}const vk=new jt(Te.comparator);function tu(...t){let e=vk;for(const n of t)e=e.insert(n.key,n);return e}function bk(t){let e=vk;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Wa(){return du()}function xk(){return du()}function du(){return new fo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const b5=new jt(Te.comparator),x5=new cn(Te.comparator);function Je(...t){let e=x5;for(const n of t)e=e.add(n);return e}const _5=new cn(We);function w5(){return _5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function _k(t){return{integerValue:""+t}}function E5(t,e){return Q3(e)?_k(e):P0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function T5(t,e,n){return t instanceof bf?(function(a,l){const c={fields:{[ik]:{stringValue:nk},[rk]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&I0(l)&&(l=Uf(l)),l&&(c.fields[sk]=l),{mapValue:c}})(n,e):t instanceof Cu?Ek(t,e):t instanceof Nu?Tk(t,e):(function(a,l){const c=wk(a,l),d=oT(c)+oT(a.Ae);return my(c)&&my(a.Ae)?_k(d):P0(a.serializer,d)})(t,e)}function S5(t,e,n){return t instanceof Cu?Ek(t,e):t instanceof Nu?Tk(t,e):n}function wk(t,e){return t instanceof xf?(function(s){return my(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class bf extends qf{}class Cu extends qf{constructor(e){super(),this.elements=e}}function Ek(t,e){const n=Sk(e);for(const s of t.elements)n.some((a=>ks(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Nu extends qf{constructor(e){super(),this.elements=e}}function Tk(t,e){let n=Sk(e);for(const s of t.elements)n=n.filter((a=>!ks(a,s)));return{arrayValue:{values:n}}}class xf extends qf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oT(t){return Ht(t.integerValue||t.doubleValue)}function Sk(t){return D0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A5(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Cu&&a instanceof Cu||s instanceof Nu&&a instanceof Nu?Sl(s.elements,a.elements,ks):s instanceof xf&&a instanceof xf?ks(s.Ae,a.Ae):s instanceof bf&&a instanceof bf})(t.transform,e.transform)}class k5{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hf{}function Ak(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new O0(t.key,Ki.none()):new Gu(t.key,t.data,Ki.none());{const n=t.data,s=Zn.empty();let a=new cn(kn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ma(t.key,s,new ui(a.toArray()),Ki.none())}}function R5(t,e,n){t instanceof Gu?(function(a,l,c){const d=a.value.clone(),f=cT(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ma?(function(a,l,c){if(!Xd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=cT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(kk(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,s){return t instanceof Gu?(function(l,c,d,f){if(!Xd(l.precondition,c))return d;const p=l.value.clone(),v=uT(l.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ma?(function(l,c,d,f){if(!Xd(l.precondition,c))return d;const p=uT(l.fieldTransforms,f,c),v=c.data;return v.setAll(kk(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,s):(function(l,c,d){return Xd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function C5(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=wk(s.transform,a||null);l!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Sl(s,a,((l,c)=>A5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gu extends Hf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ma extends Hf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function cT(t,e,n){const s=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,S5(c,d,n[a]))}return s}function uT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,T5(l,c,e))}return s}class O0 extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N5 extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&R5(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=Ak(c,d);f!==null&&s.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,((n,s)=>lT(n,s)))&&Sl(this.baseMutations,e.baseMutations,((n,s)=>lT(n,s)))}}class L0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){lt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return b5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new L0(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,tt;function V5(t){switch(t){case ne.OK:return Ce(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function Rk(t){if(t===void 0)return cr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Jt.OK:return ne.OK;case Jt.CANCELLED:return ne.CANCELLED;case Jt.UNKNOWN:return ne.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ne.INTERNAL;case Jt.UNAVAILABLE:return ne.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ne.NOT_FOUND;case Jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Jt.ABORTED:return ne.ABORTED;case Jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Jt.DATA_LOSS:return ne.DATA_LOSS;default:return Ce(39323,{code:t})}}(tt=Jt||(Jt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new ea([4294967295,4294967295],0);function hT(t){const e=j5().encode(t),n=new qA;return n.update(e),new Uint8Array(n.digest())}function dT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ea([n,s],0),new ea([a,l],0)]}class z0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ea.fromNumber(s)));return a.compare(P5)===1&&(a=new ea([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hT(e),[s,a]=dT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new z0(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=hT(e),[s,a]=dT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gf(Pe.min(),a,new jt(We),ur(),Je())}}class Ku{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ku(s,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Ck{constructor(e,n){this.targetId=e,this.Ce=n}}class Nk{constructor(e,n,s=Rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class fT{constructor(){this.ve=0,this.Fe=mT(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ce(38017,{changeType:l})}})),new Ku(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=mT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=Rd(),this.He=Rd(),this.Ye=new jt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(gy(l))if(s===0){const c=new Te(l.path);this.et(n,c,Dn.newNoDocument(c,Pe.min()))}else lt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=aa(s).toUint8Array()}catch(f){if(f instanceof tk)return Tl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new z0(c,a,l)}catch(f){return Tl(f instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&gy(d.target)){const f=new Te(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Dn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Je();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Gf(e,n,this.Ye,this.je,s);return this.je=ur(),this.Je=Rd(),this.He=Rd(),this.Ye=new jt(We),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cn(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cn(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rd(){return new jt(Te.comparator)}function mT(){return new jt(Te.comparator)}const L5={asc:"ASCENDING",desc:"DESCENDING"},z5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U5={and:"AND",or:"OR"};class B5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||zf(e)?e:{value:e}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ik(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function F5(t,e){return _f(t,e.toTimestamp())}function Es(t){return lt(!!t,49232),Pe.fromTimestamp((function(n){const s=ra(n);return new wt(s.seconds,s.nanos)})(t))}function U0(t,e){return by(t,e).canonicalString()}function by(t,e){const n=(function(a){return new bt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Dk(t){const e=bt.fromString(t);return lt(Ok(e),10190,{key:e.toString()}),e}function xy(t,e){return U0(t.databaseId,e.path)}function Sg(t,e){const n=Dk(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(Vk(n))}function Mk(t,e){return U0(t.databaseId,e)}function q5(t){const e=Dk(t);return e.length===4?bt.emptyPath():Vk(e)}function _y(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vk(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pT(t,e,n){return{name:xy(t,e),fields:n.value.mapValue.fields}}function H5(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(lt(v===void 0||typeof v=="string",58123),Rn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Rn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?ne.UNKNOWN:Rk(p.code);return new me(v,p.message||"")})(c);n=new Nk(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Sg(t,s.document.name),l=Es(s.document.updateTime),c=s.document.createTime?Es(s.document.createTime):Pe.min(),d=new Zn({mapValue:{fields:s.document.fields}}),f=Dn.newFoundDocument(a,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Yd(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Sg(t,s.document),l=s.readTime?Es(s.readTime):Pe.min(),c=Dn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Yd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Sg(t,s.document),l=s.removedTargetIds||[];n=new Yd([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new M5(a,l),d=s.targetId;n=new Ck(d,c)}}return n}function G5(t,e){let n;if(e instanceof Gu)n={update:pT(t,e.key,e.value)};else if(e instanceof O0)n={delete:xy(t,e.key)};else if(e instanceof ma)n={update:pT(t,e.key,e.data),updateMask:eL(e.fieldMask)};else{if(!(e instanceof N5))return Ce(16599,{Vt:e.type});n={verify:xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof bf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:F5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function K5(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Es(a.updateTime):Es(l);return c.isEqual(Pe.min())&&(c=Es(l)),new k5(c,a.transformResults||[])})(n,e)))):[]}function $5(t,e){return{documents:[Mk(t,e.path)]}}function X5(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Mk(t,a);const l=(function(p){if(p.length!==0)return Pk(Xi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:al(w.field),direction:Z5(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=vy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function Y5(t){let e=q5(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){lt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const w=jk(x);return w instanceof Xi&&hk(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((w=>(function(N){return new Ru(ol(N.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let w;return w=typeof x=="object"?x.value:x,zf(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(x){const w=!!x.before,A=x.values||[];return new yf(A,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const w=!x.before,A=x.values||[];return new yf(A,w)})(n.endAt)),m5(e,a,c,l,d,"F",f,p)}function Q5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ol(n.unaryFilter.field);return nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ol(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ol(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ol(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(ol(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xi.create(n.compositeFilter.filters.map((s=>jk(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function Z5(t){return L5[t]}function W5(t){return z5[t]}function J5(t){return U5[t]}function al(t){return{fieldPath:t.canonicalString()}}function ol(t){return kn.fromServerFormat(t.fieldPath)}function Pk(t){return t instanceof nn?(function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(n.field),op:W5(n.op),value:n.value}}})(t):t instanceof Xi?(function(n){const s=n.getFilters().map((a=>Pk(a)));return s.length===1?s[0]:{compositeFilter:{op:J5(n.op),filters:s}}})(t):Ce(54877,{filter:t})}function eL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ok(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,s,a,l=Pe.min(),c=Pe.min(),d=Rn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.yt=e}}function nL(t){const e=Y5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.Cn=new sL}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(sa.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class sL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new cn(bt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new cn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lk=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(Lk,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rl(0)}static cr(){return new Rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LruGarbageCollector",rL=1048576;function vT([t,e],[n,s]){const a=We(t,n);return a===0?We(e,s):a}class aL{constructor(e){this.Ir=e,this.buffer=new cn(vT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(yT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?ge(yT,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Vr(3e5)}))}}class lL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Lf.ce);const s=new aL(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(gT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(s=x,d=Date.now(),this.removeTargets(e,s,n)))).next((x=>(l=x,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(p=Date.now(),sl()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function cL(t,e){return new lL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.changes=new fo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&fu(s.mutation,a,ui.empty(),wt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const a=Wa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=tu();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Wa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=ur();const c=du(),d=(function(){return du()})();return n.forEach(((f,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ma)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),fu(v.mutation,p,v.mutation.getFieldMask(),wt.now())):c.set(p.key,ui.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>d.set(p,new hL(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=du();let a=new jt(((c,d)=>c-d)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let v=s.get(f)||ui.empty();v=d.applyToLocalView(p,v),s.set(f,v);const x=(a.get(d.batchId)||Je()).add(f);a=a.insert(d.batchId,x)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,x=xk();v.forEach((w=>{if(!l.has(w)){const A=Ak(n.get(w),s.get(w));A!==null&&x.set(w,A),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,x))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Wa());let d=Tu,f=l;return c.next((p=>se.forEach(p,((v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{f=f.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Je()))).next((v=>({batchId:d,changes:bk(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let a=tu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=tu();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(f=>{const p=(function(x,w){return new Bl(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((x,w)=>{c=c.insert(x,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((f,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Dn.newInvalidDocument(v)))}));let d=tu();return c.forEach(((f,p)=>{const v=l.get(f);v!==void 0&&fu(v.mutation,p,ui.empty(),wt.now()),Ff(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Es(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:nL(a.bundledQuery),readTime:Es(a.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.overlays=new jt(Te.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Wa();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Wa(),l=n.length+1,c=new Te(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new jt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Wa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Wa(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return se.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new D5(n,s));let l=this.qr.get(n);l===void 0&&(l=Je(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.Qr=new cn(mn.$r),this.Ur=new cn(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Te(new bt([])),s=new mn(n,e),a=new mn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new bt([])),s=new mn(n,e),a=new mn(n,e+1);let l=Je();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new mn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(mn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new I5(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new mn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?N0:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cn(We);return n.forEach((a=>{const l=new mn(a,0),c=new mn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const c=new mn(new Te(l),0);let d=new cn(We);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(f.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(a=>{const l=new mn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new mn(n,0),a=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.ri=e,this.docs=(function(){return new jt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Dn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ur();const c=n.path,d=new Te(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||K3(G3(v),s)<=0||(a.has(v.key)||Ff(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ce(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vL(this)}getSize(e){return se.resolve(this.size)}}class vL extends uL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.persistence=e,this.si=new fo((n=>M0(n)),V0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new B0,this.targetCount=0,this.ai=Rl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lf(0),this.li=!1,this.li=!0,this.hi=new pL,this.referenceDelegate=e(this),this.Pi=new bL(this),this.indexManager=new iL,this.remoteDocumentCache=(function(a){return new yL(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tL(n),this.Ii=new fL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new gL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new xL(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class xL extends X3{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.Ri=new B0,this.Vi=null}static mi(e){return new F0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const a=Te.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wf{constructor(e,n){this.persistence=e,this.pi=new fo((s=>Z3(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=cL(this,n)}static mi(e,n){return new wf(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Pe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kd(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new q0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wj()?8:Y3(Vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new _L;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(sl()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(sl()<=Ze.DEBUG&&ge("QueryEngine","Query:",rl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(sl()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):se.resolve())}ys(e,n){if(aT(n))return se.resolve(null);let s=ws(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vf(n,null,"F"),s=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Je(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((f=>{const p=this.Ds(n,d);return this.Cs(n,p,c,f.readTime)?this.ys(e,vf(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,s,a){return aT(n)||a.isEqual(Pe.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?se.resolve(null):(sl()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(n)),this.vs(e,c,n,H3(a,Tu)).next((d=>d)))}))}Ds(e,n){let s=new cn(yk(e));return n.forEach(((a,l)=>{Ff(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return sl()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ps.getDocumentsMatchingQuery(e,n,sa.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LocalStore",EL=3e8;class TL{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new jt(We),this.xs=new fo((l=>M0(l)),V0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SL(t,e,n,s){return new TL(t,e,n,s)}async function Uk(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let f=Je();for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(s,f).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function AL(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,v){const x=p.batch,w=x.keys();let A=se.resolve();return w.forEach((N=>{A=A.next((()=>v.getEntry(f,N))).next((O=>{const M=p.docVersions.get(N);lt(M!==null,48541),O.version.compareTo(M)<0&&(x.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),v.addEntry(O)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,x)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let f=Je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Bk(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kL(t,e){const n=Le(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,x)=>{const w=a.get(x);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,x))));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(Rn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,s)),a=a.insert(x,A),(function(O,M,B){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=EL?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,A,v)&&d.push(n.Pi.updateTargetData(l,A))}));let f=ur(),p=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(RL(l,c,e.documentUpdates).next((v=>{f=v.ks,p=v.qs}))),!s.isEqual(Pe.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((x=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return se.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function RL(t,e,n){let s=Je(),a=Je();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=ur();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ge(H0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function CL(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=N0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NL(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Qr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function wy(t,e,n){const s=Le(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ul(c))throw c;ge(H0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function bT(t,e,n){const s=Le(t);let a=Pe.min(),l=Je();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,v){const x=Le(f),w=x.xs.get(v);return w!==void 0?se.resolve(x.Ms.get(w)):x.Pi.getTargetData(p,v)})(s,c,ws(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Pe.min(),n?l:Je()))).next((d=>(IL(s,g5(e),d),{documents:d,Qs:l})))))}function IL(t,e,n){let s=t.Os.get(e)||Pe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class xT{constructor(){this.activeTargetIds=w5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DL{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="ConnectivityMonitor";class wT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(_T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function Ey(){return Cd===null?Cd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="RestConnection",VL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===pf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Ey(),d=this.zo(e,n.toUriEncodedString());ge(Ag,`Sending RPC '${e}' ${c}:`,d,s);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(d),v=jl(p);return this.Jo(e,d,f,s,v).then((x=>(ge(Ag,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw Tl(Ag,`RPC '${e}' ${c} failed with error: `,x,"url: ",d,"request:",s),x}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=VL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class OL extends jL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Ey();return new Promise(((d,f)=>{const p=new HA;p.setWithCredentials(!0),p.listenOnce(GA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Gd.NO_ERROR:const x=p.getResponseJson();ge(Nn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case Gd.TIMEOUT:ge(Nn,`RPC '${e}' ${c} timed out`),f(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:const w=p.getStatus();if(ge(Nn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A==null?void 0:A.error;if(N&&N.status&&N.message){const O=(function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN})(N.status);f(new me(O,N.message))}else f(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(Nn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(Nn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=Ey(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=XA(),d=$A(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const v=l.join("");ge(Nn,`Creating RPC '${e}' stream ${a}: ${v}`,f);const x=c.createWebChannel(v,f);this.I_(x);let w=!1,A=!1;const N=new PL({Yo:M=>{A?ge(Nn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(w||(ge(Nn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),w=!0),ge(Nn,`RPC '${e}' stream ${a} sending:`,M),x.send(M))},Zo:()=>x.close()}),O=(M,B,X)=>{M.listen(B,(q=>{try{X(q)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return O(x,eu.EventType.OPEN,(()=>{A||(ge(Nn,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),O(x,eu.EventType.CLOSE,(()=>{A||(A=!0,ge(Nn,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(x))})),O(x,eu.EventType.ERROR,(M=>{A||(A=!0,Tl(Nn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),N.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),O(x,eu.EventType.MESSAGE,(M=>{var B;if(!A){const X=M.data[0];lt(!!X,16349);const q=X,ae=(q==null?void 0:q.error)||((B=q[0])==null?void 0:B.error);if(ae){ge(Nn,`RPC '${e}' stream ${a} received error:`,ae);const oe=ae.status;let ue=(function(C){const j=Jt[C];if(j!==void 0)return Rk(j)})(oe),R=ae.message;ue===void 0&&(ue=ne.INTERNAL,R="Unknown error status: "+oe+" with message "+ae.message),A=!0,N.a_(new me(ue,R)),x.close()}else ge(Nn,`RPC '${e}' stream ${a} received:`,X),N.u_(X)}})),O(d,KA.STAT_EVENT,(M=>{M.stat===hy.PROXY?ge(Nn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===hy.NOPROXY&&ge(Nn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return new B5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="PersistentStream";class qk{constructor(e,n,s,a,l,c,d,f){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(ET,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(ET,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LL extends qk{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H5(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?Es(c.readTime):Pe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=_y(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=gy(f)?{documents:$5(l,f)}:{query:X5(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ik(l,c.resumeToken);const p=vy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=_f(l,c.snapshotVersion.toTimestamp());const p=vy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=Q5(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=_y(this.serializer),n.removeTarget=e,this.q_(n)}}class zL extends qk{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K5(e.writeResults,e.commitTime),s=Es(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=_y(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>G5(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{}class BL extends UL{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,by(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,by(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class qL{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{mo(this)&&(ge(lo,"Restarting streams for network reachability change."),await(async function(f){const p=Le(f);p.Ea.add(4),await $u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await $f(p)})(this))}))})),this.Ra=new FL(s,a)}}async function $f(t){if(mo(t))for(const e of t.da)await e(!0)}async function $u(t){for(const e of t.da)await e(!1)}function Hk(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),X0(n)?$0(n):Fl(n).O_()&&K0(n,e))}function G0(t,e){const n=Le(t),s=Fl(n);n.Ia.delete(e),s.O_()&&Gk(n,e),n.Ia.size===0&&(s.O_()?s.L_():mo(n)&&n.Ra.set("Unknown"))}function K0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fl(t).Y_(e)}function Gk(t,e){t.Va.Ue(e),Fl(t).Z_(e)}function $0(t){t.Va=new O5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fl(t).start(),t.Ra.ua()}function X0(t){return mo(t)&&!Fl(t).x_()&&t.Ia.size>0}function mo(t){return Le(t).Ea.size===0}function Kk(t){t.Va=void 0}async function HL(t){t.Ra.set("Online")}async function GL(t){t.Ia.forEach(((e,n)=>{K0(t,e)}))}async function KL(t,e){Kk(t),X0(t)?(t.Ra.ha(e),$0(t)):t.Ra.set("Unknown")}async function $L(t,e,n){if(t.Ra.set("Online"),e instanceof Nk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){ge(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ef(t,s)}else if(e instanceof Yd?t.Va.Ze(e):e instanceof Ck?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const s=await Bk(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(Rn.EMPTY_BYTE_STRING,v.snapshotVersion)),Gk(l,f);const x=new Qr(v.target,f,p,v.sequenceNumber);K0(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){ge(lo,"Failed to raise snapshot:",s),await Ef(t,s)}}async function Ef(t,e,n){if(!Ul(e))throw e;t.Ea.add(1),await $u(t),t.Ra.set("Offline"),n||(n=()=>Bk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(lo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $f(t)}))}function $k(t,e){return e().catch((n=>Ef(t,n,e)))}async function Xf(t){const e=Le(t),n=la(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:N0;for(;XL(e);)try{const a=await CL(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,YL(e,a)}catch(a){await Ef(e,a)}Xk(e)&&Yk(e)}function XL(t){return mo(t)&&t.Ta.length<10}function YL(t,e){t.Ta.push(e);const n=la(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Xk(t){return mo(t)&&!la(t).x_()&&t.Ta.length>0}function Yk(t){la(t).start()}async function QL(t){la(t).ra()}async function ZL(t){const e=la(t);for(const n of t.Ta)e.ea(n.mutations)}async function WL(t,e,n){const s=t.Ta.shift(),a=L0.from(s,e,n);await $k(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Xf(t)}async function JL(t,e){e&&la(t).X_&&await(async function(s,a){if((function(c){return V5(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();la(s).B_(),await $k(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Xf(s)}})(t,e),Xk(t)&&Yk(t)}async function TT(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ge(lo,"RemoteStore received new credentials");const s=mo(n);n.Ea.add(3),await $u(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $f(n)}async function e6(t,e){const n=Le(t);e?(n.Ea.delete(2),await $f(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function Fl(t){return t.ma||(t.ma=(function(n,s,a){const l=Le(n);return l.sa(),new LL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:HL.bind(null,t),t_:GL.bind(null,t),r_:KL.bind(null,t),H_:$L.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),X0(t)?$0(t):t.Ra.set("Unknown")):(await t.ma.stop(),Kk(t))}))),t.ma}function la(t){return t.fa||(t.fa=(function(n,s,a){const l=Le(n);return l.sa(),new zL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:QL.bind(null,t),r_:JL.bind(null,t),ta:ZL.bind(null,t),na:WL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Xf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(lo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new Y0(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q0(t,e){if(cr("AsyncQueue",`${e}: ${t}`),Ul(t))return new me(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.ga=new jt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Cl{constructor(e,n,s,a,l,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Cl(e,n,bl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class n6{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Le(n),l=a.queries;a.queries=AT(),l.forEach(((c,d)=>{for(const f of d.Sa)f.onError(s)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function AT(){return new fo((t=>gk(t)),Bf)}async function Qk(t,e){const n=Le(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new t6,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Q0(c,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Z0(n)}async function Zk(t,e){const n=Le(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function i6(t,e){const n=Le(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Z0(n)}function s6(t,e,n){const s=Le(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Z0(t){t.Ca.forEach((e=>{e.next()}))}var Ty,kT;(kT=Ty||(Ty={})).Ma="default",kT.Cache="cache";class Wk{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Cl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.key=e}}class eR{constructor(e){this.key=e}}class r6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=yk(e),this.tu=new bl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ST,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const w=a.get(v),A=Ff(this.query,x)?x:null,N=!!w&&this.mutatedKeys.has(w.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;w&&A?w.data.isEqual(A.data)?N!==O&&(s.track({type:3,doc:A}),M=!0):this.su(w,A)||(s.track({type:2,doc:A}),M=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(d=!0)):!w&&A?(s.track({type:0,doc:A}),M=!0):w&&!A&&(s.track({type:1,doc:w}),M=!0,(f||p)&&(d=!0)),M&&(A?(c=c.add(A),l=O?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,x)=>(function(A,N){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:M})}};return O(A)-O(N)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,c.length!==0||p?{snapshot:new Cl(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ST,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new eR(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Jk(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const W0="SyncEngine";class a6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class o6{constructor(e){this.key=e,this.hu=!1}}class l6{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new fo((d=>gk(d)),Bf),this.Iu=new Map,this.Eu=new Set,this.du=new jt(Te.comparator),this.Au=new Map,this.Ru=new B0,this.Vu={},this.mu=new Map,this.fu=Rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c6(t,e,n=!0){const s=aR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tR(s,e,n,!0),a}async function u6(t,e){const n=aR(t);await tR(n,e,!0,!1)}async function tR(t,e,n,s){const a=await NL(t.localStore,ws(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await h6(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Hk(t.remoteStore,a),d}async function h6(t,e,n,s,a){t.pu=(x,w,A)=>(async function(O,M,B,X){let q=M.view.ru(B);q.Cs&&(q=await bT(O.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,q))));const ae=X&&X.targetChanges.get(M.targetId),oe=X&&X.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(q,O.isPrimaryClient,ae,oe);return CT(O,M.targetId,ue.au),ue.snapshot})(t,x,w,A);const l=await bT(t.localStore,e,!0),c=new r6(e,l.Qs),d=c.ru(l.documents),f=Ku.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,f);CT(t,n,p.au);const v=new a6(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function d6(t,e,n){const s=Le(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Bf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await wy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&G0(s.remoteStore,a.targetId),Sy(s,a.targetId)})).catch(zl)):(Sy(s,a.targetId),await wy(s.localStore,a.targetId,!0))}async function f6(t,e){const n=Le(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),G0(n.remoteStore,s.targetId))}async function m6(t,e,n){const s=_6(t);try{const a=await(function(c,d){const f=Le(c),p=wt.now(),v=d.reduce(((A,N)=>A.add(N.key)),Je());let x,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=ur(),O=Je();return f.Ns.getEntries(A,v).next((M=>{N=M,N.forEach(((B,X)=>{X.isValidDocument()||(O=O.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,N))).next((M=>{x=M;const B=[];for(const X of d){const q=C5(X,x.get(X.key).overlayedDocument);q!=null&&B.push(new ma(X.key,q,lk(q.value.mapValue),Ki.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,B,d)})).next((M=>{w=M;const B=M.applyToLocalDocumentSet(x,O);return f.documentOverlayCache.saveOverlays(A,M.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:bk(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let p=c.Vu[c.currentUser.toKey()];p||(p=new jt(We)),p=p.insert(d,f),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Xu(s,a.changes),await Xf(s.remoteStore)}catch(a){const l=Q0(a,"Failed to persist write");n.reject(l)}}async function nR(t,e){const n=Le(t);try{const s=await kL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?lt(c.hu,14607):a.removedDocuments.size>0&&(lt(c.hu,42227),c.hu=!1))})),await Xu(n,s,e)}catch(s){await zl(s)}}function RT(t,e,n){const s=Le(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Le(c);f.onlineState=d;let p=!1;f.queries.forEach(((v,x)=>{for(const w of x.Sa)w.va(d)&&(p=!0)})),p&&Z0(f)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function p6(t,e,n){const s=Le(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new jt(Te.comparator);c=c.insert(l,Dn.newNoDocument(l,Pe.min()));const d=Je().add(l),f=new Gf(Pe.min(),new Map,new jt(We),c,d);await nR(s,f),s.du=s.du.remove(l),s.Au.delete(e),J0(s)}else await wy(s.localStore,e,!1).then((()=>Sy(s,e,n))).catch(zl)}async function g6(t,e){const n=Le(t),s=e.batch.batchId;try{const a=await AL(n.localStore,e);sR(n,s,null),iR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Xu(n,a)}catch(a){await zl(a)}}async function y6(t,e,n){const s=Le(t);try{const a=await(function(c,d){const f=Le(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next((x=>(lt(x!==null,37113),v=x.keys(),f.mutationQueue.removeMutationBatch(p,x)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);sR(s,e,n),iR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Xu(s,a)}catch(a){await zl(a)}}function iR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function sR(t,e,n){const s=Le(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||rR(t,s)}))}function rR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(G0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),J0(t))}function CT(t,e,n){for(const s of n)s instanceof Jk?(t.Ru.addReference(s.key,e),v6(t,s)):s instanceof eR?(ge(W0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||rR(t,s.key)):Ce(19791,{wu:s})}function v6(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ge(W0,"New document in limbo: "+n),t.Eu.add(s),J0(t))}function J0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(bt.fromString(e)),s=t.fu.next();t.Au.set(s,new o6(n)),t.du=t.du.insert(n,s),Hk(t.remoteStore,new Qr(ws(j0(n.path)),s,"TargetPurposeLimboResolution",Lf.ce))}}async function Xu(t,e,n){const s=Le(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,f)=>{c.push(s.pu(f,e,n).then((p=>{var v;if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(p){a.push(p);const x=q0.As(f.targetId,p);l.push(x)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(f,p){const v=Le(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>se.forEach(p,(w=>se.forEach(w.Es,(A=>v.persistence.referenceDelegate.addReference(x,w.targetId,A))).next((()=>se.forEach(w.ds,(A=>v.persistence.referenceDelegate.removeReference(x,w.targetId,A)))))))))}catch(x){if(!Ul(x))throw x;ge(H0,"Failed to update sequence numbers: "+x)}for(const x of p){const w=x.targetId;if(!x.fromCache){const A=v.Ms.get(w),N=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(w,O)}}})(s.localStore,l))}async function b6(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ge(W0,"User change. New user:",e.toKey());const s=await Uk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new me(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Xu(n,s.Ls)}}function x6(t,e){const n=Le(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let a=Je();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function aR(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p6.bind(null,e),e.Pu.H_=i6.bind(null,e.eventManager),e.Pu.yu=s6.bind(null,e.eventManager),e}function _6(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y6.bind(null,e),e}class Tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SL(this.persistence,new wL,e.initialUser,this.serializer)}Cu(e){return new zk(F0.mi,this.serializer)}Du(e){return new DL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tf.provider={build:()=>new Tf};class w6 extends Tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof wf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new zk((s=>wf.mi(s,n)),this.serializer)}}class Ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b6.bind(null,this.syncEngine),await e6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new n6})()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),s=(function(l){return new OL(l)})(e.databaseInfo);return(function(l,c,d,f){return new BL(l,c,d,f)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new qL(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>RT(this.syncEngine,n,0)),(function(){return wT.v()?new wT:new ML})())}createSyncEngine(e,n){return(function(a,l,c,d,f,p,v){const x=new l6(a,l,c,d,f,p);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Le(a);ge(lo,"RemoteStore shutting down."),l.Ea.add(5),await $u(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ay.provider={build:()=>new Ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class E6{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ge(ca,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ge(ca,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Q0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rg(t,e){t.asyncQueue.verifyOperationInProgress(),ge(ca,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Uk(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function NT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await T6(t);ge(ca,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>TT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>TT(e.remoteStore,a))),t._onlineComponents=e}async function T6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(ca,"Using user provided OfflineComponentProvider");try{await Rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await Rg(t,new Tf)}}else ge(ca,"Using default OfflineComponentProvider"),await Rg(t,new w6(void 0));return t._offlineComponents}async function lR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(ca,"Using user provided OnlineComponentProvider"),await NT(t,t._uninitializedComponentsProvider._online)):(ge(ca,"Using default OnlineComponentProvider"),await NT(t,new Ay))),t._onlineComponents}function S6(t){return lR(t).then((e=>e.syncEngine))}async function cR(t){const e=await lR(t),n=e.eventManager;return n.onListen=c6.bind(null,e.syncEngine),n.onUnlisten=d6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f6.bind(null,e.syncEngine),n}function A6(t,e,n={}){const s=new ir;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const v=new oR({next:w=>{v.Nu(),c.enqueueAndForget((()=>Zk(l,x)));const A=w.docs.has(d);!A&&w.fromCache?p.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&f&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),x=new Wk(j0(d.path),v,{includeMetadataChanges:!0,qa:!0});return Qk(l,x)})(await cR(t),t.asyncQueue,e,n,s))),s.promise}function k6(t,e,n={}){const s=new ir;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const v=new oR({next:w=>{v.Nu(),c.enqueueAndForget((()=>Zk(l,x))),w.fromCache&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),x=new Wk(d,v,{includeMetadataChanges:!0,qa:!0});return Qk(l,x)})(await cR(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firestore.googleapis.com",DT=!0;class MT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hR,this.ssl=DT}else this.host=e.host,this.ssl=e.ssl??DT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rL)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new M3;switch(s.type){case"firstParty":return new O3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=IT.get(n);s&&(ge("ComponentProvider","Removing Datastore"),IT.delete(n),s.terminate())})(this),Promise.resolve()}}function R6(t,e,n,s={}){var p;t=As(t,Yf);const a=jl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(tA(`https://${d}`),nA("Firestore",!0)),l.host!==hR&&l.host!==d&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:s};if(!io(f,c)&&(t._setSettings(f),s.mockUserToken)){let v,x;if(typeof s.mockUserToken=="string")v=s.mockUserToken,x=In.MOCK_USER;else{v=qj(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new In(w)}t._authCredentials=new V3(new QA(v,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Hu(n,Gt._jsonSchema))return new Gt(e,s||null,new Te(bt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:sn("string",Gt._jsonSchemaVersion),referencePath:sn("string")};class ta extends pa{constructor(e,n,s){super(e,n,j0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Te(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function VT(t,e,...n){if(t=yn(t),ZA("collection","path",e),t instanceof Yf){const s=bt.fromString(e,...n);return KE(s),new ta(t,null,s)}{if(!(t instanceof Gt||t instanceof ta))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return KE(s),new ta(t.firestore,null,s)}}function Ja(t,e,...n){if(t=yn(t),arguments.length===1&&(e=C0.newId()),ZA("doc","path",e),t instanceof Yf){const s=bt.fromString(e,...n);return GE(s),new Gt(t,null,new Te(s))}{if(!(t instanceof Gt||t instanceof ta))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return GE(s),new Gt(t.firestore,t instanceof ta?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class PT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fk(this,"async_queue_retry"),this._c=()=>{const s=kg();s&&ge(jT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;ge(jT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",OT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Y0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:OT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ql extends Yf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new PT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PT(e),this._firestoreClient=void 0,await e}}}function C6(t,e){const n=typeof t=="object"?t:aA(),s=typeof t=="string"?t:pf,a=b0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Bj("firestore");l&&R6(a,...l)}return a}function ev(t){if(t._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N6(t),t._firestoreClient}function N6(t){var s,a,l;const e=t._freezeSettings(),n=(function(d,f,p,v){return new e5(d,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,uR(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new E6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(Rn.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ai(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,Ai._jsonSchema))return Ai.fromBase64String(e.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:sn("string",Ai._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,Ts._jsonSchema))return new Ts(e.latitude,e.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:sn("string",Ts._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:sn("string",Ss._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=/^__.*__$/;class D6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class dR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class nv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fR(this.Ac)&&I6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class M6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kf(e)}Cc(e,n,s,a=!1){return new nv({Ac:e,methodName:n,Dc:s,path:kn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iv(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new M6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V6(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);sv("Data must be an object, but it was:",c,s);const d=mR(s,c);let f,p;if(l.merge)f=new ui(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const w=ky(e,x,n);if(!c.contains(w))throw new me(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gR(v,w)||v.push(w)}f=new ui(v),p=c.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,p=c.fieldTransforms;return new D6(new Zn(d),f,p)}class Zf extends tv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zf}}function j6(t,e,n,s){const a=t.Cc(1,e,n);sv("Data must be an object, but it was:",a,s);const l=[],c=Zn.empty();fa(s,((f,p)=>{const v=rv(e,f,n);p=yn(p);const x=a.yc(v);if(p instanceof Zf)l.push(v);else{const w=Yu(p,x);w!=null&&(l.push(v),c.set(v,w))}}));const d=new ui(l);return new dR(c,d,a.fieldTransforms)}function P6(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[ky(e,s,n)],f=[a];if(l.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(ky(e,l[w])),f.push(l[w+1]);const p=[],v=Zn.empty();for(let w=d.length-1;w>=0;--w)if(!gR(p,d[w])){const A=d[w];let N=f[w];N=yn(N);const O=c.yc(A);if(N instanceof Zf)p.push(A);else{const M=Yu(N,O);M!=null&&(p.push(A),v.set(A,M))}}const x=new ui(p);return new dR(v,x,c.fieldTransforms)}function O6(t,e,n,s=!1){return Yu(n,t.Cc(s?4:3,e))}function Yu(t,e){if(pR(t=yn(t)))return sv("Unsupported field value:",e,t),mR(t,e);if(t instanceof tv)return(function(s,a){if(!fR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let f=Yu(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return E5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=wt.fromDate(s);return{timestampValue:_f(a.serializer,l)}}if(s instanceof wt){const l=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_f(a.serializer,l)}}if(s instanceof Ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ai)return{bytesValue:Ik(a.serializer,s._byteString)};if(s instanceof Gt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:U0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ss)return(function(c,d){return{mapValue:{fields:{[ak]:{stringValue:ok},[gf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return P0(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Of(s)}`)})(t,e)}function mR(t,e){const n={};return ek(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,((s,a)=>{const l=Yu(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function pR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Ts||t instanceof Ai||t instanceof Gt||t instanceof tv||t instanceof Ss)}function sv(t,e,n){if(!pR(n)||!WA(n)){const s=Of(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ky(t,e,n){if((e=yn(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return rv(t,e);throw Sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const L6=new RegExp("[~\\*/\\[\\]]");function rv(t,e,n){if(e.search(L6)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${s}`),c&&(f+=` in document ${a}`),f+=")"),new me(ne.INVALID_ARGUMENT,d+t+f)}function gR(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(av("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z6 extends yR{data(){return super.data()}}function av(t,e){return typeof e=="string"?rv(t,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class lv extends ov{}function LT(t,e,...n){let s=[];e instanceof ov&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((f=>f instanceof uv)).length,d=l.filter((f=>f instanceof cv)).length;if(c>1||c>0&&d>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class cv extends lv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new cv(e,n,s)}_apply(e){const n=this._parse(e);return vR(e._query,n),new pa(e.firestore,e.converter,yy(e._query,n))}_parse(e){const n=iv(e.firestore);return(function(l,c,d,f,p,v,x){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){BT(x,v);const N=[];for(const O of x)N.push(UT(f,l,O));w={arrayValue:{values:N}}}else w=UT(f,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BT(x,v),w=O6(d,c,x,v==="in"||v==="not-in");return nn.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class uv extends ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)vR(c,f),c=yy(c,f)})(e._query,n),new pa(e.firestore,e.converter,yy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hv extends lv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(l,c)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Bl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function zT(t,e="asc"){const n=e,s=av("orderBy",t);return hv._create(s,n)}class dv extends lv{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new dv(e,n,s)}_apply(e){return new pa(e.firestore,e.converter,vf(e._query,this._limit,this._limitType))}}function B6(t){return dv._create("limit",t,"F")}function UT(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pk(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(bt.fromString(n));if(!Te.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eT(t,new Te(s))}if(n instanceof Gt)return eT(t,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Of(n)}.`)}function BT(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vR(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F6{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[gf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Ht(c.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new Ts(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=ra(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=bt.fromString(e);lt(Ok(s),9688,{name:e});const a=new Au(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return a.isEqual(n)||cr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class no extends yR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(av("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=no._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}no._jsonSchemaVersion="firestore/documentSnapshot/1.0",no._jsonSchema={type:sn("string",no._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class Qd extends no{data(e={}){return super.data(e)}}class xl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new iu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Qd(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Qd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Qd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:H6(d.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=C0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){t=As(t,Gt);const e=As(t.firestore,ql);return A6(ev(e),t._key).then((n=>$6(e,t,n)))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:sn("string",xl._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class bR extends F6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function FT(t){t=As(t,pa);const e=As(t.firestore,ql),n=ev(e),s=new bR(e);return U6(t._query),k6(n,t._query).then((a=>new xl(e,s,t,a)))}function G6(t,e,n){t=As(t,Gt);const s=As(t.firestore,ql),a=q6(t.converter,e);return fv(s,[V6(iv(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ki.none())])}function Zd(t,e,n,...s){t=As(t,Gt);const a=As(t.firestore,ql),l=iv(a);let c;return c=typeof(e=yn(e))=="string"||e instanceof Qf?P6(l,"updateDoc",t._key,e,n,s):j6(l,"updateDoc",t._key,e),fv(a,[c.toMutation(t._key,Ki.exists(!0))])}function K6(t){return fv(As(t.firestore,ql),[new O0(t._key,Ki.none())])}function fv(t,e){return(function(s,a){const l=new ir;return s.asyncQueue.enqueueAndForget((async()=>m6(await S6(s),a,l))),l.promise})(ev(t),e)}function $6(t,e,n){const s=n.docs.get(e._key),a=new bR(t);return new no(t,a,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ll=a})(Pl),El(new so("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ql(new j3(s.getProvider("auth-internal")),new L3(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Jr(BE,FE,e),Jr(BE,FE,"esm2020")})();const X6={apiKey:"AIzaSyCJLR0gKSrzN3VCyZ74AeAFL82WuMI0Z0k",authDomain:"zenbaki-osoak-2dbh.firebaseapp.com",projectId:"zenbaki-osoak-2dbh",storageBucket:"zenbaki-osoak-2dbh.firebasestorage.app",messagingSenderId:"402362957412",appId:"1:402362957412:web:b89a1b9e802426ae74e971"},xR=rA(X6),Nd=I3(xR),Zs=C6(xR),fn={theory_intro:50,theory_operations:50,theory_multiplication:50,theory_powers:50,theory_advanced:50,ordering_easy:100,ordering_medium:150,ordering_hard:200,addition_easy:100,addition_medium:150,addition_hard:200,subtraction_easy:100,subtraction_medium:150,subtraction_hard:200,multiplication_easy:100,multiplication_medium:150,multiplication_hard:200,division_easy:100,division_medium:150,division_hard:200,powers_easy:100,powers_medium:150,powers_hard:200,roots_easy:100,roots_medium:150,roots_hard:200,combined_easy:100,combined_medium:150,combined_hard:200,mixed_easy:150,mixed_medium:250,mixed_hard:500},Y6=[{id:"first_steps",title:"Lehen Urratsak",description:"Lortu zure lehenengo 100 XP.",icon:"footprint",xpReward:50,condition:t=>t.xp>=100},{id:"streak_5",title:"Beroketa (5 Egun)",description:"Mantendu 5 eguneko erratxa.",icon:"local_fire_department",xpReward:100,condition:t=>t.streak>=5},{id:"streak_10",title:"Sutan (10 Egun)",description:"Mantendu 10 eguneko erratxa.",icon:"whatshot",xpReward:300,condition:t=>t.streak>=10},{id:"streak_20",title:"Geldiezin (20 Egun)",description:"Mantendu 20 eguneko erratxa.",icon:"volcano",xpReward:1e3,condition:t=>t.streak>=20},{id:"level_5",title:"Ikasle Aurreratua",description:"Iritsi 5. Mailara.",icon:"school",xpReward:250,condition:t=>t.level>=5},{id:"level_10",title:"Matematika Maisua",description:"Iritsi 10. Mailara.",icon:"military_tech",xpReward:1e3,condition:t=>t.level>=10},{id:"level_20",title:"Zenbakien Jainkoa",description:"Iritsi 20. Mailara.",icon:"auto_awesome",xpReward:5e3,condition:t=>t.level>=20},{id:"ord_bronze",title:"Ordenatzaile (Bronce)",description:"200 XP Ordenan.",icon:"sort",xpReward:50,condition:t=>yt(t,"ordering")>=200},{id:"ord_silver",title:"Ordenatzaile (Plata)",description:"500 XP Ordenan.",icon:"sort",xpReward:150,condition:t=>yt(t,"ordering")>=500},{id:"ord_gold",title:"Ordenatzaile (Oro)",description:"1000 XP Ordenan.",icon:"sort",xpReward:300,condition:t=>yt(t,"ordering")>=1e3},{id:"add_bronze",title:"Batzaile (Bronce)",description:"200 XP Batuketetan.",icon:"add_circle",xpReward:50,condition:t=>yt(t,"addition")>=200},{id:"add_silver",title:"Batzaile (Plata)",description:"500 XP Batuketetan.",icon:"add_circle",xpReward:150,condition:t=>yt(t,"addition")>=500},{id:"add_gold",title:"Batzaile (Oro)",description:"1000 XP Batuketetan.",icon:"add_circle",xpReward:300,condition:t=>yt(t,"addition")>=1e3},{id:"sub_bronze",title:"Kentzaile (Bronce)",description:"200 XP Kenketetan.",icon:"remove_circle",xpReward:50,condition:t=>yt(t,"subtraction")>=200},{id:"sub_silver",title:"Kentzaile (Plata)",description:"500 XP Kenketetan.",icon:"remove_circle",xpReward:150,condition:t=>yt(t,"subtraction")>=500},{id:"sub_gold",title:"Kentzaile (Oro)",description:"1000 XP Kenketetan.",icon:"remove_circle",xpReward:300,condition:t=>yt(t,"subtraction")>=1e3},{id:"mul_bronze",title:"Biderkatzaile (Bronce)",description:"200 XP Biderketetan.",icon:"close",xpReward:50,condition:t=>yt(t,"multiplication")>=200},{id:"mul_silver",title:"Biderkatzaile (Plata)",description:"500 XP Biderketetan.",icon:"close",xpReward:150,condition:t=>yt(t,"multiplication")>=500},{id:"mul_gold",title:"Biderkatzaile (Oro)",description:"1000 XP Biderketetan.",icon:"close",xpReward:300,condition:t=>yt(t,"multiplication")>=1e3},{id:"div_bronze",title:"Zatitzaile (Bronce)",description:"200 XP Zatiketetan.",icon:"percent",xpReward:50,condition:t=>yt(t,"division")>=200},{id:"div_silver",title:"Zatitzaile (Plata)",description:"500 XP Zatiketetan.",icon:"percent",xpReward:150,condition:t=>yt(t,"division")>=500},{id:"div_gold",title:"Zatitzaile (Oro)",description:"1000 XP Zatiketetan.",icon:"percent",xpReward:300,condition:t=>yt(t,"division")>=1e3},{id:"pow_bronze",title:"Potentzia (Bronce)",description:"200 XP Berreketetan.",icon:"expand_less",xpReward:50,condition:t=>yt(t,"powers")>=200},{id:"pow_silver",title:"Potentzia (Plata)",description:"500 XP Berreketetan.",icon:"expand_less",xpReward:150,condition:t=>yt(t,"powers")>=500},{id:"pow_gold",title:"Potentzia (Oro)",description:"1000 XP Berreketetan.",icon:"expand_less",xpReward:300,condition:t=>yt(t,"powers")>=1e3},{id:"roo_bronze",title:"Erro (Bronce)",description:"200 XP Erroetan.",icon:"check",xpReward:50,condition:t=>yt(t,"roots")>=200},{id:"roo_silver",title:"Erro (Plata)",description:"500 XP Erroetan.",icon:"check",xpReward:150,condition:t=>yt(t,"roots")>=500},{id:"roo_gold",title:"Erro (Oro)",description:"1000 XP Erroetan.",icon:"check",xpReward:300,condition:t=>yt(t,"roots")>=1e3},{id:"com_bronze",title:"Konbinatu (Bronce)",description:"200 XP Konbinatuetan.",icon:"function",xpReward:50,condition:t=>yt(t,"combined")>=200},{id:"com_silver",title:"Konbinatu (Plata)",description:"500 XP Konbinatuetan.",icon:"function",xpReward:150,condition:t=>yt(t,"combined")>=500},{id:"com_gold",title:"Konbinatu (Oro)",description:"1000 XP Konbinatuetan.",icon:"function",xpReward:300,condition:t=>yt(t,"combined")>=1e3},{id:"mix_bronze",title:"Expertua (Bronce)",description:"200 XP Mistoan.",icon:"psychology",xpReward:50,condition:t=>yt(t,"mixed")>=200},{id:"mix_silver",title:"Expertua (Plata)",description:"500 XP Mistoan.",icon:"psychology",xpReward:150,condition:t=>yt(t,"mixed")>=500},{id:"mix_gold",title:"Expertua (Oro)",description:"1000 XP Mistoan.",icon:"psychology",xpReward:300,condition:t=>yt(t,"mixed")>=1e3}],qT=[{id:"avatar_wolf",type:"avatar",name:"Otsoa",description:"Otsoaren indarra zure perfilerako.",price:100,icon:"pets",previewUrl:"https://ui-avatars.com/api/?name=Wolf&background=374151&color=fff"},{id:"avatar_eagle",type:"avatar",name:"Arranoa",description:"Arranoaren ikusmena.",price:150,icon:"flight",previewUrl:"https://ui-avatars.com/api/?name=Eagle&background=b91c1c&color=fff"},{id:"avatar_bear",type:"avatar",name:"Hartza",description:"Hartzaren sendotasuna.",price:200,icon:"forest",previewUrl:"https://ui-avatars.com/api/?name=Bear&background=15803d&color=fff"},{id:"frame_gold",type:"frame",name:"Urrezko Markoa",description:"Distira berezia zure abatarrentzat.",price:500,icon:"crop_square",requiresLevel:5},{id:"frame_neon",type:"frame",name:"Neon Markoa",description:"Etorkizuneko estiloa.",price:800,icon:"blur_on",requiresLevel:10},{id:"theme_dark_matrix",type:"theme",name:"Matrix Gaia",description:"Kodearen munduan sartu.",price:1e3,icon:"terminal",requiresLevel:15}],yt=(t,e)=>{let n=0;for(const s in t.gameXp)s.startsWith(e)&&(n+=t.gameXp[s]);return n},HT=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(t){return console.error("Error fetching IP",t),"unknown"}},Q6=()=>{const t=[],e=[50,100,200][Math.floor(Math.random()*3)];t.push({id:`xp_${Date.now()}`,type:"xp",description:`Lortu ${e} XP gaur.`,target:e,progress:0,reward:Math.floor(e/5),completed:!1});const n=[1,3,5][Math.floor(Math.random()*3)];return t.push({id:`games_${Date.now()}`,type:"games",description:`Jolastu ${n} jolas.`,target:n,progress:0,reward:n*10+20,completed:!1}),Math.random()>.5?t.push({id:`theory_${Date.now()}`,type:"theory",description:"Osatu teoria lezio bat edo errepasatu.",target:1,progress:0,reward:50,completed:!1}):t.push({id:`xp_hard_${Date.now()}`,type:"xp",description:"Lortu 300 XP guztira.",target:300,progress:0,reward:100,completed:!1}),t},Z6=t=>{const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString();(!t.lastMissionDate||new Date(t.lastMissionDate).getDate()!==e.getDate())&&(t.missions=Q6(),t.lastMissionDate=n);const s=new Date(t.lastLoginDate),a=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),l=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),c=1440*60*1e3;return l>a&&(l-a===c?t.streak+=1:l-a>c&&(t.streak=1)),t.lastLoginDate=e.toISOString(),t},nl={login:async(t,e)=>{const s=(await g4(Nd,t,e)).user.uid,a=Ja(Zs,"users",s),l=await mu(a);if(l.exists()){let c=l.data();const d=await HT(),f=c.streak;return c=Z6(c),(f!==c.streak||c.lastLoginDate!==l.data().lastLoginDate||c.lastIp!==d||c.missions!==l.data().missions)&&(await Zd(a,{streak:c.streak,lastLoginDate:c.lastLoginDate,lastIp:d,missions:c.missions,lastMissionDate:c.lastMissionDate}),c.lastIp=d),c.coins===void 0&&(c.coins=0),c.inventory||(c.inventory=[]),c}else throw new Error("Erabiltzailearen datuak ez dira aurkitu.")},loginAsGuest:async()=>({uid:"guest_"+Date.now(),email:"guest@zoa.eus",displayName:"Gonbidatua",photoURL:"https://ui-avatars.com/api/?name=Guest&background=e2e8f0&color=64748b",xp:0,level:1,streak:0,lastLoginDate:new Date().toISOString(),completedLessons:[],gameXp:{},unlockedAchievements:[],coins:50,inventory:[]}),register:async(t,e,n)=>{const a=(await p4(Nd,t,e)).user.uid,l={uid:a,email:t,displayName:n,photoURL:`https://ui-avatars.com/api/?name=${n}&background=136dec&color=fff`,xp:0,level:1,streak:1,lastLoginDate:new Date().toISOString(),lastIp:await HT(),completedLessons:[],gameXp:{},unlockedAchievements:[],isAdmin:t==="admin@zoa.eus",coins:50,inventory:[]};return await G6(Ja(Zs,"users",a),l),l},logout:async()=>{await x4(Nd)},onAuthStateChanged:t=>b4(Nd,t),getUserProfile:async t=>{const e=Ja(Zs,"users",t),n=await mu(e);if(n.exists()){const s=n.data();return{...s,coins:s.coins||0,inventory:s.inventory||[]}}return null}},Iu={updateUserProgress:async(t,e,n)=>{const s=Ja(Zs,"users",t),a=await mu(s);if(!a.exists())throw new Error("User not found");const l=a.data();l.gameXp||(l.gameXp={}),l.unlockedAchievements||(l.unlockedAchievements=[]),l.coins===void 0&&(l.coins=0);let c=0;const d=l.gameXp[n]||0;let f=0;if(e>=0){const v=fn[n]||9999,x=Math.max(0,v-d);c=Math.min(e,x),c>0&&(l.xp+=c,l.gameXp[n]=d+c,n.startsWith("theory_")&&!l.completedLessons.includes(n)&&(l.completedLessons.push(n),f+=50),f+=Math.floor(c/5))}else{const v=Math.abs(e),x=Math.min(v,d);x>0&&(l.gameXp[n]=d-x,l.xp=Math.max(0,l.xp-x)),c=-x}l.coins+=f;const p=[];return c>=0&&(l.level=Math.floor(l.xp/500)+1,Y6.forEach(v=>{l.unlockedAchievements.includes(v.id)||v.condition(l)&&(l.unlockedAchievements.push(v.id),l.xp+=v.xpReward,l.coins+=100,l.level=Math.floor(l.xp/500)+1,p.push(v))})),l.missions&&l.missions.forEach(v=>{if(v.completed)return;let x=!1;v.type==="xp"&&c>0&&(v.progress+=c,x=!0),v.type==="theory"&&n.startsWith("theory_")&&c>0&&(v.progress+=1,x=!0),v.type==="games"&&!n.startsWith("theory_")&&c>0&&(v.progress+=1,x=!0),x&&v.progress>=v.target&&(v.completed=!0,l.coins+=v.reward)}),await Zd(s,{xp:l.xp,level:l.level,gameXp:l.gameXp,completedLessons:l.completedLessons,unlockedAchievements:l.unlockedAchievements,coins:l.coins,missions:l.missions}),{user:l,actualXpAdded:c,newAchievements:p}},updateProfile:async(t,e)=>{const n=Ja(Zs,"users",t);return await Zd(n,e),(await mu(n)).data()},getLeaderboard:async()=>{const t=LT(VT(Zs,"users"),zT("xp","desc"),B6(10)),e=await FT(t),n=[];return e.forEach(s=>{n.push(s.data())}),n},getAllUsers:async()=>{const t=LT(VT(Zs,"users"),zT("lastLoginDate","desc")),e=await FT(t),n=[];return e.forEach(s=>{n.push(s.data())}),n},kickUser:async t=>{await K6(Ja(Zs,"users",t))},buyItem:async(t,e)=>{const n=Ja(Zs,"users",t),s=await mu(n);if(!s.exists())return{success:!1,message:"Erabiltzailea ez da aurkitu"};const a=s.data(),l=a.inventory||[],c=a.coins||0;if(l.includes(e.id))return{success:!1,message:"Dagoeneko baduzu item hau!"};if(c<e.price)return{success:!1,message:"Ez duzu txanpon nahikorik."};const d=c-e.price,f=[...l,e.id];return await Zd(n,{coins:d,inventory:f}),{success:!0,message:"Erosketa osatuta!",newUser:{...a,coins:d,inventory:f}}}},_R=D.createContext(void 0),W6=({children:t})=>{const[e,n]=D.useState([]),s=D.useCallback((l,c)=>{const d=Date.now().toString()+Math.random().toString().slice(2,8);n(f=>[...f,{id:d,type:l,message:c}]),setTimeout(()=>{n(f=>f.filter(p=>p.id!==d))},3e3)},[]),a=D.useCallback(l=>{n(c=>c.filter(d=>d.id!==l))},[]);return y.jsx(_R.Provider,{value:{addToast:s,removeToast:a,toasts:e},children:t})},ga=()=>{const t=D.useContext(_R);if(t===void 0)throw new Error("useToast must be used within an ToastProvider");return t},wR=D.createContext(void 0),J6=({children:t})=>{const[e,n]=D.useState(null),[s,a]=D.useState(!0),[l,c]=D.useState([]),{addToast:d}=ga();D.useEffect(()=>{const A=nl.onAuthStateChanged(async N=>{if(N)try{const O=await nl.getUserProfile(N.uid);n(O||null)}catch(O){console.error("Error fetching profile",O),n(null)}else n(null);a(!1)});return()=>A()},[]);const f=async(A,N)=>{const O=await nl.login(A,N);n(O)},p=async()=>{const A=await nl.loginAsGuest();n(A)},v=async(A,N,O)=>{const M=await nl.register(A,N,O);n(M)},x=async()=>{await nl.logout(),n(null)},w=async(A,N)=>{if(!e||e.uid.startsWith("guest_"))return 0;try{const{user:O,actualXpAdded:M,newAchievements:B}=await Iu.updateUserProgress(e.uid,A,N);return n(O),B&&B.length>0&&c(B),M}catch(O){return console.error("XP Error",O),0}};return y.jsxs(wR.Provider,{value:{user:e,loading:s,login:f,loginAsGuest:p,register:v,logout:x,addXp:w},children:[!s&&t,l.length>0&&y.jsx(Dj,{achievements:l,onClose:()=>c([])})]})},Qi=()=>{const t=D.useContext(wR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function ER(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ER(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function TR(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ER(t))&&(s&&(s+=" "),s+=e);return s}const ez=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},tz=(t,e)=>({classGroupId:t,validator:e}),SR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Af="-",GT=[],nz="arbitrary..",iz=t=>{const e=rz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return sz(c);const d=c.split(Af),f=d[0]===""&&d.length>1?1:0;return AR(d,f,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=s[c],p=n[c];return f?p?ez(p,f):f:p||GT}return n[c]||GT}}},AR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=AR(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(Af):t.slice(e).join(Af),f=c.length;for(let p=0;p<f;p++){const v=c[p];if(v.validator(d))return v.classGroupId}},sz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?nz+s:void 0})(),rz=t=>{const{theme:e,classGroups:n}=t;return az(n,e)},az=(t,e)=>{const n=SR();for(const s in t){const a=t[s];mv(a,n,s,e)}return n},mv=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];oz(c,e,n,s)}},oz=(t,e,n,s)=>{if(typeof t=="string"){lz(t,e,n);return}if(typeof t=="function"){cz(t,e,n,s);return}uz(t,e,n,s)},lz=(t,e,n)=>{const s=t===""?e:kR(e,t);s.classGroupId=n},cz=(t,e,n,s)=>{if(hz(t)){mv(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(tz(n,t))},uz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,f]=a[c];mv(f,kR(e,d),n,s)}},kR=(t,e)=>{let n=t;const s=e.split(Af),a=s.length;for(let l=0;l<a;l++){const c=s[l];let d=n.nextPart.get(c);d||(d=SR(),n.nextPart.set(c,d)),n=d}return n},hz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,dz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},Ry="!",KT=":",fz=[],$T=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),mz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,d=0,f=0,p;const v=a.length;for(let O=0;O<v;O++){const M=a[O];if(c===0&&d===0){if(M===KT){l.push(a.slice(f,O)),f=O+1;continue}if(M==="/"){p=O;continue}}M==="["?c++:M==="]"?c--:M==="("?d++:M===")"&&d--}const x=l.length===0?a:a.slice(f);let w=x,A=!1;x.endsWith(Ry)?(w=x.slice(0,-1),A=!0):x.startsWith(Ry)&&(w=x.slice(1),A=!0);const N=p&&p>f?p-f:void 0;return $T(l,A,w,N)};if(e){const a=e+KT,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):$T(fz,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},pz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=e.has(c);d||f?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},gz=t=>({cache:dz(t.cacheSize),parseClassName:mz(t),sortModifiers:pz(t),...iz(t)}),yz=/\s+/,vz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(yz);let f="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:x,modifiers:w,hasImportantModifier:A,baseClassName:N,maybePostfixModifierPosition:O}=n(v);if(x){f=v+(f.length>0?" "+f:f);continue}let M=!!O,B=s(M?N.substring(0,O):N);if(!B){if(!M){f=v+(f.length>0?" "+f:f);continue}if(B=s(N),!B){f=v+(f.length>0?" "+f:f);continue}M=!1}const X=w.length===0?"":w.length===1?w[0]:l(w).join(":"),q=A?X+Ry:X,ae=q+B;if(c.indexOf(ae)>-1)continue;c.push(ae);const oe=a(B,M);for(let ue=0;ue<oe.length;++ue){const R=oe[ue];c.push(q+R)}f=v+(f.length>0?" "+f:f)}return f},bz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=RR(n))&&(a&&(a+=" "),a+=s);return a},RR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=RR(t[s]))&&(n&&(n+=" "),n+=e);return n},xz=(t,...e)=>{let n,s,a,l;const c=f=>{const p=e.reduce((v,x)=>x(v),t());return n=gz(p),s=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const p=s(f);if(p)return p;const v=vz(f,n);return a(f,v),v};return l=c,(...f)=>l(bz(...f))},_z=[],on=t=>{const e=n=>n[t]||_z;return e.isThemeGetter=!0,e},CR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wz=/^\d+\/\d+$/,Ez=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Az=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,il=t=>wz.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),Hr=t=>!!t&&Number.isInteger(Number(t)),Cg=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),Qs=t=>Ez.test(t),Rz=()=>!0,Cz=t=>Tz.test(t)&&!Sz.test(t),IR=()=>!1,Nz=t=>Az.test(t),Iz=t=>kz.test(t),Dz=t=>!ve(t)&&!be(t),Mz=t=>Hl(t,VR,IR),ve=t=>CR.test(t),$a=t=>Hl(t,jR,Cz),Ng=t=>Hl(t,Lz,Ge),XT=t=>Hl(t,DR,IR),Vz=t=>Hl(t,MR,Iz),Id=t=>Hl(t,PR,Nz),be=t=>NR.test(t),Qc=t=>Gl(t,jR),jz=t=>Gl(t,zz),YT=t=>Gl(t,DR),Pz=t=>Gl(t,VR),Oz=t=>Gl(t,MR),Dd=t=>Gl(t,PR,!0),Hl=(t,e,n)=>{const s=CR.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Gl=(t,e,n=!1)=>{const s=NR.exec(t);return s?s[1]?e(s[1]):n:!1},DR=t=>t==="position"||t==="percentage",MR=t=>t==="image"||t==="url",VR=t=>t==="length"||t==="size"||t==="bg-size",jR=t=>t==="length",Lz=t=>t==="number",zz=t=>t==="family-name",PR=t=>t==="shadow",Uz=()=>{const t=on("color"),e=on("font"),n=on("text"),s=on("font-weight"),a=on("tracking"),l=on("leading"),c=on("breakpoint"),d=on("container"),f=on("spacing"),p=on("radius"),v=on("shadow"),x=on("inset-shadow"),w=on("text-shadow"),A=on("drop-shadow"),N=on("blur"),O=on("perspective"),M=on("aspect"),B=on("ease"),X=on("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...ae(),be,ve],ue=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],T=()=>[be,ve,f],C=()=>[il,"full","auto",...T()],j=()=>[Hr,"none","subgrid",be,ve],P=()=>["auto",{span:["full",Hr,be,ve]},Hr,be,ve],U=()=>[Hr,"auto",be,ve],I=()=>["auto","min","max","fr",be,ve],Xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ve=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...T()],re=()=>[il,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],J=()=>[t,be,ve],Ae=()=>[...ae(),YT,XT,{position:[be,ve]}],je=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",Pz,Mz,{size:[be,ve]}],ee=()=>[Cg,Qc,$a],le=()=>["","none","full",p,be,ve],he=()=>["",Ge,Qc,$a],fe=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Ge,Cg,YT,XT],Et=()=>["","none",N,be,ve],nt=()=>["none",Ge,be,ve],jn=()=>["none",Ge,be,ve],Pn=()=>[Ge,be,ve],On=()=>[il,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[Rz],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[Dz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",Ge],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",il,ve,be,M]}],container:["container"],columns:[{columns:[Ge,ve,be,d]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Hr,"auto",be,ve]}],basis:[{basis:[il,"full","auto",d,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,il,"auto","initial","none",ve]}],grow:[{grow:["",Ge,be,ve]}],shrink:[{shrink:["",Ge,be,ve]}],order:[{order:[Hr,"first","last","none",be,ve]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...Xe(),"normal"]}],"justify-items":[{"justify-items":[...Ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ve()]}],"align-content":[{content:["normal",...Xe()]}],"align-items":[{items:[...Ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":Xe()}],"place-items":[{"place-items":[...Ve(),"baseline"]}],"place-self":[{"place-self":["auto",...Ve()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[d,"screen",...re()]}],"min-w":[{"min-w":[d,"screen","none",...re()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Qc,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,be,Ng]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cg,ve]}],"font-family":[{font:[jz,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,be,ve]}],"line-clamp":[{"line-clamp":[Ge,"none",be,Ng]}],leading:[{leading:[l,...T()]}],"list-image":[{"list-image":["none",be,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",be,$a]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Ge,"auto",be,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:je()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hr,be,ve],radial:["",be,ve],conic:[Hr,be,ve]},Oz,Vz]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,be,ve]}],"outline-w":[{outline:["",Ge,Qc,$a]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",v,Dd,Id]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",x,Dd,Id]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Ge,$a]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",w,Dd,Id]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Ge,be,ve]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[be,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:je()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ve]}],filter:[{filter:["","none",be,ve]}],blur:[{blur:Et()}],brightness:[{brightness:[Ge,be,ve]}],contrast:[{contrast:[Ge,be,ve]}],"drop-shadow":[{"drop-shadow":["","none",A,Dd,Id]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Ge,be,ve]}],"hue-rotate":[{"hue-rotate":[Ge,be,ve]}],invert:[{invert:["",Ge,be,ve]}],saturate:[{saturate:[Ge,be,ve]}],sepia:[{sepia:["",Ge,be,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ve]}],"backdrop-blur":[{"backdrop-blur":Et()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,be,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,be,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,be,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,be,ve]}],"backdrop-invert":[{"backdrop-invert":["",Ge,be,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,be,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,be,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,be,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",be,ve]}],ease:[{ease:["linear","initial",B,be,ve]}],delay:[{delay:[Ge,be,ve]}],animate:[{animate:["none",X,be,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,be,ve]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:jn()}],"scale-x":[{"scale-x":jn()}],"scale-y":[{"scale-y":jn()}],"scale-z":[{"scale-z":jn()}],"scale-3d":["scale-3d"],skew:[{skew:Pn()}],"skew-x":[{"skew-x":Pn()}],"skew-y":[{"skew-y":Pn()}],transform:[{transform:[be,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:On()}],"translate-x":[{"translate-x":On()}],"translate-y":[{"translate-y":On()}],"translate-z":[{"translate-z":On()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ve]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Ge,Qc,$a,Ng]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},OR=xz(Uz);function Bz(...t){return OR(TR(t))}const Ws=({className:t,variant:e="primary",size:n="md",leftIcon:s,rightIcon:a,children:l,...c})=>{const d="relative font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",f={primary:"bg-primary text-white shadow-lg shadow-blue-500/30 hover:bg-blue-600 hover:shadow-blue-500/50",secondary:"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700",ghost:"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",danger:"bg-red-500 text-white shadow-lg shadow-red-500/30 hover:bg-red-600"},p={sm:"h-8 px-3 text-xs",md:"h-11 px-6 text-sm",lg:"h-14 px-8 text-base"};return y.jsxs(pn.button,{whileHover:{scale:1.02},whileTap:{scale:.95},className:Bz(d,f[e],p[n],t),...c,children:[s&&y.jsx("span",{className:"text-[1.2em] flex",children:s}),l,a&&y.jsx("span",{className:"text-[1.2em] flex",children:a})]})},Fz=()=>{const t=Rs(),e=uo(),{user:n,logout:s}=Qi(),[a,l]=D.useState(!1),[c,d]=D.useState(!1),[f,p]=D.useState(!1);D.useEffect(()=>{const A=()=>l(window.scrollY>20);return window.addEventListener("scroll",A),document.documentElement.classList.contains("dark")&&p(!0),()=>window.removeEventListener("scroll",A)},[]);const v=()=>{en.click(),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),p(!1)):(document.documentElement.classList.add("dark"),p(!0))},x=async()=>{en.click(),await s(),e("/")},w=[{label:"Hasiera",path:"/",icon:"home"},{label:"Temarioa",path:"/topics",icon:"menu_book"},{label:"Jela",path:"/games",icon:"sports_esports"},{label:"Denda",path:"/shop",icon:"storefront"}];return n!=null&&n.isAdmin&&w.push({label:"Admin",path:"/admin",icon:"admin_panel_settings"}),y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${a?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md py-3 shadow-md border-slate-200 dark:border-slate-800":"bg-transparent py-5 border-transparent"}`,children:[y.jsxs("div",{className:"layout-container px-4 md:px-8 flex items-center justify-between",children:[y.jsxs(Mt,{to:"/",className:"flex items-center gap-2 group",children:[y.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white shadow-lg group-hover:scale-105 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"calculate"})}),y.jsxs("span",{className:"font-black text-xl tracking-tight text-slate-900 dark:text-white hidden sm:block",children:["Zenbaki",y.jsx("span",{className:"text-primary",children:"Osoak"})]})]}),y.jsx("nav",{className:"hidden md:flex items-center gap-1 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-1.5 rounded-full border border-slate-200/50 dark:border-slate-700/50 shadow-sm",children:w.map(A=>{const N=t.pathname===A.path;return y.jsx(Mt,{to:A.path,className:`relative px-4 py-2 rounded-full text-sm font-bold transition-all ${N?"text-primary bg-white dark:bg-slate-900 shadow-sm":"text-slate-500 hover:text-slate-900 dark:hover:text-white"}`,children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`material-symbols-outlined text-[20px] ${N?"filled":""}`,children:A.icon}),A.label]})},A.path)})}),y.jsxs("div",{className:"flex items-center gap-3",children:[n&&y.jsxs(Mt,{to:"/shop",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-yellow-400/10 to-amber-500/10 dark:from-yellow-400/20 dark:to-amber-500/20 px-3 py-1.5 rounded-full border border-yellow-200 dark:border-yellow-900/50 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors cursor-pointer group",children:[y.jsx("span",{className:"material-symbols-outlined text-amber-500 group-hover:scale-110 transition-transform",children:"monetization_on"}),y.jsx("span",{className:"font-black text-amber-700 dark:text-amber-400 text-sm",children:n.coins||0})]}),y.jsx("button",{onClick:v,className:"size-10 rounded-full flex items-center justify-center text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:y.jsx("span",{className:"material-symbols-outlined text-xl",children:f?"light_mode":"dark_mode"})}),n?y.jsxs("div",{className:"group relative",children:[y.jsx(Mt,{to:"/profile",children:y.jsx("div",{className:"size-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white dark:border-slate-700 shadow-md cursor-pointer hover:border-primary transition-colors",children:y.jsx("img",{src:n.photoURL,alt:"User",className:"size-full object-cover"})})}),y.jsxs("div",{className:"absolute right-0 top-10 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 p-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all translate-y-2 group-hover:translate-y-0 z-50",children:[y.jsxs("div",{className:"px-3 py-2 border-b border-slate-100 dark:border-slate-700 mb-2",children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:n.displayName}),y.jsxs("p",{className:"text-xs text-primary font-mono font-bold",children:[n.xp," XP"]})]}),y.jsxs("button",{onClick:x,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 text-sm font-medium transition-colors text-left",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"})," Irten"]})]})]}):y.jsx(Mt,{to:"/login",children:y.jsx(Ws,{size:"sm",children:"Sartu"})}),y.jsx("button",{className:"md:hidden size-10 flex items-center justify-center text-slate-900 dark:text-white",onClick:()=>d(!c),children:y.jsx("span",{className:"material-symbols-outlined",children:c?"close":"menu"})})]})]}),y.jsx(o0,{children:c&&y.jsx(pn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 overflow-hidden",children:y.jsxs("nav",{className:"flex flex-col p-4 gap-2",children:[w.map(A=>y.jsxs(Mt,{to:A.path,onClick:()=>d(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${t.pathname===A.path?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"}`,children:[y.jsx("span",{className:"material-symbols-outlined",children:A.icon}),A.label]},A.path)),n&&y.jsxs(Mt,{to:"/shop",onClick:()=>d(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-amber-600 bg-amber-50 dark:bg-amber-900/10",children:[y.jsx("span",{className:"material-symbols-outlined",children:"monetization_on"}),n.coins||0," Z-Coin"]}),n&&y.jsxs("button",{onClick:x,className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"})," Irten"]})]})})})]}),y.jsx("div",{className:"h-[76px]"})]})},qz=()=>y.jsx("footer",{className:"w-full border-t border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark py-10 px-10",children:y.jsxs("div",{className:"max-w-[1200px] mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[y.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[y.jsx("div",{className:"size-6 text-primary",children:y.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"})})}),y.jsx("span",{className:"font-bold text-lg",children:"Zenbaki Osoen Abentura"})]}),y.jsxs("div",{className:"flex gap-8 text-sm font-medium text-slate-600 dark:text-slate-400",children:[y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Irakasleentzat"}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Laguntza"}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Pribatutasuna"})]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:" 2023 DBH Matematika"})]})}),Hz=()=>{const{toasts:t,removeToast:e}=ga(),n=a=>{switch(a){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"xp":return"bg-yellow-400 text-slate-900 border-yellow-500 font-black";case"achievement":return"bg-purple-600 text-white border-purple-400 font-bold shadow-purple-500/50";default:return"bg-slate-800 text-white border-slate-900"}},s=a=>{switch(a){case"success":return"check_circle";case"error":return"error";case"xp":return"bolt";case"achievement":return"emoji_events";default:return"info"}};return y.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",children:t.map(a=>y.jsxs("div",{onClick:()=>e(a.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border-b-4 cursor-pointer animate-in slide-in-from-right fade-in duration-300 hover:scale-105 transition-transform ${n(a.type)}`,children:[y.jsx("span",{className:"material-symbols-outlined",children:s(a.type)}),y.jsx("span",{className:"text-sm font-bold",children:a.message})]},a.id))})};function Gz(...t){return OR(TR(t))}const gn=({className:t,variant:e="glass",hoverEffect:n=!0,children:s,...a})=>{const l="rounded-2xl p-6 transition-all duration-300 relative overflow-hidden",c={glass:"bg-surface-light/80 dark:bg-surface-dark/70 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-xl shadow-slate-200/50 dark:shadow-black/40",solid:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg",outline:"bg-transparent border-2 border-slate-200 dark:border-slate-700"},d=n?"hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/10 hover:border-primary/30 dark:hover:border-primary/30":"";return y.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Gz(l,c[e],d,t),...a,children:[e==="glass"&&y.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),s]})},Kz=()=>{var l;const{user:t,loginAsGuest:e}=Qi(),[n,s]=D.useState(0),a=5e4;return D.useEffect(()=>{(async()=>{const f=(await Iu.getLeaderboard()).reduce((p,v)=>p+v.xp,0);s(f)})()},[]),t?y.jsxs("main",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-7xl mx-auto w-full",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[y.jsxs(pn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:["Kaixo, ",y.jsxs("span",{className:"text-primary bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:[t.displayName,"!"]})]}),y.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 font-medium",children:"Prest zure abentura matematikoarekin jarraitzeko?"}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx(Mt,{to:"/games",children:y.jsx(Ws,{size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),children:"Jolastu"})}),y.jsx(Mt,{to:"/progress",children:y.jsx(Ws,{variant:"secondary",size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"bar_chart"}),children:"Nire Aurrerapena"})})]})]}),y.jsxs(gn,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-none relative overflow-visible",children:[y.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[y.jsx("div",{className:"size-24 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-inner",children:y.jsx("div",{className:"size-20 rounded-xl bg-cover bg-center",style:{backgroundImage:`url("${t.photoURL}")`}})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-blue-100 text-sm font-bold uppercase tracking-wider mb-1",children:"Zure Maila"}),y.jsx("div",{className:"text-4xl font-black",children:t.level}),y.jsx("div",{className:"w-full h-3 bg-black/20 rounded-full mt-3 overflow-hidden",children:y.jsx(pn.div,{initial:{width:0},animate:{width:`${t.xp%500/5}%`},className:"h-full bg-white rounded-full"})}),y.jsxs("div",{className:"text-right text-xs mt-1 font-mono opacity-80",children:[t.xp%500," / 500 XP"]})]})]}),y.jsx("div",{className:"absolute -top-10 -right-10 size-40 rounded-full bg-white/10 blur-3xl"}),y.jsx("div",{className:"absolute -bottom-10 -left-10 size-40 rounded-full bg-blue-400/20 blur-3xl"})]})]}),y.jsx("section",{children:y.jsx(gn,{className:"border-2 border-primary/20 bg-gradient-to-r from-slate-50 to-blue-50/50 dark:from-slate-800 dark:to-slate-800/50",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs(gn,{className:"p-6",children:[y.jsxs("h2",{className:"text-xl font-black mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"task_alt"}),"Eguneroko Misioak"]}),t?y.jsxs("div",{className:"space-y-4",children:[(l=t.missions)==null?void 0:l.map(c=>y.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:c.description}),c.completed?y.jsxs("span",{className:"text-xs font-black text-green-500 bg-green-100 px-2 py-0.5 rounded-full flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})," Egina"]}):y.jsxs("span",{className:"text-xs font-bold text-amber-500 bg-amber-100 dark:bg-amber-900/30 px-2 py-0.5 rounded-full flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"})," ",c.reward]})]}),y.jsx("div",{className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${c.completed?"bg-green-500":"bg-blue-500"} transition-all duration-500`,style:{width:`${Math.min(100,c.progress/c.target*100)}%`}})}),y.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-right",children:[c.progress," / ",c.target]})]},c.id)),!t.missions&&y.jsx("p",{className:"text-sm text-slate-500",children:"Kargatzen..."})]}):y.jsxs("div",{className:"text-center py-6 text-slate-400",children:[y.jsx("p",{children:"Sartu saioa misioak ikusteko."}),y.jsx(Mt,{to:"/login",children:y.jsx(Ws,{size:"sm",variant:"secondary",className:"mt-2",children:"Hasi Saioa"})})]})]}),y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-3xl",children:"trophy"}),"Klasearen Helburua"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Guztion artean lortu behar dugu!"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-3xl font-black text-primary",children:n.toLocaleString()}),y.jsxs("span",{className:"text-slate-400 font-bold",children:[" / ",a.toLocaleString()," XP"]})]})]}),y.jsx("div",{className:"w-full h-8 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden shadow-inner relative",children:y.jsx(pn.div,{initial:{width:0},animate:{width:`${Math.min(100,n/a*100)}%`},className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 relative",children:y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,.15)_25%,transparent_25%,transparent_50%,rgba(255,255,255,.15)_50%,rgba(255,255,255,.15)_75%,transparent_75%,transparent)] bg-[length:1rem_1rem] animate-[progress-bar-stripes_1s_linear_infinite]"})})}),y.jsxs("p",{className:"text-center text-sm font-bold text-slate-500 mt-2",children:[Math.round(n/a*100),"% osatuta - Jarraitu horrela!"]})]}),y.jsxs("div",{className:"shrink-0 text-center bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm rotate-3 hover:rotate-0 transition-transform duration-300",children:[y.jsx("div",{className:"text-4xl mb-2",children:""}),y.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:"Sari Berezia"}),y.jsx("div",{className:"text-xs text-slate-400",children:"50k XP lortzean"})]})]})})}),y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(Mt,{to:"/topics",className:"contents",children:y.jsxs(gn,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-blue-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"menu_book"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Teoria"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Ikasi eta errepasatu kontzeptuak jokoan hasi aurretik."})]})}),y.jsx(Mt,{to:"/games",className:"contents",children:y.jsxs(gn,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-green-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"joystick"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Jolastu"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Jarri zure gaitasunak proban eta irabazi XP!"})]})}),y.jsx(Mt,{to:"/progress",className:"contents",children:y.jsxs(gn,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-purple-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"military_tech"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Lorpenak"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Begiratu zure dominak eta desblokeatu berriak."})]})})]})]}):y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-20 left-10 size-64 bg-primary/20 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-20 right-10 size-80 bg-purple-500/20 rounded-full blur-[100px] animate-pulse",style:{animationDelay:"1s"}}),y.jsxs("div",{className:"relative z-10 max-w-2xl space-y-8",children:[y.jsxs(pn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight mb-4",children:["Zenbaki ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600",children:"Osoen"}),y.jsx("br",{})," Abentura"]}),y.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium max-w-lg mx-auto",children:"Ikasi matematikak jolasten! Irabazi puntuak, igo mailaz eta bihurtu klaseko txapelduna."})]}),y.jsxs(pn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[y.jsx(Mt,{to:"/login",children:y.jsx(Ws,{size:"lg",className:"w-full sm:w-auto shadow-xl shadow-primary/30",children:"Hasi Saioa"})}),y.jsx("button",{onClick:e,children:y.jsx(Ws,{variant:"ghost",size:"lg",className:"w-full sm:w-auto",children:"Gonbidatu gisa sartu"})})]}),y.jsx(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-12",children:[{icon:"sports_esports",label:"Jolasak"},{icon:"military_tech",label:"Lorpenak"},{icon:"school",label:"Teoria"},{icon:"group",label:"Lagunak"}].map((c,d)=>y.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-slate-200 dark:border-slate-700",children:[y.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:c.icon}),y.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:c.label})]},d))})]})]})},QT=[{id:"intro",title:"1. Unitatea: Oinarriak",description:"Zenbaki osoen definizioa (Z), ordenatzea eta balio absolutua.",content:`
            <h3>Zer dira Zenbaki Osoak (Z)?</h3>
            <p>Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:</p>
            <ul>
                <li><strong>Positiboak:</strong> (+1, +2...)  "Daukadana".</li>
                <li><strong>Zero:</strong> (0)  Muga.</li>
                <li><strong>Negatiboak:</strong> (-1, -2...)  "Zor dudana" edo "Zero azpitik".</li>
            </ul>
            <br/>
            <h3>Zuzen Erreala eta Ordena</h3>
            <p>Zenbakiak lerro batean ordenatzen dira. Eskuinerantz handitzen dira.</p>
            <p><strong>Garrantzitsua:</strong> Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta <strong>txikiagoa</strong> da balioa (-100 < -1).</p>
        `,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correct:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correct:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correct:0}]},{id:"operations",title:"2. Unitatea: Batuketa eta Kenketa",description:"Parentesiak kendu eta eragiketa sinpleak.",content:`
            <h3>1. Pausoa: Parentesiak Kendu</h3>
            <p>Zenbaki baten aurrean zeinu bat badago:</p>
            <ul>
                <li><strong>Zeinu berdinak (+ + edo - -)</strong>  Positibo bihurtzen da (+).</li>
                <li><strong>Zeinu ezberdinak (+ - edo - +)</strong>  Negatibo bihurtzen da (-).</li>
            </ul>
            <br/>
            <h3>2. Pausoa: Eragiketa Egin</h3>
            <ul>
                <li><strong>Zeinu Berdina:</strong> Zenbakiak BATU eta zeinua mantendu. (+5+3=+8)</li>
                <li><strong>Zeinu Ezberdina:</strong> Zenbakiak KENDU eta handienaren zeinua jarri. (+5-3=+2)</li>
            </ul>
        `,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correct:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correct:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correct:2}]},{id:"multiplication",title:"3. Unitatea: Biderketa eta Zatiketa",description:"Zeinuen legea eta parentesi anitzak.",content:`
            <h3>Zeinuen Legea</h3>
            <p>Biderketetan eta zatiketetan arau hau betetzen da BETI:</p>
            <ul>
                <li>+  + = +</li>
                <li>-  - = +</li>
                <li>+  - = -</li>
                <li>-  + = -</li>
            </ul>
            <p><strong>Aholkua:</strong> Lagunaren araua: "Nire lagunaren (+) laguna (+) nire laguna da (+)". "Nire etsaien (-) etsaia (-) nire laguna da (+)".</p>
        `,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correct:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correct:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correct:2}]},{id:"powers",title:"4. Unitatea: Berreketak",description:"Potentziak, erro karratuak eta propietateak.",content:`
            <h3>Berreketen Propietateak</h3>
            <ul>
                <li><strong>Biderketa (Oinarri berdina):</strong> Berretzaileak BATU (a^n  a^m = a^(n+m)).</li>
                <li><strong>Zatiketa (Oinarri berdina):</strong> Berretzaileak KENDU (a^n : a^m = a^(n-m)).</li>
                <li><strong>Berreketaren Berreketa:</strong> Berretzaileak BIDERKATU ((a^n)^m = a^(nm)).</li>
            </ul>
            <br/>
            <h3>Zeinuen Araua (Oinarri Negatiboa)</h3>
            <ul>
                <li><strong>Berretzaile BIKOITIA (2, 4...):</strong> Emaitza POSITIBOA (+).</li>
                <li><strong>Berretzaile BAKOITIA (3, 5...):</strong> Oinarriaren zeinua mantendu.</li>
            </ul>
        `,quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correct:0},{question:"Zein da (-2)^2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correct:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correct:1}]},{id:"advanced",title:"5. Unitatea: Konbinatuak",description:"Eragiketen hierarkia (PEMDAS).",content:`
            <h3>Eragiketen Hierarkia (PEMDAS)</h3>
            <p>Ordena hau jarraitu behar da beti:</p>
            <ol>
                <li><strong>P</strong>arentesiak ( ) [ ]</li>
                <li><strong>E</strong>rroak eta Potentziak</li>
                <li><strong>M</strong>/<strong>D</strong>: Biderketak eta Zatiketak (Ezkerretik eskuinera)</li>
                <li><strong>A</strong>/<strong>S</strong>: Batuketak eta Kenketak (Ezkerretik eskuinera)</li>
            </ol>
        `,quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correct:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correct:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correct:1}]}],$z=()=>{const{user:t}=Qi();if(!t)return y.jsx(ll,{to:"/",replace:!0});const e=s=>t.completedLessons.includes(s),n=s=>{if(s===0)return!1;const a=QT[s-1].id;return!e(a)};return y.jsxs("main",{className:"flex-1 p-4 md:p-8 max-w-5xl mx-auto w-full",children:[y.jsxs(pn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-blue-500",children:"menu_book"}),"Ikasketa Bidea"]}),y.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg max-w-2xl mx-auto",children:"Jarraitu bidea pauso pauso. Osatu ikasgaia hurrengoa desblokeatzeko eta bihurtu zenbakien maisu."})]}),y.jsx("div",{className:"relative space-y-8 before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent dark:before:via-slate-700",children:QT.map((s,a)=>{const l=n(a),c=e(s.id);return y.jsxs(pn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:`relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group ${l?"opacity-70 grayscale":""}`,children:[y.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-4 shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10 shadow-xl ${c?"bg-green-500 border-green-100 dark:border-green-900 text-white":l?"bg-slate-200 border-slate-100 dark:bg-slate-700 dark:border-slate-800 text-slate-400":"bg-blue-500 border-blue-100 dark:border-blue-900 text-white animate-pulse"}`,children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:c?"check":l?"lock":"priority_high"})}),y.jsx(Mt,{to:l?"#":`/theory/${s.id}`,className:`w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] ${l?"cursor-not-allowed pointer-events-none":""}`,children:y.jsxs(gn,{hoverEffect:!l,className:`p-6 border-l-4 ${c?"border-l-green-500":"border-l-blue-500"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase tracking-wide ${c?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":l?"bg-slate-100 text-slate-500":"bg-blue-100 text-blue-700"}`,children:["UNIT ",a+1]}),c&&y.jsxs("span",{className:"text-green-500 font-bold text-xs flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"verified"})," EGINA"]})]}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:s.title}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:s.description}),y.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-slate-500",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"school"})," Teoria"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"quiz"})," Galdetegia"]})]})]})})]},s.id)})})]})},Xz=()=>y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsx("section",{children:y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border-l-4 border-primary mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Zer dira Zenbaki Osoak (Z)?"}),y.jsx("p",{children:"Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:"}),y.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Positiboak:"}),' (+1, +2...)  "Daukadana".']}),y.jsxs("li",{children:[y.jsx("strong",{children:"Zero:"})," (0)  Muga."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Negatiboak:"}),' (-1, -2...)  "Zor dudana" edo "Zero azpitik".']})]})]})}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-inner",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"linear_scale"}),"Zuzen Erreala Interaktiboa"]}),y.jsx("p",{className:"mb-6 text-sm",children:"Arrastatu zirkulua zenbakiak esploratzeko. Ikusi nola aldatzen diren balioak!"}),y.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center select-none overflow-hidden my-4 bg-slate-50 dark:bg-black/20 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("div",{className:"absolute w-[90%] h-1 bg-slate-300 dark:bg-slate-600 rounded-full"}),y.jsx("div",{className:"absolute w-[90%] flex justify-between px-4",children:[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(t=>y.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[y.jsx("div",{className:`w-0.5 ${t===0?"h-6 bg-slate-800 dark:bg-white":"h-3 bg-slate-400"}`}),y.jsx("span",{className:`text-xs font-bold ${t===0?"text-slate-900 dark:text-white":"text-slate-400"}`,children:t})]},t))}),y.jsx(pn.div,{drag:"x",dragConstraints:{left:-150,right:150},dragElastic:.1,className:"size-12 bg-primary text-white rounded-full flex items-center justify-center shadow-xl cursor-grab active:cursor-grabbing z-10 font-black border-4 border-white dark:border-slate-800",style:{x:0},whileHover:{scale:1.1},whileTap:{scale:.95},children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pan_tool_alt"})})]}),y.jsx("div",{className:"text-center mt-4",children:y.jsx("p",{className:"text-sm text-slate-500 italic",children:"Eskuinerantz handiago, ezkerrerantz txikiago."})}),y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-900/30 mt-6",children:[y.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 mb-2",children:"Kontuz Negatiboekin!"}),y.jsxs("p",{className:"text-sm",children:['Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta ',y.jsx("strong",{children:"txikiagoa"})," da balioa."]}),y.jsx("div",{className:"mt-2 font-mono bg-white dark:bg-slate-800 p-2 rounded text-center border border-red-200 dark:border-red-900 animate-pulse",children:"-100 < -1"})]})]})]}),Yz=()=>{const[t,e]=D.useState(0),n=()=>e(s=>(s+1)%3);return y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-6 rounded-2xl border border-yellow-200 dark:border-yellow-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-600",children:"layers_clear"}),"1. Pausoa: Parentesiak Kendu"]}),y.jsx("p",{className:"mb-4",children:"Sakatu txartela eraldaketa ikusteko:"}),y.jsx("div",{onClick:n,className:"cursor-pointer bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border-2 border-yellow-400 flex flex-col items-center justify-center min-h-[160px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:y.jsxs(o0,{mode:"wait",children:[t===0&&y.jsxs(pn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-slate-400 mb-2",children:"+(+5)"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Ukitu sinplifikatzeko"})]},"step0"),t===1&&y.jsxs(pn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-green-500 mb-2",children:"+5"}),y.jsx("div",{className:"text-sm text-green-600 font-bold",children:"Zeinu berdinak = Positiboa"})]},"step1"),t===2&&y.jsxs(pn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-red-500 mb-2",children:"-(-5)"}),y.jsx("div",{className:"text-sm text-red-600 font-bold",children:"Beste adibide bat... (jarraitu sakatzen)"})]},"step2")]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 text-center font-mono font-bold",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsx("span",{className:"text-slate-400",children:"+(+a) edo -(-a)"})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-green-600 text-xl",children:" +a (Berdinak)"})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsx("span",{className:"text-slate-400",children:"+(-a) edo -(+a)"})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-red-600 text-xl",children:" -a (Ezberdinak)"})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"calculate"}),"2. Pausoa: Eragiketa Egin"]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 mb-2",children:"Zeinu Berdina"}),y.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",y.jsx("strong",{children:"BATU"})," egiten dira eta zeinua mantendu."]}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 +3 = +8"}),y.jsx("li",{children:"-5 -3 = -8"})]})]}),y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:"Zeinu Ezberdina"}),y.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",y.jsx("strong",{children:"KENDU"})," egiten dira eta balio absolutu handienaren zeinua jarri."]}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 -3 = +2 (5 handiago)"}),y.jsx("li",{children:"-5 +3 = -2 (5 handiago)"})]})]})]})]})]})},Qz=()=>y.jsx("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:y.jsxs("section",{className:"bg-purple-50 dark:bg-purple-900/10 p-6 rounded-2xl border border-purple-200 dark:border-purple-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-purple-600",children:"close"}),"Zeinuen Legea Interaktiboa"]}),y.jsx("p",{className:"mb-6",children:"Sakatu konbinazioak emaitza ikusteko:"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(Md,{s1:"+",s2:"+",res:"+",color:"green"}),y.jsx(Md,{s1:"+",s2:"-",res:"-",color:"red"}),y.jsx(Md,{s1:"-",s2:"+",res:"-",color:"red"}),y.jsx(Md,{s1:"-",s2:"-",res:"+",color:"green"})]}),y.jsxs("div",{className:"mt-8 p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h4",{className:"font-bold mb-2",children:"Aholkua:"}),y.jsx("p",{className:"text-sm",children:"Lagunaren araua erabil dezakezu:"}),y.jsxs("ul",{className:"text-sm list-disc pl-5 mt-1 space-y-1",children:[y.jsx("li",{children:"Nire lagunaren (+) laguna (+) = Nire laguna (+)"}),y.jsx("li",{children:"Nire etsaien (-) etsaia (-) = Nire laguna (+)"})]})]})]})}),Md=({s1:t,s2:e,res:n,color:s})=>{const[a,l]=D.useState(!1);return y.jsxs("button",{onClick:()=>l(!a),className:`p-6 rounded-xl flex flex-col items-center justify-center gap-2 border-2 transition-all duration-300 ${a?s==="green"?"bg-green-100 border-green-400":"bg-red-100 border-red-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-primary"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 text-2xl font-black text-slate-400",children:[y.jsx("span",{className:"text-slate-900 dark:text-white",children:t}),y.jsx("span",{children:""}),y.jsx("span",{className:"text-slate-900 dark:text-white",children:e})]}),y.jsx("div",{className:"h-12 flex items-center justify-center w-full",children:a?y.jsxs(pn.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:`text-4xl font-black ${s==="green"?"text-green-600":"text-red-600"}`,children:["= ",n]}):y.jsx("span",{className:"text-sm text-primary font-bold bg-primary/10 px-3 py-1 rounded-full",children:"Sakatu ikusteko"})})]})},ZT={intro:{title:"1. Unitatea: Oinarriak",nextLink:"/games?mode=ordering&difficulty=easy",nextLabel:"Praktikatu: Ordena",Component:Xz,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correctIdx:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correctIdx:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correctIdx:0}]},operations:{title:"2. Unitatea: Batuketa eta Kenketa",nextLink:"/games?mode=addition&difficulty=easy",nextLabel:"Praktikatu: Batuketak",Component:Yz,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correctIdx:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correctIdx:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correctIdx:2}]},multiplication:{title:"3. Unitatea: Biderketa eta Zatiketa",nextLink:"/games?mode=multiplication&difficulty=easy",nextLabel:"Praktikatu: Biderketak",Component:Qz,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correctIdx:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correctIdx:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correctIdx:2}]},powers:{title:"4. Unitatea: Berreketak eta Erroketak",nextLink:"/games?mode=powers&difficulty=easy",nextLabel:"Praktikatu: Berreketak",staticContent:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-200 dark:border-indigo-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-indigo-600",children:"functions"}),"Berreketen Propietateak"]}),y.jsx("p",{className:"mb-6 text-sm",children:"Hiru arau nagusi hauek buruz jakin behar dituzu eragiketak egiteko:"}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-green-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 font-bold text-lg",children:""}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Biderketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"}),"  a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n+m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-red-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 font-bold text-lg",children:":"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Zatiketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"KENDU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"})," : a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n-m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-blue-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 font-bold text-lg",children:"()"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Berreketaren Berreketa"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BIDERKATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["(a",y.jsx("sup",{children:"n"}),")",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"nm"})]})]})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-500",children:"exposure"}),"Zeinuen Araua (Oinarri Negatiboa)"]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BIKOITIA (2, 4...)"}),y.jsxs("p",{className:"text-sm",children:["Emaitza ",y.jsx("span",{className:"text-green-600 font-bold",children:"POSITIBOA (+)"}),"."]}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-3)",y.jsx("sup",{children:"2"})," = +9"]})]}),y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BAKOITIA (3, 5...)"}),y.jsx("p",{className:"text-sm",children:"Oinarriaren zeinua mantendu."}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-2)",y.jsx("sup",{children:"3"})," = -8"]})]})]})]})]}),quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correctIdx:0},{question:"Zein da (-2) ber 2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correctIdx:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correctIdx:1}]},advanced:{title:"5. Unitatea: Konbinatuak (PEMDAS)",nextLink:"/games?mode=combined&difficulty=easy",nextLabel:"Praktikatu: Konbinatuak",staticContent:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-2xl border border-orange-200 dark:border-orange-800",children:[y.jsx("h3",{className:"text-xl font-black text-orange-700 dark:text-orange-300 mb-2",children:"Eragiketen Hierarkia"}),y.jsx("p",{children:"Dena nahastuta dagoenean, ordena hau jarraitu behar da derrigorrez:"})]}),y.jsxs("section",{className:"flex flex-col items-center w-full max-w-lg mx-auto relative",children:[y.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 h-full w-1 bg-slate-200 dark:bg-slate-700 -z-10"}),y.jsxs("div",{className:"w-full bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-purple-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-purple-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"1"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Parentesiak ( ) [ ]"})})]}),y.jsxs("div",{className:"w-[95%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-indigo-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-indigo-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"2"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Berreketak eta Erroak"})})]}),y.jsxs("div",{className:"w-[90%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-blue-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-blue-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"3"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Biderketa eta Zatiketa"})})]}),y.jsxs("div",{className:"w-[80%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-green-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-green-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"4"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Batuketa eta Kenketa"})})]})]})]}),quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correctIdx:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correctIdx:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correctIdx:1}]}},Zz=()=>{const{topicId:t}=i2(),{user:e,addXp:n}=Qi(),{addToast:s}=ga(),a=t||"intro",l=`theory_${a}`,c=ZT[a]||ZT.intro,[d,f]=D.useState(new Array(3).fill(-1)),[p,v]=D.useState(!1),[x,w]=D.useState(!1),A=R=>e&&e.gameXp[R]||0,N=A("ordering_hard")<fn.ordering_hard,M=!(A("addition_hard")>=fn.addition_hard||A("subtraction_hard")>=fn.subtraction_hard),X=!(A("multiplication_hard")>=fn.multiplication_hard||A("division_hard")>=fn.division_hard),ae=!(A("powers_hard")>=fn.powers_hard||A("roots_hard")>=fn.roots_hard);if(t==="operations"&&N)return y.jsx(ll,{to:"/topics",replace:!0});if(t==="multiplication"&&M)return y.jsx(ll,{to:"/topics",replace:!0});if(t==="powers"&&X)return y.jsx(ll,{to:"/topics",replace:!0});if(t==="advanced"&&ae)return y.jsx(ll,{to:"/topics",replace:!0});D.useEffect(()=>{e&&e.completedLessons.includes(l)?(w(!0),f(c.quiz.map(R=>R.correctIdx)),v(!0)):(f(new Array(3).fill(-1)),v(!1),w(!1))},[l,e,c.quiz]);const oe=(R,T)=>{if(x)return;const C=[...d];C[R]=T,f(C),v(!1)},ue=async()=>{if(d.some(T=>T===-1)){s("info","Erantzun galdera guztiak mesedez.");return}v(!0),d.every((T,C)=>T===c.quiz[C].correctIdx)?(en.win(),w(!0),e&&!e.completedLessons.includes(l)&&(await n(50,l)>0?s("xp","+50 XP Teoria ikasteagatik!"):s("success","Teoria osatuta! Orain jolastu dezakezu."))):(en.wrong(),s("error","Erantzun okerrak daude. Berrikusi teoria eta saiatu berriro."))};return y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-10 flex justify-center",children:y.jsxs("div",{className:"max-w-[900px] w-full flex flex-col gap-8",children:[y.jsxs(Mt,{to:"/topics",className:"flex items-center gap-2 text-slate-500 hover:text-primary transition-colors font-bold text-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),"Atzera"]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-slate-100 dark:border-slate-700 pb-6",children:[y.jsx("div",{className:"size-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/30",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:t==="intro"?"1. Unitatea":t==="operations"?"2. Unitatea":t==="multiplication"?"3. Unitatea":t==="powers"?"4. Unitatea":"5. Unitatea"}),y.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight",children:c.title})]})]}),c.Component?y.jsx(c.Component,{}):c.staticContent,y.jsxs("div",{className:"mt-12 pt-8 border-t-2 border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-black text-slate-900 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"quiz"}),"Egiaztatu zure ezagutza"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Erantzun galdera hauek zuzen jokoa eta XP puntuak desblokeatzeko."})]}),y.jsx("div",{className:"flex flex-col gap-6",children:c.quiz.map((R,T)=>{const C=p&&d[T]===R.correctIdx,j=p&&d[T]!==R.correctIdx;return y.jsxs("div",{className:`p-5 rounded-xl border-2 transition-colors ${C?"border-green-500 bg-green-50 dark:bg-green-900/10":j?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50"}`,children:[y.jsxs("p",{className:"font-bold text-slate-900 dark:text-white mb-3",children:[T+1,". ",R.question]}),y.jsx("div",{className:"flex flex-col gap-2",children:R.options.map((P,U)=>y.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors hover:bg-white dark:hover:bg-slate-800 ${d[T]===U?"bg-white dark:bg-slate-800 shadow-sm ring-2 ring-primary":""}`,children:[y.jsx("input",{type:"radio",name:`q-${T}`,className:"size-4 text-primary focus:ring-primary",checked:d[T]===U,onChange:()=>oe(T,U),disabled:x}),y.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:P})]},U))}),j&&y.jsx("p",{className:"text-xs font-bold text-red-500 mt-2",children:"Erantzun okerra. Saiatu berriro."})]},T)})}),y.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 items-center justify-between",children:[x?y.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 font-bold bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg",children:[y.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Teoria menperatuta!"]}):y.jsx("button",{onClick:ue,className:"w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:scale-105 transition-transform",children:"Egiaztatu Erantzunak"}),y.jsxs(Mt,{to:c.nextLink,onClick:R=>!x&&R.preventDefault(),className:`w-full md:w-auto flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-bold shadow-lg transition-all 
                        ${x?"bg-primary hover:bg-blue-600 text-white hover:-translate-y-1 cursor-pointer":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed opacity-70"}`,children:[y.jsx("span",{children:c.nextLabel}),y.jsx("span",{className:"material-symbols-outlined",children:x?"sports_esports":"lock"})]})]})]})]})]})})},Wz=({text:t})=>{if(!t.includes("^")&&!t.includes(""))return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-1",children:t.split(" ").map((n,s)=>y.jsx("span",{className:n==="?"?"text-slate-400 animate-pulse":["+","-","","","(",")",":",""].includes(n)?"text-slate-400 mx-1":"text-primary",children:n},s))});const e=t.split(" ");return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-2 text-4xl md:text-5xl lg:text-6xl font-black text-slate-900 dark:text-white font-display tracking-tight",children:e.map((n,s)=>{if(n==="="||n==="?"||n===""||n===":")return y.jsx("span",{className:"text-slate-400 mx-1",children:n},s);const a=n.split(/(\^)/);return y.jsx("div",{className:"flex items-start text-primary",children:a.map((l,c)=>l==="^"?null:c>0&&a[c-1]==="^"?y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-[-0.5em]",children:l.replace(/[\(\)]/g,"")},c):y.jsx("span",{children:l},c))},s)})})},Jz=({text:t,type:e})=>{if(t.startsWith(""))return y.jsxs("div",{className:"flex items-center gap-1 text-5xl md:text-6xl font-black text-primary",children:[y.jsx("span",{className:"text-slate-400",children:""}),y.jsx("span",{children:t.replace("","").replace("= ?","")}),y.jsx("span",{className:"text-slate-400 ml-4",children:"= ?"})]});if(t.includes("^")){const n=t.split(" = ?")[0],s=(l,c)=>{if(l.includes(")^")){const[d,f]=l.split(")^"),p=d.replace("(",""),[v,x]=p.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:"("}),y.jsx("span",{className:"text-primary",children:v}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:x}),y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:")"}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},c)}if(l.includes("^")){const[d,f]=l.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-primary",children:d}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},c)}return y.jsx("span",{children:l},c)},a=n.split(" ");return y.jsxs("div",{className:"flex items-center justify-center flex-wrap gap-2 text-5xl md:text-6xl font-black",children:[a.map((l,c)=>["",":"].includes(l)?y.jsx("span",{className:"text-slate-400 mx-2",children:l},c):s(l,c)),y.jsx("span",{className:"text-slate-400 ml-2",children:"= ?"})]})}return y.jsx(Wz,{text:t})},eU=()=>{const{user:t,addXp:e}=Qi(),{addToast:n}=ga(),[s]=$2(),a=uo(),[l,c]=D.useState("ordering"),[d,f]=D.useState("easy"),[p,v]=D.useState(null),[x,w]=D.useState(null),[A,N]=D.useState(1),[O,M]=D.useState(0),[B,X]=D.useState(0),[q,ae]=D.useState(""),[oe,ue]=D.useState(!1),[R,T]=D.useState(null),C=D.useRef(null),j=D.useRef(null),[P,U]=D.useState(0),[I,Xe]=D.useState({sequence:[],currentStep:0,completedIds:[]}),Ve=ce=>t?t.completedLessons.includes(ce):!1,Y=ce=>t&&t.gameXp[ce]||0,re=Y("ordering_hard")>=fn.ordering_hard,J=Y("addition_hard")>=fn.addition_hard||Y("subtraction_hard")>=fn.subtraction_hard,Ae=Y("multiplication_hard")>=fn.multiplication_hard||Y("division_hard")>=fn.division_hard,je=Y("powers_hard")>=fn.powers_hard||Y("roots_hard")>=fn.roots_hard,L=t?t.level>=5:!1,ee=ce=>{switch(ce){case"ordering":return"theory_intro";case"addition":case"subtraction":return"theory_operations";case"multiplication":case"division":return"theory_multiplication";case"powers":case"roots":return"theory_powers";case"combined":return"theory_advanced";default:return null}},le=(ce,pe)=>{if(pe==="easy")return!1;const Ie=fn[`${ce}_easy`]||100;if(pe==="medium")return Y(`${ce}_easy`)<Ie;const ze=fn[`${ce}_medium`]||150;return pe==="hard"?Y(`${ce}_medium`)<ze:!0};D.useEffect(()=>{let ce=s.get("mode");const pe=s.get("difficulty");ce==="mixed"&&!L&&(ce="ordering"),ce==="combined"&&!je&&(ce="ordering"),(ce==="powers"||ce==="roots")&&!Ae&&(ce="ordering"),(ce==="multiplication"||ce==="division")&&!J&&(ce="ordering"),(ce==="addition"||ce==="subtraction")&&!re&&(ce="ordering");const Ie=ee(ce||"ordering");if(Ie&&!Ve(Ie)){n("error","Joko hau desblokeatzeko Teoria irakurri eta testa gainditu behar duzu!"),a("/topics");return}ce||(ce="ordering"),c(ce);let ze=pe||"easy";return le(ce,ze)&&(ze="easy"),f(ze),Pn(ce,ze),()=>{C.current&&clearInterval(C.current),j.current&&clearTimeout(j.current)}},[s,L,je,re,J,Ae]),D.useEffect(()=>{if(d==="hard"&&!oe&&(!x||(p==null?void 0:p.type)==="ordering")){C.current&&clearInterval(C.current);const pe=l==="combined"||l==="mixed"||(p==null?void 0:p.type)==="ordering"?45:30;((p==null?void 0:p.type)!=="ordering"||I.currentStep===0)&&T(pe),C.current=window.setInterval(()=>{T(Ie=>Ie!==null&&Ie>0?Ie-1:(he(),0))},1e3)}else(p==null?void 0:p.type)!=="ordering"&&(C.current&&clearInterval(C.current),T(null));return()=>{C.current&&clearInterval(C.current)}},[A,d,oe,l,p]);const he=()=>{C.current&&clearInterval(C.current),en.wrong(),Fn(),X(0),(p==null?void 0:p.type)!=="ordering"?(w({val:"Denbora!",isCorrect:!1}),ae("Denbora agortu da. Azkarrago hurrengoan!")):(ae("Denbora agortu da! Saiatu azkarrago."),w({val:"Denbora!",isCorrect:!1})),j.current=window.setTimeout(()=>{Ns()},2e3)},fe=(ce,pe)=>{const Ie=Math.floor(Math.random()*(pe-ce+1))+ce;return Ie===0?0:Ie},Ne=()=>`${l}_${d}`,we=()=>fn[Ne()]||100,Et=()=>(t==null?void 0:t.gameXp[Ne()])||0,nt=ce=>{let pe=ce==="easy"?4:5,Ie=ce==="easy"?10:ce==="medium"?25:100;const ze=new Set;for(;ze.size<pe;){let ot=fe(-Ie,Ie);ot!==0&&ze.add(ot)}const Ue=Array.from(ze).sort((ot,Tt)=>ot-Tt),De=Array.from(ze).sort(()=>Math.random()-.5).map(ot=>({val:ot.toString(),isCorrect:!0,id:ot}));Xe({sequence:Ue,currentStep:0,completedIds:[]}),v({text:"Ordenatu zenbakiak TXIKIENETIK HANDIERA",options:De,type:"ordering",orderingSequence:Ue}),ae("Gogoratu: Zenbaki negatiboetan, zenbat eta urrunago zerotik, orduan eta txikiagoa.")},jn=ce=>{const pe=ce==="hard"?fe(1,4):fe(1,2);let Ie=ce==="easy"?5:10,ze=fe(-Ie,Ie),Ue=fe(-Ie,Ie),De=fe(-Ie,Ie);ze===0&&(ze=2),Ue===0&&(Ue=3),De===0&&(De=-2);let ot="",Tt=0,vn=0;pe===1?(ot=`${ze} + ${Ue<0?`(${Ue})`:Ue}  ${De<0?`(${De})`:De}`,Tt=ze+Ue*De,vn=(ze+Ue)*De):pe===2?(ot=`(${ze} ${Ue<0?"-":"+"} ${Math.abs(Ue)})  ${De<0?`(${De})`:De}`,Tt=(ze+Ue)*De,vn=ze+Ue*De):pe===3?(De=De===0?2:De,Ue=De*fe(1,5)*(Math.random()>.5?1:-1),ot=`${ze} - ${Ue<0?`(${Ue})`:Ue} : ${De<0?`(${De})`:De}`,Tt=ze-Ue/De,vn=(ze-Ue)/De):(ot=`${ze<0?`(${ze})`:ze}  ${Ue<0?`(${Ue})`:Ue} - ${De<0?`(${De})`:De}`,Tt=ze*Ue-De,vn=ze*(Ue-De));let St=-Tt,Ln=Tt+fe(1,5)*(Math.random()>.5?1:-1);const Se=new Set([Tt,vn,St,Ln]);for(;Se.size<4;)Se.add(fe(-50,50));const Be=Array.from(Se).sort(()=>Math.random()-.5).map(xe=>({val:`${xe}`,isCorrect:xe===Tt}));v({text:ot+" = ?",options:Be,type:"quiz"}),ae("Hierarkia (PEMDAS): Parentesiak lehenengo, gero Berreketak/Erroak, gero Biderketa/Zatiketa, azkenik Batuketa/Kenketa.")},Pn=(ce,pe)=>{if(j.current&&clearTimeout(j.current),w(null),ae(""),Xe({sequence:[],currentStep:0,completedIds:[]}),ce==="ordering"){nt(pe);return}if(ce==="combined"){jn(pe);return}let Ie=ce;if(ce==="mixed"){const Se=Math.random();if(Se<.15){nt(pe);return}if(Se<.35){jn(pe);return}Ie=["addition","subtraction","multiplication","division","powers","roots"][fe(0,5)]}let ze=pe==="easy"?9:pe==="medium"?20:50,Ue=fe(-ze,ze),De=fe(-ze,ze),ot="",Tt="",vn="";const St=new Set;if(Ie==="powers"){const Se=fe(1,3);let Be=pe==="easy"?fe(2,9):fe(2,15),xe=fe(2,5),vt=fe(2,5),It=0,rn=0,Dt=0,bn=0;if(Se===1)ot="",vn=`${Be}^${xe}  ${Be}^${vt} = ?`,It=xe+vt,rn=xe*vt,Dt=Math.abs(xe-vt),bn=It+1,ae(`Oinarri berdineko biderketan, berretzaileak BATU egiten dira (${xe} + ${vt} = ${It}).`);else if(Se===2){if(vt>=xe){let Ot=xe;xe=vt+fe(1,3),vt=Ot}ot=":",vn=`${Be}^${xe} : ${Be}^${vt} = ?`,It=xe-vt,rn=xe+vt,Dt=Math.floor(xe/vt),bn=It+2,ae(`Oinarri berdineko zatiketan, berretzaileak KENDU egiten dira (${xe} - ${vt} = ${It}).`)}else ot="()",vn=`(${Be}^${xe})^${vt} = ?`,It=xe*vt,rn=xe+vt,Dt=Math.pow(xe,vt),bn=It-1,ae(`Berreketaren berreketan, berretzaileak BIDERKATU egiten dira (${xe}  ${vt} = ${It}).`);for(Tt=`${Be}^${It}`,St.add(Tt),St.add(`${Be}^${rn}`),Dt!==It&&Dt!==rn&&St.add(`${Be}^${Dt}`),St.add(`${Be}^${bn}`);St.size<4;)St.add(`${Be}^${It+fe(1,5)*(Math.random()>.5?1:-1)}`)}else if(Ie==="roots"){let Se=pe==="easy"?fe(1,10):fe(1,15);Se===0&&(Se=2),Ue=Se*Se;let Be=Se;vn=`${Ue} = ?`,Tt=Be.toString(),St.add(Tt),St.add((Se+1).toString()),St.add((Se-1).toString()),St.add(Math.floor(Ue/2).toString()),ae(`Erantzuna: ${Se}, zeren ${Se} = ${Ue}.`)}else{let Se=Ue,Be=De;if(Ie==="division"){De===0&&(De=2);const Dt=fe(-10,10);Be=De,Se=(Dt===0?2:Dt)*Be}let xe=0;switch(Ie){case"addition":ot="+",xe=Se+Be;break;case"subtraction":ot="-",xe=Se-Be;break;case"multiplication":ot="",xe=Se*Be;break;case"division":ot=":",xe=Se/Be;break}vn=`${Se<0?`(${Se})`:Se} ${ot} ${Be<0?`(${Be})`:Be} = ?`,Tt=xe>0?`+${xe}`:`${xe}`,St.add(Tt);const vt=Math.random()>.5?1:2,It=xe+(Math.random()>.5?vt:-vt);St.add(It>0?`+${It}`:`${It}`);let rn=0;for(ot==="+"?rn=Se-Be:ot==="-"||ot===""?rn=Se+Be:ot===":"&&(rn=Se-Be),rn!==xe&&St.add(rn>0?`+${rn}`:`${rn}`),Math.random()<.2&&xe!==0&&St.add(xe>0?`${-xe}`:`+${-xe}`);St.size<4;){const Dt=Math.max(5,Math.abs(xe)*.4),bn=fe(xe-Dt,xe+Dt);bn!==xe&&St.add(bn>0?`+${bn}`:`${bn}`)}ae(`Erantzuna: ${Tt}.`)}const Ln=Array.from(St).sort(()=>Math.random()-.5).map(Se=>({val:Se,isCorrect:Se===Tt}));v({text:vn,options:Ln,type:"quiz"})},On=ce=>{const pe=d==="hard"?25:d==="medium"?15:10,Ie=ce*(d==="hard"?3:2);return pe+Ie},Ni=async ce=>{const pe=await e(ce,Ne());pe>0?(n("xp",`+${pe} XP`),U(Ie=>Ie+pe)):ce>0?n("info","Zailtasun honetako XP muga lortu duzu! Saiatu hurrengoa."):pe<0&&(n("error",`-${Math.abs(pe)} XP (Penalizazioa)`),U(Ie=>Ie+pe))},Fn=async()=>{const pe=On(B)*1.5;await Ni(-pe)},ya=ce=>{if(!p||!p.orderingSequence)return;const pe=p.orderingSequence[I.currentStep],Ie=parseInt(ce.val);if(Ie===pe){en.click();const ze=[...I.completedIds,Ie];if(ze.length===p.orderingSequence.length){en.correct(),Xe(De=>({...De,completedIds:ze})),w({val:"Zuzena!",isCorrect:!0});const Ue=On(B);M(De=>De+Ue),X(De=>De+1),Ni(Ue),j.current=window.setTimeout(()=>{Ns()},1500)}else Xe(Ue=>({...Ue,currentStep:Ue.currentStep+1,completedIds:ze}))}else en.wrong(),Fn(),X(0),n("error","Ordena okerra! Saiatu berriro.")},Cs=ce=>{if(!x){if((p==null?void 0:p.type)==="ordering"){ya(ce);return}if(w(ce),C.current&&clearInterval(C.current),ce.isCorrect){en.correct();const pe=On(B);M(Ie=>Ie+pe),X(Ie=>Ie+1),Ni(pe)}else en.wrong(),Fn(),X(0);j.current=window.setTimeout(()=>{Ns()},1500)}},Ns=()=>{en.click(),A<5?(N(ce=>ce+1),Pn(l,d)):va()},va=async()=>{if(ue(!0),en.win(),O>=(d==="hard"?50:30)){const ce=d==="hard"?50:d==="medium"?30:10;await Ni(ce),n("success",`Jokoa amaituta! Bonus: ${ce} XP`)}else n("success","Jokoa amaituta!")},Pt=()=>{en.click(),ue(!1),N(1),M(0),X(0),U(0),Pn(l,d)};if(oe){const ce=O>(d==="hard"?100:50)?3:O>(d==="hard"?50:30)?2:1;return y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[ce===3&&y.jsx(XS,{}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full border border-slate-200 dark:border-slate-700 animate-in zoom-in-95 duration-300 relative z-10",children:[y.jsx("div",{className:"mb-6 flex justify-center gap-2",children:[1,2,3].map(pe=>y.jsx("span",{className:`material-symbols-outlined text-6xl ${pe<=ce?"text-yellow-400 fill-current animate-bounce":"text-slate-200 dark:text-slate-700"}`,style:{animationDelay:`${pe*100}ms`},children:"star"},pe))}),y.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:ce===3?"Bikain!":ce===2?"Oso Ondo!":"Ondo!"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:[O," puntu lortu dituzu.",P!==0&&y.jsxs("span",{className:`block mt-2 font-bold ${P>0?"text-yellow-500":"text-red-500"}`,children:[P>0?`+${P}`:P," XP saio honetan"]}),P===0&&y.jsx("span",{className:"block mt-2 text-xs text-slate-400 uppercase font-bold",children:"XP Muga Lortuta"})]}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:Pt,className:"w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"replay"}),"Jolastu Berriro"]}),y.jsx(Mt,{to:"/topics",className:"w-full py-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-bold",children:"Itzuli Gaietara"})]})]})]})}const Nt=we(),hi=Et(),po=hi>=Nt;return y.jsx("main",{className:"layout-container flex h-full grow flex-col",children:y.jsx("div",{className:"w-full flex flex-1 justify-center py-5 px-4 md:px-8",children:y.jsxs("div",{className:"layout-content-container flex flex-col max-w-[1200px] flex-1 gap-8",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:[po&&y.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 flex items-center justify-center font-black text-yellow-600 dark:text-yellow-400 opacity-20 -rotate-12 text-3xl",children:"MAX"}),y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500",children:"stars"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:["XP (",d,")"]})]}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:hi}),y.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-1",children:["/ ",Nt]})]}),y.jsx("div",{className:"w-full h-1 bg-slate-100 dark:bg-slate-700 rounded-full mt-1",children:y.jsx("div",{className:`h-full rounded-full transition-all ${po?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,hi/Nt*100)}%`}})})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"school"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Maila"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:t?t.level:1})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"local_fire_department"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Bolada"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:B})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-blue-400",children:"score"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Puntuazioa"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:O})]})]}),y.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[y.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6 order-2 lg:order-1",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1 bg-white dark:bg-[#1a2634] rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"tune"}),y.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-bold",children:"Zailtasuna"})]}),y.jsx("div",{className:"flex gap-1",children:["easy","medium","hard"].map(ce=>{const pe=le(l,ce);return y.jsxs("button",{disabled:pe,onClick:()=>{en.click(),f(ce),Pn(l,ce),N(1),M(0),U(0)},className:`px-3 py-1 text-xs font-bold rounded-full capitalize border flex items-center gap-1 transition-all
                                ${d===ce?"bg-primary text-white border-primary":pe?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-transparent cursor-not-allowed opacity-70":"bg-transparent text-slate-500 border-slate-200 dark:border-slate-700 hover:border-primary/50"}`,children:[pe&&y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"lock"}),ce]},ce)})})]}),R!==null&&y.jsxs("div",{className:`w-20 bg-white dark:bg-[#1a2634] rounded-xl p-2 shadow-sm border flex items-center justify-center font-mono text-xl font-bold ${R<10?"text-red-500 border-red-500 animate-pulse":"text-slate-900 dark:text-white border-slate-200 dark:border-slate-800"}`,children:[R,"s"]})]}),y.jsxs("div",{className:"flex flex-col bg-white dark:bg-[#1a2634] rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 overflow-hidden relative",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400 text-sm",children:"quiz"}),y.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Galdera ",A,"/5"]})]}),y.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ce,pe)=>y.jsx("div",{className:`h-1.5 w-6 rounded-full ${pe<A-1?"bg-green-500":pe===A-1?"bg-blue-500 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`},pe))})]}),y.jsx("div",{className:"p-8 md:p-12 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:p&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center w-full",children:[y.jsx("p",{className:"text-slate-400 text-sm font-medium mb-4 uppercase tracking-wider",children:p.type==="ordering"?"Ordenatu Zenbakiak":l==="combined"?"Kalkulatu (Kontuz Hierarkiarekin!)":l==="powers"?"Sinplifikatu":"Kalkulatu emaitza"}),p.type!=="ordering"?y.jsx(Jz,{text:p.text,type:p.type}):y.jsx("div",{className:"flex flex-col items-center gap-6 w-full",children:y.jsxs("div",{className:"flex gap-2 items-center justify-center flex-wrap min-h-[60px] p-4 bg-slate-100 dark:bg-slate-900 rounded-xl w-full",children:[I.completedIds.map(ce=>y.jsx("div",{className:"size-12 rounded-lg bg-green-500 text-white flex items-center justify-center font-bold text-lg animate-in zoom-in",children:ce},ce)),I.completedIds.length===0&&y.jsx("span",{className:"text-slate-400 italic",children:"Hautatu zenbaki txikiena..."})]})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md mt-4",children:p.options.map((ce,pe)=>p.type==="ordering"&&I.completedIds.includes(ce.id)?y.jsx("div",{className:"h-[76px]"},pe):y.jsx("button",{onClick:()=>Cs(ce),disabled:!!x&&p.type!=="ordering",className:`group relative flex items-center justify-center py-6 px-4 rounded-xl border-2 transition-all 
                                    ${x===ce&&p.type!=="ordering"?ce.isCorrect?"border-green-500 bg-green-500/10":"border-red-500 bg-red-500/10":"border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-primary/5 active:bg-primary/10"}`,children:y.jsx("div",{className:`text-2xl font-bold transition-colors ${x===ce&&p.type!=="ordering"?ce.isCorrect?"text-green-600":"text-red-600":"text-slate-700 dark:text-slate-200 group-hover:text-primary"}`,children:ce.val.includes("^")?y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{children:ce.val.split("^")[0]}),y.jsx("sup",{className:"text-sm mt-1",children:ce.val.split("^")[1]})]}):ce.val})},pe))})]})}),x&&y.jsxs("div",{className:`border-t p-4 md:px-8 md:py-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-bottom-2 fade-in duration-300 ${x.isCorrect||(p==null?void 0:p.type)==="ordering"?"bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800/30":"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800/30"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${x.isCorrect||(p==null?void 0:p.type)==="ordering"?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-300"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:x.isCorrect||(p==null?void 0:p.type)==="ordering"?"celebration":"help"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:`font-bold text-lg leading-tight ${x.isCorrect||(p==null?void 0:p.type)==="ordering"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:x.isCorrect||(p==null?void 0:p.type)==="ordering"?(p==null?void 0:p.type)==="ordering"?"Ondo ordenatuta!":"Primeran!":"Saiatu berriro!"}),(p==null?void 0:p.type)!=="ordering"&&y.jsx("p",{className:`${x.isCorrect?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"} text-sm`,children:x.isCorrect?"Erantzun zuzena.":q})]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold opacity-60 text-slate-600 dark:text-slate-300",children:["Hurrengoa kargatzen...",y.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"progress_activity"})]})]})]})]}),y.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6 order-1 lg:order-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-lg",children:"Joko Moduak"}),y.jsx(Mt,{className:"text-primary text-sm font-medium hover:underline",to:"/topics",children:"Teoria"})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[y.jsxs("button",{disabled:!L,onClick:()=>{L&&(en.click(),c("mixed"),f("easy"),N(1),M(0),U(0))},className:`relative p-5 rounded-2xl border-2 shadow-sm flex flex-col items-center gap-3 transition-all text-center group ${L?l==="mixed"?"bg-primary border-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:border-primary/50":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 cursor-not-allowed"}`,children:[!L&&y.jsx("div",{className:"absolute top-2 right-2 text-slate-400",children:y.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),y.jsx("div",{className:`size-14 rounded-full flex items-center justify-center border-4 border-white/20 shrink-0 ${l==="mixed"?"bg-white/20 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"}`,children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shuffle"})}),y.jsxs("div",{children:[y.jsx("h4",{className:`font-black text-xl leading-none ${l==="mixed"?"text-white":"text-slate-900 dark:text-white"}`,children:"Nahastuta"}),y.jsx("p",{className:`text-xs mt-1 font-bold uppercase tracking-wide opacity-80 ${l==="mixed"?"text-blue-100":"text-slate-500"}`,children:"Azterketa Orokorra"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("button",{disabled:!Ve("theory_intro"),onClick:()=>{Ve("theory_intro")&&(en.click(),c("ordering"),f("easy"),N(1),M(0),U(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${Ve("theory_intro")?l==="ordering"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/20 ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-amber-50 dark:hover:bg-amber-900/10 hover:border-amber-500/50":"opacity-50 grayscale cursor-not-allowed"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${l==="ordering"?"bg-white/20 text-white":"bg-amber-100 dark:bg-amber-900/30 text-amber-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"sort"})}),y.jsx("span",{className:`text-sm font-bold ${l==="ordering"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Ordena"})]}),y.jsxs("button",{disabled:!je||!Ve("theory_advanced"),onClick:()=>{je&&Ve("theory_advanced")&&(en.click(),c("combined"),f("easy"),N(1),M(0),U(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${!je||!Ve("theory_advanced")?"bg-slate-50 dark:bg-slate-800 opacity-50 cursor-not-allowed border-slate-200":l==="combined"?"bg-purple-600 border-purple-600 text-white shadow-lg shadow-purple-600/20 ring-2 ring-purple-600 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-purple-50 dark:hover:bg-purple-900/10 hover:border-purple-600/50"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${l==="combined"?"bg-white/20 text-white":"bg-purple-100 dark:bg-purple-900/30 text-purple-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"function"})}),y.jsx("span",{className:`text-sm font-bold ${l==="combined"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Konbinatuak"}),(!je||!Ve("theory_advanced"))&&y.jsx("span",{className:"material-symbols-outlined text-xs absolute top-2 right-2 text-slate-400",children:"lock"})]})]})]}),y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-2"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"2. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!re||!Ve("theory_operations")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!re,onClick:()=>{c("addition"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="addition"?"bg-green-600 border-green-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-green-50 dark:hover:bg-green-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center font-black text-lg",children:"+"}),y.jsx("span",{className:`text-sm font-bold ${l==="addition"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Batuketa"}),(!re||!Ve("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!re,onClick:()=>{c("subtraction"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="subtraction"?"bg-red-500 border-red-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-red-50 dark:hover:bg-red-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center font-black text-lg",children:"-"}),y.jsx("span",{className:`text-sm font-bold ${l==="subtraction"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Kenketa"}),(!re||!Ve("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"3. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!J||!Ve("theory_multiplication")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!J,onClick:()=>{c("multiplication"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="multiplication"?"bg-orange-500 border-orange-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-orange-50 dark:hover:bg-orange-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${l==="multiplication"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Biderketa"}),(!J||!Ve("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!J,onClick:()=>{c("division"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="division"?"bg-teal-500 border-teal-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:":"}),y.jsx("span",{className:`text-sm font-bold ${l==="division"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Zatiketa"}),(!J||!Ve("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"4. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 ${!Ae||!Ve("theory_powers")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!Ae,onClick:()=>{c("powers"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="powers"?"bg-indigo-500 border-indigo-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-black text-xs",children:"x"}),y.jsx("span",{className:`text-sm font-bold ${l==="powers"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Berreketak"}),(!Ae||!Ve("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!Ae,onClick:()=>{c("roots"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="roots"?"bg-teal-600 border-teal-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${l==="roots"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Erroketak"}),(!Ae||!Ve("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]})]})]})]})]})]})})})},tU=()=>{var e,n,s,a,l,c,d;const{user:t}=Qi();return t?(Object.entries(t.gameXp||{}).length,(e=Object.entries(t.gameXp||{}).sort((f,p)=>p[1]-f[1])[0])!=null&&e[0],y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-20 py-8",children:y.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col gap-6",children:[y.jsxs("h1",{className:"text-3xl font-black text-slate-900 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-green-500",children:"insights"}),"Nire Aurrerapena"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs(gn,{className:"p-6 flex flex-col items-center justify-center text-center",children:[y.jsx("div",{className:"size-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 mb-4",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"military_tech"})}),y.jsx("h3",{className:"text-4xl font-black text-slate-800 dark:text-white mb-1",children:t.level}),y.jsx("p",{className:"text-sm text-slate-500 font-bold uppercase tracking-wider",children:"Maila"})]}),y.jsxs(gn,{className:"p-6 flex flex-col items-center justify-center text-center",children:[y.jsx("div",{className:"size-16 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center text-yellow-600 mb-4",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"bolt"})}),y.jsx("h3",{className:"text-4xl font-black text-slate-800 dark:text-white mb-1",children:t.xp}),y.jsx("p",{className:"text-sm text-slate-500 font-bold uppercase tracking-wider",children:"XP Guztira"})]}),y.jsxs(gn,{className:"p-6 flex flex-col items-center justify-center text-center",children:[y.jsx("div",{className:"size-16 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center text-purple-600 mb-4",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"local_fire_department"})}),y.jsx("h3",{className:"text-4xl font-black text-slate-800 dark:text-white mb-1",children:t.streak}),y.jsx("p",{className:"text-sm text-slate-500 font-bold uppercase tracking-wider",children:"Eguneko Pultsua"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-4",children:[y.jsxs(gn,{className:"p-6",children:[y.jsx("h3",{className:"font-bold text-xl mb-6",children:"Jokoen Puntuazioa"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(Vd,{label:"Ordenatu",xp:((n=t.gameXp)==null?void 0:n.ordering_easy)||0,max:500,color:"bg-blue-500"}),y.jsx(Vd,{label:"Batuketa",xp:((s=t.gameXp)==null?void 0:s.addition_easy)||0,max:1e3,color:"bg-green-500"}),y.jsx(Vd,{label:"Biderketa",xp:((a=t.gameXp)==null?void 0:a.multiplication_easy)||0,max:1e3,color:"bg-orange-500"}),y.jsx(Vd,{label:"Berreketak",xp:((l=t.gameXp)==null?void 0:l.powers_easy)||0,max:1e3,color:"bg-purple-500"})]})]}),y.jsxs(gn,{className:"p-6",children:[y.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center justify-between",children:["Lorpenak",y.jsxs("span",{className:"text-sm text-slate-400 font-normal",children:[((c=t.unlockedAchievements)==null?void 0:c.length)||0," desblokeatuta"]})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[(d=t.unlockedAchievements)==null?void 0:d.map((f,p)=>y.jsx("div",{className:"aspect-square bg-yellow-100 dark:bg-yellow-900/20 rounded-xl flex items-center justify-center text-yellow-600 border border-yellow-200 dark:border-yellow-800",title:f,children:y.jsx("span",{className:"material-symbols-outlined",children:"emoji_events"})},p)),(!t.unlockedAchievements||t.unlockedAchievements.length===0)&&y.jsx("p",{className:"col-span-4 text-center text-slate-400 text-sm py-4",children:"Ez duzu lorpenik oraindik. Jolastu!"})]})]})]})]})})):y.jsx("main",{className:"flex-1 p-8 flex items-center justify-center",children:y.jsx("div",{className:"text-center text-slate-500",children:"Sartu saioa zure aurrerapena ikusteko."})})},Vd=({label:t,xp:e,max:n,color:s})=>y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-sm mb-1 font-bold",children:[y.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:t}),y.jsxs("span",{className:"text-slate-500",children:[e," / ",n," XP"]})]}),y.jsx("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${s} transition-all duration-1000`,style:{width:`${Math.min(100,e/n*100)}%`}})})]}),nU=()=>{const[t,e]=D.useState(""),[n,s]=D.useState(""),{login:a,loginAsGuest:l}=Qi(),{addToast:c}=ga(),d=uo(),[f,p]=D.useState(!1),v=async w=>{w.preventDefault(),p(!0);try{await a(t,n),c("success","Ongi etorri berriro!"),d("/")}catch{c("error","Errorea saioa hastean. Egiaztatu datuak.")}finally{p(!1)}},x=async()=>{await l(),d("/")};return y.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:y.jsxs(gn,{className:"w-full max-w-md p-8 md:p-10",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-8",children:"Hasi Saioa"}),y.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),y.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 outline-none focus:ring-2 focus:ring-primary transition-all",value:t,onChange:w=>e(w.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),y.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 outline-none focus:ring-2 focus:ring-primary transition-all",value:n,onChange:w=>s(w.target.value)})]}),y.jsx("button",{type:"submit",disabled:f,className:"w-full py-4 mt-4 bg-primary text-white font-bold rounded-xl shadow-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:f?"Kargatzen...":"Sartu"})]}),y.jsxs("div",{className:"mt-6 flex flex-col gap-4 text-center",children:[y.jsx("button",{onClick:x,className:"text-sm font-bold text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:"Gonbidatu gisa jarraitu"}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Ez daukazu konturik? ",y.jsx(Mt,{to:"/register",className:"text-primary font-bold hover:underline",children:"Erregistratu"})]})]})]})})},iU=()=>{const[t,e]=D.useState(""),[n,s]=D.useState(""),[a,l]=D.useState(""),{register:c}=Qi(),{addToast:d}=ga(),f=uo(),[p,v]=D.useState(!1),x=async w=>{w.preventDefault(),v(!0);try{await c(t,n,a),d("success","Kontua sortu da! Ongi etorri."),f("/")}catch{d("error","Errorea erregistratzean. Emaila erabilita agian?")}finally{v(!1)}};return y.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:y.jsxs(gn,{className:"w-full max-w-md p-8 md:p-10",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-8",children:"Sortu Kontua"}),y.jsxs("form",{onSubmit:x,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Izena"}),y.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 outline-none focus:ring-2 focus:ring-primary transition-all",value:a,onChange:w=>l(w.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),y.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 outline-none focus:ring-2 focus:ring-primary transition-all",value:t,onChange:w=>e(w.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),y.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 outline-none focus:ring-2 focus:ring-primary transition-all",value:n,onChange:w=>s(w.target.value)})]}),y.jsx("button",{type:"submit",disabled:p,className:"w-full py-4 mt-4 bg-primary text-white font-bold rounded-xl shadow-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:p?"Kargatzen...":"Sortu Kontua"})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-sm text-slate-400",children:["Badaukazu kontua? ",y.jsx(Mt,{to:"/login",className:"text-primary font-bold hover:underline",children:"Hasi Saioa"})]})})]})})},sU=()=>{const{user:t,logout:e}=Qi();return t?y.jsx("main",{className:"flex-1 px-4 py-10 flex justify-center items-start",children:y.jsxs(gn,{className:"max-w-md w-full p-8 flex flex-col items-center text-center",children:[y.jsx("div",{className:"size-24 rounded-full bg-gradient-to-br from-primary to-indigo-600 p-1 mb-4 shadow-xl",children:y.jsx("img",{src:t.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.displayName}`,alt:"Avatar",className:"w-full h-full rounded-full bg-white dark:bg-slate-900"})}),y.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white mb-1",children:t.displayName}),y.jsx("p",{className:"text-slate-500 font-mono text-sm mb-6",children:t.email}),y.jsxs("div",{className:"flex gap-8 mb-8 w-full justify-center",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t.level}),y.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Maila"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t.xp}),y.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"XP"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t.coins}),y.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Txanponak"})]})]}),y.jsxs("button",{onClick:e,className:"w-full py-3 rounded-xl border-2 border-red-100 dark:border-red-900/30 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 font-bold transition-colors flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"}),"Saioa Itxi"]})]})}):y.jsx("div",{className:"p-10 text-center",children:"Saioa hasi gabe."})},rU=()=>{const{user:t}=Qi(),{addToast:e}=ga(),[n,s]=D.useState([]),[a,l]=D.useState(!0),[c,d]=D.useState(null);D.useEffect(()=>{f()},[t]);const f=async()=>{if(t!=null&&t.isAdmin){const v=await Iu.getAllUsers();s(v),l(!1)}},p=async v=>{try{await Iu.kickUser(v),e("success","Erabiltzailea kanporatua izan da."),d(null),f()}catch{e("error","Arazoa egon da erabiltzailea kanporatzean.")}};return!t||!t.isAdmin?y.jsx(ll,{to:"/",replace:!0}):y.jsxs("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:[y.jsxs("div",{className:"w-full max-w-7xl",children:[y.jsxs("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-red-500",children:"admin_panel_settings"}),"Administrazio Panela"]}),a?y.jsx("div",{className:"flex justify-center p-12",children:y.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-primary",children:"loader"})}):y.jsx(gn,{className:"p-0 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:"Erabiltzailea"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:"Emaila"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"XP"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"Maila"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"Azken Saioa"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"IP"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-right",children:"Ekintzak"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.map(v=>y.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[y.jsxs("td",{className:"p-4 flex items-center gap-3",children:[y.jsx("div",{className:"size-10 rounded-full bg-cover bg-center bg-slate-200 shadow-sm border border-slate-200 dark:border-slate-700",style:{backgroundImage:`url("${v.photoURL}")`}}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:v.displayName}),v.isAdmin&&y.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-wider",children:"Admin"})]})]}),y.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400 font-mono text-xs",children:v.email}),y.jsx("td",{className:"p-4 text-center font-bold text-primary",children:v.xp}),y.jsx("td",{className:"p-4 text-center",children:y.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300",children:v.level})}),y.jsx("td",{className:"p-4 text-center text-xs text-slate-500",children:new Date(v.lastLoginDate).toLocaleDateString()}),y.jsx("td",{className:"p-4 text-center text-xs font-mono text-slate-400",children:v.lastIp||"-"}),y.jsx("td",{className:"p-4 text-right",children:!v.isAdmin&&y.jsx(Ws,{variant:"danger",size:"sm",leftIcon:y.jsx("span",{className:"material-symbols-outlined text-lg",children:"person_remove"}),onClick:()=>d(v.uid),children:"Kanporatu"})})]},v.uid))})]})})})]}),c&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs(gn,{className:"max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[y.jsx("div",{className:"size-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center mb-4 mx-auto",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"warning"})}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:"Ziur zaude?"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-center text-sm",children:["Ekintza honek erabiltzailea eta bere datu guztiak ",y.jsx("strong",{children:"betiko"})," ezabatuko ditu."]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(Ws,{variant:"ghost",className:"flex-1",onClick:()=>d(null),children:"Ezeztatu"}),y.jsx(Ws,{variant:"danger",className:"flex-1",onClick:()=>p(c),children:"Kanporatu"})]})]})})]})},aU=()=>{const{user:t,addXp:e}=Qi(),{addToast:n}=ga(),[s,a]=D.useState(null),l=async f=>{if(t&&!s){if(t.coins<f.price){en.wrong(),n("error","Ez daukazu nahikoa txanpon! Jolastu gehiago.");return}if(t.inventory&&t.inventory.includes(f.id)){n("info","Dagoeneko badaukazu item hau.");return}a(f.id);try{const p=await Iu.buyItem(t.uid,f);p.success?(en.correct(),n("success",`Erosita: ${f.name}`),await e(0,"shop_sync")):n("error",p.message||"Errorea egon da erosketan.")}catch(p){console.error(p),n("error","Errorea.")}finally{a(null)}}};if(!t)return y.jsx("div",{className:"p-10 text-center",children:"Sartu saioa denda ikusteko."});const c=qT.filter(f=>f.type==="avatar"),d=qT.filter(f=>f.type==="frame");return y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-20 py-8",children:y.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-4xl",children:"storefront"}),"Denda"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Erabili zure Z-Coinak pertsonalizazioak erosteko!"})]}),y.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 px-6 py-3 rounded-2xl flex items-center gap-3 border-2 border-yellow-400 text-yellow-700 dark:text-yellow-400 font-black text-xl shadow-lg transform rotate-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"monetization_on"}),y.jsx("span",{children:t.coins})]})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"face"}),"Avatarrak"]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:c.map(f=>{var p;return y.jsx(WT,{item:f,owned:(p=t.inventory)==null?void 0:p.includes(f.id),canAfford:t.coins>=f.price,onBuy:()=>l(f),loading:s===f.id},f.id)})})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"crop_square"}),"Marko Bereziak"]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:d.map(f=>{var p;return y.jsx(WT,{item:f,owned:(p=t.inventory)==null?void 0:p.includes(f.id),canAfford:t.coins>=f.price,onBuy:()=>l(f),loading:s===f.id},f.id)})})]})]})})},WT=({item:t,owned:e,canAfford:n,onBuy:s,loading:a})=>y.jsxs(gn,{className:`p-4 flex flex-col items-center gap-3 relative overflow-hidden transition-all ${e?"opacity-70 grayscale":"hover:scale-105 hover:shadow-xl"}`,children:[y.jsx("div",{className:`p-4 rounded-full bg-slate-50 dark:bg-slate-900 text-4xl mb-2 ${t.type==="frame"?"border-4 border-slate-200":""}`,children:t.icon.startsWith("http")?y.jsx("img",{src:t.icon,className:"size-10"}):y.jsx("span",{className:"material-symbols-outlined",children:t.icon||"star"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white leading-tight",children:t.name}),y.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.price," Z"]})]}),y.jsx("button",{onClick:s,disabled:e||a||!n&&!e,className:`w-full py-2 rounded-lg font-bold text-sm mt-2 transition-colors flex items-center justify-center gap-2
                    ${e?"bg-slate-200 text-slate-500 cursor-default":n?"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 shadow-md":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed"}
                `,children:a?y.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}):e?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})," Erosita"]}):y.jsx(y.Fragment,{children:"Erosi"})})]}),oU=()=>y.jsx(W6,{children:y.jsx(J6,{children:y.jsx(F2,{children:y.jsxs("div",{className:"relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 transition-colors duration-200 font-body",children:[y.jsx(Fz,{}),y.jsxs(v2,{children:[y.jsx(qi,{path:"/",element:y.jsx(Kz,{})}),y.jsx(qi,{path:"/topics",element:y.jsx($z,{})}),y.jsx(qi,{path:"/theory/:topicId",element:y.jsx(Zz,{})}),y.jsx(qi,{path:"/games",element:y.jsx(eU,{})}),y.jsx(qi,{path:"/progress",element:y.jsx(tU,{})}),y.jsx(qi,{path:"/login",element:y.jsx(nU,{})}),y.jsx(qi,{path:"/register",element:y.jsx(iU,{})}),y.jsx(qi,{path:"/profile",element:y.jsx(sU,{})}),y.jsx(qi,{path:"/shop",element:y.jsx(aU,{})}),y.jsx(qi,{path:"/admin",element:y.jsx(rU,{})})]}),y.jsx(qz,{}),y.jsx(Hz,{})]})})})});class lU extends e1.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){var e,n,s;return this.state.hasError?y.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"sans-serif",color:"#333"},children:[y.jsx("h1",{style:{fontSize:"2rem",color:"#e11d48"},children:"Zerbait gaizki atera da :("}),y.jsx("p",{children:"Mesedez, atera pantallazo bat honi eta bidali garatzaileari:"}),y.jsxs("div",{style:{backgroundColor:"#f1f5f9",padding:"1rem",borderRadius:"0.5rem",textAlign:"left",margin:"1rem auto",maxWidth:"800px",overflow:"auto",border:"2px solid #cbd5e1"},children:[y.jsx("p",{style:{fontWeight:"bold",color:"#dc2626"},children:(e=this.state.error)==null?void 0:e.toString()}),y.jsx("pre",{style:{fontSize:"0.8rem",color:"#475569"},children:((n=this.state.errorInfo)==null?void 0:n.componentStack)||((s=this.state.error)==null?void 0:s.stack)})]}),y.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"bold",marginTop:"1rem"},children:"Berrabiarazi Orria"})]}):this.props.children}}const LR=document.getElementById("root");if(!LR)throw new Error("Could not find root element to mount to");const cU=SN.createRoot(LR);cU.render(y.jsx(e1.StrictMode,{children:y.jsx(lU,{children:y.jsx(oU,{})})}));
