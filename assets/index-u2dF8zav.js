(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function G1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qp={exports:{}},qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function rN(){if(C_)return qc;C_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return qc.Fragment=e,qc.jsx=n,qc.jsxs=n,qc}var I_;function aN(){return I_||(I_=1,qp.exports=rN()),qp.exports}var y=aN(),Gp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function oN(){if(D_)return Oe;D_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,D={};function B(L,ee,le){this.props=L,this.context=ee,this.refs=D,this.updater=le||I}B.prototype.isReactComponent={},B.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function H(L,ee,le){this.props=L,this.context=ee,this.refs=D,this.updater=le||I}var ae=H.prototype=new Q;ae.constructor=H,O(ae,B.prototype),ae.isPureReactComponent=!0;var oe=Array.isArray;function he(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(L,ee,le){var ue=le.ref;return{$$typeof:t,type:L,key:ee,ref:ue!==void 0?ue:null,props:le}}function j(L,ee){return R(L.type,ee,L.props)}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function U(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return ee[le]})}var C=/\/+/g;function Xe(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):ee.toString(36)}function je(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(he,he):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,ee,le,ue,fe){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var we=!1;if(L===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(L.$$typeof){case t:case e:we=!0;break;case b:return we=L._init,X(we(L._payload),ee,le,ue,fe)}}if(we)return fe=fe(L),we=ue===""?"."+Xe(L,0):ue,oe(fe)?(le="",we!=null&&(le=we.replace(C,"$&/")+"/"),X(fe,ee,le,"",function(Mn){return Mn})):fe!=null&&(V(fe)&&(fe=j(fe,le+(fe.key==null||L&&L.key===fe.key?"":(""+fe.key).replace(C,"$&/")+"/")+we)),ee.push(fe)),1;we=0;var St=ue===""?".":ue+":";if(oe(L))for(var st=0;st<L.length;st++)ue=L[st],Ce=St+Xe(ue,st),we+=X(ue,ee,le,Ce,fe);else if(st=A(L),typeof st=="function")for(L=st.call(L),st=0;!(ue=L.next()).done;)ue=ue.value,Ce=St+Xe(ue,st++),we+=X(ue,ee,le,Ce,fe);else if(Ce==="object"){if(typeof L.then=="function")return X(je(L),ee,le,ue,fe);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(L,ee,le){if(L==null)return L;var ue=[],fe=0;return X(L,ue,"","",function(Ce){return ee.call(le,Ce,fe++)}),ue}function J(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var Ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ve={map:re,forEach:function(L,ee,le){re(L,function(){ee.apply(this,arguments)},le)},count:function(L){var ee=0;return re(L,function(){ee++}),ee},toArray:function(L){return re(L,function(ee){return ee})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Oe.Activity=x,Oe.Children=Ve,Oe.Component=B,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=H,Oe.StrictMode=i,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},Oe.cache=function(L){return function(){return L.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(L,ee,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=O({},L.props),fe=L.key;if(ee!=null)for(Ce in ee.key!==void 0&&(fe=""+ee.key),ee)!S.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(ue[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=le;else if(1<Ce){for(var we=Array(Ce),St=0;St<Ce;St++)we[St]=arguments[St+2];ue.children=we}return R(L.type,fe,ue)},Oe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Oe.createElement=function(L,ee,le){var ue,fe={},Ce=null;if(ee!=null)for(ue in ee.key!==void 0&&(Ce=""+ee.key),ee)S.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(fe[ue]=ee[ue]);var we=arguments.length-2;if(we===1)fe.children=le;else if(1<we){for(var St=Array(we),st=0;st<we;st++)St[st]=arguments[st+2];fe.children=St}if(L&&L.defaultProps)for(ue in we=L.defaultProps,we)fe[ue]===void 0&&(fe[ue]=we[ue]);return R(L,Ce,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:d,render:L}},Oe.isValidElement=V,Oe.lazy=function(L){return{$$typeof:b,_payload:{_status:-1,_result:L},_init:J}},Oe.memo=function(L,ee){return{$$typeof:p,type:L,compare:ee===void 0?null:ee}},Oe.startTransition=function(L){var ee=N.T,le={};N.T=le;try{var ue=L(),fe=N.S;fe!==null&&fe(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(he,Ae)}catch(Ce){Ae(Ce)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),N.T=ee}},Oe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Oe.use=function(L){return N.H.use(L)},Oe.useActionState=function(L,ee,le){return N.H.useActionState(L,ee,le)},Oe.useCallback=function(L,ee){return N.H.useCallback(L,ee)},Oe.useContext=function(L){return N.H.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L,ee){return N.H.useDeferredValue(L,ee)},Oe.useEffect=function(L,ee){return N.H.useEffect(L,ee)},Oe.useEffectEvent=function(L){return N.H.useEffectEvent(L)},Oe.useId=function(){return N.H.useId()},Oe.useImperativeHandle=function(L,ee,le){return N.H.useImperativeHandle(L,ee,le)},Oe.useInsertionEffect=function(L,ee){return N.H.useInsertionEffect(L,ee)},Oe.useLayoutEffect=function(L,ee){return N.H.useLayoutEffect(L,ee)},Oe.useMemo=function(L,ee){return N.H.useMemo(L,ee)},Oe.useOptimistic=function(L,ee){return N.H.useOptimistic(L,ee)},Oe.useReducer=function(L,ee,le){return N.H.useReducer(L,ee,le)},Oe.useRef=function(L){return N.H.useRef(L)},Oe.useState=function(L){return N.H.useState(L)},Oe.useSyncExternalStore=function(L,ee,le){return N.H.useSyncExternalStore(L,ee,le)},Oe.useTransition=function(){return N.H.useTransition()},Oe.version="19.2.3",Oe}var M_;function k0(){return M_||(M_=1,Gp.exports=oN()),Gp.exports}var P=k0();const lN=G1(P);var Kp={exports:{}},Gc={},$p={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function cN(){return j_||(j_=1,(function(t){function e(X,re){var J=X.length;X.push(re);e:for(;0<J;){var Ae=J-1>>>1,Ve=X[Ae];if(0<a(Ve,re))X[Ae]=re,X[J]=Ve,J=Ae;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var re=X[0],J=X.pop();if(J!==re){X[0]=J;e:for(var Ae=0,Ve=X.length,L=Ve>>>1;Ae<L;){var ee=2*(Ae+1)-1,le=X[ee],ue=ee+1,fe=X[ue];if(0>a(le,J))ue<Ve&&0>a(fe,le)?(X[Ae]=fe,X[ue]=J,Ae=ue):(X[Ae]=le,X[ee]=J,Ae=ee);else if(ue<Ve&&0>a(fe,J))X[Ae]=fe,X[ue]=J,Ae=ue;else break e}}return re}function a(X,re){var J=X.sortIndex-re.sortIndex;return J!==0?J:X.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],b=1,x=null,T=3,A=!1,I=!1,O=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var re=n(p);re!==null;){if(re.callback===null)i(p);else if(re.startTime<=X)i(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(p)}}function oe(X){if(O=!1,ae(X),!I)if(n(f)!==null)I=!0,he||(he=!0,U());else{var re=n(p);re!==null&&je(oe,re.startTime-X)}}var he=!1,N=-1,S=5,R=-1;function j(){return D?!0:!(t.unstable_now()-R<S)}function V(){if(D=!1,he){var X=t.unstable_now();R=X;var re=!0;try{e:{I=!1,O&&(O=!1,Q(N),N=-1),A=!0;var J=T;try{t:{for(ae(X),x=n(f);x!==null&&!(x.expirationTime>X&&j());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,T=x.priorityLevel;var Ve=Ae(x.expirationTime<=X);if(X=t.unstable_now(),typeof Ve=="function"){x.callback=Ve,ae(X),re=!0;break t}x===n(f)&&i(f),ae(X)}else i(f);x=n(f)}if(x!==null)re=!0;else{var L=n(p);L!==null&&je(oe,L.startTime-X),re=!1}}break e}finally{x=null,T=J,A=!1}re=void 0}}finally{re?U():he=!1}}}var U;if(typeof H=="function")U=function(){H(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Xe=C.port2;C.port1.onmessage=V,U=function(){Xe.postMessage(null)}}else U=function(){B(V,0)};function je(X,re){N=B(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var J=T;T=re;try{return X()}finally{T=J}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var J=T;T=X;try{return re()}finally{T=J}},t.unstable_scheduleCallback=function(X,re,J){var Ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ae+J:Ae):J=Ae,X){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=J+Ve,X={id:b++,callback:re,priorityLevel:X,startTime:J,expirationTime:Ve,sortIndex:-1},J>Ae?(X.sortIndex=J,e(p,X),n(f)===null&&X===n(p)&&(O?(Q(N),N=-1):O=!0,je(oe,J-Ae))):(X.sortIndex=Ve,e(f,X),I||A||(I=!0,he||(he=!0,U()))),X},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(X){var re=T;return function(){var J=T;T=re;try{return X.apply(this,arguments)}finally{T=J}}}})(Xp)),Xp}var V_;function uN(){return V_||(V_=1,$p.exports=cN()),$p.exports}var Yp={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function dN(){if(P_)return kn;P_=1;var t=k0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:p,implementation:b}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,kn.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,b)},kn.flushSync=function(f){var p=u.T,b=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=b,i.d.f()}},kn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},kn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},kn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var b=p.as,x=d(b,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:A}):b==="script"&&i.d.X(f,{crossOrigin:x,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},kn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=d(b,p.crossOrigin);i.d.L(f,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kn.preloadModule=function(f,p){if(typeof f=="string")if(p){var b=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},kn.requestFormReset=function(f){i.d.r(f)},kn.unstable_batchedUpdates=function(f,p){return f(p)},kn.useFormState=function(f,p,b){return u.H.useFormState(f,p,b)},kn.useFormStatus=function(){return u.H.useHostTransitionStatus()},kn.version="19.2.3",kn}var O_;function hN(){if(O_)return Yp.exports;O_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=dN(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function fN(){if(L_)return Gc;L_=1;var t=uN(),e=k0(),n=hN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return f(m),s;if(g===c)return f(m),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var _=!1,E=m.child;E;){if(E===o){_=!0,o=m,c=g;break}if(E===c){_=!0,c=m,o=g;break}E=E.sibling}if(!_){for(E=g.child;E;){if(E===o){_=!0,o=g,c=m;break}if(E===c){_=!0,c=g,o=m;break}E=E.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function b(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=b(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var C=Symbol.for("react.client.reference");function Xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===C?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case B:return"Profiler";case D:return"StrictMode";case oe:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case H:return s.displayName||"Context";case Q:return(s._context.displayName||"Context")+".Consumer";case ae:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return r=s.displayName||null,r!==null?r:Xe(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return Xe(s(r))}catch{}}return null}var je=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ae=[],Ve=-1;function L(s){return{current:s}}function ee(s){0>Ve||(s.current=Ae[Ve],Ae[Ve]=null,Ve--)}function le(s,r){Ve++,Ae[Ve]=s.current,s.current=r}var ue=L(null),fe=L(null),Ce=L(null),we=L(null);function St(s,r){switch(le(Ce,r),le(fe,s),le(ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Jx(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Jx(r),s=e_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(ue),le(ue,s)}function st(){ee(ue),ee(fe),ee(Ce)}function Mn(s){s.memoizedState!==null&&le(we,s);var r=ue.current,o=e_(r,s.type);r!==o&&(le(fe,s),le(ue,o))}function jn(s){fe.current===s&&(ee(ue),ee(fe)),we.current===s&&(ee(we),Uc._currentValue=J)}var Vn,Rs;function Un(s){if(Vn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Vn=r&&r[1]||"",Rs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+s+Rs}var ma=!1;function ki(s,r){if(!s||ma)return"";ma=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var $=Z}Reflect.construct(s,[],se)}else{try{se.call()}catch(Z){$=Z}s.call(se.prototype)}}else{try{throw Error()}catch(Z){$=Z}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),_=g[0],E=g[1];if(_&&E){var M=_.split(`
`),K=E.split(`
`);for(m=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===M.length||m===K.length)for(c=M.length-1,m=K.length-1;1<=c&&0<=m&&M[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(M[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||M[c]!==K[m]){var W=`
`+M[c].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=c&&0<=m);break}}}finally{ma=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Un(o):""}function Ri(s,r){switch(s.tag){case 26:case 27:case 5:return Un(s.type);case 16:return Un("Lazy");case 13:return s.child!==r&&r!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return ki(s.type,!1);case 11:return ki(s.type.render,!1);case 1:return ki(s.type,!0);case 31:return Un("Activity");default:return""}}function pa(s){try{var r="",o=null;do r+=Ri(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Lt=Object.prototype.hasOwnProperty,Mt=t.unstable_scheduleCallback,cs=t.unstable_cancelCallback,uo=t.unstable_shouldYield,ce=t.unstable_requestPaint,pe=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,lt=t.unstable_LowPriority,At=t.unstable_IdlePriority,gn=t.log,kt=t.unstable_setDisableYieldValue,Pn=null,Se=null;function Be(s){if(typeof gn=="function"&&kt(s),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Pn,s)}catch{}}var xe=Math.clz32?Math.clz32:an,xt=Math.log,jt=Math.LN2;function an(s){return s>>>=0,s===0?32:31-(xt(s)/jt|0)|0}var Vt=256,yn=262144,zt=4194304;function $s(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xs(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var E=c&134217727;return E!==0?(c=E&~g,c!==0?m=$s(c):(_&=E,_!==0?m=$s(_):o||(o=E&~s,o!==0&&(m=$s(o))))):(E=c&~g,E!==0?m=$s(E):_!==0?m=$s(_):o||(o=c&~s,o!==0&&(m=$s(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Ns(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Xf(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yu(){var s=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),s}function Ys(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ga(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yf(s,r,o,c,m,g){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var E=s.entanglements,M=s.expirationTimes,K=s.hiddenUpdates;for(o=_&~o;0<o;){var W=31-xe(o),se=1<<W;E[W]=0,M[W]=-1;var $=K[W];if($!==null)for(K[W]=null,W=0;W<$.length;W++){var Z=$[W];Z!==null&&(Z.lane&=-536870913)}o&=~se}c!==0&&ya(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(_&~r))}function ya(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-xe(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function Gl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-xe(o),m=1<<c;m&r|s[c]&r&&(s[c]|=r),o&=~m}}function Kl(s,r){var o=r&-r;return o=(o&42)!==0?1:ba(o),(o&(s.suspendedLanes|r))!==0?0:o}function ba(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ni(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qu(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:T_(s.type))}function Cs(s,r){var o=re.p;try{return re.p=s,r()}finally{re.p=o}}var Is=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Is,dn="__reactProps$"+Is,Qs="__reactContainer$"+Is,ho="__reactEvents$"+Is,Qf="__reactListeners$"+Is,Zu="__reactHandles$"+Is,Wu="__reactResources$"+Is,Zs="__reactMarker$"+Is;function fo(s){delete s[Xt],delete s[dn],delete s[ho],delete s[Qf],delete s[Zu]}function Ws(s){var r=s[Xt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Qs]||o[Xt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=o_(s);s!==null;){if(o=s[Xt])return o;s=o_(s)}return r}s=o,o=s.parentNode}return null}function us(s){if(s=s[Xt]||s[Qs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Wn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Js(s){var r=s[Wu];return r||(r=s[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Yt(s){s[Zs]=!0}var $l=new Set,Xl={};function ei(s,r){ti(s,r),ti(s+"Capture",r)}function ti(s,r){for(Xl[s]=r,s=0;s<r.length;s++)$l.add(r[s])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Zl={};function Ju(s){return Lt.call(Zl,s)?!0:Lt.call(Ql,s)?!1:Yl.test(s)?Zl[s]=!0:(Ql[s]=!0,!1)}function mo(s,r,o){if(Ju(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Jn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Qt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function hn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function lr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wl(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function dt(s){if(!s._valueTracker){var r=lr(s)?"checked":"value";s._valueTracker=Wl(s,r,""+s[r])}}function va(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=lr(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xa=/[\n"\\]/g;function Bn(s){return s.replace(xa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function po(s,r,o,c,m,g,_,E){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+hn(r)):s.value!==""+hn(r)&&(s.value=""+hn(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Jl(s,_,hn(r)):o!=null?Jl(s,_,hn(o)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+hn(E):s.removeAttribute("name")}function ed(s,r,o,c,m,g,_,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){dt(s);return}o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,E||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=E?s.checked:!!c,s.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),dt(s)}function Jl(s,r,o){r==="number"&&ni(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function cr(s,r,o,c){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function td(s,r,o){if(r!=null&&(r=""+hn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+hn(o):""}function ur(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(je(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=hn(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),dt(s)}function Fn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var nd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||nd.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function tc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&ec(s,m,c)}else for(var g in r)r.hasOwnProperty(g)&&ec(s,g,r[g])}function go(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(s){return dr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ds(){}var nc=null;function ds(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hr=null,si=null;function _a(s){var r=us(s);if(r&&(s=r.stateNode)){var o=s[dn]||null;e:switch(s=r.stateNode,r.type){case"input":if(po(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var m=c[dn]||null;if(!m)throw Error(i(90));po(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&va(c)}break e;case"textarea":td(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&cr(s,!!o.multiple,r,!1)}}}var bo=!1;function fr(s,r,o){if(bo)return s(r,o);bo=!0;try{var c=s(r);return c}finally{if(bo=!1,(hr!==null||si!==null)&&(Qd(),hr&&(r=hr,s=si,si=hr=null,_a(r),s)))for(r=0;r<s.length;r++)_a(s[r])}}function Ms(s,r){var o=s.stateNode;if(o===null)return null;var c=o[dn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(hs)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){wa=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{wa=!1}var ii=null,sc=null,Ta=null;function ic(){if(Ta)return Ta;var s,r=sc,o=r.length,c,m="value"in ii?ii.value:ii.textContent,g=m.length;for(s=0;s<o&&r[s]===m[s];s++);var _=o-s;for(c=1;c<=_&&r[o-c]===m[g-c];c++);return Ta=m.slice(s,1<c?1-c:void 0)}function Ea(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ci(){return!0}function js(){return!1}function bn(s){function r(o,c,m,g,_){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(o=s[E],this[E]=o?o(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ci:js,this.isPropagationStopped=js,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),r}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=bn(Ii),mr=x({},Ii,{view:0,detail:0}),rc=bn(mr),pr,vo,ai,xo=x({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ai&&(ai&&s.type==="mousemove"?(pr=s.screenX-ai.screenX,vo=s.screenY-ai.screenY):vo=pr=0,ai=s),pr)},movementY:function(s){return"movementY"in s?s.movementY:vo}}),ac=bn(xo),Sa=x({},xo,{dataTransfer:0}),id=bn(Sa),rd=x({},mr,{relatedTarget:0}),Aa=bn(rd),oc=x({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=bn(oc),_o=x({},Ii,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),od=bn(_o),ld=x({},Ii,{data:0}),oi=bn(ld),cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=dd[s])?!!r[s]:!1}function gr(){return hd}var On=x({},mr,{key:function(s){if(s.key){var r=cd[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ea(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ud[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(s){return s.type==="keypress"?Ea(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ea(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fd=bn(On),md=x({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=bn(md),h=x({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),v=bn(h),w=x({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=bn(w),q=x({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=bn(q),de=x({},Ii,{newState:0,oldState:0}),Fe=bn(de),Ht=[9,13,27,32],at=hs&&"CompositionEvent"in window,Rt=null;hs&&"documentMode"in document&&(Rt=document.documentMode);var fs=hs&&"TextEvent"in window&&!Rt,li=hs&&(!at||Rt&&8<Rt&&11>=Rt),Vs=" ",Ps=!1;function ka(s,r){switch(s){case"keyup":return Ht.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var To=!1;function N2(s,r){switch(s){case"compositionend":return wo(r);case"keypress":return r.which!==32?null:(Ps=!0,Vs);case"textInput":return s=r.data,s===Vs&&Ps?null:s;default:return null}}function C2(s,r){if(To)return s==="compositionend"||!at&&ka(s,r)?(s=ic(),Ta=sc=ii=null,To=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return li&&r.locale!=="ko"?null:r.data;default:return null}}var I2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ub(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!I2[s.type]:r==="textarea"}function db(s,r,o,c){hr?si?si.push(c):si=[c]:hr=c,r=sh(r,"onChange"),0<r.length&&(o=new ri("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var lc=null,cc=null;function D2(s){$x(s,0)}function pd(s){var r=Wn(s);if(va(r))return s}function hb(s,r){if(s==="change")return r}var fb=!1;if(hs){var Zf;if(hs){var Wf="oninput"in document;if(!Wf){var mb=document.createElement("div");mb.setAttribute("oninput","return;"),Wf=typeof mb.oninput=="function"}Zf=Wf}else Zf=!1;fb=Zf&&(!document.documentMode||9<document.documentMode)}function pb(){lc&&(lc.detachEvent("onpropertychange",gb),cc=lc=null)}function gb(s){if(s.propertyName==="value"&&pd(cc)){var r=[];db(r,cc,s,ds(s)),fr(D2,r)}}function M2(s,r,o){s==="focusin"?(pb(),lc=r,cc=o,lc.attachEvent("onpropertychange",gb)):s==="focusout"&&pb()}function j2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pd(cc)}function V2(s,r){if(s==="click")return pd(r)}function P2(s,r){if(s==="input"||s==="change")return pd(r)}function O2(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var es=typeof Object.is=="function"?Object.is:O2;function uc(s,r){if(es(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Lt.call(r,m)||!es(s[m],r[m]))return!1}return!0}function yb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bb(s,r){var o=yb(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yb(o)}}function vb(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?vb(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function xb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ni(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=ni(s.document)}return r}function Jf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var L2=hs&&"documentMode"in document&&11>=document.documentMode,Eo=null,em=null,dc=null,tm=!1;function _b(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tm||Eo==null||Eo!==ni(c)||(c=Eo,"selectionStart"in c&&Jf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),dc&&uc(dc,c)||(dc=c,c=sh(em,"onSelect"),0<c.length&&(r=new ri("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=Eo)))}function Ra(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var So={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},nm={},wb={};hs&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Na(s){if(nm[s])return nm[s];if(!So[s])return s;var r=So[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in wb)return nm[s]=r[o];return s}var Tb=Na("animationend"),Eb=Na("animationiteration"),Sb=Na("animationstart"),z2=Na("transitionrun"),U2=Na("transitionstart"),B2=Na("transitioncancel"),Ab=Na("transitionend"),kb=new Map,sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sm.push("scrollEnd");function Os(s,r){kb.set(s,r),ei(r,[s])}var gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ms=[],Ao=0,im=0;function yd(){for(var s=Ao,r=im=Ao=0;r<s;){var o=ms[r];ms[r++]=null;var c=ms[r];ms[r++]=null;var m=ms[r];ms[r++]=null;var g=ms[r];if(ms[r++]=null,c!==null&&m!==null){var _=c.pending;_===null?m.next=m:(m.next=_.next,_.next=m),c.pending=m}g!==0&&Rb(o,m,g)}}function bd(s,r,o,c){ms[Ao++]=s,ms[Ao++]=r,ms[Ao++]=o,ms[Ao++]=c,im|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function rm(s,r,o,c){return bd(s,r,o,c),vd(s)}function Ca(s,r){return bd(s,null,null,r),vd(s)}function Rb(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&r!==null&&(m=31-xe(o),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function vd(s){if(50<Mc)throw Mc=0,mp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ko={};function F2(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(s,r,o,c){return new F2(s,r,o,c)}function am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Mi(s,r){var o=s.alternate;return o===null?(o=ts(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Nb(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function xd(s,r,o,c,m,g){var _=0;if(c=s,typeof s=="function")am(s)&&(_=1);else if(typeof s=="string")_=$R(s,o,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=ts(31,o,r,m),s.elementType=R,s.lanes=g,s;case O:return Ia(o.children,m,g,r);case D:_=8,m|=24;break;case B:return s=ts(12,o,r,m|2),s.elementType=B,s.lanes=g,s;case oe:return s=ts(13,o,r,m),s.elementType=oe,s.lanes=g,s;case he:return s=ts(19,o,r,m),s.elementType=he,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:_=10;break e;case Q:_=9;break e;case ae:_=11;break e;case N:_=14;break e;case S:_=16,c=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=ts(_,o,r,m),r.elementType=s,r.type=c,r.lanes=g,r}function Ia(s,r,o,c){return s=ts(7,s,c,r),s.lanes=o,s}function om(s,r,o){return s=ts(6,s,null,r),s.lanes=o,s}function Cb(s){var r=ts(18,null,null,0);return r.stateNode=s,r}function lm(s,r,o){return r=ts(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Ib=new WeakMap;function ps(s,r){if(typeof s=="object"&&s!==null){var o=Ib.get(s);return o!==void 0?o:(r={value:s,source:r,stack:pa(r)},Ib.set(s,r),r)}return{value:s,source:r,stack:pa(r)}}var Ro=[],No=0,_d=null,hc=0,gs=[],ys=0,yr=null,ci=1,ui="";function ji(s,r){Ro[No++]=hc,Ro[No++]=_d,_d=s,hc=r}function Db(s,r,o){gs[ys++]=ci,gs[ys++]=ui,gs[ys++]=yr,yr=s;var c=ci;s=ui;var m=32-xe(c)-1;c&=~(1<<m),o+=1;var g=32-xe(r)+m;if(30<g){var _=m-m%5;g=(c&(1<<_)-1).toString(32),c>>=_,m-=_,ci=1<<32-xe(r)+m|o<<m|c,ui=g+s}else ci=1<<g|o<<m|c,ui=s}function cm(s){s.return!==null&&(ji(s,1),Db(s,1,0))}function um(s){for(;s===_d;)_d=Ro[--No],Ro[No]=null,hc=Ro[--No],Ro[No]=null;for(;s===yr;)yr=gs[--ys],gs[ys]=null,ui=gs[--ys],gs[ys]=null,ci=gs[--ys],gs[ys]=null}function Mb(s,r){gs[ys++]=ci,gs[ys++]=ui,gs[ys++]=yr,ci=r.id,ui=r.overflow,yr=s}var vn=null,wt=null,et=!1,br=null,bs=!1,dm=Error(i(519));function vr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fc(ps(r,s)),dm}function jb(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Xt]=s,r[dn]=c,o){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<Vc.length;o++)$e(Vc[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),ed(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),ur(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Zx(r.textContent,o)?(c.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),c.onScroll!=null&&$e("scroll",r),c.onScrollEnd!=null&&$e("scrollend",r),c.onClick!=null&&(r.onclick=Ds),r=!0):r=!1,r||vr(s,!0)}function Vb(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 31:case 13:bs=!1;return;case 27:case 3:bs=!0;return;default:vn=vn.return}}function Co(s){if(s!==vn)return!1;if(!et)return Vb(s),et=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Np(s.type,s.memoizedProps)),o=!o),o&&wt&&vr(s),Vb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));wt=a_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));wt=a_(s)}else r===27?(r=wt,Mr(s.type)?(s=jp,jp=null,wt=s):wt=r):wt=vn?xs(s.stateNode.nextSibling):null;return!0}function Da(){wt=vn=null,et=!1}function hm(){var s=br;return s!==null&&(Kn===null?Kn=s:Kn.push.apply(Kn,s),br=null),s}function fc(s){br===null?br=[s]:br.push(s)}var fm=L(null),Ma=null,Vi=null;function xr(s,r,o){le(fm,r._currentValue),r._currentValue=o}function Pi(s){s._currentValue=fm.current,ee(fm)}function mm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function pm(s,r,o,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var _=m.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=m;for(var M=0;M<r.length;M++)if(E.context===r[M]){g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),mm(g.return,o,s),c||(_=null);break e}g=E.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(i(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),mm(_,o,s),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Io(s,r,o,c){s=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=m.type;es(m.pendingProps.value,_.value)||(s!==null?s.push(E):s=[E])}}else if(m===we.current){if(_=m.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Uc):s=[Uc])}m=m.return}s!==null&&pm(r,s,o,c),r.flags|=262144}function wd(s){for(s=s.firstContext;s!==null;){if(!es(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ja(s){Ma=s,Vi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xn(s){return Pb(Ma,s)}function Td(s,r){return Ma===null&&ja(s),Pb(s,r)}function Pb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Vi===null){if(s===null)throw Error(i(308));Vi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Vi=Vi.next=r;return o}var H2=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},q2=t.unstable_scheduleCallback,G2=t.unstable_NormalPriority,Zt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gm(){return{controller:new H2,data:new Map,refCount:0}}function mc(s){s.refCount--,s.refCount===0&&q2(G2,function(){s.controller.abort()})}var pc=null,ym=0,Do=0,Mo=null;function K2(s,r){if(pc===null){var o=pc=[];ym=0,Do=xp(),Mo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return ym++,r.then(Ob,Ob),r}function Ob(){if(--ym===0&&pc!==null){Mo!==null&&(Mo.status="fulfilled");var s=pc;pc=null,Do=0,Mo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function $2(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Lb=X.S;X.S=function(s,r){_x=pe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&K2(s,r),Lb!==null&&Lb(s,r)};var Va=L(null);function bm(){var s=Va.current;return s!==null?s:bt.pooledCache}function Ed(s,r){r===null?le(Va,Va.current):le(Va,r.pool)}function zb(){var s=bm();return s===null?null:{parent:Zt._currentValue,pool:s}}var jo=Error(i(460)),vm=Error(i(474)),Sd=Error(i(542)),Ad={then:function(){}};function Ub(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Bb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ds,Ds),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Hb(s),s;default:if(typeof r.status=="string")r.then(Ds,Ds);else{if(s=bt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Hb(s),s}throw Oa=r,jo}}function Pa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Oa=o,jo):o}}var Oa=null;function Fb(){if(Oa===null)throw Error(i(459));var s=Oa;return Oa=null,s}function Hb(s){if(s===jo||s===Sd)throw Error(i(483))}var Vo=null,gc=0;function kd(s){var r=gc;return gc+=1,Vo===null&&(Vo=[]),Bb(Vo,s,r)}function yc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Rd(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function qb(s){function r(F,z){if(s){var G=F.deletions;G===null?(F.deletions=[z],F.flags|=16):G.push(z)}}function o(F,z){if(!s)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function c(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(F,z){return F=Mi(F,z),F.index=0,F.sibling=null,F}function g(F,z,G){return F.index=G,s?(G=F.alternate,G!==null?(G=G.index,G<z?(F.flags|=67108866,z):G):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function _(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function E(F,z,G,te){return z===null||z.tag!==6?(z=om(G,F.mode,te),z.return=F,z):(z=m(z,G),z.return=F,z)}function M(F,z,G,te){var Te=G.type;return Te===O?W(F,z,G.props.children,te,G.key):z!==null&&(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Pa(Te)===z.type)?(z=m(z,G.props),yc(z,G),z.return=F,z):(z=xd(G.type,G.key,G.props,null,F.mode,te),yc(z,G),z.return=F,z)}function K(F,z,G,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=lm(G,F.mode,te),z.return=F,z):(z=m(z,G.children||[]),z.return=F,z)}function W(F,z,G,te,Te){return z===null||z.tag!==7?(z=Ia(G,F.mode,te,Te),z.return=F,z):(z=m(z,G),z.return=F,z)}function se(F,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=om(""+z,F.mode,G),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return G=xd(z.type,z.key,z.props,null,F.mode,G),yc(G,z),G.return=F,G;case I:return z=lm(z,F.mode,G),z.return=F,z;case S:return z=Pa(z),se(F,z,G)}if(je(z)||U(z))return z=Ia(z,F.mode,G,null),z.return=F,z;if(typeof z.then=="function")return se(F,kd(z),G);if(z.$$typeof===H)return se(F,Td(F,z),G);Rd(F,z)}return null}function $(F,z,G,te){var Te=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:E(F,z,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===Te?M(F,z,G,te):null;case I:return G.key===Te?K(F,z,G,te):null;case S:return G=Pa(G),$(F,z,G,te)}if(je(G)||U(G))return Te!==null?null:W(F,z,G,te,null);if(typeof G.then=="function")return $(F,z,kd(G),te);if(G.$$typeof===H)return $(F,z,Td(F,G),te);Rd(F,G)}return null}function Z(F,z,G,te,Te){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(G)||null,E(z,F,""+te,Te);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return F=F.get(te.key===null?G:te.key)||null,M(z,F,te,Te);case I:return F=F.get(te.key===null?G:te.key)||null,K(z,F,te,Te);case S:return te=Pa(te),Z(F,z,G,te,Te)}if(je(te)||U(te))return F=F.get(G)||null,W(z,F,te,Te,null);if(typeof te.then=="function")return Z(F,z,G,kd(te),Te);if(te.$$typeof===H)return Z(F,z,G,Td(z,te),Te);Rd(z,te)}return null}function ye(F,z,G,te){for(var Te=null,it=null,_e=z,qe=z=0,Qe=null;_e!==null&&qe<G.length;qe++){_e.index>qe?(Qe=_e,_e=null):Qe=_e.sibling;var rt=$(F,_e,G[qe],te);if(rt===null){_e===null&&(_e=Qe);break}s&&_e&&rt.alternate===null&&r(F,_e),z=g(rt,z,qe),it===null?Te=rt:it.sibling=rt,it=rt,_e=Qe}if(qe===G.length)return o(F,_e),et&&ji(F,qe),Te;if(_e===null){for(;qe<G.length;qe++)_e=se(F,G[qe],te),_e!==null&&(z=g(_e,z,qe),it===null?Te=_e:it.sibling=_e,it=_e);return et&&ji(F,qe),Te}for(_e=c(_e);qe<G.length;qe++)Qe=Z(_e,F,qe,G[qe],te),Qe!==null&&(s&&Qe.alternate!==null&&_e.delete(Qe.key===null?qe:Qe.key),z=g(Qe,z,qe),it===null?Te=Qe:it.sibling=Qe,it=Qe);return s&&_e.forEach(function(Lr){return r(F,Lr)}),et&&ji(F,qe),Te}function ke(F,z,G,te){if(G==null)throw Error(i(151));for(var Te=null,it=null,_e=z,qe=z=0,Qe=null,rt=G.next();_e!==null&&!rt.done;qe++,rt=G.next()){_e.index>qe?(Qe=_e,_e=null):Qe=_e.sibling;var Lr=$(F,_e,rt.value,te);if(Lr===null){_e===null&&(_e=Qe);break}s&&_e&&Lr.alternate===null&&r(F,_e),z=g(Lr,z,qe),it===null?Te=Lr:it.sibling=Lr,it=Lr,_e=Qe}if(rt.done)return o(F,_e),et&&ji(F,qe),Te;if(_e===null){for(;!rt.done;qe++,rt=G.next())rt=se(F,rt.value,te),rt!==null&&(z=g(rt,z,qe),it===null?Te=rt:it.sibling=rt,it=rt);return et&&ji(F,qe),Te}for(_e=c(_e);!rt.done;qe++,rt=G.next())rt=Z(_e,F,qe,rt.value,te),rt!==null&&(s&&rt.alternate!==null&&_e.delete(rt.key===null?qe:rt.key),z=g(rt,z,qe),it===null?Te=rt:it.sibling=rt,it=rt);return s&&_e.forEach(function(iN){return r(F,iN)}),et&&ji(F,qe),Te}function yt(F,z,G,te){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var Te=G.key;z!==null;){if(z.key===Te){if(Te=G.type,Te===O){if(z.tag===7){o(F,z.sibling),te=m(z,G.props.children),te.return=F,F=te;break e}}else if(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Pa(Te)===z.type){o(F,z.sibling),te=m(z,G.props),yc(te,G),te.return=F,F=te;break e}o(F,z);break}else r(F,z);z=z.sibling}G.type===O?(te=Ia(G.props.children,F.mode,te,G.key),te.return=F,F=te):(te=xd(G.type,G.key,G.props,null,F.mode,te),yc(te,G),te.return=F,F=te)}return _(F);case I:e:{for(Te=G.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(F,z.sibling),te=m(z,G.children||[]),te.return=F,F=te;break e}else{o(F,z);break}else r(F,z);z=z.sibling}te=lm(G,F.mode,te),te.return=F,F=te}return _(F);case S:return G=Pa(G),yt(F,z,G,te)}if(je(G))return ye(F,z,G,te);if(U(G)){if(Te=U(G),typeof Te!="function")throw Error(i(150));return G=Te.call(G),ke(F,z,G,te)}if(typeof G.then=="function")return yt(F,z,kd(G),te);if(G.$$typeof===H)return yt(F,z,Td(F,G),te);Rd(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(F,z.sibling),te=m(z,G),te.return=F,F=te):(o(F,z),te=om(G,F.mode,te),te.return=F,F=te),_(F)):o(F,z)}return function(F,z,G,te){try{gc=0;var Te=yt(F,z,G,te);return Vo=null,Te}catch(_e){if(_e===jo||_e===Sd)throw _e;var it=ts(29,_e,null,F.mode);return it.lanes=te,it.return=F,it}finally{}}}var La=qb(!0),Gb=qb(!1),_r=!1;function xm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _m(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Tr(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=vd(s),Rb(s,null,o),r}return bd(s,c,r,o),vd(s)}function bc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Gl(s,o)}}function wm(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Tm=!1;function vc(){if(Tm){var s=Mo;if(s!==null)throw s}}function xc(s,r,o,c){Tm=!1;var m=s.updateQueue;_r=!1;var g=m.firstBaseUpdate,_=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var M=E,K=M.next;M.next=null,_===null?g=K:_.next=K,_=M;var W=s.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==_&&(E===null?W.firstBaseUpdate=K:E.next=K,W.lastBaseUpdate=M))}if(g!==null){var se=m.baseState;_=0,W=K=M=null,E=g;do{var $=E.lane&-536870913,Z=$!==E.lane;if(Z?(Ye&$)===$:(c&$)===$){$!==0&&$===Do&&(Tm=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ye=s,ke=E;$=r;var yt=o;switch(ke.tag){case 1:if(ye=ke.payload,typeof ye=="function"){se=ye.call(yt,se,$);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ke.payload,$=typeof ye=="function"?ye.call(yt,se,$):ye,$==null)break e;se=x({},se,$);break e;case 2:_r=!0}}$=E.callback,$!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[$]:Z.push($))}else Z={lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(K=W=Z,M=se):W=W.next=Z,_|=$;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;Z=E,E=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);W===null&&(M=se),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=W,g===null&&(m.shared.lanes=0),Rr|=_,s.lanes=_,s.memoizedState=se}}function Kb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function $b(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Kb(o[s],r)}var Po=L(null),Nd=L(0);function Xb(s,r){s=Gi,le(Nd,s),le(Po,r),Gi=s|r.baseLanes}function Em(){le(Nd,Gi),le(Po,Po.current)}function Sm(){Gi=Nd.current,ee(Po),ee(Nd)}var ns=L(null),vs=null;function Er(s){var r=s.alternate;le(qt,qt.current&1),le(ns,s),vs===null&&(r===null||Po.current!==null||r.memoizedState!==null)&&(vs=s)}function Am(s){le(qt,qt.current),le(ns,s),vs===null&&(vs=s)}function Yb(s){s.tag===22?(le(qt,qt.current),le(ns,s),vs===null&&(vs=s)):Sr()}function Sr(){le(qt,qt.current),le(ns,ns.current)}function ss(s){ee(ns),vs===s&&(vs=null),ee(qt)}var qt=L(0);function Cd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Dp(o)||Mp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Oi=0,He=null,pt=null,Wt=null,Id=!1,Oo=!1,za=!1,Dd=0,_c=0,Lo=null,X2=0;function Ut(){throw Error(i(321))}function km(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!es(s[o],r[o]))return!1;return!0}function Rm(s,r,o,c,m,g){return Oi=g,He=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=s===null||s.memoizedState===null?Dv:Hm,za=!1,g=o(c,m),za=!1,Oo&&(g=Zb(r,o,c,m)),Qb(s),g}function Qb(s){X.H=Ec;var r=pt!==null&&pt.next!==null;if(Oi=0,Wt=pt=He=null,Id=!1,_c=0,Lo=null,r)throw Error(i(300));s===null||Jt||(s=s.dependencies,s!==null&&wd(s)&&(Jt=!0))}function Zb(s,r,o,c){He=s;var m=0;do{if(Oo&&(Lo=null),_c=0,Oo=!1,25<=m)throw Error(i(301));if(m+=1,Wt=pt=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Mv,g=r(o,c)}while(Oo);return g}function Y2(){var s=X.H,r=s.useState()[0];return r=typeof r.then=="function"?wc(r):r,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(He.flags|=1024),r}function Nm(){var s=Dd!==0;return Dd=0,s}function Cm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Im(s){if(Id){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Id=!1}Oi=0,Wt=pt=He=null,Oo=!1,_c=Dd=0,Lo=null}function Ln(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?He.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function Gt(){if(pt===null){var s=He.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var r=Wt===null?He.memoizedState:Wt.next;if(r!==null)Wt=r,pt=s;else{if(s===null)throw He.alternate===null?Error(i(467)):Error(i(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Wt===null?He.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(s){var r=_c;return _c+=1,Lo===null&&(Lo=[]),s=Bb(Lo,s,r),r=He,(Wt===null?r.memoizedState:Wt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Dv:Hm),s}function jd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wc(s);if(s.$$typeof===H)return xn(s)}throw Error(i(438,String(s)))}function Dm(s){var r=null,o=He.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Md(),He.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=j;return r.index++,o}function Li(s,r){return typeof r=="function"?r(s):r}function Vd(s){var r=Gt();return Mm(r,pt,s)}function Mm(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var _=m.next;m.next=g.next,g.next=_}r.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{r=m.next;var E=_=null,M=null,K=r,W=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Ye&se)===se:(Oi&se)===se){var $=K.revertLane;if($===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===Do&&(W=!0);else if((Oi&$)===$){K=K.next,$===Do&&(W=!0);continue}else se={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(E=M=se,_=g):M=M.next=se,He.lanes|=$,Rr|=$;se=K.action,za&&o(g,se),g=K.hasEagerState?K.eagerState:o(g,se)}else $={lane:se,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(E=M=$,_=g):M=M.next=$,He.lanes|=se,Rr|=se;K=K.next}while(K!==null&&K!==r);if(M===null?_=g:M.next=E,!es(g,s.memoizedState)&&(Jt=!0,W&&(o=Mo,o!==null)))throw o;s.memoizedState=g,s.baseState=_,s.baseQueue=M,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function jm(s){var r=Gt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do g=s(g,_.action),_=_.next;while(_!==m);es(g,r.memoizedState)||(Jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Wb(s,r,o){var c=He,m=Gt(),g=et;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!es((pt||m).memoizedState,o);if(_&&(m.memoizedState=o,Jt=!0),m=m.queue,Om(tv.bind(null,c,m,s),[s]),m.getSnapshot!==r||_||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,zo(9,{destroy:void 0},ev.bind(null,c,m,o,r),null),bt===null)throw Error(i(349));g||(Oi&127)!==0||Jb(c,r,o)}return o}function Jb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=He.updateQueue,r===null?(r=Md(),He.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function ev(s,r,o,c){r.value=o,r.getSnapshot=c,nv(r)&&sv(s)}function tv(s,r,o){return o(function(){nv(r)&&sv(s)})}function nv(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!es(s,o)}catch{return!0}}function sv(s){var r=Ca(s,2);r!==null&&$n(r,s,2)}function Vm(s){var r=Ln();if(typeof s=="function"){var o=s;if(s=o(),za){Be(!0);try{o()}finally{Be(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},r}function iv(s,r,o,c){return s.baseState=o,Mm(s,pt,typeof c=="function"?c:Li)}function Q2(s,r,o,c,m){if(Ld(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};X.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,rv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function rv(s,r){var o=r.action,c=r.payload,m=s.state;if(r.isTransition){var g=X.T,_={};X.T=_;try{var E=o(m,c),M=X.S;M!==null&&M(_,E),av(s,r,E)}catch(K){Pm(s,r,K)}finally{g!==null&&_.types!==null&&(g.types=_.types),X.T=g}}else try{g=o(m,c),av(s,r,g)}catch(K){Pm(s,r,K)}}function av(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ov(s,r,c)},function(c){return Pm(s,r,c)}):ov(s,r,o)}function ov(s,r,o){r.status="fulfilled",r.value=o,lv(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,rv(s,o)))}function Pm(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,lv(r),r=r.next;while(r!==c)}s.action=null}function lv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function cv(s,r){return r}function uv(s,r){if(et){var o=bt.formState;if(o!==null){e:{var c=He;if(et){if(wt){t:{for(var m=wt,g=bs;m.nodeType!==8;){if(!g){m=null;break t}if(m=xs(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){wt=xs(m.nextSibling),c=m.data==="F!";break e}}vr(c)}c=!1}c&&(r=o[0])}}return o=Ln(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:r},o.queue=c,o=Nv.bind(null,He,c),c.dispatch=o,c=Vm(!1),g=Fm.bind(null,He,!1,c.queue),c=Ln(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,o=Q2.bind(null,He,m,g,o),m.dispatch=o,c.memoizedState=s,[r,o,!1]}function dv(s){var r=Gt();return hv(r,pt,s)}function hv(s,r,o){if(r=Mm(s,r,cv)[0],s=Vd(Li)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=wc(r)}catch(_){throw _===jo?Sd:_}else c=r;r=Gt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(He.flags|=2048,zo(9,{destroy:void 0},Z2.bind(null,m,o),null)),[c,g,s]}function Z2(s,r){s.action=r}function fv(s){var r=Gt(),o=pt;if(o!==null)return hv(r,o,s);Gt(),r=r.memoizedState,o=Gt();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function zo(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=He.updateQueue,r===null&&(r=Md(),He.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function mv(){return Gt().memoizedState}function Pd(s,r,o,c){var m=Ln();He.flags|=s,m.memoizedState=zo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Od(s,r,o,c){var m=Gt();c=c===void 0?null:c;var g=m.memoizedState.inst;pt!==null&&c!==null&&km(c,pt.memoizedState.deps)?m.memoizedState=zo(r,g,o,c):(He.flags|=s,m.memoizedState=zo(1|r,g,o,c))}function pv(s,r){Pd(8390656,8,s,r)}function Om(s,r){Od(2048,8,s,r)}function W2(s){He.flags|=4;var r=He.updateQueue;if(r===null)r=Md(),He.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function gv(s){var r=Gt().memoizedState;return W2({ref:r,nextImpl:s}),function(){if((ot&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function yv(s,r){return Od(4,2,s,r)}function bv(s,r){return Od(4,4,s,r)}function vv(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function xv(s,r,o){o=o!=null?o.concat([s]):null,Od(4,4,vv.bind(null,r,s),o)}function Lm(){}function _v(s,r){var o=Gt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&km(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function wv(s,r){var o=Gt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&km(r,c[1]))return c[0];if(c=s(),za){Be(!0);try{s()}finally{Be(!1)}}return o.memoizedState=[c,r],c}function zm(s,r,o){return o===void 0||(Oi&1073741824)!==0&&(Ye&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=Tx(),He.lanes|=s,Rr|=s,o)}function Tv(s,r,o,c){return es(o,r)?o:Po.current!==null?(s=zm(s,o,c),es(s,r)||(Jt=!0),s):(Oi&42)===0||(Oi&1073741824)!==0&&(Ye&261930)===0?(Jt=!0,s.memoizedState=o):(s=Tx(),He.lanes|=s,Rr|=s,r)}function Ev(s,r,o,c,m){var g=re.p;re.p=g!==0&&8>g?g:8;var _=X.T,E={};X.T=E,Fm(s,!1,r,o);try{var M=m(),K=X.S;if(K!==null&&K(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=$2(M,c);Tc(s,r,W,as(s))}else Tc(s,r,c,as(s))}catch(se){Tc(s,r,{then:function(){},status:"rejected",reason:se},as())}finally{re.p=g,_!==null&&E.types!==null&&(_.types=E.types),X.T=_}}function J2(){}function Um(s,r,o,c){if(s.tag!==5)throw Error(i(476));var m=Sv(s).queue;Ev(s,m,r,J,o===null?J2:function(){return Av(s),o(c)})}function Sv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:J},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Av(s){var r=Sv(s);r.next===null&&(r=s.alternate.memoizedState),Tc(s,r.next.queue,{},as())}function Bm(){return xn(Uc)}function kv(){return Gt().memoizedState}function Rv(){return Gt().memoizedState}function eR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=as();s=wr(o);var c=Tr(r,s,o);c!==null&&($n(c,r,o),bc(c,r,o)),r={cache:gm()},s.payload=r;return}r=r.return}}function tR(s,r,o){var c=as();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ld(s)?Cv(r,o):(o=rm(s,r,o,c),o!==null&&($n(o,s,c),Iv(o,r,c)))}function Nv(s,r,o){var c=as();Tc(s,r,o,c)}function Tc(s,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ld(s))Cv(r,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,E=g(_,o);if(m.hasEagerState=!0,m.eagerState=E,es(E,_))return bd(s,r,m,0),bt===null&&yd(),!1}catch{}finally{}if(o=rm(s,r,m,c),o!==null)return $n(o,s,c),Iv(o,r,c),!0}return!1}function Fm(s,r,o,c){if(c={lane:2,revertLane:xp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ld(s)){if(r)throw Error(i(479))}else r=rm(s,o,c,2),r!==null&&$n(r,s,2)}function Ld(s){var r=s.alternate;return s===He||r!==null&&r===He}function Cv(s,r){Oo=Id=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Iv(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Gl(s,o)}}var Ec={readContext:xn,use:jd,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Ec.useEffectEvent=Ut;var Dv={readContext:xn,use:jd,useCallback:function(s,r){return Ln().memoizedState=[s,r===void 0?null:r],s},useContext:xn,useEffect:pv,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Pd(4194308,4,vv.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Pd(4194308,4,s,r)},useInsertionEffect:function(s,r){Pd(4,2,s,r)},useMemo:function(s,r){var o=Ln();r=r===void 0?null:r;var c=s();if(za){Be(!0);try{s()}finally{Be(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=Ln();if(o!==void 0){var m=o(r);if(za){Be(!0);try{o(r)}finally{Be(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=tR.bind(null,He,s),[c.memoizedState,s]},useRef:function(s){var r=Ln();return s={current:s},r.memoizedState=s},useState:function(s){s=Vm(s);var r=s.queue,o=Nv.bind(null,He,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Lm,useDeferredValue:function(s,r){var o=Ln();return zm(o,s,r)},useTransition:function(){var s=Vm(!1);return s=Ev.bind(null,He,s.queue,!0,!1),Ln().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=He,m=Ln();if(et){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),bt===null)throw Error(i(349));(Ye&127)!==0||Jb(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,pv(tv.bind(null,c,g,s),[s]),c.flags|=2048,zo(9,{destroy:void 0},ev.bind(null,c,g,o,r),null),o},useId:function(){var s=Ln(),r=bt.identifierPrefix;if(et){var o=ui,c=ci;o=(c&~(1<<32-xe(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Dd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=X2++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Bm,useFormState:uv,useActionState:uv,useOptimistic:function(s){var r=Ln();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Fm.bind(null,He,!0,o),o.dispatch=r,[s,r]},useMemoCache:Dm,useCacheRefresh:function(){return Ln().memoizedState=eR.bind(null,He)},useEffectEvent:function(s){var r=Ln(),o={impl:s};return r.memoizedState=o,function(){if((ot&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Hm={readContext:xn,use:jd,useCallback:_v,useContext:xn,useEffect:Om,useImperativeHandle:xv,useInsertionEffect:yv,useLayoutEffect:bv,useMemo:wv,useReducer:Vd,useRef:mv,useState:function(){return Vd(Li)},useDebugValue:Lm,useDeferredValue:function(s,r){var o=Gt();return Tv(o,pt.memoizedState,s,r)},useTransition:function(){var s=Vd(Li)[0],r=Gt().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:Wb,useId:kv,useHostTransitionStatus:Bm,useFormState:dv,useActionState:dv,useOptimistic:function(s,r){var o=Gt();return iv(o,pt,s,r)},useMemoCache:Dm,useCacheRefresh:Rv};Hm.useEffectEvent=gv;var Mv={readContext:xn,use:jd,useCallback:_v,useContext:xn,useEffect:Om,useImperativeHandle:xv,useInsertionEffect:yv,useLayoutEffect:bv,useMemo:wv,useReducer:jm,useRef:mv,useState:function(){return jm(Li)},useDebugValue:Lm,useDeferredValue:function(s,r){var o=Gt();return pt===null?zm(o,s,r):Tv(o,pt.memoizedState,s,r)},useTransition:function(){var s=jm(Li)[0],r=Gt().memoizedState;return[typeof s=="boolean"?s:wc(s),r]},useSyncExternalStore:Wb,useId:kv,useHostTransitionStatus:Bm,useFormState:fv,useActionState:fv,useOptimistic:function(s,r){var o=Gt();return pt!==null?iv(o,pt,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Dm,useCacheRefresh:Rv};Mv.useEffectEvent=gv;function qm(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:x({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Gm={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=as(),m=wr(c);m.payload=r,o!=null&&(m.callback=o),r=Tr(s,m,c),r!==null&&($n(r,s,c),bc(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=as(),m=wr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Tr(s,m,c),r!==null&&($n(r,s,c),bc(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=as(),c=wr(o);c.tag=2,r!=null&&(c.callback=r),r=Tr(s,c,o),r!==null&&($n(r,s,o),bc(r,s,o))}};function jv(s,r,o,c,m,g,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,_):r.prototype&&r.prototype.isPureReactComponent?!uc(o,c)||!uc(m,g):!0}function Vv(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&Gm.enqueueReplaceState(r,r.state,null)}function Ua(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=x({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function Pv(s){gd(s)}function Ov(s){console.error(s)}function Lv(s){gd(s)}function zd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function zv(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Km(s,r,o){return o=wr(o),o.tag=3,o.payload={element:null},o.callback=function(){zd(s,r)},o}function Uv(s){return s=wr(s),s.tag=3,s}function Bv(s,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){zv(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){zv(r,o,c),typeof m!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function nR(s,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Io(r,o,m,!0),o=ns.current,o!==null){switch(o.tag){case 31:case 13:return vs===null?Zd():o.alternate===null&&Bt===0&&(Bt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Ad?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),yp(s,c,m)),!1;case 22:return o.flags|=65536,c===Ad?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),yp(s,c,m)),!1}throw Error(i(435,o.tag))}return yp(s,c,m),Zd(),!1}if(et)return r=ns.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==dm&&(s=Error(i(422),{cause:c}),fc(ps(s,o)))):(c!==dm&&(r=Error(i(423),{cause:c}),fc(ps(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=ps(c,o),m=Km(s.stateNode,c,m),wm(s,m),Bt!==4&&(Bt=2)),!1;var g=Error(i(520),{cause:c});if(g=ps(g,o),Dc===null?Dc=[g]:Dc.push(g),Bt!==4&&(Bt=2),r===null)return!0;c=ps(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=Km(o.stateNode,c,s),wm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Nr===null||!Nr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Uv(m),Bv(m,s,o,c),wm(o,m),!1}o=o.return}while(o!==null);return!1}var $m=Error(i(461)),Jt=!1;function _n(s,r,o,c){r.child=s===null?Gb(r,null,o,c):La(r,s.child,o,c)}function Fv(s,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var _={};for(var E in c)E!=="ref"&&(_[E]=c[E])}else _=c;return ja(r),c=Rm(s,r,o,_,g,m),E=Nm(),s!==null&&!Jt?(Cm(s,r,m),zi(s,r,m)):(et&&E&&cm(r),r.flags|=1,_n(s,r,c,m),r.child)}function Hv(s,r,o,c,m){if(s===null){var g=o.type;return typeof g=="function"&&!am(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,qv(s,r,g,c,m)):(s=xd(o.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!tp(s,m)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:uc,o(_,c)&&s.ref===r.ref)return zi(s,r,m)}return r.flags|=1,s=Mi(g,c),s.ref=r.ref,s.return=r,r.child=s}function qv(s,r,o,c,m){if(s!==null){var g=s.memoizedProps;if(uc(g,c)&&s.ref===r.ref)if(Jt=!1,r.pendingProps=c=g,tp(s,m))(s.flags&131072)!==0&&(Jt=!0);else return r.lanes=s.lanes,zi(s,r,m)}return Xm(s,r,o,c,m)}function Gv(s,r,o,c){var m=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return Kv(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ed(r,g!==null?g.cachePool:null),g!==null?Xb(r,g):Em(),Yb(r);else return c=r.lanes=536870912,Kv(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Ed(r,g.cachePool),Xb(r,g),Sr(),r.memoizedState=null):(s!==null&&Ed(r,null),Em(),Sr());return _n(s,r,m,o),r.child}function Sc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Kv(s,r,o,c,m){var g=bm();return g=g===null?null:{parent:Zt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&Ed(r,null),Em(),Yb(r),s!==null&&Io(s,r,c,!0),r.childLanes=m,null}function Ud(s,r){return r=Fd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function $v(s,r,o){return La(r,s.child,null,o),s=Ud(r,r.pendingProps),s.flags|=2,ss(r),r.memoizedState=null,s}function sR(s,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(et){if(c.mode==="hidden")return s=Ud(r,c),r.lanes=536870912,Sc(null,s);if(Am(r),(s=wt)?(s=r_(s,bs),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:yr!==null?{id:ci,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},o=Cb(s),o.return=r,r.child=o,vn=r,wt=null)):s=null,s===null)throw vr(r);return r.lanes=536870912,null}return Ud(r,c)}var g=s.memoizedState;if(g!==null){var _=g.dehydrated;if(Am(r),m)if(r.flags&256)r.flags&=-257,r=$v(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Jt||Io(s,r,o,!1),m=(o&s.childLanes)!==0,Jt||m){if(c=bt,c!==null&&(_=Kl(c,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,Ca(s,_),$n(c,s,_),$m;Zd(),r=$v(s,r,o)}else s=g.treeContext,wt=xs(_.nextSibling),vn=r,et=!0,br=null,bs=!1,s!==null&&Mb(r,s),r=Ud(r,c),r.flags|=4096;return r}return s=Mi(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Bd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Xm(s,r,o,c,m){return ja(r),o=Rm(s,r,o,c,void 0,m),c=Nm(),s!==null&&!Jt?(Cm(s,r,m),zi(s,r,m)):(et&&c&&cm(r),r.flags|=1,_n(s,r,o,m),r.child)}function Xv(s,r,o,c,m,g){return ja(r),r.updateQueue=null,o=Zb(r,c,o,m),Qb(s),c=Nm(),s!==null&&!Jt?(Cm(s,r,g),zi(s,r,g)):(et&&c&&cm(r),r.flags|=1,_n(s,r,o,g),r.child)}function Yv(s,r,o,c,m){if(ja(r),r.stateNode===null){var g=ko,_=o.contextType;typeof _=="object"&&_!==null&&(g=xn(_)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},xm(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?xn(_):ko,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(qm(r,o,_,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Gm.enqueueReplaceState(g,g.state,null),xc(r,c,g,m),vc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var E=r.memoizedProps,M=Ua(o,E);g.props=M;var K=g.context,W=o.contextType;_=ko,typeof W=="object"&&W!==null&&(_=xn(W));var se=o.getDerivedStateFromProps;W=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||K!==_)&&Vv(r,g,c,_),_r=!1;var $=r.memoizedState;g.state=$,xc(r,c,g,m),vc(),K=r.memoizedState,E||$!==K||_r?(typeof se=="function"&&(qm(r,o,se,c),K=r.memoizedState),(M=_r||jv(r,o,M,c,$,K,_))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=_,c=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,_m(s,r),_=r.memoizedProps,W=Ua(o,_),g.props=W,se=r.pendingProps,$=g.context,K=o.contextType,M=ko,typeof K=="object"&&K!==null&&(M=xn(K)),E=o.getDerivedStateFromProps,(K=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==se||$!==M)&&Vv(r,g,c,M),_r=!1,$=r.memoizedState,g.state=$,xc(r,c,g,m),vc();var Z=r.memoizedState;_!==se||$!==Z||_r||s!==null&&s.dependencies!==null&&wd(s.dependencies)?(typeof E=="function"&&(qm(r,o,E,c),Z=r.memoizedState),(W=_r||jv(r,o,W,c,$,Z,M)||s!==null&&s.dependencies!==null&&wd(s.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),g.props=c,g.state=Z,g.context=M,c=W):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Bd(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=La(r,s.child,null,m),r.child=La(r,null,o,m)):_n(s,r,o,m),r.memoizedState=g.state,s=r.child):s=zi(s,r,m),s}function Qv(s,r,o,c){return Da(),r.flags|=256,_n(s,r,o,c),r.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(s){return{baseLanes:s,cachePool:zb()}}function Zm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=rs),s}function Zv(s,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=s!==null&&s.memoizedState===null?!1:(qt.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(et){if(m?Er(r):Sr(),(s=wt)?(s=r_(s,bs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:yr!==null?{id:ci,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},o=Cb(s),o.return=r,r.child=o,vn=r,wt=null)):s=null,s===null)throw vr(r);return Mp(s)?r.lanes=32:r.lanes=536870912,null}var E=c.children;return c=c.fallback,m?(Sr(),m=r.mode,E=Fd({mode:"hidden",children:E},m),c=Ia(c,m,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,c=r.child,c.memoizedState=Qm(o),c.childLanes=Zm(s,_,o),r.memoizedState=Ym,Sc(null,c)):(Er(r),Wm(r,E))}var M=s.memoizedState;if(M!==null&&(E=M.dehydrated,E!==null)){if(g)r.flags&256?(Er(r),r.flags&=-257,r=Jm(s,r,o)):r.memoizedState!==null?(Sr(),r.child=s.child,r.flags|=128,r=null):(Sr(),E=c.fallback,m=r.mode,c=Fd({mode:"visible",children:c.children},m),E=Ia(E,m,o,null),E.flags|=2,c.return=r,E.return=r,c.sibling=E,r.child=c,La(r,s.child,null,o),c=r.child,c.memoizedState=Qm(o),c.childLanes=Zm(s,_,o),r.memoizedState=Ym,r=Sc(null,c));else if(Er(r),Mp(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var K=_.dgst;_=K,c=Error(i(419)),c.stack="",c.digest=_,fc({value:c,source:null,stack:null}),r=Jm(s,r,o)}else if(Jt||Io(s,r,o,!1),_=(o&s.childLanes)!==0,Jt||_){if(_=bt,_!==null&&(c=Kl(_,o),c!==0&&c!==M.retryLane))throw M.retryLane=c,Ca(s,c),$n(_,s,c),$m;Dp(E)||Zd(),r=Jm(s,r,o)}else Dp(E)?(r.flags|=192,r.child=s.child,r=null):(s=M.treeContext,wt=xs(E.nextSibling),vn=r,et=!0,br=null,bs=!1,s!==null&&Mb(r,s),r=Wm(r,c.children),r.flags|=4096);return r}return m?(Sr(),E=c.fallback,m=r.mode,M=s.child,K=M.sibling,c=Mi(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,K!==null?E=Mi(K,E):(E=Ia(E,m,o,null),E.flags|=2),E.return=r,c.return=r,c.sibling=E,r.child=c,Sc(null,c),c=r.child,E=s.child.memoizedState,E===null?E=Qm(o):(m=E.cachePool,m!==null?(M=Zt._currentValue,m=m.parent!==M?{parent:M,pool:M}:m):m=zb(),E={baseLanes:E.baseLanes|o,cachePool:m}),c.memoizedState=E,c.childLanes=Zm(s,_,o),r.memoizedState=Ym,Sc(s.child,c)):(Er(r),o=s.child,s=o.sibling,o=Mi(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function Wm(s,r){return r=Fd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Fd(s,r){return s=ts(22,s,null,r),s.lanes=0,s}function Jm(s,r,o){return La(r,s.child,null,o),s=Wm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Wv(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),mm(s.return,r,o)}function ep(s,r,o,c,m,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=m,_.treeForkCount=g)}function Jv(s,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var _=qt.current,E=(_&2)!==0;if(E?(_=_&1|2,r.flags|=128):_&=1,le(qt,_),_n(s,r,c,o),c=et?hc:0,!E&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wv(s,o,r);else if(s.tag===19)Wv(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Cd(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),ep(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Cd(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}ep(r,!0,o,null,g,c);break;case"together":ep(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function zi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Rr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Io(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Mi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Mi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function tp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&wd(s)))}function iR(s,r,o){switch(r.tag){case 3:St(r,r.stateNode.containerInfo),xr(r,Zt,s.memoizedState.cache),Da();break;case 27:case 5:Mn(r);break;case 4:St(r,r.stateNode.containerInfo);break;case 10:xr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Am(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Er(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Zv(s,r,o):(Er(r),s=zi(s,r,o),s!==null?s.sibling:null);Er(r);break;case 19:var m=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Io(s,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return Jv(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(qt,qt.current),c)break;return null;case 22:return r.lanes=0,Gv(s,r,o,r.pendingProps);case 24:xr(r,Zt,s.memoizedState.cache)}return zi(s,r,o)}function ex(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Jt=!0;else{if(!tp(s,o)&&(r.flags&128)===0)return Jt=!1,iR(s,r,o);Jt=(s.flags&131072)!==0}else Jt=!1,et&&(r.flags&1048576)!==0&&Db(r,hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=Pa(r.elementType),r.type=s,typeof s=="function")am(s)?(c=Ua(s,c),r.tag=1,r=Yv(null,r,s,c,o)):(r.tag=0,r=Xm(null,r,s,c,o));else{if(s!=null){var m=s.$$typeof;if(m===ae){r.tag=11,r=Fv(null,r,s,c,o);break e}else if(m===N){r.tag=14,r=Hv(null,r,s,c,o);break e}}throw r=Xe(s)||s,Error(i(306,r,""))}}return r;case 0:return Xm(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Ua(c,r.pendingProps),Yv(s,r,c,m,o);case 3:e:{if(St(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,_m(s,r),xc(r,c,null,o);var _=r.memoizedState;if(c=_.cache,xr(r,Zt,c),c!==g.cache&&pm(r,[Zt],o,!0),vc(),c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Qv(s,r,c,o);break e}else if(c!==m){m=ps(Error(i(424)),r),fc(m),r=Qv(s,r,c,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=xs(s.firstChild),vn=r,et=!0,br=null,bs=!0,o=Gb(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Da(),c===m){r=zi(s,r,o);break e}_n(s,r,c,o)}r=r.child}return r;case 26:return Bd(s,r),s===null?(o=d_(r.type,null,r.pendingProps,null))?r.memoizedState=o:et||(o=r.type,s=r.pendingProps,c=ih(Ce.current).createElement(o),c[Xt]=r,c[dn]=s,wn(c,o,s),Yt(c),r.stateNode=c):r.memoizedState=d_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Mn(r),s===null&&et&&(c=r.stateNode=l_(r.type,r.pendingProps,Ce.current),vn=r,bs=!0,m=wt,Mr(r.type)?(jp=m,wt=xs(c.firstChild)):wt=m),_n(s,r,r.pendingProps.children,o),Bd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&et&&((m=c=wt)&&(c=jR(c,r.type,r.pendingProps,bs),c!==null?(r.stateNode=c,vn=r,wt=xs(c.firstChild),bs=!1,m=!0):m=!1),m||vr(r)),Mn(r),m=r.type,g=r.pendingProps,_=s!==null?s.memoizedProps:null,c=g.children,Np(m,g)?c=null:_!==null&&Np(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=Rm(s,r,Y2,null,null,o),Uc._currentValue=m),Bd(s,r),_n(s,r,c,o),r.child;case 6:return s===null&&et&&((s=o=wt)&&(o=VR(o,r.pendingProps,bs),o!==null?(r.stateNode=o,vn=r,wt=null,s=!0):s=!1),s||vr(r)),null;case 13:return Zv(s,r,o);case 4:return St(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=La(r,null,c,o):_n(s,r,c,o),r.child;case 11:return Fv(s,r,r.type,r.pendingProps,o);case 7:return _n(s,r,r.pendingProps,o),r.child;case 8:return _n(s,r,r.pendingProps.children,o),r.child;case 12:return _n(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,xr(r,r.type,c.value),_n(s,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,ja(r),m=xn(m),c=c(m),r.flags|=1,_n(s,r,c,o),r.child;case 14:return Hv(s,r,r.type,r.pendingProps,o);case 15:return qv(s,r,r.type,r.pendingProps,o);case 19:return Jv(s,r,o);case 31:return sR(s,r,o);case 22:return Gv(s,r,o,r.pendingProps);case 24:return ja(r),c=xn(Zt),s===null?(m=bm(),m===null&&(m=bt,g=gm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},xm(r),xr(r,Zt,m)):((s.lanes&o)!==0&&(_m(s,r),xc(r,null,null,o),vc()),m=s.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),xr(r,Zt,c)):(c=g.cache,xr(r,Zt,c),c!==m.cache&&pm(r,[Zt],o,!0))),_n(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ui(s){s.flags|=4}function np(s,r,o,c,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(kx())s.flags|=8192;else throw Oa=Ad,vm}else s.flags&=-16777217}function tx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!g_(r))if(kx())s.flags|=8192;else throw Oa=Ad,vm}function Hd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Yu():536870912,s.lanes|=r,Ho|=r)}function Ac(s,r){if(!et)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Tt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function rR(s,r,o){var c=r.pendingProps;switch(um(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(r),null;case 1:return Tt(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Pi(Zt),st(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Co(r)?Ui(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hm())),Tt(r),null;case 26:var m=r.type,g=r.memoizedState;return s===null?(Ui(r),g!==null?(Tt(r),tx(r,g)):(Tt(r),np(r,m,null,c,o))):g?g!==s.memoizedState?(Ui(r),Tt(r),tx(r,g)):(Tt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&Ui(r),Tt(r),np(r,m,s,c,o)),null;case 27:if(jn(r),o=Ce.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ui(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}s=ue.current,Co(r)?jb(r):(s=l_(m,c,o),r.stateNode=s,Ui(r))}return Tt(r),null;case 5:if(jn(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ui(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}if(g=ue.current,Co(r))jb(r);else{var _=ih(Ce.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?_.createElement(m,{is:c.is}):_.createElement(m)}}g[Xt]=r,g[dn]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(wn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ui(r)}}return Tt(r),np(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&Ui(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ce.current,Co(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,m=vn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Xt]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Zx(s.nodeValue,o)),s||vr(r,!0)}else s=ih(s).createTextNode(c),s[Xt]=r,r.stateNode=s}return Tt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=Co(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Xt]=r}else Da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),s=!1}else o=hm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(ss(r),r):(ss(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Tt(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Co(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Xt]=r}else Da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),m=!1}else m=hm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(ss(r),r):(ss(r),null)}return ss(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Hd(r,r.updateQueue),Tt(r),null);case 4:return st(),s===null&&Ep(r.stateNode.containerInfo),Tt(r),null;case 10:return Pi(r.type),Tt(r),null;case 19:if(ee(qt),c=r.memoizedState,c===null)return Tt(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Ac(c,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Cd(s),g!==null){for(r.flags|=128,Ac(c,!1),s=g.updateQueue,r.updateQueue=s,Hd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Nb(o,s),o=o.sibling;return le(qt,qt.current&1|2),et&&ji(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&pe()>Xd&&(r.flags|=128,m=!0,Ac(c,!1),r.lanes=4194304)}else{if(!m)if(s=Cd(g),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Hd(r,s),Ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!et)return Tt(r),null}else 2*pe()-c.renderingStartTime>Xd&&o!==536870912&&(r.flags|=128,m=!0,Ac(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=pe(),s.sibling=null,o=qt.current,le(qt,m?o&1|2:o&1),et&&ji(r,c.treeForkCount),s):(Tt(r),null);case 22:case 23:return ss(r),Sm(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Tt(r),r.subtreeFlags&6&&(r.flags|=8192)):Tt(r),o=r.updateQueue,o!==null&&Hd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&ee(Va),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Pi(Zt),Tt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function aR(s,r){switch(um(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Pi(Zt),st(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return jn(r),null;case 31:if(r.memoizedState!==null){if(ss(r),r.alternate===null)throw Error(i(340));Da()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(ss(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Da()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ee(qt),null;case 4:return st(),null;case 10:return Pi(r.type),null;case 22:case 23:return ss(r),Sm(),s!==null&&ee(Va),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Pi(Zt),null;case 25:return null;default:return null}}function nx(s,r){switch(um(r),r.tag){case 3:Pi(Zt),st();break;case 26:case 27:case 5:jn(r);break;case 4:st();break;case 31:r.memoizedState!==null&&ss(r);break;case 13:ss(r);break;case 19:ee(qt);break;case 10:Pi(r.type);break;case 22:case 23:ss(r),Sm(),s!==null&&ee(Va);break;case 24:Pi(Zt)}}function kc(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&s)===s){c=void 0;var g=o.create,_=o.inst;c=g(),_.destroy=c}o=o.next}while(o!==m)}}catch(E){ft(r,r.return,E)}}function Ar(s,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var _=c.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,m=r;var M=o,K=E;try{K()}catch(W){ft(m,M,W)}}}c=c.next}while(c!==g)}}catch(W){ft(r,r.return,W)}}function sx(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{$b(r,o)}catch(c){ft(s,s.return,c)}}}function ix(s,r,o){o.props=Ua(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){ft(s,r,c)}}function Rc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(m){ft(s,r,m)}}function di(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ft(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ft(s,r,m)}else o.current=null}function rx(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ft(s,s.return,m)}}function sp(s,r,o){try{var c=s.stateNode;RR(c,s.type,o,r),c[dn]=r}catch(m){ft(s,s.return,m)}}function ax(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Mr(s.type)||s.tag===4}function ip(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ax(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Mr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rp(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ds));else if(c!==4&&(c===27&&Mr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(rp(s,r,o),s=s.sibling;s!==null;)rp(s,r,o),s=s.sibling}function qd(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&Mr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(qd(s,r,o),s=s.sibling;s!==null;)qd(s,r,o),s=s.sibling}function ox(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);wn(r,c,o),r[Xt]=s,r[dn]=o}catch(g){ft(s,s.return,g)}}var Bi=!1,en=!1,ap=!1,lx=typeof WeakSet=="function"?WeakSet:Set,fn=null;function oR(s,r){if(s=s.containerInfo,kp=dh,s=xb(s),Jf(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,E=-1,M=-1,K=0,W=0,se=s,$=null;t:for(;;){for(var Z;se!==o||m!==0&&se.nodeType!==3||(E=_+m),se!==g||c!==0&&se.nodeType!==3||(M=_+c),se.nodeType===3&&(_+=se.nodeValue.length),(Z=se.firstChild)!==null;)$=se,se=Z;for(;;){if(se===s)break t;if($===o&&++K===m&&(E=_),$===g&&++W===c&&(M=_),(Z=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=Z}o=E===-1||M===-1?null:{start:E,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rp={focusedElem:s,selectionRange:o},dh=!1,fn=r;fn!==null;)if(r=fn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,fn=s;else for(;fn!==null;){switch(r=fn,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ye=Ua(o.type,m);s=c.getSnapshotBeforeUpdate(ye,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(ke){ft(o,o.return,ke)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Ip(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ip(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,fn=s;break}fn=r.return}}function cx(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Hi(s,o),c&4&&kc(5,o);break;case 1:if(Hi(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){ft(o,o.return,_)}else{var m=Ua(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){ft(o,o.return,_)}}c&64&&sx(o),c&512&&Rc(o,o.return);break;case 3:if(Hi(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{$b(s,r)}catch(_){ft(o,o.return,_)}}break;case 27:r===null&&c&4&&ox(o);case 26:case 5:Hi(s,o),r===null&&c&4&&rx(o),c&512&&Rc(o,o.return);break;case 12:Hi(s,o);break;case 31:Hi(s,o),c&4&&hx(s,o);break;case 13:Hi(s,o),c&4&&fx(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=gR.bind(null,o),PR(s,o))));break;case 22:if(c=o.memoizedState!==null||Bi,!c){r=r!==null&&r.memoizedState!==null||en,m=Bi;var g=en;Bi=c,(en=r)&&!g?qi(s,o,(o.subtreeFlags&8772)!==0):Hi(s,o),Bi=m,en=g}break;case 30:break;default:Hi(s,o)}}function ux(s){var r=s.alternate;r!==null&&(s.alternate=null,ux(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&fo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Nt=null,Hn=!1;function Fi(s,r,o){for(o=o.child;o!==null;)dx(s,r,o),o=o.sibling}function dx(s,r,o){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Pn,o)}catch{}switch(o.tag){case 26:en||di(o,r),Fi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||di(o,r);var c=Nt,m=Hn;Mr(o.type)&&(Nt=o.stateNode,Hn=!1),Fi(s,r,o),Oc(o.stateNode),Nt=c,Hn=m;break;case 5:en||di(o,r);case 6:if(c=Nt,m=Hn,Nt=null,Fi(s,r,o),Nt=c,Hn=m,Nt!==null)if(Hn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(g){ft(o,r,g)}else try{Nt.removeChild(o.stateNode)}catch(g){ft(o,r,g)}break;case 18:Nt!==null&&(Hn?(s=Nt,s_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Zo(s)):s_(Nt,o.stateNode));break;case 4:c=Nt,m=Hn,Nt=o.stateNode.containerInfo,Hn=!0,Fi(s,r,o),Nt=c,Hn=m;break;case 0:case 11:case 14:case 15:Ar(2,o,r),en||Ar(4,o,r),Fi(s,r,o);break;case 1:en||(di(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ix(o,r,c)),Fi(s,r,o);break;case 21:Fi(s,r,o);break;case 22:en=(c=en)||o.memoizedState!==null,Fi(s,r,o),en=c;break;default:Fi(s,r,o)}}function hx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zo(s)}catch(o){ft(r,r.return,o)}}}function fx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zo(s)}catch(o){ft(r,r.return,o)}}function lR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new lx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new lx),r;default:throw Error(i(435,s.tag))}}function Gd(s,r){var o=lR(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=yR.bind(null,s,c);c.then(m,m)}})}function qn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=s,_=r,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Mr(E.type)){Nt=E.stateNode,Hn=!1;break e}break;case 5:Nt=E.stateNode,Hn=!1;break e;case 3:case 4:Nt=E.stateNode.containerInfo,Hn=!0;break e}E=E.return}if(Nt===null)throw Error(i(160));dx(g,_,m),Nt=null,Hn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)mx(r,s),r=r.sibling}var Ls=null;function mx(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qn(r,s),Gn(s),c&4&&(Ar(3,s,s.return),kc(3,s),Ar(5,s,s.return));break;case 1:qn(r,s),Gn(s),c&512&&(en||o===null||di(o,o.return)),c&64&&Bi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ls;if(qn(r,s),Gn(s),c&512&&(en||o===null||di(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Zs]||g[Xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),wn(g,c,o),g[Xt]=s,Yt(g),c=g;break e;case"link":var _=m_("link","href",m).get(c+(o.href||""));if(_){for(var E=0;E<_.length;E++)if(g=_[E],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(E,1);break t}}g=m.createElement(c),wn(g,c,o),m.head.appendChild(g);break;case"meta":if(_=m_("meta","content",m).get(c+(o.content||""))){for(E=0;E<_.length;E++)if(g=_[E],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(E,1);break t}}g=m.createElement(c),wn(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Xt]=s,Yt(g),c=g}s.stateNode=c}else p_(m,s.type,s.stateNode);else s.stateNode=f_(m,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?p_(m,s.type,s.stateNode):f_(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&sp(s,s.memoizedProps,o.memoizedProps)}break;case 27:qn(r,s),Gn(s),c&512&&(en||o===null||di(o,o.return)),o!==null&&c&4&&sp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(qn(r,s),Gn(s),c&512&&(en||o===null||di(o,o.return)),s.flags&32){m=s.stateNode;try{Fn(m,"")}catch(ye){ft(s,s.return,ye)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,sp(s,m,o!==null?o.memoizedProps:m)),c&1024&&(ap=!0);break;case 6:if(qn(r,s),Gn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(ye){ft(s,s.return,ye)}}break;case 3:if(oh=null,m=Ls,Ls=rh(r.containerInfo),qn(r,s),Ls=m,Gn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Zo(r.containerInfo)}catch(ye){ft(s,s.return,ye)}ap&&(ap=!1,px(s));break;case 4:c=Ls,Ls=rh(s.stateNode.containerInfo),qn(r,s),Gn(s),Ls=c;break;case 12:qn(r,s),Gn(s);break;case 31:qn(r,s),Gn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 13:qn(r,s),Gn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($d=pe()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 22:m=s.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=Bi,W=en;if(Bi=K||m,en=W||M,qn(r,s),en=W,Bi=K,Gn(s),c&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||M||Bi||en||Ba(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,m)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=M.stateNode;var se=M.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ye){ft(M,M.return,ye)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(ye){ft(M,M.return,ye)}}}else if(r.tag===18){if(o===null){M=r;try{var Z=M.stateNode;m?i_(Z,!0):i_(M.stateNode,!1)}catch(ye){ft(M,M.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Gd(s,o))));break;case 19:qn(r,s),Gn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 30:break;case 21:break;default:qn(r,s),Gn(s)}}function Gn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(ax(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=ip(s);qd(s,g,m);break;case 5:var _=o.stateNode;o.flags&32&&(Fn(_,""),o.flags&=-33);var E=ip(s);qd(s,E,_);break;case 3:case 4:var M=o.stateNode.containerInfo,K=ip(s);rp(s,K,M);break;default:throw Error(i(161))}}catch(W){ft(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function px(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;px(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Hi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)cx(s,r.alternate,r),r=r.sibling}function Ba(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),Ba(r);break;case 1:di(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ix(r,r.return,o),Ba(r);break;case 27:Oc(r.stateNode);case 26:case 5:di(r,r.return),Ba(r);break;case 22:r.memoizedState===null&&Ba(r);break;case 30:Ba(r);break;default:Ba(r)}s=s.sibling}}function qi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:qi(m,g,o),kc(4,g);break;case 1:if(qi(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){ft(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var E=c.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)Kb(M[m],E)}catch(K){ft(c,c.return,K)}}o&&_&64&&sx(g),Rc(g,g.return);break;case 27:ox(g);case 26:case 5:qi(m,g,o),o&&c===null&&_&4&&rx(g),Rc(g,g.return);break;case 12:qi(m,g,o);break;case 31:qi(m,g,o),o&&_&4&&hx(m,g);break;case 13:qi(m,g,o),o&&_&4&&fx(m,g);break;case 22:g.memoizedState===null&&qi(m,g,o),Rc(g,g.return);break;case 30:break;default:qi(m,g,o)}r=r.sibling}}function op(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&mc(o))}function lp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mc(s))}function zs(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)gx(s,r,o,c),r=r.sibling}function gx(s,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:zs(s,r,o,c),m&2048&&kc(9,r);break;case 1:zs(s,r,o,c);break;case 3:zs(s,r,o,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mc(s)));break;case 12:if(m&2048){zs(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,_=g.id,E=g.onPostCommit;typeof E=="function"&&E(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){ft(r,r.return,M)}}else zs(s,r,o,c);break;case 31:zs(s,r,o,c);break;case 13:zs(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?zs(s,r,o,c):Nc(s,r):g._visibility&2?zs(s,r,o,c):(g._visibility|=2,Uo(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&op(_,r);break;case 24:zs(s,r,o,c),m&2048&&lp(r.alternate,r);break;default:zs(s,r,o,c)}}function Uo(s,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,_=r,E=o,M=c,K=_.flags;switch(_.tag){case 0:case 11:case 15:Uo(g,_,E,M,m),kc(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Uo(g,_,E,M,m):Nc(g,_):(W._visibility|=2,Uo(g,_,E,M,m)),m&&K&2048&&op(_.alternate,_);break;case 24:Uo(g,_,E,M,m),m&&K&2048&&lp(_.alternate,_);break;default:Uo(g,_,E,M,m)}r=r.sibling}}function Nc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,m=c.flags;switch(c.tag){case 22:Nc(o,c),m&2048&&op(c.alternate,c);break;case 24:Nc(o,c),m&2048&&lp(c.alternate,c);break;default:Nc(o,c)}r=r.sibling}}var Cc=8192;function Bo(s,r,o){if(s.subtreeFlags&Cc)for(s=s.child;s!==null;)yx(s,r,o),s=s.sibling}function yx(s,r,o){switch(s.tag){case 26:Bo(s,r,o),s.flags&Cc&&s.memoizedState!==null&&XR(o,Ls,s.memoizedState,s.memoizedProps);break;case 5:Bo(s,r,o);break;case 3:case 4:var c=Ls;Ls=rh(s.stateNode.containerInfo),Bo(s,r,o),Ls=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Cc,Cc=16777216,Bo(s,r,o),Cc=c):Bo(s,r,o));break;default:Bo(s,r,o)}}function bx(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ic(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,xx(c,s)}bx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vx(s),s=s.sibling}function vx(s){switch(s.tag){case 0:case 11:case 15:Ic(s),s.flags&2048&&Ar(9,s,s.return);break;case 3:Ic(s);break;case 12:Ic(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Kd(s)):Ic(s);break;default:Ic(s)}}function Kd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,xx(c,s)}bx(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),Kd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Kd(r));break;default:Kd(r)}s=s.sibling}}function xx(s,r){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Ar(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,fn=c;else e:for(o=s;fn!==null;){c=fn;var m=c.sibling,g=c.return;if(ux(c),c===o){fn=null;break e}if(m!==null){m.return=g,fn=m;break e}fn=g}}}var cR={getCacheForType:function(s){var r=xn(Zt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return xn(Zt).controller.signal}},uR=typeof WeakMap=="function"?WeakMap:Map,ot=0,bt=null,Ke=null,Ye=0,ht=0,is=null,kr=!1,Fo=!1,cp=!1,Gi=0,Bt=0,Rr=0,Fa=0,up=0,rs=0,Ho=0,Dc=null,Kn=null,dp=!1,$d=0,_x=0,Xd=1/0,Yd=null,Nr=null,on=0,Cr=null,qo=null,Ki=0,hp=0,fp=null,wx=null,Mc=0,mp=null;function as(){return(ot&2)!==0&&Ye!==0?Ye&-Ye:X.T!==null?xp():Qu()}function Tx(){if(rs===0)if((Ye&536870912)===0||et){var s=yn;yn<<=1,(yn&3932160)===0&&(yn=262144),rs=s}else rs=536870912;return s=ns.current,s!==null&&(s.flags|=32),rs}function $n(s,r,o){(s===bt&&(ht===2||ht===9)||s.cancelPendingCommit!==null)&&(Go(s,0),Ir(s,Ye,rs,!1)),ga(s,o),((ot&2)===0||s!==bt)&&(s===bt&&((ot&2)===0&&(Fa|=o),Bt===4&&Ir(s,Ye,rs,!1)),hi(s))}function Ex(s,r,o){if((ot&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||Ns(s,r),m=c?fR(s,r):gp(s,r,!0),g=c;do{if(m===0){Fo&&!c&&Ir(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!dR(o)){m=gp(s,r,!1),g=!1;continue}if(m===2){if(g=r,s.errorRecoveryDisabledLanes&g)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var E=s;m=Dc;var M=E.current.memoizedState.isDehydrated;if(M&&(Go(E,_).flags|=256),_=gp(E,_,!1),_!==2){if(cp&&!M){E.errorRecoveryDisabledLanes|=g,Fa|=g,m=4;break e}g=Kn,Kn=m,g!==null&&(Kn===null?Kn=g:Kn.push.apply(Kn,g))}m=_}if(g=!1,m!==2)continue}}if(m===1){Go(s,0),Ir(s,r,0,!0);break}e:{switch(c=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ir(c,r,rs,!kr);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=$d+300-pe(),10<m)){if(Ir(c,r,rs,!kr),Xs(c,0,!0)!==0)break e;Ki=r,c.timeoutHandle=t_(Sx.bind(null,c,o,Kn,Yd,dp,r,rs,Fa,Ho,kr,g,"Throttled",-0,0),m);break e}Sx(c,o,Kn,Yd,dp,r,rs,Fa,Ho,kr,g,null,-0,0)}}break}while(!0);hi(s)}function Sx(s,r,o,c,m,g,_,E,M,K,W,se,$,Z){if(s.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ds},yx(r,g,se);var ye=(g&62914560)===g?$d-pe():(g&4194048)===g?_x-pe():0;if(ye=YR(se,ye),ye!==null){Ki=g,s.cancelPendingCommit=ye(Mx.bind(null,s,r,g,o,c,m,_,E,M,W,se,null,$,Z)),Ir(s,g,_,!K);return}}Mx(s,r,g,o,c,m,_,E,M)}function dR(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!es(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ir(s,r,o,c){r&=~up,r&=~Fa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var g=31-xe(m),_=1<<g;c[g]=-1,m&=~_}o!==0&&ya(s,o,r)}function Qd(){return(ot&6)===0?(jc(0),!1):!0}function pp(){if(Ke!==null){if(ht===0)var s=Ke.return;else s=Ke,Vi=Ma=null,Im(s),Vo=null,gc=0,s=Ke;for(;s!==null;)nx(s.alternate,s),s=s.return;Ke=null}}function Go(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,IR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ki=0,pp(),bt=s,Ke=o=Mi(s.current,null),Ye=r,ht=0,is=null,kr=!1,Fo=Ns(s,r),cp=!1,Ho=rs=up=Fa=Rr=Bt=0,Kn=Dc=null,dp=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-xe(c),g=1<<m;r|=s[m],c&=~g}return Gi=r,yd(),o}function Ax(s,r){He=null,X.H=Ec,r===jo||r===Sd?(r=Fb(),ht=3):r===vm?(r=Fb(),ht=4):ht=r===$m?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,is=r,Ke===null&&(Bt=1,zd(s,ps(r,s.current)))}function kx(){var s=ns.current;return s===null?!0:(Ye&4194048)===Ye?vs===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?s===vs:!1}function Rx(){var s=X.H;return X.H=Ec,s===null?Ec:s}function Nx(){var s=X.A;return X.A=cR,s}function Zd(){Bt=4,kr||(Ye&4194048)!==Ye&&ns.current!==null||(Fo=!0),(Rr&134217727)===0&&(Fa&134217727)===0||bt===null||Ir(bt,Ye,rs,!1)}function gp(s,r,o){var c=ot;ot|=2;var m=Rx(),g=Nx();(bt!==s||Ye!==r)&&(Yd=null,Go(s,r)),r=!1;var _=Bt;e:do try{if(ht!==0&&Ke!==null){var E=Ke,M=is;switch(ht){case 8:pp(),_=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(r=!0);var K=ht;if(ht=0,is=null,Ko(s,E,M,K),o&&Fo){_=0;break e}break;default:K=ht,ht=0,is=null,Ko(s,E,M,K)}}hR(),_=Bt;break}catch(W){Ax(s,W)}while(!0);return r&&s.shellSuspendCounter++,Vi=Ma=null,ot=c,X.H=m,X.A=g,Ke===null&&(bt=null,Ye=0,yd()),_}function hR(){for(;Ke!==null;)Cx(Ke)}function fR(s,r){var o=ot;ot|=2;var c=Rx(),m=Nx();bt!==s||Ye!==r?(Yd=null,Xd=pe()+500,Go(s,r)):Fo=Ns(s,r);e:do try{if(ht!==0&&Ke!==null){r=Ke;var g=is;t:switch(ht){case 1:ht=0,is=null,Ko(s,r,g,1);break;case 2:case 9:if(Ub(g)){ht=0,is=null,Ix(r);break}r=function(){ht!==2&&ht!==9||bt!==s||(ht=7),hi(s)},g.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Ub(g)?(ht=0,is=null,Ix(r)):(ht=0,is=null,Ko(s,r,g,7));break;case 5:var _=null;switch(Ke.tag){case 26:_=Ke.memoizedState;case 5:case 27:var E=Ke;if(_?g_(_):E.stateNode.complete){ht=0,is=null;var M=E.sibling;if(M!==null)Ke=M;else{var K=E.return;K!==null?(Ke=K,Wd(K)):Ke=null}break t}}ht=0,is=null,Ko(s,r,g,5);break;case 6:ht=0,is=null,Ko(s,r,g,6);break;case 8:pp(),Bt=6;break e;default:throw Error(i(462))}}mR();break}catch(W){Ax(s,W)}while(!0);return Vi=Ma=null,X.H=c,X.A=m,ot=o,Ke!==null?0:(bt=null,Ye=0,yd(),Bt)}function mR(){for(;Ke!==null&&!uo();)Cx(Ke)}function Cx(s){var r=ex(s.alternate,s,Gi);s.memoizedProps=s.pendingProps,r===null?Wd(s):Ke=r}function Ix(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Xv(o,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=Xv(o,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:Im(r);default:nx(o,r),r=Ke=Nb(r,Gi),r=ex(o,r,Gi)}s.memoizedProps=s.pendingProps,r===null?Wd(s):Ke=r}function Ko(s,r,o,c){Vi=Ma=null,Im(r),Vo=null,gc=0;var m=r.return;try{if(nR(s,m,r,o,Ye)){Bt=1,zd(s,ps(o,s.current)),Ke=null;return}}catch(g){if(m!==null)throw Ke=m,g;Bt=1,zd(s,ps(o,s.current)),Ke=null;return}r.flags&32768?(et||c===1?s=!0:Fo||(Ye&536870912)!==0?s=!1:(kr=s=!0,(c===2||c===9||c===3||c===6)&&(c=ns.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dx(r,s)):Wd(r)}function Wd(s){var r=s;do{if((r.flags&32768)!==0){Dx(r,kr);return}s=r.return;var o=rR(r.alternate,r,Gi);if(o!==null){Ke=o;return}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=s}while(r!==null);Bt===0&&(Bt=5)}function Dx(s,r){do{var o=aR(s.alternate,s);if(o!==null){o.flags&=32767,Ke=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ke=s;return}Ke=s=o}while(s!==null);Bt=6,Ke=null}function Mx(s,r,o,c,m,g,_,E,M){s.cancelPendingCommit=null;do Jd();while(on!==0);if((ot&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=im,Yf(s,o,g,_,E,M),s===bt&&(Ke=bt=null,Ye=0),qo=r,Cr=s,Ki=o,hp=g,fp=m,wx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,bR(De,function(){return Lx(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,m=re.p,re.p=2,_=ot,ot|=4;try{oR(s,r,o)}finally{ot=_,re.p=m,X.T=c}}on=1,jx(),Vx(),Px()}}function jx(){if(on===1){on=0;var s=Cr,r=qo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var c=re.p;re.p=2;var m=ot;ot|=4;try{mx(r,s);var g=Rp,_=xb(s.containerInfo),E=g.focusedElem,M=g.selectionRange;if(_!==E&&E&&E.ownerDocument&&vb(E.ownerDocument.documentElement,E)){if(M!==null&&Jf(E)){var K=M.start,W=M.end;if(W===void 0&&(W=K),"selectionStart"in E)E.selectionStart=K,E.selectionEnd=Math.min(W,E.value.length);else{var se=E.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var Z=$.getSelection(),ye=E.textContent.length,ke=Math.min(M.start,ye),yt=M.end===void 0?ke:Math.min(M.end,ye);!Z.extend&&ke>yt&&(_=yt,yt=ke,ke=_);var F=bb(E,ke),z=bb(E,yt);if(F&&z&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var G=se.createRange();G.setStart(F.node,F.offset),Z.removeAllRanges(),ke>yt?(Z.addRange(G),Z.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Z.addRange(G))}}}}for(se=[],Z=E;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var te=se[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}dh=!!kp,Rp=kp=null}finally{ot=m,re.p=c,X.T=o}}s.current=r,on=2}}function Vx(){if(on===2){on=0;var s=Cr,r=qo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var c=re.p;re.p=2;var m=ot;ot|=4;try{cx(s,r.alternate,r)}finally{ot=m,re.p=c,X.T=o}}on=3}}function Px(){if(on===4||on===3){on=0,ce();var s=Cr,r=qo,o=Ki,c=wx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,qo=Cr=null,Ox(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Nr=null),Ni(o),r=r.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Pn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=X.T,m=re.p,re.p=2,X.T=null;try{for(var g=s.onRecoverableError,_=0;_<c.length;_++){var E=c[_];g(E.value,{componentStack:E.stack})}}finally{X.T=r,re.p=m}}(Ki&3)!==0&&Jd(),hi(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===mp?Mc++:(Mc=0,mp=s):Mc=0,jc(0)}}function Ox(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,mc(r)))}function Jd(){return jx(),Vx(),Px(),Lx()}function Lx(){if(on!==5)return!1;var s=Cr,r=hp;hp=0;var o=Ni(Ki),c=X.T,m=re.p;try{re.p=32>o?32:o,X.T=null,o=fp,fp=null;var g=Cr,_=Ki;if(on=0,qo=Cr=null,Ki=0,(ot&6)!==0)throw Error(i(331));var E=ot;if(ot|=4,vx(g.current),gx(g,g.current,_,o),ot=E,jc(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Pn,g)}catch{}return!0}finally{re.p=m,X.T=c,Ox(s,r)}}function zx(s,r,o){r=ps(o,r),r=Km(s.stateNode,r,2),s=Tr(s,r,2),s!==null&&(ga(s,2),hi(s))}function ft(s,r,o){if(s.tag===3)zx(s,s,o);else for(;r!==null;){if(r.tag===3){zx(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Nr===null||!Nr.has(c))){s=ps(o,s),o=Uv(2),c=Tr(r,o,2),c!==null&&(Bv(o,c,r,s),ga(c,2),hi(c));break}}r=r.return}}function yp(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new uR;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(cp=!0,m.add(o),s=pR.bind(null,s,r,o),r.then(s,s))}function pR(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,bt===s&&(Ye&o)===o&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>pe()-$d?(ot&2)===0&&Go(s,0):up|=o,Ho===Ye&&(Ho=0)),hi(s)}function Ux(s,r){r===0&&(r=Yu()),s=Ca(s,r),s!==null&&(ga(s,r),hi(s))}function gR(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Ux(s,o)}function yR(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Ux(s,o)}function bR(s,r){return Mt(s,r)}var eh=null,$o=null,bp=!1,th=!1,vp=!1,Dr=0;function hi(s){s!==$o&&s.next===null&&($o===null?eh=$o=s:$o=$o.next=s),th=!0,bp||(bp=!0,xR())}function jc(s,r){if(!vp&&th){vp=!0;do for(var o=!1,c=eh;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var _=c.suspendedLanes,E=c.pingedLanes;g=(1<<31-xe(42|s)+1)-1,g&=m&~(_&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,qx(c,g))}else g=Ye,g=Xs(c,c===bt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ns(c,g)||(o=!0,qx(c,g));c=c.next}while(o);vp=!1}}function vR(){Bx()}function Bx(){th=bp=!1;var s=0;Dr!==0&&CR()&&(s=Dr);for(var r=pe(),o=null,c=eh;c!==null;){var m=c.next,g=Fx(c,r);g===0?(c.next=null,o===null?eh=m:o.next=m,m===null&&($o=o)):(o=c,(s!==0||(g&3)!==0)&&(th=!0)),c=m}on!==0&&on!==5||jc(s),Dr!==0&&(Dr=0)}function Fx(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var _=31-xe(g),E=1<<_,M=m[_];M===-1?((E&o)===0||(E&c)!==0)&&(m[_]=Xf(E,r)):M<=r&&(s.expiredLanes|=E),g&=~E}if(r=bt,o=Ye,o=Xs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(ht===2||ht===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&cs(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Ns(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&cs(c),Ni(o)){case 2:case 8:o=Ue;break;case 32:o=De;break;case 268435456:o=At;break;default:o=De}return c=Hx.bind(null,s),o=Mt(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&cs(c),s.callbackPriority=2,s.callbackNode=null,2}function Hx(s,r){if(on!==0&&on!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Jd()&&s.callbackNode!==o)return null;var c=Ye;return c=Xs(s,s===bt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Ex(s,c,r),Fx(s,pe()),s.callbackNode!=null&&s.callbackNode===o?Hx.bind(null,s):null)}function qx(s,r){if(Jd())return null;Ex(s,r,!0)}function xR(){DR(function(){(ot&6)!==0?Mt(ze,vR):Bx()})}function xp(){if(Dr===0){var s=Do;s===0&&(s=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),Dr=s}return Dr}function Gx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yo(""+s)}function Kx(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function _R(s,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=Gx((m[dn]||null).action),_=c.submitter;_&&(r=(r=_[dn]||null)?Gx(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var E=new ri("action","action",null,c,m);s.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Dr!==0){var M=_?Kx(m,_):new FormData(m);Um(o,{pending:!0,data:M,method:m.method,action:g},null,M)}}else typeof g=="function"&&(E.preventDefault(),M=_?Kx(m,_):new FormData(m),Um(o,{pending:!0,data:M,method:m.method,action:g},g,M))},currentTarget:m}]})}}for(var _p=0;_p<sm.length;_p++){var wp=sm[_p],wR=wp.toLowerCase(),TR=wp[0].toUpperCase()+wp.slice(1);Os(wR,"on"+TR)}Os(Tb,"onAnimationEnd"),Os(Eb,"onAnimationIteration"),Os(Sb,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(z2,"onTransitionRun"),Os(U2,"onTransitionStart"),Os(B2,"onTransitionCancel"),Os(Ab,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function $x(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var _=c.length-1;0<=_;_--){var E=c[_],M=E.instance,K=E.currentTarget;if(E=E.listener,M!==g&&m.isPropagationStopped())break e;g=E,m.currentTarget=K;try{g(m)}catch(W){gd(W)}m.currentTarget=null,g=M}else for(_=0;_<c.length;_++){if(E=c[_],M=E.instance,K=E.currentTarget,E=E.listener,M!==g&&m.isPropagationStopped())break e;g=E,m.currentTarget=K;try{g(m)}catch(W){gd(W)}m.currentTarget=null,g=M}}}}function $e(s,r){var o=r[ho];o===void 0&&(o=r[ho]=new Set);var c=s+"__bubble";o.has(c)||(Xx(r,s,2,!1),o.add(c))}function Tp(s,r,o){var c=0;r&&(c|=4),Xx(o,s,c,r)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Ep(s){if(!s[nh]){s[nh]=!0,$l.forEach(function(o){o!=="selectionchange"&&(ER.has(o)||Tp(o,!1,s),Tp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[nh]||(r[nh]=!0,Tp("selectionchange",!1,r))}}function Xx(s,r,o,c){switch(T_(r)){case 2:var m=WR;break;case 8:m=JR;break;default:m=zp}o=m.bind(null,r,o,s),m=void 0,!wa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Sp(s,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var E=c.stateNode.containerInfo;if(E===m)break;if(_===4)for(_=c.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;E!==null;){if(_=Ws(E),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){c=g=_;continue e}E=E.parentNode}}c=c.return}fr(function(){var K=g,W=ds(o),se=[];e:{var $=kb.get(s);if($!==void 0){var Z=ri,ye=s;switch(s){case"keypress":if(Ea(o)===0)break e;case"keydown":case"keyup":Z=fd;break;case"focusin":ye="focus",Z=Aa;break;case"focusout":ye="blur",Z=Aa;break;case"beforeblur":case"afterblur":Z=Aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case Tb:case Eb:case Sb:Z=ad;break;case Ab:Z=k;break;case"scroll":case"scrollend":Z=rc;break;case"wheel":Z=Y;break;case"copy":case"cut":case"paste":Z=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Di;break;case"toggle":case"beforetoggle":Z=Fe}var ke=(r&4)!==0,yt=!ke&&(s==="scroll"||s==="scrollend"),F=ke?$!==null?$+"Capture":null:$;ke=[];for(var z=K,G;z!==null;){var te=z;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||F===null||(te=Ms(z,F),te!=null&&ke.push(Pc(z,te,G))),yt)break;z=z.return}0<ke.length&&($=new Z($,ye,null,o,W),se.push({event:$,listeners:ke}))}}if((r&7)===0){e:{if($=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",$&&o!==nc&&(ye=o.relatedTarget||o.fromElement)&&(Ws(ye)||ye[Qs]))break e;if((Z||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(ye=o.relatedTarget||o.toElement,Z=K,ye=ye?Ws(ye):null,ye!==null&&(yt=l(ye),ke=ye.tag,ye!==yt||ke!==5&&ke!==27&&ke!==6)&&(ye=null)):(Z=null,ye=K),Z!==ye)){if(ke=ac,te="onMouseLeave",F="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ke=Di,te="onPointerLeave",F="onPointerEnter",z="pointer"),yt=Z==null?$:Wn(Z),G=ye==null?$:Wn(ye),$=new ke(te,z+"leave",Z,o,W),$.target=yt,$.relatedTarget=G,te=null,Ws(W)===K&&(ke=new ke(F,z+"enter",ye,o,W),ke.target=G,ke.relatedTarget=yt,te=ke),yt=te,Z&&ye)t:{for(ke=SR,F=Z,z=ye,G=0,te=F;te;te=ke(te))G++;te=0;for(var Te=z;Te;Te=ke(Te))te++;for(;0<G-te;)F=ke(F),G--;for(;0<te-G;)z=ke(z),te--;for(;G--;){if(F===z||z!==null&&F===z.alternate){ke=F;break t}F=ke(F),z=ke(z)}ke=null}else ke=null;Z!==null&&Yx(se,$,Z,ke,!1),ye!==null&&yt!==null&&Yx(se,yt,ye,ke,!0)}}e:{if($=K?Wn(K):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var it=hb;else if(ub($))if(fb)it=P2;else{it=j2;var _e=M2}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&go(K.elementType)&&(it=hb):it=V2;if(it&&(it=it(s,K))){db(se,it,o,W);break e}_e&&_e(s,$,K),s==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Jl($,"number",$.value)}switch(_e=K?Wn(K):window,s){case"focusin":(ub(_e)||_e.contentEditable==="true")&&(Eo=_e,em=K,dc=null);break;case"focusout":dc=em=Eo=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,_b(se,o,W);break;case"selectionchange":if(L2)break;case"keydown":case"keyup":_b(se,o,W)}var qe;if(at)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else To?ka(s,o)&&(Qe="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Qe="onCompositionStart");Qe&&(li&&o.locale!=="ko"&&(To||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&To&&(qe=ic()):(ii=W,sc="value"in ii?ii.value:ii.textContent,To=!0)),_e=sh(K,Qe),0<_e.length&&(Qe=new oi(Qe,s,null,o,W),se.push({event:Qe,listeners:_e}),qe?Qe.data=qe:(qe=wo(o),qe!==null&&(Qe.data=qe)))),(qe=fs?N2(s,o):C2(s,o))&&(Qe=sh(K,"onBeforeInput"),0<Qe.length&&(_e=new oi("onBeforeInput","beforeinput",null,o,W),se.push({event:_e,listeners:Qe}),_e.data=qe)),_R(se,s,K,o,W)}$x(se,r)})}function Pc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function sh(s,r){for(var o=r+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ms(s,o),m!=null&&c.unshift(Pc(s,m,g)),m=Ms(s,r),m!=null&&c.push(Pc(s,m,g))),s.tag===3)return c;s=s.return}return[]}function SR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Yx(s,r,o,c,m){for(var g=r._reactName,_=[];o!==null&&o!==c;){var E=o,M=E.alternate,K=E.stateNode;if(E=E.tag,M!==null&&M===c)break;E!==5&&E!==26&&E!==27||K===null||(M=K,m?(K=Ms(o,g),K!=null&&_.unshift(Pc(o,K,M))):m||(K=Ms(o,g),K!=null&&_.push(Pc(o,K,M)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var AR=/\r\n?/g,kR=/\u0000|\uFFFD/g;function Qx(s){return(typeof s=="string"?s:""+s).replace(AR,`
`).replace(kR,"")}function Zx(s,r){return r=Qx(r),Qx(s)===r}function gt(s,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Fn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Fn(s,""+c);break;case"className":Jn(s,"class",c);break;case"tabIndex":Jn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(s,o,c);break;case"style":tc(s,c,g);break;case"data":if(r!=="object"){Jn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=yo(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&gt(s,r,"name",m.name,m,null),gt(s,r,"formEncType",m.formEncType,m,null),gt(s,r,"formMethod",m.formMethod,m,null),gt(s,r,"formTarget",m.formTarget,m,null)):(gt(s,r,"encType",m.encType,m,null),gt(s,r,"method",m.method,m,null),gt(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=yo(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=Ds);break;case"onScroll":c!=null&&$e("scroll",s);break;case"onScrollEnd":c!=null&&$e("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=yo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":$e("beforetoggle",s),$e("toggle",s),mo(s,"popover",c);break;case"xlinkActuate":Qt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":mo(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,mo(s,o,c))}}function Ap(s,r,o,c,m,g){switch(o){case"style":tc(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Fn(s,c):(typeof c=="number"||typeof c=="bigint")&&Fn(s,""+c);break;case"onScroll":c!=null&&$e("scroll",s);break;case"onScrollEnd":c!=null&&$e("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=s[dn]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,m);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):mo(s,o,c)}}}function wn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",s),$e("load",s);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(s,r,g,_,o,null)}}m&&gt(s,r,"srcSet",o.srcSet,o,null),c&&gt(s,r,"src",o.src,o,null);return;case"input":$e("invalid",s);var E=g=_=m=null,M=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":m=W;break;case"type":_=W;break;case"checked":M=W;break;case"defaultChecked":K=W;break;case"value":g=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:gt(s,r,c,W,o,null)}}ed(s,g,E,M,K,_,m,!1);return;case"select":$e("invalid",s),c=_=g=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":g=E;break;case"defaultValue":_=E;break;case"multiple":c=E;default:gt(s,r,m,E,o,null)}r=g,o=_,s.multiple=!!c,r!=null?cr(s,!!c,r,!1):o!=null&&cr(s,!!c,o,!0);return;case"textarea":$e("invalid",s),g=m=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(E=o[_],E!=null))switch(_){case"value":c=E;break;case"defaultValue":m=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:gt(s,r,_,E,o,null)}ur(s,c,m,g);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(c=o[M],c!=null))switch(M){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:gt(s,r,M,c,o,null)}return;case"dialog":$e("beforetoggle",s),$e("toggle",s),$e("cancel",s),$e("close",s);break;case"iframe":case"object":$e("load",s);break;case"video":case"audio":for(c=0;c<Vc.length;c++)$e(Vc[c],s);break;case"image":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"embed":case"source":case"link":$e("error",s),$e("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(s,r,K,c,o,null)}return;default:if(go(r)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&Ap(s,r,W,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&gt(s,r,E,c,o,null))}function RR(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,_=null,E=null,M=null,K=null,W=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=se;default:c.hasOwnProperty(Z)||gt(s,r,Z,null,c,se)}}for(var $ in c){var Z=c[$];if(se=o[$],c.hasOwnProperty($)&&(Z!=null||se!=null))switch($){case"type":g=Z;break;case"name":m=Z;break;case"checked":K=Z;break;case"defaultChecked":W=Z;break;case"value":_=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==se&&gt(s,r,$,Z,c,se)}}po(s,_,E,M,K,W,g,m);return;case"select":Z=_=E=$=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":Z=M;default:c.hasOwnProperty(g)||gt(s,r,g,null,c,M)}for(m in c)if(g=c[m],M=o[m],c.hasOwnProperty(m)&&(g!=null||M!=null))switch(m){case"value":$=g;break;case"defaultValue":E=g;break;case"multiple":_=g;default:g!==M&&gt(s,r,m,g,c,M)}r=E,o=_,c=Z,$!=null?cr(s,!!o,$,!1):!!c!=!!o&&(r!=null?cr(s,!!o,r,!0):cr(s,!!o,o?[]:"",!1));return;case"textarea":Z=$=null;for(E in o)if(m=o[E],o.hasOwnProperty(E)&&m!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:gt(s,r,E,null,c,m)}for(_ in c)if(m=c[_],g=o[_],c.hasOwnProperty(_)&&(m!=null||g!=null))switch(_){case"value":$=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&gt(s,r,_,m,c,g)}td(s,$,Z);return;case"option":for(var ye in o)if($=o[ye],o.hasOwnProperty(ye)&&$!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":s.selected=!1;break;default:gt(s,r,ye,null,c,$)}for(M in c)if($=c[M],Z=o[M],c.hasOwnProperty(M)&&$!==Z&&($!=null||Z!=null))switch(M){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:gt(s,r,M,$,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)$=o[ke],o.hasOwnProperty(ke)&&$!=null&&!c.hasOwnProperty(ke)&&gt(s,r,ke,null,c,$);for(K in c)if($=c[K],Z=o[K],c.hasOwnProperty(K)&&$!==Z&&($!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:gt(s,r,K,$,c,Z)}return;default:if(go(r)){for(var yt in o)$=o[yt],o.hasOwnProperty(yt)&&$!==void 0&&!c.hasOwnProperty(yt)&&Ap(s,r,yt,void 0,c,$);for(W in c)$=c[W],Z=o[W],!c.hasOwnProperty(W)||$===Z||$===void 0&&Z===void 0||Ap(s,r,W,$,c,Z);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!c.hasOwnProperty(F)&&gt(s,r,F,null,c,$);for(se in c)$=c[se],Z=o[se],!c.hasOwnProperty(se)||$===Z||$==null&&Z==null||gt(s,r,se,$,c,Z)}function Wx(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,_=m.initiatorType,E=m.duration;if(g&&E&&Wx(_)){for(_=0,E=m.responseEnd,c+=1;c<o.length;c++){var M=o[c],K=M.startTime;if(K>E)break;var W=M.transferSize,se=M.initiatorType;W&&Wx(se)&&(M=M.responseEnd,_+=W*(M<E?1:(E-K)/(M-K)))}if(--c,r+=8*(g+_)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var kp=null,Rp=null;function ih(s){return s.nodeType===9?s:s.ownerDocument}function Jx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Np(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cp=null;function CR(){var s=window.event;return s&&s.type==="popstate"?s===Cp?!1:(Cp=s,!0):(Cp=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(s){return n_.resolve(null).then(s).catch(MR)}:t_;function MR(s){setTimeout(function(){throw s})}function Mr(s){return s==="head"}function s_(s,r){var o=r,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(m),Zo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Oc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Oc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,E=g.nodeName;g[Zs]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&Oc(s.ownerDocument.body);o=m}while(o);Zo(r)}function i_(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function Ip(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ip(o),fo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function jR(s,r,o,c){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Zs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=xs(s.nextSibling),s===null)break}return null}function VR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=xs(s.nextSibling),s===null))return null;return s}function r_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=xs(s.nextSibling),s===null))return null;return s}function Dp(s){return s.data==="$?"||s.data==="$~"}function Mp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function PR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function xs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var jp=null;function a_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return xs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function o_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function l_(s,r,o){switch(r=ih(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Oc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);fo(s)}var _s=new Map,c_=new Set;function rh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var $i=re.d;re.d={f:OR,r:LR,D:zR,C:UR,L:BR,m:FR,X:qR,S:HR,M:GR};function OR(){var s=$i.f(),r=Qd();return s||r}function LR(s){var r=us(s);r!==null&&r.tag===5&&r.type==="form"?Av(r):$i.r(s)}var Xo=typeof document>"u"?null:document;function u_(s,r,o){var c=Xo;if(c&&typeof r=="string"&&r){var m=Bn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),c_.has(m)||(c_.add(m),s={rel:s,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),wn(r,"link",s),Yt(r),c.head.appendChild(r)))}}function zR(s){$i.D(s),u_("dns-prefetch",s,null)}function UR(s,r){$i.C(s,r),u_("preconnect",s,r)}function BR(s,r,o){$i.L(s,r,o);var c=Xo;if(c&&s&&r){var m='link[rel="preload"][as="'+Bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Bn(o.imageSizes)+'"]')):m+='[href="'+Bn(s)+'"]';var g=m;switch(r){case"style":g=Yo(s);break;case"script":g=Qo(s)}_s.has(g)||(s=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),_s.set(g,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(Lc(g))||r==="script"&&c.querySelector(zc(g))||(r=c.createElement("link"),wn(r,"link",s),Yt(r),c.head.appendChild(r)))}}function FR(s,r){$i.m(s,r);var o=Xo;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Bn(c)+'"][href="'+Bn(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Qo(s)}if(!_s.has(g)&&(s=x({rel:"modulepreload",href:s},r),_s.set(g,s),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zc(g)))return}c=o.createElement("link"),wn(c,"link",s),Yt(c),o.head.appendChild(c)}}}function HR(s,r,o){$i.S(s,r,o);var c=Xo;if(c&&s){var m=Js(c).hoistableStyles,g=Yo(s);r=r||"default";var _=m.get(g);if(!_){var E={loading:0,preload:null};if(_=c.querySelector(Lc(g)))E.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},o),(o=_s.get(g))&&Vp(s,o);var M=_=c.createElement("link");Yt(M),wn(M,"link",s),M._p=new Promise(function(K,W){M.onload=K,M.onerror=W}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ah(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:E},m.set(g,_)}}}function qR(s,r){$i.X(s,r);var o=Xo;if(o&&s){var c=Js(o).hoistableScripts,m=Qo(s),g=c.get(m);g||(g=o.querySelector(zc(m)),g||(s=x({src:s,async:!0},r),(r=_s.get(m))&&Pp(s,r),g=o.createElement("script"),Yt(g),wn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function GR(s,r){$i.M(s,r);var o=Xo;if(o&&s){var c=Js(o).hoistableScripts,m=Qo(s),g=c.get(m);g||(g=o.querySelector(zc(m)),g||(s=x({src:s,async:!0,type:"module"},r),(r=_s.get(m))&&Pp(s,r),g=o.createElement("script"),Yt(g),wn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function d_(s,r,o,c){var m=(m=Ce.current)?rh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Yo(o.href),o=Js(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Yo(o.href);var g=Js(m).hoistableStyles,_=g.get(s);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,_),(g=m.querySelector(Lc(s)))&&!g._p&&(_.instance=g,_.state.loading=5),_s.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_s.set(s,o),g||KR(m,s,o,_.state))),r&&c===null)throw Error(i(528,""));return _}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Qo(o),o=Js(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Yo(s){return'href="'+Bn(s)+'"'}function Lc(s){return'link[rel="stylesheet"]['+s+"]"}function h_(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function KR(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),wn(r,"link",o),Yt(r),s.head.appendChild(r))}function Qo(s){return'[src="'+Bn(s)+'"]'}function zc(s){return"script[async]"+s}function f_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Bn(o.href)+'"]');if(c)return r.instance=c,Yt(c),c;var m=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Yt(c),wn(c,"style",m),ah(c,o.precedence,s),r.instance=c;case"stylesheet":m=Yo(o.href);var g=s.querySelector(Lc(m));if(g)return r.state.loading|=4,r.instance=g,Yt(g),g;c=h_(o),(m=_s.get(m))&&Vp(c,m),g=(s.ownerDocument||s).createElement("link"),Yt(g);var _=g;return _._p=new Promise(function(E,M){_.onload=E,_.onerror=M}),wn(g,"link",c),r.state.loading|=4,ah(g,o.precedence,s),r.instance=g;case"script":return g=Qo(o.src),(m=s.querySelector(zc(g)))?(r.instance=m,Yt(m),m):(c=o,(m=_s.get(g))&&(c=x({},o),Pp(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Yt(m),wn(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ah(c,o.precedence,s));return r.instance}function ah(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,_=0;_<c.length;_++){var E=c[_];if(E.dataset.precedence===r)g=E;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Vp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Pp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var oh=null;function m_(s,r,o){if(oh===null){var c=new Map,m=oh=new Map;m.set(o,c)}else m=oh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var g=o[m];if(!(g[Zs]||g[Xt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=s+_;var E=c.get(_);E?E.push(g):c.set(_,[g])}}return c}function p_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function $R(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function g_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function XR(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Yo(c.href),g=r.querySelector(Lc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=lh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Yt(g);return}g=r.ownerDocument||r,c=h_(c),(m=_s.get(m))&&Vp(c,m),g=g.createElement("link"),Yt(g);var _=g;_._p=new Promise(function(E,M){_.onload=E,_.onerror=M}),wn(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=lh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Op=0;function YR(s,r){return s.stylesheets&&s.count===0&&uh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Op===0&&(Op=62500*NR());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&uh(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Op?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ch=null;function uh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ch=new Map,r.forEach(QR,s),ch=null,lh.call(s))}function QR(s,r){if(!(r.state.loading&4)){var o=ch.get(s);if(o)var c=o.get(null);else{o=new Map,ch.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var _=m[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}m=r.instance,_=m.getAttribute("data-precedence"),g=o.get(_)||c,g===c&&o.set(null,m),o.set(_,m),this.count++,c=lh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Uc={$$typeof:H,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function ZR(s,r,o,c,m,g,_,E,M){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function y_(s,r,o,c,m,g,_,E,M,K,W,se){return s=new ZR(s,r,o,_,M,K,W,se,E),r=1,g===!0&&(r|=24),g=ts(3,null,null,r),s.current=g,g.stateNode=s,r=gm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},xm(g),s}function b_(s){return s?(s=ko,s):ko}function v_(s,r,o,c,m,g){m=b_(m),c.context===null?c.context=m:c.pendingContext=m,c=wr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Tr(s,c,r),o!==null&&($n(o,s,r),bc(o,s,r))}function x_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Lp(s,r){x_(s,r),(s=s.alternate)&&x_(s,r)}function __(s){if(s.tag===13||s.tag===31){var r=Ca(s,67108864);r!==null&&$n(r,s,67108864),Lp(s,67108864)}}function w_(s){if(s.tag===13||s.tag===31){var r=as();r=ba(r);var o=Ca(s,r);o!==null&&$n(o,s,r),Lp(s,r)}}var dh=!0;function WR(s,r,o,c){var m=X.T;X.T=null;var g=re.p;try{re.p=2,zp(s,r,o,c)}finally{re.p=g,X.T=m}}function JR(s,r,o,c){var m=X.T;X.T=null;var g=re.p;try{re.p=8,zp(s,r,o,c)}finally{re.p=g,X.T=m}}function zp(s,r,o,c){if(dh){var m=Up(c);if(m===null)Sp(s,r,c,hh,o),E_(s,c);else if(tN(m,s,r,o,c))c.stopPropagation();else if(E_(s,c),r&4&&-1<eN.indexOf(s)){for(;m!==null;){var g=us(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=$s(g.pendingLanes);if(_!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var M=1<<31-xe(_);E.entanglements[1]|=M,_&=~M}hi(g),(ot&6)===0&&(Xd=pe()+500,jc(0))}}break;case 31:case 13:E=Ca(g,2),E!==null&&$n(E,g,2),Qd(),Lp(g,2)}if(g=Up(c),g===null&&Sp(s,r,c,hh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Sp(s,r,c,null,o)}}function Up(s){return s=ds(s),Bp(s)}var hh=null;function Bp(s){if(hh=null,s=Ws(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return hh=s,null}function T_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case ze:return 2;case Ue:return 8;case De:case lt:return 32;case At:return 268435456;default:return 32}default:return 32}}var Fp=!1,jr=null,Vr=null,Pr=null,Bc=new Map,Fc=new Map,Or=[],eN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(s,r){switch(s){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Bc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(r.pointerId)}}function Hc(s,r,o,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=us(r),r!==null&&__(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function tN(s,r,o,c,m){switch(r){case"focusin":return jr=Hc(jr,s,r,o,c,m),!0;case"dragenter":return Vr=Hc(Vr,s,r,o,c,m),!0;case"mouseover":return Pr=Hc(Pr,s,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return Bc.set(g,Hc(Bc.get(g)||null,s,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Fc.set(g,Hc(Fc.get(g)||null,s,r,o,c,m)),!0}return!1}function S_(s){var r=Ws(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,Cs(s.priority,function(){w_(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,Cs(s.priority,function(){w_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Up(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);nc=c,o.target.dispatchEvent(c),nc=null}else return r=us(o),r!==null&&__(r),s.blockedOn=o,!1;r.shift()}return!0}function A_(s,r,o){fh(s)&&o.delete(r)}function nN(){Fp=!1,jr!==null&&fh(jr)&&(jr=null),Vr!==null&&fh(Vr)&&(Vr=null),Pr!==null&&fh(Pr)&&(Pr=null),Bc.forEach(A_),Fc.forEach(A_)}function mh(s,r){s.blockedOn===r&&(s.blockedOn=null,Fp||(Fp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nN)))}var ph=null;function k_(s){ph!==s&&(ph=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ph===s&&(ph=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(Bp(c||o)===null)continue;break}var g=us(o);g!==null&&(s.splice(r,3),r-=3,Um(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Zo(s){function r(M){return mh(M,s)}jr!==null&&mh(jr,s),Vr!==null&&mh(Vr,s),Pr!==null&&mh(Pr,s),Bc.forEach(r),Fc.forEach(r);for(var o=0;o<Or.length;o++){var c=Or[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Or.length&&(o=Or[0],o.blockedOn===null);)S_(o),o.blockedOn===null&&Or.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],_=m[dn]||null;if(typeof g=="function")_||k_(o);else if(_){var E=null;if(g&&g.hasAttribute("formAction")){if(m=g,_=g[dn]||null)E=_.formAction;else if(Bp(m)!==null)continue}else E=_.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),k_(o)}}}function R_(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Hp(s){this._internalRoot=s}gh.prototype.render=Hp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=as();v_(o,c,s,r,null,null)},gh.prototype.unmount=Hp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;v_(s.current,2,null,s,null,null),Qd(),r[Qs]=null}};function gh(s){this._internalRoot=s}gh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Qu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Or.length&&r!==0&&r<Or[o].priority;o++);Or.splice(o,0,s),o===0&&S_(s)}};var N_=e.version;if(N_!=="19.2.3")throw Error(i(527,N_,"19.2.3"));re.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?b(s):null,s=s===null?null:s.stateNode,s};var sN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Pn=yh.inject(sN),Se=yh}catch{}}return Gc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",m=Pv,g=Ov,_=Lv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=y_(s,1,!1,null,null,o,c,null,m,g,_,R_),s[Qs]=r.current,Ep(s),new Hp(r)},Gc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,m="",g=Pv,_=Ov,E=Lv,M=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=y_(s,1,!0,r,o??null,c,m,M,g,_,E,R_),r.context=b_(null),o=r.current,c=as(),c=ba(c),m=wr(c),m.callback=null,Tr(o,m,c),o=c,r.current.lanes=o,ga(r,o),hi(r),s[Qs]=r.current,Ep(s),new gh(r)},Gc.version="19.2.3",Gc}var z_;function mN(){if(z_)return Kp.exports;z_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=fN(),Kp.exports}var pN=mN();const gN=G1(pN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U_="popstate";function yN(t={}){function e(a,l){let{pathname:u="/",search:d="",hash:f=""}=ro(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),kg("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=a.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:mu(l))}function i(a,l){Zn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return vN(e,n,i,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substring(2,10)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function kg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:n,key:e&&e.key||i||bN()}}function mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function vN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",f=null,p=b();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function b(){return(u.state||{idx:null}).idx}function x(){d="POP";let D=b(),B=D==null?null:D-p;p=D,f&&f({action:d,location:O.location,delta:B})}function T(D,B){d="PUSH";let Q=kg(O.location,D,B);n&&n(Q,D),p=b()+1;let H=B_(Q,p),ae=O.createHref(Q);try{u.pushState(H,"",ae)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;a.location.assign(ae)}l&&f&&f({action:d,location:O.location,delta:1})}function A(D,B){d="REPLACE";let Q=kg(O.location,D,B);n&&n(Q,D),p=b();let H=B_(Q,p),ae=O.createHref(Q);u.replaceState(H,"",ae),l&&f&&f({action:d,location:O.location,delta:0})}function I(D){return xN(D)}let O={get action(){return d},get location(){return t(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(U_,x),f=D,()=>{a.removeEventListener(U_,x),f=null}},createHref(D){return e(a,D)},createURL:I,encodeLocation(D){let B=I(D);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:A,go(D){return u.go(D)}};return O}function xN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:mu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function K1(t,e,n="/"){return _N(t,e,n,!1)}function _N(t,e,n,i){let a=typeof e=="string"?ro(e):e,l=er(a.pathname||"/",n);if(l==null)return null;let u=$1(t);wN(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=MN(l);d=IN(u[f],p,i)}return d}function $1(t,e=[],n=[],i="",a=!1){let l=(u,d,f=a,p)=>{let b={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&f)return;Dt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let x=Zi([i,b.relativePath]),T=n.concat(b);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),$1(u.children,e,T,x,f)),!(u.path==null&&!u.index)&&e.push({path:x,score:NN(x,u.index),routesMeta:T})};return t.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,d);else for(let p of X1(u.path))l(u,d,!0,p)}),e}function X1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=X1(i.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function wN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var TN=/^:[\w-]+$/,EN=3,SN=2,AN=1,kN=10,RN=-2,F_=t=>t==="*";function NN(t,e){let n=t.split("/"),i=n.length;return n.some(F_)&&(i+=RN),e&&(i+=SN),n.filter(a=>!F_(a)).reduce((a,l)=>a+(TN.test(l)?EN:l===""?AN:kN),i)}function CN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function IN(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,b=l==="/"?e:e.slice(l.length)||"/",x=Xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},b),T=f.route;if(!x&&p&&n&&!i[i.length-1].route.index&&(x=Xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:Zi([l,x.pathname]),pathnameBase:LN(Zi([l,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(l=Zi([l,x.pathnameBase]))}return u}function Xh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=DN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:b,isOptional:x},T)=>{if(b==="*"){let I=d[T]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=d[T];return x&&!A?p[b]=void 0:p[b]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function DN(t,e=!1,n=!0){Zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function MN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function er(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VN=t=>jN.test(t);function PN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?ro(t):t,l;if(n)if(VN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=H_(n.substring(1),"/"):l=H_(n,e)}else l=e;return{pathname:l,search:zN(i),hash:UN(a)}}function H_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ON(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(t){let e=ON(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function N0(t,e,n,i=!1){let a;typeof t=="string"?a=ro(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),Qp("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),Qp("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),Qp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;a.pathname=T.join("/")}d=x>=0?e[x]:"/"}let f=PN(a,d),p=u&&u!=="/"&&u.endsWith("/"),b=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||b)&&(f.pathname+="/"),f}var Zi=t=>t.join("/").replace(/\/\/+/g,"/"),LN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function FN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y1=["POST","PUT","PATCH","DELETE"];new Set(Y1);var HN=["GET",...Y1];new Set(HN);var Nl=P.createContext(null);Nl.displayName="DataRouter";var Ef=P.createContext(null);Ef.displayName="DataRouterState";P.createContext(!1);var Q1=P.createContext({isTransitioning:!1});Q1.displayName="ViewTransition";var qN=P.createContext(new Map);qN.displayName="Fetchers";var GN=P.createContext(null);GN.displayName="Await";var ks=P.createContext(null);ks.displayName="Navigation";var Cu=P.createContext(null);Cu.displayName="Location";var Ks=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ks.displayName="Route";var C0=P.createContext(null);C0.displayName="RouteError";function KN(t,{relative:e}={}){Dt(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(ks),{hash:a,pathname:l,search:u}=Iu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Zi([n,l])),i.createHref({pathname:d,search:u,hash:a})}function Cl(){return P.useContext(Cu)!=null}function Si(){return Dt(Cl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Cu).location}var Z1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W1(t){P.useContext(ks).static||P.useLayoutEffect(t)}function ao(){let{isDataRoute:t}=P.useContext(Ks);return t?aC():$N()}function $N(){Dt(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Nl),{basename:e,navigator:n}=P.useContext(ks),{matches:i}=P.useContext(Ks),{pathname:a}=Si(),l=JSON.stringify(R0(i)),u=P.useRef(!1);return W1(()=>{u.current=!0}),P.useCallback((f,p={})=>{if(Zn(u.current,Z1),!u.current)return;if(typeof f=="number"){n.go(f);return}let b=N0(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Zi([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,l,a,t])}P.createContext(null);function XN(){let{matches:t}=P.useContext(Ks),e=t[t.length-1];return e?e.params:{}}function Iu(t,{relative:e}={}){let{matches:n}=P.useContext(Ks),{pathname:i}=Si(),a=JSON.stringify(R0(n));return P.useMemo(()=>N0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function YN(t,e){return J1(t,e)}function J1(t,e,n,i,a){var Q;Dt(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(ks),{matches:u}=P.useContext(Ks),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",b=d?d.pathnameBase:"/",x=d&&d.route;{let H=x&&x.path||"";eE(p,!x||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=Si(),A;if(e){let H=typeof e=="string"?ro(e):e;Dt(b==="/"||((Q=H.pathname)==null?void 0:Q.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=T;let I=A.pathname||"/",O=I;if(b!=="/"){let H=b.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=K1(t,{pathname:O});Zn(x||D!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Zn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=eC(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Zi([b,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?b:Zi([b,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,n,i,a);return e&&B?P.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function QN(){let t=rC(),e=BN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,u)}var ZN=P.createElement(QN,null),WN=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(Ks.Provider,{value:this.props.routeContext},P.createElement(C0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JN({routeContext:t,match:e,children:n}){let i=P.useContext(Nl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ks.Provider,{value:t},n)}function eC(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n==null?void 0:n.errors;if(u!=null){let b=l.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);Dt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let d=!1,f=-1;if(n)for(let b=0;b<l.length;b++){let x=l[b];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=b),x.route.id){let{loaderData:T,errors:A}=n,I=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||I){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(b,x)=>{var T,A;i(b,{location:n.location,params:((A=(T=n.matches)==null?void 0:T[0])==null?void 0:A.params)??{},unstable_pattern:FN(n.matches),errorInfo:x})}:void 0;return l.reduceRight((b,x,T)=>{let A,I=!1,O=null,D=null;n&&(A=u&&x.route.id?u[x.route.id]:void 0,O=x.route.errorElement||ZN,d&&(f<0&&T===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):f===T&&(I=!0,D=x.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,T+1)),Q=()=>{let H;return A?H=O:I?H=D:x.route.Component?H=P.createElement(x.route.Component,null):x.route.element?H=x.route.element:H=b,P.createElement(JN,{match:x,routeContext:{outlet:b,matches:B,isDataRoute:n!=null},children:H})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?P.createElement(WN,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:Q(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):Q()},null)}function I0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(t){let e=P.useContext(Nl);return Dt(e,I0(t)),e}function nC(t){let e=P.useContext(Ef);return Dt(e,I0(t)),e}function sC(t){let e=P.useContext(Ks);return Dt(e,I0(t)),e}function D0(t){let e=sC(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iC(){return D0("useRouteId")}function rC(){var i;let t=P.useContext(C0),e=nC("useRouteError"),n=D0("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function aC(){let{router:t}=tC("useNavigate"),e=D0("useNavigate"),n=P.useRef(!1);return W1(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{Zn(n.current,Z1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var q_={};function eE(t,e,n){!e&&!q_[t]&&(q_[t]=!0,Zn(!1,n))}P.memo(oC);function oC({routes:t,future:e,state:n,unstable_onError:i}){return J1(t,void 0,n,i,e)}function il({to:t,replace:e,state:n,relative:i}){Dt(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(ks);Zn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(Ks),{pathname:u}=Si(),d=ao(),f=N0(t,R0(l),u,i==="path"),p=JSON.stringify(f);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function fi(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=P.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=ro(n));let{pathname:p="/",search:b="",hash:x="",state:T=null,key:A="default"}=n,I=P.useMemo(()=>{let O=er(p,d);return O==null?null:{location:{pathname:O,search:b,hash:x,state:T,key:A},navigationType:i}},[d,p,b,x,T,A,i]);return Zn(I!=null,`<Router basename="${d}"> is not able to match the URL "${p}${b}${x}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:P.createElement(ks.Provider,{value:f},P.createElement(Cu.Provider,{children:e,value:I}))}function cC({children:t,location:e}){return YN(Rg(t),e)}function Rg(t,e=[]){let n=[];return P.Children.forEach(t,(i,a)=>{if(!P.isValidElement(i))return;let l=[...e,a];if(i.type===P.Fragment){n.push.apply(n,Rg(i.props.children,l));return}Dt(i.type===fi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Rg(i.props.children,l)),n.push(u)}),n}var Dh="get",Mh="application/x-www-form-urlencoded";function Sf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function uC(t){return Sf(t)&&t.tagName.toLowerCase()==="button"}function dC(t){return Sf(t)&&t.tagName.toLowerCase()==="form"}function hC(t){return Sf(t)&&t.tagName.toLowerCase()==="input"}function fC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mC(t,e){return t.button===0&&(!e||e==="_self")&&!fC(t)}function Ng(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function pC(t,e){let n=Ng(t);return e&&e.forEach((i,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var bh=null;function gC(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var yC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(t){return t!=null&&!yC.has(t)?(Zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):t}function bC(t,e){let n,i,a,l,u;if(dC(t)){let d=t.getAttribute("action");i=d?er(d,e):null,n=t.getAttribute("method")||Dh,a=Zp(t.getAttribute("enctype"))||Mh,l=new FormData(t)}else if(uC(t)||hC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?er(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Dh,a=Zp(t.getAttribute("formenctype"))||Zp(d.getAttribute("enctype"))||Mh,l=new FormData(d,t),!gC()){let{name:p,type:b,value:x}=t;if(b==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,x)}}else{if(Sf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dh,i=null,a=Mh,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&er(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function xC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _C(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wC(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await xC(l,n);return u.links?u.links():[]}return[]}));return AC(i.flat(1).filter(_C).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function G_(t,e,n,i,a,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var b;return n[p].pathname!==f.pathname||((b=n[p].route.path)==null?void 0:b.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var x;let b=i.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function TC(t,e,{includeHydrateFallback:n}={}){return EC(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function EC(t){return[...new Set(t)]}function SC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function AC(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(SC(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function tE(){let t=P.useContext(Nl);return M0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kC(){let t=P.useContext(Ef);return M0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var j0=P.createContext(void 0);j0.displayName="FrameworkContext";function nE(){let t=P.useContext(j0);return M0(t,"You must render this element inside a <HydratedRouter> element"),t}function RC(t,e){let n=P.useContext(j0),[i,a]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:b,onTouchStart:x}=e,T=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=B=>{B.forEach(Q=>{u(Q.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[t]),P.useEffect(()=>{if(i){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[i]);let A=()=>{a(!0)},I=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Kc(d,A),onBlur:Kc(f,I),onMouseEnter:Kc(p,A),onMouseLeave:Kc(b,I),onTouchStart:Kc(x,A)}]:[!1,T,{}]}function Kc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NC({page:t,...e}){let{router:n}=tE(),i=P.useMemo(()=>K1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(IC,{page:t,matches:i,...e}):null}function CC(t){let{manifest:e,routeModules:n}=nE(),[i,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return wC(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function IC({page:t,matches:e,...n}){let i=Si(),{manifest:a,routeModules:l}=nE(),{basename:u}=tE(),{loaderData:d,matches:f}=kC(),p=P.useMemo(()=>G_(t,e,f,a,i,"data"),[t,e,f,a,i]),b=P.useMemo(()=>G_(t,e,f,a,i,"assets"),[t,e,f,a,i]),x=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,O=!1;if(e.forEach(B=>{var H;let Q=a.routes[B.route.id];!Q||!Q.hasLoader||(!p.some(ae=>ae.route.id===B.route.id)&&B.route.id in d&&((H=l[B.route.id])!=null&&H.shouldRevalidate)||Q.hasClientLoader?O=!0:I.add(B.route.id))}),I.size===0)return[];let D=vC(t,u,"data");return O&&I.size>0&&D.searchParams.set("_routes",e.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[D.pathname+D.search]},[u,d,i,a,p,e,t,l]),T=P.useMemo(()=>TC(b,a),[b,a]),A=CC(b);return P.createElement(P.Fragment,null,x.map(I=>P.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),T.map(I=>P.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),A.map(({key:I,link:O})=>P.createElement("link",{key:I,nonce:n.nonce,...O})))}function DC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sE&&(window.__reactRouterVersion="7.10.1")}catch{}function MC({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=P.useRef();a.current==null&&(a.current=yN({window:i,v5Compat:!0}));let l=a.current,[u,d]=P.useState({action:l.action,location:l.location}),f=P.useCallback(p=>{n===!1?d(p):P.startTransition(()=>d(p))},[n]);return P.useLayoutEffect(()=>l.listen(f),[l,f]),P.createElement(lC,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n===!0})}var iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:b,viewTransition:x,...T},A){let{basename:I,unstable_useTransitions:O}=P.useContext(ks),D=typeof p=="string"&&iE.test(p),B,Q=!1;if(typeof p=="string"&&D&&(B=p,sE))try{let j=new URL(window.location.href),V=p.startsWith("//")?new URL(j.protocol+p):new URL(p),U=er(V.pathname,I);V.origin===j.origin&&U!=null?p=U+V.search+V.hash:Q=!0}catch{Zn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=KN(p,{relative:a}),[ae,oe,he]=RC(i,T),N=OC(p,{replace:u,state:d,target:f,preventScrollReset:b,relative:a,viewTransition:x,unstable_useTransitions:O});function S(j){e&&e(j),j.defaultPrevented||N(j)}let R=P.createElement("a",{...T,...he,href:B||H,onClick:Q||l?e:S,ref:DC(A,oe),target:f,"data-discover":!D&&n==="render"?"true":void 0});return ae&&!D?P.createElement(P.Fragment,null,R,P.createElement(NC,{page:H})):R});nt.displayName="Link";var jC=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:f,...p},b){let x=Iu(u,{relative:p.relative}),T=Si(),A=P.useContext(Ef),{navigator:I,basename:O}=P.useContext(ks),D=A!=null&&HC(x)&&d===!0,B=I.encodeLocation?I.encodeLocation(x).pathname:x.pathname,Q=T.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&O&&(H=er(H,O)||H);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=Q===B||!a&&Q.startsWith(B)&&Q.charAt(ae)==="/",he=H!=null&&(H===B||!a&&H.startsWith(B)&&H.charAt(B.length)==="/"),N={isActive:oe,isPending:he,isTransitioning:D},S=oe?e:void 0,R;typeof i=="function"?R=i(N):R=[i,oe?"active":null,he?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(N):l;return P.createElement(nt,{...p,"aria-current":S,className:R,ref:b,style:j,to:u,viewTransition:d},typeof f=="function"?f(N):f)});jC.displayName="NavLink";var VC=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=Dh,action:d,onSubmit:f,relative:p,preventScrollReset:b,viewTransition:x,...T},A)=>{let{unstable_useTransitions:I}=P.useContext(ks),O=BC(),D=FC(d,{relative:p}),B=u.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&iE.test(d),H=ae=>{if(f&&f(ae),ae.defaultPrevented)return;ae.preventDefault();let oe=ae.nativeEvent.submitter,he=(oe==null?void 0:oe.getAttribute("formmethod"))||u,N=()=>O(oe||ae.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:a,state:l,relative:p,preventScrollReset:b,viewTransition:x});I&&n!==!1?P.startTransition(()=>N()):N()};return P.createElement("form",{ref:A,method:B,action:D,onSubmit:i?f:H,...T,"data-discover":!Q&&t==="render"?"true":void 0})});VC.displayName="Form";function PC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(t){let e=P.useContext(Nl);return Dt(e,PC(t)),e}function OC(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_useTransitions:d}={}){let f=ao(),p=Si(),b=Iu(t,{relative:l});return P.useCallback(x=>{if(mC(x,e)){x.preventDefault();let T=n!==void 0?n:mu(p)===mu(b),A=()=>f(t,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:u});d?P.startTransition(()=>A()):A()}},[p,f,b,n,i,e,t,a,l,u,d])}function LC(t){Zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Ng(t)),n=P.useRef(!1),i=Si(),a=P.useMemo(()=>pC(i.search,n.current?null:e.current),[i.search]),l=ao(),u=P.useCallback((d,f)=>{const p=Ng(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+p,f)},[l,a]);return[a,u]}var zC=0,UC=()=>`__${String(++zC)}__`;function BC(){let{router:t}=rE("useSubmit"),{basename:e}=P.useContext(ks),n=iC(),i=t.fetch,a=t.navigate;return P.useCallback(async(l,u={})=>{let{action:d,method:f,encType:p,formData:b,body:x}=bC(l,e);if(u.navigate===!1){let T=u.fetcherKey||UC();await i(T,n,u.action||d,{preventScrollReset:u.preventScrollReset,formData:b,body:x,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{preventScrollReset:u.preventScrollReset,formData:b,body:x,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function FC(t,{relative:e}={}){let{basename:n}=P.useContext(ks),i=P.useContext(Ks);Dt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Iu(t||".",{relative:e})},u=Si();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(b=>b==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let b=d.toString();l.search=b?`?${b}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Zi([n,l.pathname])),mu(l)}function HC(t,{relative:e}={}){let n=P.useContext(Q1);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rE("useViewTransitionState"),a=Iu(t,{relative:e});if(!n.isTransitioning)return!1;let l=er(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=er(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Xh(a.pathname,u)!=null||Xh(a.pathname,l)!=null}let $c=null,rl=!1;const qC=()=>rl?null:($c||($c=new(window.AudioContext||window.webkitAudioContext)),$c.state==="suspended"&&$c.resume(),$c),os=(t,e,n,i=0,a=.1)=>{if(rl)return;const l=qC();if(!l)return;const u=l.createOscillator(),d=l.createGain();u.type=e,u.frequency.setValueAtTime(t,l.currentTime+i),d.gain.setValueAtTime(a,l.currentTime+i),d.gain.exponentialRampToValueAtTime(.01,l.currentTime+i+n),u.connect(d),d.connect(l.destination),u.start(l.currentTime+i),u.stop(l.currentTime+i+n)},K_={toggleMute:()=>(rl=!rl,rl),isMuted:()=>rl},Ct={correct:()=>{os(600,"sine",.1,0),os(800,"sine",.2,.1)},wrong:()=>{os(150,"sawtooth",.3,0)},click:()=>{os(400,"triangle",.05,0,.05)},win:()=>{os(400,"sine",.1,0),os(500,"sine",.1,.1),os(600,"sine",.1,.2),os(800,"square",.4,.3)},levelUp:()=>{os(400,"sine",.1,0),os(500,"sine",.1,.1),os(600,"sine",.1,.2),os(800,"sine",.1,.3),os(1e3,"square",.4,.4)}},aE=()=>{const t=P.useRef(null);return P.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;e.width=window.innerWidth,e.height=window.innerHeight;const i=[],a=["#136dec","#fbbf24","#10b981","#ef4444","#8b5cf6"];for(let u=0;u<150;u++)i.push({x:e.width/2,y:e.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20-5,color:a[Math.floor(Math.random()*a.length)],size:Math.random()*8+4,life:100});const l=()=>{if(!n||!e)return;n.clearRect(0,0,e.width,e.height);let u=!1;i.forEach(d=>{d.life>0&&(u=!0,d.x+=d.vx,d.y+=d.vy,d.vy+=.5,d.life--,n.fillStyle=d.color,n.fillRect(d.x,d.y,d.size,d.size))}),u&&requestAnimationFrame(l)};l()},[]),y.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-50"})},GC=({achievements:t,onClose:e})=>(P.useEffect(()=>{Ct.win()},[]),y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-300",children:[y.jsx(aE,{}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-8 border-2 border-primary/50 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-[shimmer_2s_infinite]"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-wide",children:"Lorpen Berria!"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-medium",children:"Bikain egina!"}),y.jsx("div",{className:"flex flex-col gap-4",children:t.map(n=>y.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700/50",children:[y.jsx("div",{className:"p-4 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 shadow-lg shadow-orange-500/30 text-white mb-2 animate-bounce",children:y.jsx("span",{className:"material-symbols-outlined text-4xl",children:n.icon})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:n.title}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:n.description}),y.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-black px-2 py-0.5 rounded shadow-sm",children:["+",n.xpReward," XP"]})]},n.id))}),y.jsx("button",{onClick:e,className:"mt-8 w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold transition-all hover:scale-105 shadow-xl shadow-blue-500/30",children:"Jarraitu"})]})]})]})),KC=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$C=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,b=l>>2,x=(l&3)<<4|d>>4;let T=(d&15)<<2|p>>6,A=p&63;f||(A=64,u||(T=64)),i.push(n[b],n[x],n[T],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$C(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||x==null)throw new XC;const T=l<<2|d>>4;if(i.push(T),p!==64){const A=d<<4&240|p>>2;if(i.push(A),x!==64){const I=p<<6&192|x;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YC=function(t){const e=oE(t);return lE.encodeByteArray(e,!0)},Yh=function(t){return YC(t).replace(/\./g,"")},cE=function(t){try{return lE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=()=>QC().__FIREBASE_DEFAULTS__,WC=()=>{if(typeof process>"u"||typeof $_>"u")return;const t=$_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cE(t[1]);return e&&JSON.parse(e)},Af=()=>{try{return KC()||ZC()||WC()||JC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uE=t=>{var e,n;return(n=(e=Af())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},eI=t=>{const e=uE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},dE=()=>{var t;return(t=Af())==null?void 0:t.config},hE=t=>{var e;return(e=Af())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yh(JSON.stringify(n)),Yh(JSON.stringify(u)),""].join(".")}const iu={};function sI(){const t={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?t.emulator.push(e):t.prod.push(e);return t}function iI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X_=!1;function mE(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||iu[t]===e||iu[t]||X_)return;iu[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=sI().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{X_=!0,u()},T}function b(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=iI(i),A=n("text"),I=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),D=document.getElementById(O)||document.createElement("a"),B=n("preprendIcon"),Q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),b(D,O);const ae=p();f(Q,B),H.append(Q,I,D,ae),document.body.appendChild(H)}l?(I.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function aI(){var e;const t=(e=Af())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dI(){return!aI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="FirebaseError";class or extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=mI,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?pI(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new or(a,d,i)}}function pI(t,e){return t.replace(gI,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const gI=/\{\$([^}]+)}/g;function yI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(Y_(l)&&Y_(u)){if(!Ja(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Y_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Wc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bI(t,e){const n=new vI(t,e);return n.subscribe.bind(n)}class vI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");xI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Wp),a.error===void 0&&(a.error=Wp),a.complete===void 0&&(a.complete=Wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new tI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TI(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wI(t){return t===Ga?void 0:t}function TI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const SI={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},AI=Ze.INFO,kI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},RI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=kI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=AI,this._logHandler=RI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const NI=(t,e)=>e.some(n=>t instanceof n);let Q_,Z_;function CI(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function II(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,Cg=new WeakMap,gE=new WeakMap,Jp=new WeakMap,P0=new WeakMap;function DI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Yr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&pE.set(n,t)}).catch(()=>{}),P0.set(e,t),e}function MI(t){if(Cg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Cg.set(t,e)}let Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jI(t){Ig=t(Ig)}function VI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(eg(this),e,...n);return gE.set(i,e.sort?e.sort():[e]),Yr(i)}:II().includes(t)?function(...e){return t.apply(eg(this),e),Yr(pE.get(this))}:function(...e){return Yr(t.apply(eg(this),e))}}function PI(t){return typeof t=="function"?VI(t):(t instanceof IDBTransaction&&MI(t),NI(t,CI())?new Proxy(t,Ig):t)}function Yr(t){if(t instanceof IDBRequest)return DI(t);if(Jp.has(t))return Jp.get(t);const e=PI(t);return e!==t&&(Jp.set(t,e),P0.set(e,t)),e}const eg=t=>P0.get(t);function OI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Yr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Yr(u.result),f.oldVersion,f.newVersion,Yr(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const LI=["get","getKey","getAll","getAllKeys","count"],zI=["put","add","delete","clear"],tg=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=zI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||LI.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&f.done]))[0]};return tg.set(e,l),l}jI(t=>({...t,get:(e,n,i)=>W_(e,n)||t.get(e,n,i),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function BI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",J_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new V0("@firebase/app"),FI="@firebase/app-compat",HI="@firebase/analytics-compat",qI="@firebase/analytics",GI="@firebase/app-check-compat",KI="@firebase/app-check",$I="@firebase/auth",XI="@firebase/auth-compat",YI="@firebase/database",QI="@firebase/data-connect",ZI="@firebase/database-compat",WI="@firebase/functions",JI="@firebase/functions-compat",eD="@firebase/installations",tD="@firebase/installations-compat",nD="@firebase/messaging",sD="@firebase/messaging-compat",iD="@firebase/performance",rD="@firebase/performance-compat",aD="@firebase/remote-config",oD="@firebase/remote-config-compat",lD="@firebase/storage",cD="@firebase/storage-compat",uD="@firebase/firestore",dD="@firebase/ai",hD="@firebase/firestore-compat",fD="firebase",mD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",pD={[Dg]:"fire-core",[FI]:"fire-core-compat",[qI]:"fire-analytics",[HI]:"fire-analytics-compat",[KI]:"fire-app-check",[GI]:"fire-app-check-compat",[$I]:"fire-auth",[XI]:"fire-auth-compat",[YI]:"fire-rtdb",[QI]:"fire-data-connect",[ZI]:"fire-rtdb-compat",[WI]:"fire-fn",[JI]:"fire-fn-compat",[eD]:"fire-iid",[tD]:"fire-iid-compat",[nD]:"fire-fcm",[sD]:"fire-fcm-compat",[iD]:"fire-perf",[rD]:"fire-perf-compat",[aD]:"fire-rc",[oD]:"fire-rc-compat",[lD]:"fire-gcs",[cD]:"fire-gcs-compat",[uD]:"fire-fst",[hD]:"fire-fst-compat",[dD]:"fire-vertex","fire-js":"fire-js",[fD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,gD=new Map,jg=new Map;function ew(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vl(t){const e=t.name;if(jg.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,t);for(const n of Qh.values())ew(n,t);for(const n of gD.values())ew(n,t);return!0}function O0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ts(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Du("app","Firebase",yD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=mD;function yE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Mg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=dE()),!n)throw Qr.create("no-options");const l=Qh.get(a);if(l){if(Ja(n,l.options)&&Ja(i,l.config))return l;throw Qr.create("duplicate-app",{appName:a})}const u=new EI(a);for(const f of jg.values())u.addComponent(f);const d=new bD(n,i,u);return Qh.set(a,d),d}function bE(t=Mg){const e=Qh.get(t);if(!e&&t===Mg&&dE())return yE();if(!e)throw Qr.create("no-app",{appName:t});return e}function Zr(t,e,n){let i=pD[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(u.join(" "));return}vl(new eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="firebase-heartbeat-database",xD=1,pu="firebase-heartbeat-store";let ng=null;function vE(){return ng||(ng=OI(vD,xD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),ng}async function _D(t){try{const n=(await vE()).transaction(pu),i=await n.objectStore(pu).get(xE(t));return await n.done,i}catch(e){if(e instanceof or)tr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function tw(t,e){try{const i=(await vE()).transaction(pu,"readwrite");await i.objectStore(pu).put(e,xE(t)),await i.done}catch(n){if(n instanceof or)tr.warn(n.message);else{const i=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(i.message)}}}function xE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1024,TD=30;class ED{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=nw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>TD){const u=kD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){tr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nw(),{heartbeatsToSend:i,unsentEntries:a}=SD(this._heartbeatsCache.heartbeats),l=Yh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return tr.warn(n),""}}}function nw(){return new Date().toISOString().substring(0,10)}function SD(t,e=wD){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),sw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _D(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sw(t){return Yh(JSON.stringify({version:2,heartbeats:t})).length}function kD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){vl(new eo("platform-logger",e=>new UI(e),"PRIVATE")),vl(new eo("heartbeat",e=>new ED(e),"PRIVATE")),Zr(Dg,J_,t),Zr(Dg,J_,"esm2020"),Zr("fire-js","")}RD("");var ND="firebase",CD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(ND,CD,"app");function _E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ID=_E,wE=new Du("auth","Firebase",_E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new V0("@firebase/auth");function DD(t,...e){Zh.logLevel<=Ze.WARN&&Zh.warn(`Auth (${Dl}): ${t}`,...e)}function jh(t,...e){Zh.logLevel<=Ze.ERROR&&Zh.error(`Auth (${Dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,...e){throw L0(t,...e)}function pi(t,...e){return L0(t,...e)}function TE(t,e,n){const i={...ID(),[e]:n};return new Du("auth","Firebase",i).create(e,{appName:t.name})}function Wi(t){return TE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return wE.create(t,...e)}function Re(t,e,...n){if(!t)throw L0(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jh(e),new Error(e)}function nr(t,e){t||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function MD(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MD()||lI()||"connection"in navigator)?navigator.onLine:!0}function VD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=rI()||cI()}get(){return jD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e){nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LD=new ju(3e4,6e4);function la(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ca(t,e,n,i,a={}){return SE(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=Mu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return oI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(p.credentials="include"),EE.fetch()(await AE(t,t.config.apiHost,n,d),p)})}async function SE(t,e,n){t._canInitEmulator=!1;const i={...PD,...e};try{const a=new UD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw vh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw vh(t,"user-disabled",u);const b=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw TE(t,b,p);qs(t,b)}}catch(a){if(a instanceof or)throw a;qs(t,"network-request-failed",{message:String(a)})}}async function Vu(t,e,n,i,a={}){const l=await ca(t,e,n,i,a);return"mfaPendingCredential"in l&&qs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function AE(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?z0(t.config,a):`${t.config.apiScheme}://${a}`;return OD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function zD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(pi(this.auth,"network-request-failed")),LD.get())})}}function vh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=pi(t,e,i);return a.customData._tokenResponse=n,a}function rw(t){return t!==void 0&&t.enterprise!==void 0}class BD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FD(t,e){return ca(t,"GET","/v2/recaptchaConfig",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e){return ca(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return ca(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qD(t,e=!1){const n=pn(t),i=await n.getIdToken(e),a=U0(i);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ru(sg(a.auth_time)),issuedAtTime:ru(sg(a.iat)),expirationTime:ru(sg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function sg(t){return Number(t)*1e3}function U0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const a=cE(n);return a?JSON.parse(a):(jh("Failed to decode base64 JWT payload"),null)}catch(a){return jh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function aw(t){const e=U0(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof or&&GD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function GD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var x;const e=t.auth,n=await t.getIdToken(),i=await gu(t,Wh(e,{idToken:n}));Re(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=(x=a.providerUserInfo)!=null&&x.length?kE(a.providerUserInfo):[],u=XD(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,b)}async function $D(t){const e=pn(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XD(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function kE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e){const n=await SE(t,{},async()=>{const i=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await AE(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(f.credentials="include"),EE.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QD(t,e){return ca(t,"POST","/v2/accounts:revokeToken",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await YD(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new hl;return i&&(Re(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Re(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new KD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qD(this,e)}reload(){return $D(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ts(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await gu(this,HD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:A,providerData:I,stsTokenManager:O}=n;Re(x&&O,e,"internal-error");const D=hl.fromJSON(this.name,O);Re(typeof x=="string",e,"internal-error"),zr(i,e.name),zr(a,e.name),Re(typeof T=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),zr(l,e.name),zr(u,e.name),zr(d,e.name),zr(f,e.name),zr(p,e.name),zr(b,e.name);const B=new Fs({uid:x,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:D,createdAt:p,lastLoginAt:b});return I&&Array.isArray(I)&&(B.providerData=I.map(Q=>({...Q}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,n,i=!1){const a=new hl;a.updateFromServerResponse(n);const l=new Fs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Jh(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new hl;d.updateFromIdToken(i);const f=new Fs({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;function Qi(t){nr(t instanceof Function,"Expected a class definition");let e=ow.get(t);return e?(nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RE.type="NONE";const lw=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Vh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?Fs._fromGetAccountInfoResponse(this.auth,n,e):null}return Fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl(Qi(lw),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Qi(lw);const u=Vh(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const b=await p._get(u);if(b){let x;if(typeof b=="string"){const T=await Wh(e,{idToken:b}).catch(()=>{});if(!T)break;x=await Fs._fromGetAccountInfoResponse(e,T,b)}else x=Fs._fromJSON(e,b);p!==l&&(d=x),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new fl(l,e,i):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new fl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jE(e))return"Blackberry";if(VE(e))return"Webos";if(CE(e))return"Safari";if((e.includes("chrome/")||IE(e))&&!e.includes("edge/"))return"Chrome";if(ME(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function NE(t=Dn()){return/firefox\//i.test(t)}function CE(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(t=Dn()){return/crios\//i.test(t)}function DE(t=Dn()){return/iemobile/i.test(t)}function ME(t=Dn()){return/android/i.test(t)}function jE(t=Dn()){return/blackberry/i.test(t)}function VE(t=Dn()){return/webos/i.test(t)}function B0(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZD(t=Dn()){var e;return B0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function WD(){return uI()&&document.documentMode===10}function PE(t=Dn()){return B0(t)||ME(t)||VE(t)||jE(t)||/windows phone/i.test(t)||DE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e=[]){let n;switch(t){case"Browser":n=cw(Dn());break;case"Worker":n=`${cw(Dn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e={}){return ca(t,"GET","/v2/passwordPolicy",la(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=6;class n3{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??t3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uw(this),this.idTokenSubscription=new uw(this),this.beforeStateQueue=new JD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),i=await Fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Ts(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ts(this.app))return Promise.reject(Wi(this));const n=e?pn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ts(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ts(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e3(this),n=new n3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await QD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&DD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oo(t){return pn(t)}class uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=bI(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i3(t){kf=t}function LE(t){return kf.loadJS(t)}function r3(){return kf.recaptchaEnterpriseScript}function a3(){return kf.gapiScript}function o3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class l3{constructor(){this.enterprise=new c3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class c3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const u3="recaptcha-enterprise",zE="NO_RECAPTCHA";class d3{constructor(e){this.type=u3,this.auth=oo(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{FD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new BD(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function a(l,u,d){const f=window.grecaptcha;rw(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(zE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!n&&rw(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=r3();f.length!==0&&(f+=d),LE(f).then(()=>{a(d,l,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function dw(t,e,n,i=!1,a=!1){const l=new d3(t);let u;if(a)u=zE;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Og(t,e,n,i,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dw(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dw(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e){const n=O0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ja(l,e??{}))return a;qs(a,"already-initialized")}return n.initialize({options:e})}function f3(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function m3(t,e,n){const i=oo(t);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=UE(e),{host:u,port:d}=p3(e),f=d===null?"":`:${d}`,p={url:`${l}//${u}${f}/`},b=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Ja(p,i.config.emulator)&&Ja(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,Il(u)?(fE(`${l}//${u}${f}`),mE("Auth",!0)):g3()}function UE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p3(t){const e=UE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:hw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:hw(u)}}}function hw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function y3(t,e){return ca(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e){return Vu(t,"POST","/v1/accounts:signInWithPassword",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}async function x3(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends F0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new yu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,n,"signInWithPassword",b3);case"emailLink":return v3(e,{email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,i,"signUpPassword",y3);case"emailLink":return x3(e,{idToken:n,email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return Vu(t,"POST","/v1/accounts:signInWithIdp",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="http://localhost";class to extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new to(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ml(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:_3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T3(t){const e=Zc(Wc(t)).link,n=e?Zc(Wc(e)).deep_link_id:null,i=Zc(Wc(t)).deep_link_id;return(i?Zc(Wc(i)).link:null)||i||n||e||t}class H0{constructor(e){const n=Zc(Wc(e)),i=n.apiKey??null,a=n.oobCode??null,l=w3(n.mode??null);Re(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=T3(e);try{return new H0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.providerId=Ml.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=H0.parseLink(n);return Re(i,"argument-error"),yu._fromEmailAndCode(e,i.code,i.tenantId)}}Ml.PROVIDER_ID="password";Ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends BE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Pu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qr.credential(n,i)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Pu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Pu{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Kr.credential(n,i)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e){return Vu(t,"POST","/v1/accounts:signUp",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Fs._fromIdTokenResponse(e,i,a),u=fw(i);return new no({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=fw(i);return new no({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function fw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends or{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new ef(e,n,i,a)}}function FE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,l,e,i):l})}async function S3(t,e,n=!1){const i=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t,e,n=!1){const{auth:i}=t;if(Ts(i.app))return Promise.reject(Wi(i));const a="reauthenticate";try{const l=await gu(t,FE(i,a,e,t),n);Re(l.idToken,i,"internal-error");const u=U0(l.idToken);Re(u,i,"internal-error");const{sub:d}=u;return Re(t.uid===d,i,"user-mismatch"),no._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&qs(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(t,e,n=!1){if(Ts(t.app))return Promise.reject(Wi(t));const i="signIn",a=await FE(t,i,e),l=await no._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function k3(t,e){return HE(oo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t){const e=oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R3(t,e,n){if(Ts(t.app))return Promise.reject(Wi(t));const i=oo(t),u=await Og(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E3).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&qE(t),f}),d=await no._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function N3(t,e,n){return Ts(t.app)?Promise.reject(Wi(t)):k3(pn(t),Ml.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qE(t),i})}function C3(t,e,n,i){return pn(t).onIdTokenChanged(e,n,i)}function I3(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}function D3(t,e,n,i){return pn(t).onAuthStateChanged(e,n,i)}function M3(t){return pn(t).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=1e3,V3=10;class KE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);WD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,V3):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},j3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const P3=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$E.type="SESSION";const XE=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Rf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(n.origin,l)),f=await O3(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const p=q0("",20);a.port1.start();const b=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(x){const T=x;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(b),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function z3(t){gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function U3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function F3(){return YE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firebaseLocalStorageDb",H3=1,nf="firebaseLocalStorage",ZE="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nf(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function q3(){const t=indexedDB.deleteDatabase(QE);return new Ou(t).toPromise()}function Lg(){const t=indexedDB.open(QE,H3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(nf,{keyPath:ZE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(nf)?e(i):(i.close(),await q3(),e(await Lg()))})})}async function mw(t,e,n){const i=Nf(t,!0).put({[ZE]:e,value:n});return new Ou(i).toPromise()}async function G3(t,e){const n=Nf(t,!1).get(e),i=await new Ou(n).toPromise();return i===void 0?null:i.value}function pw(t,e){const n=Nf(t,!0).delete(e);return new Ou(n).toPromise()}const K3=800,$3=3;class WE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>$3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(F3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await U3(),!this.activeServiceWorker)return;this.sender=new L3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await mw(e,tf,"1"),await pw(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>G3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nf(a,!1).getAll();return new Ou(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WE.type="LOCAL";const X3=WE;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e){return e?Qi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q3(t){return HE(t.auth,new G0(t),t.bypassAuthState)}function Z3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),A3(n,new G0(t),t.bypassAuthState)}async function W3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),S3(n,new G0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q3;case"linkViaPopup":case"linkViaRedirect":return W3;case"reauthViaPopup":case"reauthViaRedirect":return Z3;default:qs(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new ju(2e3,1e4);class al extends JE{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J3.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="pendingRedirect",Ph=new Map;class t4 extends JE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const i=await n4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n4(t,e){const n=r4(e),i=i4(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function s4(t,e){Ph.set(t._key(),e)}function i4(t){return Qi(t._redirectPersistence)}function r4(t){return Vh(e4,t.config.apiKey,t.name)}async function a4(t,e,n=!1){if(Ts(t.app))return Promise.reject(Wi(t));const i=oo(t),a=Y3(i,e),u=await new t4(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=600*1e3;class l4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!eS(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o4&&this.cachedEventUids.clear(),this.cachedEventUids.has(gw(e))}saveEventToCache(e){this.cachedEventUids.add(gw(e)),this.lastProcessedEventTime=Date.now()}}function gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e={}){return ca(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h4=/^https?/;async function f4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u4(t);for(const n of e)try{if(m4(n))return}catch{}qs(t,"unauthorized-domain")}function m4(t){const e=Vg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!h4.test(n))return!1;if(d4.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new ju(3e4,6e4);function yw(){const t=gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g4(t){return new Promise((e,n)=>{var a,l,u;function i(){yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yw(),n(pi(t,"network-request-failed"))},timeout:p4.get()})}if((l=(a=gi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=gi().gapi)!=null&&u.load)i();else{const d=o3("iframefcb");return gi()[d]=()=>{gapi.load?i():n(pi(t,"network-request-failed"))},LE(`${a3()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function y4(t){return Oh=Oh||g4(t),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new ju(5e3,15e3),v4="__/auth/iframe",x4="emulator/auth/iframe",_4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T4(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z0(e,x4):`https://${t.config.authDomain}/${v4}`,i={apiKey:e.apiKey,appName:t.name,v:Dl},a=w4.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Mu(i).slice(1)}`}async function E4(t){const e=await y4(t),n=gi().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:T4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_4,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=pi(t,"network-request-failed"),d=gi().setTimeout(()=>{l(u)},b4.get());function f(){gi().clearTimeout(d),a(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A4=500,k4=600,R4="_blank",N4="http://localhost";class bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C4(t,e,n,i=A4,a=k4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...S4,width:i.toString(),height:a.toString(),top:l,left:u},p=Dn().toLowerCase();n&&(d=IE(p)?R4:n),NE(p)&&(e=e||N4,f.scrollbars="yes");const b=Object.entries(f).reduce((T,[A,I])=>`${T}${A}=${I},`,"");if(ZD(p)&&d!=="_self")return I4(e||"",d),new bw(null);const x=window.open(e||"",d,b);Re(x,t,"popup-blocked");try{x.focus()}catch{}return new bw(x)}function I4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="__/auth/handler",M4="emulator/auth/handler",j4=encodeURIComponent("fac");async function vw(t,e,n,i,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Dl,eventId:a};if(e instanceof BE){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",yI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))u[b]=x}if(e instanceof Pu){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(u.scopes=b.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const f=await t._getAppCheckToken(),p=f?`#${j4}=${encodeURIComponent(f)}`:"";return`${V4(t)}?${Mu(d).slice(1)}${p}`}function V4({config:t}){return t.emulator?z0(t,M4):`https://${t.authDomain}/${D4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="webStorageSupport";class P4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XE,this._completeRedirectFn=a4,this._overrideRedirectResult=s4}async _openPopup(e,n,i,a){var u;nr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await vw(e,n,i,Vg(),a);return C4(e,l,q0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await vw(e,n,i,Vg(),a);return z3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(nr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await E4(e),i=new l4(e);return n.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},a=>{var u;const l=(u=a==null?void 0:a[0])==null?void 0:u[ig];l!==void 0&&n(!!l),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||CE()||B0()}}const O4=P4;var xw="@firebase/auth",_w="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U4(t){vl(new eo("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(t)},p=new s3(i,a,l,f);return f3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),vl(new eo("auth-internal",e=>{const n=oo(e.getProvider("auth").getImmediate());return(i=>new L4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(xw,_w,z4(t)),Zr(xw,_w,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=300,F4=hE("authIdTokenMaxAge")||B4;let ww=null;const H4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>F4)return;const a=n==null?void 0:n.token;ww!==a&&(ww=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function q4(t=bE()){const e=O0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h3(t,{popupRedirectResolver:O4,persistence:[X3,P3,XE]}),i=hE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=H4(l.toString());I3(n,u,()=>u(n.currentUser)),C3(n,d=>u(d))}}const a=uE("auth");return a&&m3(n,`http://${a}`),n}function G4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}i3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=pi("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",G4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U4("Browser");var Tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,tS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(j,V,U){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return S.prototype[V].apply(j,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,R){R||(R=0);const j=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)j[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;V<16;++V)j[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],V=N.g[2];let U=N.g[3],C;C=S+(U^R&(V^U))+j[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(V^S&(R^V))+j[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(R^U&(S^R))+j[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(S^V&(U^S))+j[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(U^R&(V^U))+j[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(V^S&(R^V))+j[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(R^U&(S^R))+j[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(S^V&(U^S))+j[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(U^R&(V^U))+j[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(V^S&(R^V))+j[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(R^U&(S^R))+j[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(S^V&(U^S))+j[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(U^R&(V^U))+j[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(V^S&(R^V))+j[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(R^U&(S^R))+j[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(S^V&(U^S))+j[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=S+(V^U&(R^V))+j[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(S^R))+j[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(U^S))+j[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(V^U))+j[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(V^U&(R^V))+j[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(S^R))+j[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(U^S))+j[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(V^U))+j[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(V^U&(R^V))+j[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(S^R))+j[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(U^S))+j[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(V^U))+j[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(V^U&(R^V))+j[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(S^R))+j[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^R&(U^S))+j[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(V^U))+j[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=S+(R^V^U)+j[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^V)+j[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^R)+j[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^S)+j[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(R^V^U)+j[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^V)+j[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^R)+j[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^S)+j[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(R^V^U)+j[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^V)+j[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^R)+j[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^S)+j[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(R^V^U)+j[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^V)+j[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^R)+j[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^S)+j[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=S+(V^(R|~U))+j[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~V))+j[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~R))+j[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~S))+j[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=S+(V^(R|~U))+j[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~V))+j[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~R))+j[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~S))+j[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=S+(V^(R|~U))+j[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~V))+j[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~R))+j[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~S))+j[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=S+(V^(R|~U))+j[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~V))+j[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~R))+j[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~S))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}i.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,j=this.C;let V=this.h,U=0;for(;U<S;){if(V==0)for(;U<=R;)a(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(j[V++]=N.charCodeAt(U++),V==this.blockSize){a(this,j),V=0;break}}else for(;U<S;)if(j[V++]=N[U++],V==this.blockSize){a(this,j),V=0;break}}this.h=V,this.o+=S},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)N[S++]=this.g[R]>>>j&255;return N};function l(N,S){var R=d;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function u(N,S){this.h=S;const R=[];let j=!0;for(let V=N.length-1;V>=0;V--){const U=N[V]|0;j&&U==S||(R[V]=U,j=!1)}this.g=R}var d={};function f(N){return-128<=N&&N<128?l(N,function(S){return new u([S|0],S<0?-1:0)}):new u([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return D(p(-N));const S=[];let R=1;for(let j=0;N>=R;j++)S[j]=N/R|0,R*=4294967296;return new u(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return D(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(S,8));let j=x;for(let U=0;U<N.length;U+=8){var V=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+V),S);V<8?(V=p(Math.pow(S,V)),j=j.j(V).add(p(C))):(j=j.j(R),j=j.add(p(C)))}return j}var x=f(0),T=f(1),A=f(16777216);t=u.prototype,t.m=function(){if(O(this))return-D(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);N+=(j>=0?j:4294967296+j)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(O(this))return"-"+D(this).toString(N);const S=p(Math.pow(N,6));var R=this;let j="";for(;;){const V=ae(R,S).g;R=B(R,V.j(S));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=V,I(R))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function O(N){return N.h==-1}t.l=function(N){return N=B(this,N),O(N)?-1:I(N)?0:1};function D(N){const S=N.g.length,R=[];for(let j=0;j<S;j++)R[j]=~N.g[j];return new u(R,~N.h).add(T)}t.abs=function(){return O(this)?D(this):this},t.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let j=0;for(let V=0;V<=S;V++){let U=j+(this.i(V)&65535)+(N.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);j=C>>>16,U&=65535,C&=65535,R[V]=C<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function B(N,S){return N.add(D(S))}t.j=function(N){if(I(this)||I(N))return x;if(O(this))return O(N)?D(this).j(D(N)):D(D(this).j(N));if(O(N))return D(this.j(D(N)));if(this.l(A)<0&&N.l(A)<0)return p(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var j=0;j<2*S;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<N.g.length;V++){const U=this.i(j)>>>16,C=this.i(j)&65535,Xe=N.i(V)>>>16,je=N.i(V)&65535;R[2*j+2*V]+=C*je,Q(R,2*j+2*V),R[2*j+2*V+1]+=U*je,Q(R,2*j+2*V+1),R[2*j+2*V+1]+=C*Xe,Q(R,2*j+2*V+1),R[2*j+2*V+2]+=U*Xe,Q(R,2*j+2*V+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new u(R,0)};function Q(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function H(N,S){this.g=N,this.h=S}function ae(N,S){if(I(S))throw Error("division by zero");if(I(N))return new H(x,x);if(O(N))return S=ae(D(N),S),new H(D(S.g),D(S.h));if(O(S))return S=ae(N,D(S)),new H(D(S.g),S.h);if(N.g.length>30){if(O(N)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,j=S;j.l(N)<=0;)R=oe(R),j=oe(j);var V=he(R,1),U=he(j,1);for(j=he(j,2),R=he(R,2);!I(j);){var C=U.add(j);C.l(N)<=0&&(V=V.add(R),U=C),j=he(j,1),R=he(R,1)}return S=B(N,V.j(S)),new H(V,S)}for(V=x;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=p(R),C=U.j(S);O(C)||C.l(N)>0;)R-=j,U=p(R),C=U.j(S);I(U)&&(U=T),V=V.add(U),N=B(N,C)}return new H(V,N)}t.B=function(N){return ae(this,N).h},t.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<S;j++)R[j]=this.i(j)&N.i(j);return new u(R,this.h&N.h)},t.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<S;j++)R[j]=this.i(j)|N.i(j);return new u(R,this.h|N.h)},t.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<S;j++)R[j]=this.i(j)^N.i(j);return new u(R,this.h^N.h)};function oe(N){const S=N.g.length+1,R=[];for(let j=0;j<S;j++)R[j]=N.i(j)<<1|N.i(j-1)>>>31;return new u(R,N.h)}function he(N,S){const R=S>>5;S%=32;const j=N.g.length-R,V=[];for(let U=0;U<j;U++)V[U]=S>0?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new u(V,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,tS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=b,Wr=u}).apply(typeof Tw<"u"?Tw:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nS,Jc,sS,Lh,zg,iS,rS,aS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)e:{var w=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var q=h[k];if(!(q in w))break e;w=w[q]}h=h[h.length-1],k=w[h],v=v(k),v!=k&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var w=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&w.push([k,v[k]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function f(h,v,w){return h.call.apply(h.bind,arguments)}function p(h,v,w){return p=f,p.apply(null,arguments)}function b(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function x(h,v){function w(){}w.prototype=v.prototype,h.Z=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(k,q,Y){for(var de=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)de[Fe-2]=arguments[Fe];return v.prototype[q].apply(k,de)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const v=h.length;if(v>0){const w=Array(v);for(let k=0;k<v;k++)w[k]=h[k];return w}return[]}function I(h,v){for(let k=1;k<arguments.length;k++){const q=arguments[k];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=h.length||0;const Y=q.length||0;h.length=w+Y;for(let de=0;de<Y;de++)h[w+de]=q[de]}else h.push(q)}}class O{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(h){u.setTimeout(()=>{throw h},0)}function B(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,w){const k=H.get();k.set(v,w),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new O(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,he=!1,N=new Q,S=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(R)}};function R(){for(var h;h=B();){try{h.h.call(h.g)}catch(w){D(w)}var v=H;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}he=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function Xe(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}x(Xe,V),Xe.prototype.init=function(h,v){const w=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(h,v,w,k,q){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!k,this.ha=q,this.key=++X,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,v,w){for(const k in h)v.call(w,h[k],k,h)}function Ve(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function L(h){const v={};for(const w in h)v[w]=h[w];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,v){let w,k;for(let q=1;q<arguments.length;q++){k=arguments[q];for(w in k)h[w]=k[w];for(let Y=0;Y<ee.length;Y++)w=ee[Y],Object.prototype.hasOwnProperty.call(k,w)&&(h[w]=k[w])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,v,w,k,q){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const de=Ce(h,v,k,q);return de>-1?(v=h[de],w||(v.fa=!1)):(v=new re(v,this.src,Y,!!k,q),v.fa=w,h.push(v)),v};function fe(h,v){const w=v.type;if(w in h.g){var k=h.g[w],q=Array.prototype.indexOf.call(k,v,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(k,q,1),Y&&(J(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ce(h,v,w,k){for(let q=0;q<h.length;++q){const Y=h[q];if(!Y.da&&Y.listener==v&&Y.capture==!!w&&Y.ha==k)return q}return-1}var we="closure_lm_"+(Math.random()*1e6|0),St={};function st(h,v,w,k,q){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)st(h,v[Y],w,k,q);return null}return w=pa(w),h&&h[je]?h.J(v,w,d(k)?!!k.capture:!1,q):Mn(h,v,w,!1,k,q)}function Mn(h,v,w,k,q,Y){if(!v)throw Error("Invalid event type");const de=d(q)?!!q.capture:!!q;let Fe=ki(h);if(Fe||(h[we]=Fe=new ue(h)),w=Fe.add(v,w,k,de,Y),w.proxy)return w;if(k=jn(),w.proxy=k,k.src=h,k.listener=w,h.addEventListener)U||(q=de),q===void 0&&(q=!1),h.addEventListener(v.toString(),k,q);else if(h.attachEvent)h.attachEvent(Un(v.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function jn(){function h(w){return v.call(h.src,h.listener,w)}const v=ma;return h}function Vn(h,v,w,k,q){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Vn(h,v[Y],w,k,q);else k=d(k)?!!k.capture:!!k,w=pa(w),h&&h[je]?(h=h.i,Y=String(v).toString(),Y in h.g&&(v=h.g[Y],w=Ce(v,w,k,q),w>-1&&(J(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ki(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ce(v,w,k,q)),(w=h>-1?v[h]:null)&&Rs(w))}function Rs(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[je])fe(v.i,h);else{var w=h.type,k=h.proxy;v.removeEventListener?v.removeEventListener(w,k,h.capture):v.detachEvent?v.detachEvent(Un(w),k):v.addListener&&v.removeListener&&v.removeListener(k),(w=ki(v))?(fe(w,h),w.h==0&&(w.src=null,v[we]=null)):J(h)}}}function Un(h){return h in St?St[h]:St[h]="on"+h}function ma(h,v){if(h.da)h=!0;else{v=new Xe(v,this);const w=h.listener,k=h.ha||h.src;h.fa&&Rs(h),h=w.call(k,v)}return h}function ki(h){return h=h[we],h instanceof ue?h:null}var Ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function pa(h){return typeof h=="function"?h:(h[Ri]||(h[Ri]=function(v){return h.handleEvent(v)}),h[Ri])}function Lt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}x(Lt,j),Lt.prototype[je]=!0,Lt.prototype.removeEventListener=function(h,v,w,k){Vn(this,h,v,w,k)};function Mt(h,v){var w,k=h.G;if(k)for(w=[];k;k=k.G)w.push(k);if(h=h.M,k=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var q=v;v=new V(k,h),le(v,q)}q=!0;let Y,de;if(w)for(de=w.length-1;de>=0;de--)Y=v.g=w[de],q=cs(Y,k,!0,v)&&q;if(Y=v.g=h,q=cs(Y,k,!0,v)&&q,q=cs(Y,k,!1,v)&&q,w)for(de=0;de<w.length;de++)Y=v.g=w[de],q=cs(Y,k,!1,v)&&q}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const w=h.g[v];for(let k=0;k<w.length;k++)J(w[k]);delete h.g[v],h.h--}}this.G=null},Lt.prototype.J=function(h,v,w,k){return this.i.add(String(h),v,!1,w,k)},Lt.prototype.K=function(h,v,w,k){return this.i.add(String(h),v,!0,w,k)};function cs(h,v,w,k){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Y=0;Y<v.length;++Y){const de=v[Y];if(de&&!de.da&&de.capture==w){const Fe=de.listener,Ht=de.ha||de.src;de.fa&&fe(h.i,de),q=Fe.call(Ht,k)!==!1&&q}}return q&&!k.defaultPrevented}function uo(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function ce(h){h.g=uo(()=>{h.g=null,h.i&&(h.i=!1,ce(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class pe extends j{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(h){j.call(this),this.h=h,this.g={}}x(Ie,j);var ze=[];function Ue(h){Ae(h.g,function(v,w){this.g.hasOwnProperty(w)&&Rs(v)},h),h.g={}}Ie.prototype.N=function(){Ie.Z.N.call(this),Ue(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=u.JSON.stringify,lt=u.JSON.parse,At=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function gn(){}function kt(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Se(){V.call(this,"d")}x(Se,V);function Be(){V.call(this,"c")}x(Be,V);var xe={},xt=null;function jt(){return xt=xt||new Lt}xe.Ia="serverreachability";function an(h){V.call(this,xe.Ia,h)}x(an,V);function Vt(h){const v=jt();Mt(v,new an(v))}xe.STAT_EVENT="statevent";function yn(h,v){V.call(this,xe.STAT_EVENT,h),this.stat=v}x(yn,V);function zt(h){const v=jt();Mt(v,new yn(v,h))}xe.Ja="timingevent";function $s(h,v){V.call(this,xe.Ja,h),this.size=v}x($s,V);function Xs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Ns(){this.g=!0}Ns.prototype.ua=function(){this.g=!1};function Xf(h,v,w,k,q,Y){h.info(function(){if(h.g)if(Y){var de="",Fe=Y.split("&");for(let at=0;at<Fe.length;at++){var Ht=Fe[at].split("=");if(Ht.length>1){const Rt=Ht[0];Ht=Ht[1];const fs=Rt.split("_");de=fs.length>=2&&fs[1]=="type"?de+(Rt+"="+Ht+"&"):de+(Rt+"=redacted&")}}}else de=null;else de=Y;return"XMLHTTP REQ ("+k+") [attempt "+q+"]: "+v+`
`+w+`
`+de})}function Yu(h,v,w,k,q,Y,de){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+q+"]: "+v+`
`+w+`
`+Y+" "+de})}function Ys(h,v,w,k){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Yf(h,w)+(k?" "+k:"")})}function ga(h,v){h.info(function(){return"TIMEOUT: "+v})}Ns.prototype.info=function(){};function Yf(h,v){if(!h.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var w=Y[h];if(!(w.length<2)){var k=w[1];if(Array.isArray(k)&&!(k.length<1)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(let de=1;de<k.length;de++)k[de]=""}}}}return De(Y)}catch{return v}}var ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kl;function ba(){}x(ba,gn),ba.prototype.g=function(){return new XMLHttpRequest},Kl=new ba;function Ni(h){return encodeURIComponent(String(h))}function Qu(h){var v=1;h=h.split(":");const w=[];for(;v>0&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function Cs(h,v,w,k){this.j=h,this.i=v,this.l=w,this.S=k||1,this.V=new Ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}var Xt={},dn={};function Qs(h,v,w){h.M=1,h.A=va(Qt(v)),h.u=w,h.R=!0,ho(h,null)}function ho(h,v){h.F=Date.now(),Zs(h),h.B=Qt(h.A);var w=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),go(w.i,"t",k),h.C=0,w=h.j.L,h.h=new Is,h.g=dd(h.j,w?v:null,!h.u),h.P>0&&(h.O=new pe(p(h.Y,h,h.g),h.P)),v=h.V,w=h.g,k=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(ze[0]=q.toString()),q=ze);for(let Y=0;Y<q.length;Y++){const de=st(w,q[Y],k||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Vt(),Xf(h.i,h.v,h.B,h.l,h.S,h.u)}Cs.prototype.ba=function(h){h=h.target;const v=this.O;v&&js(h)==3?v.j():this.Y(h)},Cs.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=js(this.g),Ht=this.g.ya(),at=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||Fe!=4||Ht==7||(Ht==8||at<=0?Vt(3):Vt(2)),Ws(this);var v=this.g.ca();this.X=v;var w=Qf(this);if(this.o=v==200,Yu(this.i,this.v,this.B,this.l,this.S,Fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var k,q=this.g;if((k=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(k)){var Y=k;break t}}Y=null}if(h=Y)Ys(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Js(this,h);else{this.o=!1,this.m=3,zt(12),Wn(this),us(this);break e}}if(this.R){h=!0;let Rt;for(;!this.K&&this.C<w.length;)if(Rt=Wu(this,w),Rt==dn){Fe==4&&(this.m=4,zt(14),h=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Xt){this.m=4,zt(15),Ys(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Ys(this.i,this.l,Rt,null),Js(this,Rt);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||w.length!=0||this.h.h||(this.m=1,zt(16),h=!1),this.o=this.o&&h,!h)Ys(this.i,this.l,w,"[Invalid Chunked Response]"),Wn(this),us(this);else if(w.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),oc(de),de.P=!0,zt(11))}}else Ys(this.i,this.l,w,null),Js(this,w);Fe==4&&Wn(this),this.o&&!this.K&&(Fe==4?od(this.j,this):(this.o=!1,Zs(this)))}else Ii(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Wn(this),us(this)}}}catch{}finally{}};function Qf(h){if(!Zu(h))return h.g.la();const v=bn(h.g);if(v==="")return"";let w="";const k=v.length,q=js(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Wn(h),us(h),"";h.h.i=new u.TextDecoder}for(let Y=0;Y<k;Y++)h.h.h=!0,w+=h.h.i.decode(v[Y],{stream:!(q&&Y==k-1)});return v.length=0,h.h.g+=w,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Wu(h,v){var w=h.C,k=v.indexOf(`
`,w);return k==-1?dn:(w=Number(v.substring(w,k)),isNaN(w)?Xt:(k+=1,k+w>v.length?dn:(v=v.slice(k,k+w),h.C=k+w,v)))}Cs.prototype.cancel=function(){this.K=!0,Wn(this)};function Zs(h){h.T=Date.now()+h.H,fo(h,h.H)}function fo(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Xs(p(h.aa,h),v)}function Ws(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Cs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ga(this.i,this.B),this.M!=2&&(Vt(),zt(17)),Wn(this),this.m=2,us(this)):fo(this,this.T-h)};function us(h){h.j.I==0||h.K||od(h.j,h)}function Wn(h){Ws(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ue(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Js(h,v){try{var w=h.j;if(w.I!=0&&(w.g==h||ti(w.h,h))){if(!h.L&&ti(w.h,h)&&w.I==3){try{var k=w.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var q=k;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)_o(w),pr(w);else break e;Aa(w),zt(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Xs(p(w.Va,w),6e3));ei(w.h)<=1&&w.ta&&(w.ta=void 0)}else oi(w,11)}else if((h.L||w.g==h)&&_o(w),!C(v))for(q=w.Ba.g.parse(v),v=0;v<q.length;v++){let at=q[v];const Rt=at[0];if(!(Rt<=w.K))if(w.K=Rt,at=at[1],w.I==2)if(at[0]=="c"){w.M=at[1],w.ba=at[2];const fs=at[3];fs!=null&&(w.ka=fs,w.j.info("VER="+w.ka));const li=at[4];li!=null&&(w.za=li,w.j.info("SVER="+w.za));const Vs=at[5];Vs!=null&&typeof Vs=="number"&&Vs>0&&(k=1.5*Vs,w.O=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const Ps=h.g;if(Ps){const ka=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var Y=k.h;Y.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yl(Y,Y.h),Y.h=null))}if(k.G){const wo=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(k.wa=wo,dt(k.J,k.G,wo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),k=w;var de=h;if(k.na=ud(k,k.L?k.ba:null,k.W),de.L){Ql(k.h,de);var Fe=de,Ht=k.O;Ht&&(Fe.H=Ht),Fe.D&&(Ws(Fe),Zs(Fe)),k.g=de}else rd(k);w.i.length>0&&ai(w)}else at[0]!="stop"&&at[0]!="close"||oi(w,7);else w.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?oi(w,7):rc(w):at[0]!="noop"&&w.l&&w.l.qa(at),w.A=0)}}Vt(4)}catch{}}var Yt=class{constructor(h,v){this.g=h,this.map=v}};function $l(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ei(h){return h.h?1:h.g?h.g.size:0}function ti(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Yl(h,v){h.g?h.g.add(v):h.h=v}function Ql(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}$l.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Zl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.G);return v}return A(h.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(h,v){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const k=h[w].indexOf("=");let q,Y=null;k>=0?(q=h[w].substring(0,k),Y=h[w].substring(k+1)):q=h[w],v(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Jn?(this.l=h.l,hn(this,h.j),this.o=h.o,this.g=h.g,lr(this,h.u),this.h=h.h,Wl(this,sd(h.i)),this.m=h.m):h&&(v=String(h).match(Ju))?(this.l=!1,hn(this,v[1]||"",!0),this.o=ni(v[2]||""),this.g=ni(v[3]||"",!0),lr(this,v[4]),this.h=ni(v[5]||"",!0),Wl(this,v[6]||"",!0),this.m=ni(v[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}Jn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(xa(v,po,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(xa(v,po,!0),"@"),h.push(Ni(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(xa(w,w.charAt(0)=="/"?Jl:ed,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",xa(w,td)),h.join("")},Jn.prototype.resolve=function(h){const v=Qt(this);let w=!!h.j;w?hn(v,h.j):w=!!h.o,w?v.o=h.o:w=!!h.g,w?v.g=h.g:w=h.u!=null;var k=h.h;if(w)lr(v,h.u);else if(w=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var q=v.h.lastIndexOf("/");q!=-1&&(k=v.h.slice(0,q+1)+k)}if(q=k,q==".."||q==".")k="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){k=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let de=0;de<q.length;){const Fe=q[de++];Fe=="."?k&&de==q.length&&Y.push(""):Fe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),k&&de==q.length&&Y.push("")):(Y.push(Fe),k=!0)}k=Y.join("/")}else k=q}return w?v.h=k:w=h.i.toString()!=="",w?Wl(v,sd(h.i)):w=!!h.m,w&&(v.m=h.m),v};function Qt(h){return new Jn(h)}function hn(h,v,w){h.j=w?ni(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function lr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Wl(h,v,w){v instanceof ur?(h.i=v,yo(h.i,h.l)):(w||(v=xa(v,cr)),h.i=new ur(v,h.l))}function dt(h,v,w){h.i.set(v,w)}function va(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ni(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xa(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,Bn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var po=/[#\/\?@]/g,ed=/[#\?:]/g,Jl=/[#\?]/g,cr=/[#\?@]/g,td=/#/g;function ur(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Fn(h){h.g||(h.g=new Map,h.h=0,h.i&&mo(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=ur.prototype,t.add=function(h,v){Fn(this),this.i=null,h=dr(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function nd(h,v){Fn(h),v=dr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ec(h,v){return Fn(h),v=dr(h,v),h.g.has(v)}t.forEach=function(h,v){Fn(this),this.g.forEach(function(w,k){w.forEach(function(q){h.call(v,q,k,this)},this)},this)};function tc(h,v){Fn(h);let w=[];if(typeof v=="string")ec(h,v)&&(w=w.concat(h.g.get(dr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)w=w.concat(h[v]);return w}t.set=function(h,v){return Fn(this),this.i=null,h=dr(this,h),ec(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=tc(this,h),h.length>0?String(h[0]):v):v};function go(h,v,w){nd(h,v),w.length>0&&(h.i=null,h.g.set(dr(h,v),A(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var w=v[k];const q=Ni(w);w=tc(this,w);for(let Y=0;Y<w.length;Y++){let de=q;w[Y]!==""&&(de+="="+Ni(w[Y])),h.push(de)}}return this.i=h.join("&")};function sd(h){const v=new ur;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function dr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function yo(h,v){v&&!h.j&&(Fn(h),h.i=null,h.g.forEach(function(w,k){const q=k.toLowerCase();k!=q&&(nd(this,k),go(this,q,w))},h)),h.j=v}function Ds(h,v){const w=new Ns;if(u.Image){const k=new Image;k.onload=b(ds,w,"TestLoadImage: loaded",!0,v,k),k.onerror=b(ds,w,"TestLoadImage: error",!1,v,k),k.onabort=b(ds,w,"TestLoadImage: abort",!1,v,k),k.ontimeout=b(ds,w,"TestLoadImage: timeout",!1,v,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else v(!1)}function nc(h,v){const w=new Ns,k=new AbortController,q=setTimeout(()=>{k.abort(),ds(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:k.signal}).then(Y=>{clearTimeout(q),Y.ok?ds(w,"TestPingServer: ok",!0,v):ds(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),ds(w,"TestPingServer: error",!1,v)})}function ds(h,v,w,k,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),k(w)}catch{}}function hr(){this.g=new At}function si(h){this.i=h.Sb||null,this.h=h.ab||!1}x(si,gn),si.prototype.g=function(){return new _a(this.i,this.h)};function _a(h,v){Lt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(_a,Lt),t=_a.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ms(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?fr(this):Ms(this),this.readyState==3&&bo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,fr(this))},t.Na=function(h){this.g&&(this.response=h,fr(this))},t.ga=function(){this.g&&fr(this)};function fr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ms(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Ms(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hs(h){let v="";return Ae(h,function(w,k){v+=k,v+=":",v+=w,v+=`\r
`}),v}function wa(h,v,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=hs(w),typeof h=="string"?w!=null&&Ni(w):dt(h,v,w))}function mt(h){Lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(mt,Lt);var ii=/^https?$/i,sc=["POST","PUT"];t=mt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){Ta(this,Y);return}if(h=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var q in k)w.set(q,k[q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Y of k.keys())w.set(Y,k.get(Y));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(sc,v,void 0)>=0)||k||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of w)this.g.setRequestHeader(Y,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Ta(this,Y)}};function Ta(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ic(h),Ci(h)}function ic(h){h.A||(h.A=!0,Mt(h,"complete"),Mt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Mt(this,"complete"),Mt(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},t.Xa=function(){Ea(this)};function Ea(h){if(h.h&&typeof l<"u"){if(h.v&&js(h)==4)setTimeout(h.Ca.bind(h),0);else if(Mt(h,"readystatechange"),js(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var k;if(k=Y===0){let de=String(h.D).match(Ju)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),k=!ii.test(de?de.toLowerCase():"")}w=k}if(w)Mt(h,"complete"),Mt(h,"success");else{h.o=6;try{var q=js(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",ic(h)}}finally{Ci(h)}}}}function Ci(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,v||Mt(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function js(h){return h.g?h.g.readyState:0}t.ca=function(){try{return js(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),lt(v)}};function bn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ii(h){const v={};h=(h.g&&js(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(C(h[k]))continue;var w=Qu(h[k]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=v[q]||[];v[q]=Y,Y.push(w)}Ve(v,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function mr(h){this.za=0,this.i=[],this.j=new Ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,h),this.Za=ri("retryDelaySeedMs",1e4,h),this.Ta=ri("forwardChannelMaxRetries",2,h),this.va=ri("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(h&&h.concurrentRequestLimit),this.Ba=new hr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mr.prototype,t.ka=8,t.I=1,t.connect=function(h,v,w,k){zt(0),this.W=h,this.H=v||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.J=ud(this,null,this.W),ai(this)};function rc(h){if(vo(h),h.I==3){var v=h.V++,w=Qt(h.J);if(dt(w,"SID",h.M),dt(w,"RID",v),dt(w,"TYPE","terminate"),Sa(h,w),v=new Cs(h,h.j,v),v.M=2,v.A=va(Qt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=dd(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Zs(v)}cd(h)}function pr(h){h.g&&(oc(h),h.g.cancel(),h.g=null)}function vo(h){pr(h),h.v&&(u.clearTimeout(h.v),h.v=null),_o(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ai(h){if(!Xl(h.h)&&!h.m){h.m=!0;var v=h.Ea;oe||S(),he||(oe(),he=!0),N.add(v,h),h.D=0}}function xo(h,v){return ei(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Xs(p(h.Ea,h,v),ld(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Cs(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=L(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=id(this,q,v),w=Qt(this.J),dt(w,"RID",h),dt(w,"CVER",22),this.G&&dt(w,"X-HTTP-Session-Id",this.G),Sa(this,w),Y&&(this.R?v="headers="+Ni(hs(Y))+"&"+v:this.u&&wa(w,this.u,Y)),Yl(this.h,q),this.Ra&&dt(w,"TYPE","init"),this.S?(dt(w,"$req",v),dt(w,"SID","null"),q.U=!0,Qs(q,w,null)):Qs(q,w,v),this.I=2}}else this.I==3&&(h?ac(this,h):this.i.length==0||Xl(this.h)||ac(this))};function ac(h,v){var w;v?w=v.l:w=h.V++;const k=Qt(h.J);dt(k,"SID",h.M),dt(k,"RID",w),dt(k,"AID",h.K),Sa(h,k),h.u&&h.o&&wa(k,h.u,h.o),w=new Cs(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),v&&(h.i=v.G.concat(h.i)),v=id(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yl(h.h,w),Qs(w,k,v)}function Sa(h,v){h.H&&Ae(h.H,function(w,k){dt(v,k,w)}),h.l&&Ae({},function(w,k){dt(v,k,w)})}function id(h,v,w){w=Math.min(h.i.length,w);const k=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Fe=-1;for(;;){const Ht=["count="+w];Fe==-1?w>0?(Fe=q[0].g,Ht.push("ofs="+Fe)):Fe=0:Ht.push("ofs="+Fe);let at=!0;for(let Rt=0;Rt<w;Rt++){var Y=q[Rt].g;const fs=q[Rt].map;if(Y-=Fe,Y<0)Fe=Math.max(0,q[Rt].g-100),at=!1;else try{Y="req"+Y+"_"||"";try{var de=fs instanceof Map?fs:Object.entries(fs);for(const[li,Vs]of de){let Ps=Vs;d(Vs)&&(Ps=De(Vs)),Ht.push(Y+li+"="+encodeURIComponent(Ps))}}catch(li){throw Ht.push(Y+"type="+encodeURIComponent("_badmap")),li}}catch{k&&k(fs)}}if(at){de=Ht.join("&");break e}}de=void 0}return h=h.i.splice(0,w),v.G=h,de}function rd(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;oe||S(),he||(oe(),he=!0),N.add(v,h),h.A=0}}function Aa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Xs(p(h.Da,h),ld(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ad(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Xs(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),pr(this),ad(this))};function oc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function ad(h){h.g=new Cs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Qt(h.na);dt(v,"RID","rpc"),dt(v,"SID",h.M),dt(v,"AID",h.K),dt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(v,"TO",h.ia),dt(v,"TYPE","xmlhttp"),Sa(h,v),h.u&&h.o&&wa(v,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=va(Qt(v)),w.u=null,w.R=!0,ho(w,h)}t.Va=function(){this.C!=null&&(this.C=null,pr(this),Aa(this),zt(19))};function _o(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function od(h,v){var w=null;if(h.g==v){_o(h),oc(h),h.g=null;var k=2}else if(ti(h.h,v))w=v.G,Ql(h.h,v),k=1;else return;if(h.I!=0){if(v.o)if(k==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;k=jt(),Mt(k,new $s(k,w)),ai(h)}else rd(h);else if(q=v.m,q==3||q==0&&v.X>0||!(k==1&&xo(h,v)||k==2&&Aa(h)))switch(w&&w.length>0&&(v=h.h,v.i=v.i.concat(w)),q){case 1:oi(h,5);break;case 4:oi(h,10);break;case 3:oi(h,6);break;default:oi(h,2)}}}function ld(h,v){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*v}function oi(h,v){if(h.j.info("Error code "+v),v==2){var w=p(h.bb,h),k=h.Ua;const q=!k;k=new Jn(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||hn(k,"https"),va(k),q?Ds(k.toString(),w):nc(k.toString(),w)}else zt(2);h.I=0,h.l&&h.l.pa(v),cd(h),vo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function cd(h){if(h.I=0,h.ja=[],h.l){const v=Zl(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ja,v),I(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function ud(h,v,w){var k=w instanceof Jn?Qt(w):new Jn(w);if(k.g!="")v&&(k.g=v+"."+k.g),lr(k,k.u);else{var q=u.location;k=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Y=new Jn(null);k&&hn(Y,k),v&&(Y.g=v),q&&lr(Y,q),w&&(Y.h=w),k=Y}return w=h.G,v=h.wa,w&&v&&dt(k,w,v),dt(k,"VER",h.ka),Sa(h,k),k}function dd(h,v,w){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new mt(new si({ab:w})):new mt(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hd(){}t=hd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gr(){}gr.prototype.g=function(h,v){return new On(h,v)};function On(h,v){Lt.call(this),this.g=new mr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!C(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Di(this)}x(On,Lt),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){rc(this.g)},On.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=De(h),h=w);v.i.push(new Yt(v.Ya++,h)),v.I==3&&ai(v)},On.prototype.N=function(){this.g.l=null,delete this.j,rc(this.g),delete this.g,On.Z.N.call(this)};function fd(h){Se.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(fd,Se);function md(){Be.call(this),this.status=1}x(md,Be);function Di(h){this.g=h}x(Di,hd),Di.prototype.ra=function(){Mt(this.g,"a")},Di.prototype.qa=function(h){Mt(this.g,new fd(h))},Di.prototype.pa=function(h){Mt(this.g,new md)},Di.prototype.oa=function(){Mt(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,aS=function(){return new gr},rS=function(){return jt()},iS=xe,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,Lh=ya,Gl.COMPLETE="complete",sS=Gl,kt.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Jc=kt,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,nS=mt}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});const Ew="@firebase/firestore",Sw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new V0("@firebase/firestore");function el(){return so.logLevel}function ge(t,...e){if(so.logLevel<=Ze.DEBUG){const n=e.map(K0);so.debug(`Firestore (${jl}): ${t}`,...n)}}function sr(t,...e){if(so.logLevel<=Ze.ERROR){const n=e.map(K0);so.error(`Firestore (${jl}): ${t}`,...n)}}function xl(t,...e){if(so.logLevel<=Ze.WARN){const n=e.map(K0);so.warn(`Firestore (${jl}): ${t}`,...n)}}function K0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,oS(t,i,n)}function oS(t,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw sr(i),new Error(i)}function ut(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||oS(e,a,i)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class $4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class X4{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ji,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ji)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ut(typeof i.accessToken=="string",31837,{l:i}),new lS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class Y4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Y4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ts(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Aw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Aw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=W4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function Ug(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return rg(a)===rg(l)?We(a,l):rg(a)?1:-1}return We(t.length,e.length)}const J4=55296,eM=57343;function rg(t){const e=t.charCodeAt(0);return e>=J4&&e<=eM}function _l(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="__name__";class mi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ne(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=mi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const i=mi.isNumericId(e),a=mi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?mi.extractNumericId(e).compare(mi.extractNumericId(n)):Ug(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class _t extends mi{construct(e,n,i){return new _t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const tM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends mi{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return tM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kw}static keyField(){return new Sn([kw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(_t.fromString(e))}static fromName(e){return new Ee(_t.fromString(e).popFirst(5))}static empty(){return new Ee(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nM(t,e,n,i){if(e===!0&&i===!0)throw new me(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rw(t){if(!Ee.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nw(t){if(Ee.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lu(t,e){if(!uS(t))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=-62135596800,Iw=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Iw);return new Et(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cw)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iw}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:rn("string",Et._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Et(0,0))}static max(){return new Pe(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function sM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(i===1e9?new Et(n+1,0):new Et(n,i));return new ea(a,Ee.empty(),e)}function iM(t){return new ea(t.readTime,t.key,bu)}class ea{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ea(Pe.min(),Ee.empty(),bu)}static max(){return new ea(Pe.max(),Ee.empty(),bu)}}function rM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==aM)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,i)=>{n(e)}))}static reject(e){return new ie(((n,i)=>{i(e)}))}static waitFor(e){return new ie(((n,i)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(f=>i(f)))})),u=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const i of e)n=n.next((a=>a?ie.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ie(((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((b=>{u[p]=b,++d,d===l&&i(u)}),(b=>a(b)))}}))}static doWhile(e,n){return new ie(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function lM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}If.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-1;function Df(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function cM(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="";function uM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dw(e)),e=dM(t.get(n),e);return Dw(e)}function dM(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case dS:n+="";break;default:n+=l}}return n}function Dw(t){return t+dS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new En(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new ls([])}unionWith(e){let n=new un(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fS("Invalid base64 string: "+l):l}})(e);return new An(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const hM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=hM.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="server_timestamp",pS="__type__",gS="__previous_value__",yS="__local_write_time__";function Y0(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pS])==null?void 0:i.stringValue)===mS}function Mf(t){const e=t.mapValue.fields[gS];return Y0(e)?Mf(e):e}function vu(t){const e=ta(t.mapValue.fields[yS].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,i,a,l,u,d,f,p,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=b}}const rf="(default)";class xu{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="__type__",mM="__max__",wh={mapValue:{}},vS="__vector__",af="value";function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Y0(t)?4:gM(t)?9007199254740991:pM(t)?10:11:Ne(28295,{value:t})}function Ei(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ta(a.timestampValue),d=ta(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return na(a.bytesValue).isEqual(na(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Kt(a.geoPointValue.latitude)===Kt(l.geoPointValue.latitude)&&Kt(a.geoPointValue.longitude)===Kt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Kt(a.integerValue)===Kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Kt(a.doubleValue),d=Kt(l.doubleValue);return u===d?sf(u)===sf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return _l(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Mw(u)!==Mw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ei(u[f],d[f])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function _u(t,e){return(t.values||[]).find((n=>Ei(n,e)))!==void 0}function wl(t,e){if(t===e)return 0;const n=sa(t),i=sa(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Kt(l.integerValue||l.doubleValue),f=Kt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return Vw(t.timestampValue,e.timestampValue);case 4:return Vw(vu(t),vu(e));case 5:return Ug(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=na(l),f=na(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const b=We(d[p],f[p]);if(b!==0)return b}return We(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=We(Kt(l.latitude),Kt(u.latitude));return d!==0?d:We(Kt(l.longitude),Kt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Pw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var T,A,I,O;const d=l.fields||{},f=u.fields||{},p=(T=d[af])==null?void 0:T.arrayValue,b=(A=f[af])==null?void 0:A.arrayValue,x=We(((I=p==null?void 0:p.values)==null?void 0:I.length)||0,((O=b==null?void 0:b.values)==null?void 0:O.length)||0);return x!==0?x:Pw(p,b)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===wh.mapValue&&u===wh.mapValue)return 0;if(l===wh.mapValue)return 1;if(u===wh.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=u.fields||{},b=Object.keys(p);f.sort(),b.sort();for(let x=0;x<f.length&&x<b.length;++x){const T=Ug(f[x],b[x]);if(T!==0)return T;const A=wl(d[f[x]],p[b[x]]);if(A!==0)return A}return We(f.length,b.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function Vw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ta(t),i=ta(e),a=We(n.seconds,i.seconds);return a!==0?a:We(n.nanos,i.nanos)}function Pw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=wl(n[a],i[a]);if(l)return l}return We(n.length,i.length)}function Tl(t){return Bg(t)}function Bg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ta(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return na(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Bg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Bg(n.fields[u])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function zh(t){switch(sa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mf(t);return e?16+zh(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+zh(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ua(i.fields,((l,u)=>{a+=l.length+zh(u)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function Ow(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fg(t){return!!t&&"integerValue"in t}function Q0(t){return!!t&&"arrayValue"in t}function Lw(t){return!!t&&"nullValue"in t}function zw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uh(t){return!!t&&"mapValue"in t}function pM(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bS])==null?void 0:i.stringValue)===vS}function au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=au(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return{...t}}function gM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=Sn.emptyPath(),i={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=d.popLast()}u?i[d.lastSegment()]=au(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Uh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ua(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Yn(au(this.value))}}function xS(t){const e=[];return ua(t.fields,((n,i)=>{const a=new Sn([n]);if(Uh(i)){const l=xS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,i,a,l,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Cn(e,0,Pe.min(),Pe.min(),Pe.min(),Yn.empty(),0)}static newFoundDocument(e,n,i,a){return new Cn(e,1,n,Pe.min(),i,a,0)}static newNoDocument(e,n){return new Cn(e,2,n,Pe.min(),Pe.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Pe.min(),Pe.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function Uw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(u.referenceValue),n.key):i=wl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function yM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class sn extends _S{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new vM(e,n,i):n==="array-contains"?new wM(e,i):n==="in"?new TM(e,i):n==="not-in"?new EM(e,i):n==="array-contains-any"?new SM(e,i):new sn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new xM(e,i):new _M(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wl(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gs(e,n)}matches(e){return wS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wS(t){return t.op==="and"}function TS(t){return bM(t)&&wS(t)}function bM(t){for(const e of t.filters)if(e instanceof Gs)return!1;return!0}function Hg(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(TS(t))return t.filters.map((e=>Hg(e))).join(",");{const e=t.filters.map((n=>Hg(n))).join(",");return`${t.op}(${e})`}}function ES(t,e){return t instanceof sn?(function(i,a){return a instanceof sn&&i.op===a.op&&i.field.isEqual(a.field)&&Ei(i.value,a.value)})(t,e):t instanceof Gs?(function(i,a){return a instanceof Gs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,d)=>l&&ES(u,a.filters[d])),!0):!1})(t,e):void Ne(19439)}function SS(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof Gs?(function(n){return n.op.toString()+" {"+n.getFilters().map(SS).join(" ,")+"}"})(t):"Filter"}class vM extends sn{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class xM extends sn{constructor(e,n){super(e,"in",n),this.keys=AS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _M extends sn{constructor(e,n){super(e,"not-in",n),this.keys=AS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class wM extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q0(n)&&_u(n.arrayValue,this.value)}}class TM extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class EM extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class SM extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>_u(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function Fw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new AM(t,e,n,i,a,l,u)}function Z0(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Hg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Tl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Tl(i))).join(",")),e.Te=n}return e.Te}function W0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ES(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bw(t.startAt,e.startAt)&&Bw(t.endAt,e.endAt)}function qg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n=null,i=[],a=[],l=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kM(t,e,n,i,a,l,u,d){return new Ol(t,e,n,i,a,l,u,d)}function J0(t){return new Ol(t)}function Hw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kS(t){return t.collectionGroup!==null}function ou(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new un(Sn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new wu(l,i))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new wu(Sn.keyField(),i))}return e.Ie}function yi(t){const e=Le(t);return e.Ee||(e.Ee=RM(e,ou(t))),e.Ee}function RM(t,e){if(t.limitType==="F")return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new wu(a.field,l)}));const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Gg(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lf(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jf(t,e){return W0(yi(t),yi(e))&&t.limitType===e.limitType}function RS(t){return`${Z0(yi(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>SS(a))).join(", ")}]`),Df(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Tl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Tl(a))).join(",")),`Target(${i})`})(yi(t))}; limitType=${t.limitType})`}function Vf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of ou(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,d,f){const p=Uw(u,d,f);return u.inclusive?p<=0:p<0})(i.startAt,ou(i),a)||i.endAt&&!(function(u,d,f){const p=Uw(u,d,f);return u.inclusive?p>=0:p>0})(i.endAt,ou(i),a))})(t,e)}function NM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NS(t){return(e,n)=>{let i=!1;for(const a of ou(t)){const l=CM(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function CM(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(l,u,d){const f=u.data.field(l),p=d.data.field(l);return f!==null&&p!==null?wl(f,p):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return hS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Ot(Ee.comparator);function ir(){return IM}const CS=new Ot(Ee.comparator);function eu(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function IS(t){let e=CS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function $a(){return lu()}function DS(){return lu()}function lu(){return new lo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const DM=new Ot(Ee.comparator),MM=new un(Ee.comparator);function Je(...t){let e=MM;for(const n of t)e=e.add(n);return e}const jM=new un(We);function VM(){return jM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function PM(t,e){return cM(e)?MS(e):ey(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function OM(t,e,n){return t instanceof cf?(function(a,l){const u={fields:{[pS]:{stringValue:mS},[yS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Y0(l)&&(l=Mf(l)),l&&(u.fields[gS]=l),{mapValue:u}})(n,e):t instanceof Tu?VS(t,e):t instanceof Eu?PS(t,e):(function(a,l){const u=jS(a,l),d=qw(u)+qw(a.Ae);return Fg(u)&&Fg(a.Ae)?MS(d):ey(a.serializer,d)})(t,e)}function LM(t,e,n){return t instanceof Tu?VS(t,e):t instanceof Eu?PS(t,e):n}function jS(t,e){return t instanceof uf?(function(i){return Fg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class cf extends Pf{}class Tu extends Pf{constructor(e){super(),this.elements=e}}function VS(t,e){const n=OS(e);for(const i of t.elements)n.some((a=>Ei(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Eu extends Pf{constructor(e){super(),this.elements=e}}function PS(t,e){let n=OS(e);for(const i of t.elements)n=n.filter((a=>!Ei(a,i)));return{arrayValue:{values:n}}}class uf extends Pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qw(t){return Kt(t.integerValue||t.doubleValue)}function OS(t){return Q0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Tu&&a instanceof Tu||i instanceof Eu&&a instanceof Eu?_l(i.elements,a.elements,Ei):i instanceof uf&&a instanceof uf?Ei(i.Ae,a.Ae):i instanceof cf&&a instanceof cf})(t.transform,e.transform)}class UM{constructor(e,n){this.version=e,this.transformResults=n}}class Hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hs}static exists(e){return new Hs(void 0,e)}static updateTime(e){return new Hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Of{}function LS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ty(t.key,Hs.none()):new zu(t.key,t.data,Hs.none());{const n=t.data,i=Yn.empty();let a=new un(Sn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new da(t.key,i,new ls(a.toArray()),Hs.none())}}function BM(t,e,n){t instanceof zu?(function(a,l,u){const d=a.value.clone(),f=Kw(a.fieldTransforms,l,u.transformResults);d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof da?(function(a,l,u){if(!Bh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=Kw(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(zS(a)),f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function cu(t,e,n,i){return t instanceof zu?(function(l,u,d,f){if(!Bh(l.precondition,u))return d;const p=l.value.clone(),b=$w(l.fieldTransforms,f,u);return p.setAll(b),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof da?(function(l,u,d,f){if(!Bh(l.precondition,u))return d;const p=$w(l.fieldTransforms,f,u),b=u.data;return b.setAll(zS(l)),b.setAll(p),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(l,u,d){return Bh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function FM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=jS(i.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(i.field,l))}return n||null}function Gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&_l(i,a,((l,u)=>zM(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zu extends Of{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class da extends Of{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Kw(t,e,n){const i=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,LM(u,d,n[a]))}return i}function $w(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,OM(l,u,e))}return i}class ty extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HM extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&BM(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=cu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=cu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=DS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const f=LS(u,d);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((n,i)=>Gw(n,i)))&&_l(this.baseMutations,e.baseMutations,((n,i)=>Gw(n,i)))}}class ny{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ut(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return DM})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new ny(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,tt;function $M(t){switch(t){case ne.OK:return Ne(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function US(t){if(t===void 0)return sr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case tn.OK:return ne.OK;case tn.CANCELLED:return ne.CANCELLED;case tn.UNKNOWN:return ne.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ne.INTERNAL;case tn.UNAVAILABLE:return ne.UNAVAILABLE;case tn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case tn.NOT_FOUND:return ne.NOT_FOUND;case tn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case tn.ABORTED:return ne.ABORTED;case tn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case tn.DATA_LOSS:return ne.DATA_LOSS;default:return Ne(39323,{code:t})}}(tt=tn||(tn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new Wr([4294967295,4294967295],0);function Xw(t){const e=XM().encode(t),n=new tS;return n.update(e),new Uint8Array(n.digest())}function Yw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Wr([n,i],0),new Wr([a,l],0)]}class sy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(i<0)throw new tu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Wr.fromNumber(i)));return a.compare(YM)===1&&(a=new Wr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Xw(e),[i,a]=Yw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new sy(l,a,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=Xw(e),[i,a]=Yw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Lf(Pe.min(),a,new Ot(We),ir(),Je())}}class Uu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Uu(i,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class BS{constructor(e,n){this.targetId=e,this.Ce=n}}class FS{constructor(e,n,i=An.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Qw{constructor(){this.ve=0,this.Fe=Zw(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),i=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ne(38017,{changeType:l})}})),new Uu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Zw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.Je=Th(),this.He=Th(),this.Ye=new Ot(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(qg(l))if(i===0){const u=new Ee(l.path);this.et(n,u,Cn.newNoDocument(u,Pe.min()))}else ut(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=na(i).toUint8Array()}catch(f){if(f instanceof fS)return xl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new sy(u,a,l)}catch(f){return xl(f instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&qg(d.target)){const f=new Ee(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Cn.newNoDocument(f,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Je();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Lf(e,n,this.Ye,this.je,i);return this.je=ir(),this.Je=Th(),this.He=Th(),this.Ye=new Ot(We),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Qw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Th(){return new Ot(Ee.comparator)}function Zw(){return new Ot(Ee.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JM={and:"AND",or:"OR"};class ej{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kg(t,e){return t.useProto3Json||Df(e)?e:{value:e}}function df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tj(t,e){return df(t,e.toTimestamp())}function bi(t){return ut(!!t,49232),Pe.fromTimestamp((function(n){const i=ta(n);return new Et(i.seconds,i.nanos)})(t))}function iy(t,e){return $g(t,e).canonicalString()}function $g(t,e){const n=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qS(t){const e=_t.fromString(t);return ut(YS(e),10190,{key:e.toString()}),e}function Xg(t,e){return iy(t.databaseId,e.path)}function ag(t,e){const n=qS(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(KS(n))}function GS(t,e){return iy(t.databaseId,e)}function nj(t){const e=qS(t);return e.length===4?_t.emptyPath():KS(e)}function Yg(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KS(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ww(t,e,n){return{name:Xg(t,e),fields:n.value.mapValue.fields}}function sj(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,b){return p.useProto3Json?(ut(b===void 0||typeof b=="string",58123),An.fromBase64String(b||"")):(ut(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),An.fromUint8Array(b||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const b=p.code===void 0?ne.UNKNOWN:US(p.code);return new me(b,p.message||"")})(u);n=new FS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ag(t,i.document.name),l=bi(i.document.updateTime),u=i.document.createTime?bi(i.document.createTime):Pe.min(),d=new Yn({mapValue:{fields:i.document.fields}}),f=Cn.newFoundDocument(a,l,u,d),p=i.targetIds||[],b=i.removedTargetIds||[];n=new Fh(p,b,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ag(t,i.document),l=i.readTime?bi(i.readTime):Pe.min(),u=Cn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Fh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ag(t,i.document),l=i.removedTargetIds||[];n=new Fh([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new KM(a,l),d=i.targetId;n=new BS(d,u)}}return n}function ij(t,e){let n;if(e instanceof zu)n={update:Ww(t,e.key,e.value)};else if(e instanceof ty)n={delete:Xg(t,e.key)};else if(e instanceof da)n={update:Ww(t,e.key,e.data),updateMask:fj(e.fieldMask)};else{if(!(e instanceof HM))return Ne(16599,{Vt:e.type});n={verify:Xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const d=u.transform;if(d instanceof cf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:tj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function rj(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?bi(a.updateTime):bi(l);return u.isEqual(Pe.min())&&(u=bi(l)),new UM(u,a.transformResults||[])})(n,e)))):[]}function aj(t,e){return{documents:[GS(t,e.path)]}}function oj(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=GS(t,a);const l=(function(p){if(p.length!==0)return XS(Gs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((b=>(function(T){return{field:nl(T.field),direction:uj(T.dir)}})(b)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Kg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function lj(t){let e=nj(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ut(i===1,65062);const b=n.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];n.where&&(l=(function(x){const T=$S(x);return T instanceof Gs&&TS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((T=>(function(I){return new wu(sl(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let T;return T=typeof x=="object"?x.value:x,Df(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(x){const T=!!x.before,A=x.values||[];return new of(A,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const T=!x.before,A=x.values||[];return new of(A,T)})(n.endAt)),kM(e,a,u,l,d,"F",f,p)}function cj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $S(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=sl(n.unaryFilter.field);return sn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(n.unaryFilter.field);return sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sl(n.unaryFilter.field);return sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sl(n.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gs.create(n.compositeFilter.filters.map((i=>$S(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function uj(t){return ZM[t]}function dj(t){return WM[t]}function hj(t){return JM[t]}function nl(t){return{fieldPath:t.canonicalString()}}function sl(t){return Sn.fromServerFormat(t.fieldPath)}function XS(t){return t instanceof sn?(function(n){if(n.op==="=="){if(zw(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(Lw(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zw(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(Lw(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:dj(n.op),value:n.value}}})(t):t instanceof Gs?(function(n){const i=n.getFilters().map((a=>XS(a)));return i.length===1?i[0]:{compositeFilter:{op:hj(n.op),filters:i}}})(t):Ne(54877,{filter:t})}function fj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,i,a,l=Pe.min(),u=Pe.min(),d=An.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.yt=e}}function pj(t){const e=lj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.Cn=new yj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ea.min())}updateCollectionGroup(e,n,i){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class yj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new un(_t.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new un(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(QS,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="LruGarbageCollector",bj=1048576;function tT([t,e],[n,i]){const a=We(t,n);return a===0?We(e,i):a}class vj{constructor(e){this.Ir=e,this.buffer=new un(tT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();tT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(eT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?ge(eT,"Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.Vr(3e5)}))}}class _j{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(If.ce);const i=new vj(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Jw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,d,f,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(i=x,d=Date.now(),this.removeTargets(e,i,n)))).next((x=>(l=x,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(p=Date.now(),el()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function wj(t,e){return new _j(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.changes=new lo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ie.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&cu(i.mutation,a,ls.empty(),Et.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Je()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Je()){const a=$a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=eu();return l.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=$a();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Je())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,a){let l=ir();const u=lu(),d=(function(){return lu()})();return n.forEach(((f,p)=>{const b=i.get(p.key);a.has(p.key)&&(b===void 0||b.mutation instanceof da)?l=l.insert(p.key,p):b!==void 0?(u.set(p.key,b.mutation.getFieldMask()),cu(b.mutation,p,b.mutation.getFieldMask(),Et.now())):u.set(p.key,ls.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,b)=>u.set(p,b))),n.forEach(((p,b)=>d.set(p,new Ej(b,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=lu();let a=new Ot(((u,d)=>u-d)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let b=i.get(f)||ls.empty();b=d.applyToLocalView(p,b),i.set(f,b);const x=(a.get(d.batchId)||Je()).add(f);a=a.insert(d.batchId,x)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,b=f.value,x=DS();b.forEach((T=>{if(!l.has(T)){const A=LS(n.get(T),i.get(T));A!==null&&x.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return ie.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ie.resolve($a());let d=bu,f=l;return u.next((p=>ie.forEach(p,((b,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next((T=>{f=f.insert(b,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Je()))).next((b=>({batchId:d,changes:IS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((i=>{let a=eu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=eu();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(f=>{const p=(function(x,T){return new Ol(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((b=>{b.forEach(((x,T)=>{u=u.insert(x,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((f,p)=>{const b=p.getKey();u.get(b)===null&&(u=u.insert(b,Cn.newInvalidDocument(b)))}));let d=eu();return u.forEach(((f,p)=>{const b=l.get(f);b!==void 0&&cu(b.mutation,p,ls.empty(),Et.now()),Vf(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:bi(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:pj(a.bundledQuery),readTime:bi(a.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.overlays=new Ot(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const i=$a();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ie.resolve()}getOverlaysForCollection(e,n,i){const a=$a(),l=n.length+1,u=new Ee(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Ot(((p,b)=>p-b));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let b=l.get(p.largestBatchId);b===null&&(b=$a(),l=l.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const d=$a(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,b)=>d.set(p,b))),!(d.size()>=a)););return ie.resolve(d)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new GM(n,i));let l=this.qr.get(n);l===void 0&&(l=Je(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.Qr=new un(mn.$r),this.Ur=new un(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new mn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ee(new _t([])),i=new mn(n,e),a=new mn(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new _t([])),i=new mn(n,e),a=new mn(n,e+1);let l=Je();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new mn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(mn.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qM(l,n,i,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new mn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?X0:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new un(We);return n.forEach((a=>{const l=new mn(a,0),u=new mn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{i=i.add(d.Yr)}))})),ie.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const u=new mn(new Ee(l),0);let d=new un(We);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(f.Yr)),!0)}),u),ie.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ie.forEach(n.mutations,(a=>{const l=new mn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new mn(n,0),a=this.Zr.firstAfterOrEqual(i);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ie.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let i=ir();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Cn.newInvalidDocument(a))})),ie.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ir();const u=n.path,d=new Ee(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:b}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||rM(iM(b),i)<=0||(a.has(b.key)||Vf(n,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ne(9500)}ii(e,n){return ie.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Ij(this)}getSize(e){return ie.resolve(this.size)}}class Ij extends Tj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.persistence=e,this.si=new lo((n=>Z0(n)),W0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new ry,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ie.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ie.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ie.resolve(i)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.ui={},this.overlays={},this.ci=new If(0),this.li=!1,this.li=!0,this.hi=new Rj,this.referenceDelegate=e(this),this.Pi=new Dj(this),this.indexManager=new gj,this.remoteDocumentCache=(function(a){return new Cj(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new mj(n),this.Ii=new Aj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new Nj(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const a=new Mj(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class Mj extends oM{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.Ri=new ry,this.Vi=null}static mi(e){return new ay(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ie.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(i=>{const a=Ee.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hf{constructor(e,n){this.persistence=e,this.pi=new lo((i=>uM(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=wj(this,n)}static mi(e,n){return new hf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(i++,l.removeEntry(u,Pe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}br(e,n,i){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new oy(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dI()?8:lM(Dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new jj;return this.Ss(e,n,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(el()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(el()<=Ze.DEBUG&&ge("QueryEngine","Query:",tl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(el()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):ie.resolve())}ys(e,n){if(Hw(n))return ie.resolve(null);let i=yi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=lf(n,null,"F"),i=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Je(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.Ds(n,d);return this.Cs(n,p,u,f.readTime)?this.ys(e,lf(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,i,a){return Hw(n)||a.isEqual(Pe.min())?ie.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?ie.resolve(null):(el()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tl(n)),this.vs(e,u,n,sM(a,bu)).next((d=>d)))}))}Ds(e,n){let i=new un(NS(e));return n.forEach(((a,l)=>{Vf(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return el()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ps.getDocumentsMatchingQuery(e,n,ea.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="LocalStore",Pj=3e8;class Oj{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ot(We),this.xs=new lo((l=>Z0(l)),W0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Lj(t,e,n,i){return new Oj(t,e,n,i)}async function WS(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],d=[];let f=Je();for(const p of a){u.push(p.batchId);for(const b of p.mutations)f=f.add(b.key)}for(const p of l){d.push(p.batchId);for(const b of p.mutations)f=f.add(b.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function zj(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,b){const x=p.batch,T=x.keys();let A=ie.resolve();return T.forEach((I=>{A=A.next((()=>b.getEntry(f,I))).next((O=>{const D=p.docVersions.get(I);ut(D!==null,48541),O.version.compareTo(D)<0&&(x.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),b.addEntry(O)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,x)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function JS(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Uj(t,e){const n=Le(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((b,x)=>{const T=a.get(x);if(!T)return;d.push(n.Pi.removeMatchingKeys(l,b.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(l,b.addedDocuments,x))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(An.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):b.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(b.resumeToken,i)),a=a.insert(x,A),(function(O,D,B){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Pj?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,A,b)&&d.push(n.Pi.updateTargetData(l,A))}));let f=ir(),p=Je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,b))})),d.push(Bj(l,u,e.documentUpdates).next((b=>{f=b.ks,p=b.qs}))),!i.isEqual(Pe.min())){const b=n.Pi.getLastRemoteSnapshotVersion(l).next((x=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(b)}return ie.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function Bj(t,e,n){let i=Je(),a=Je();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=ir();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ge(ly,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function Fj(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=X0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Hj(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new Xr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Qg(t,e,n){const i=Le(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Pl(u))throw u;ge(ly,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function nT(t,e,n){const i=Le(t);let a=Pe.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,b){const x=Le(f),T=x.xs.get(b);return T!==void 0?ie.resolve(x.Ms.get(T)):x.Pi.getTargetData(p,b)})(i,u,yi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{l=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Pe.min(),n?l:Je()))).next((d=>(qj(i,NM(e),d),{documents:d,Qs:l})))))}function qj(t,e,n){let i=t.Os.get(e)||Pe.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class sT{constructor(){this.activeTargetIds=VM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gj{constructor(){this.Mo=new sT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="ConnectivityMonitor";class rT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(iT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(iT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Zg(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",$j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===rf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=Zg(),d=this.zo(e,n.toUriEncodedString());ge(og,`Sending RPC '${e}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(d),b=Il(p);return this.Jo(e,d,f,i,b).then((x=>(ge(og,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw xl(og,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",i),x}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=$j[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Qj extends Xj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=Zg();return new Promise(((d,f)=>{const p=new nS;p.setWithCredentials(!0),p.listenOnce(sS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Lh.NO_ERROR:const x=p.getResponseJson();ge(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Lh.TIMEOUT:ge(Rn,`RPC '${e}' ${u} timed out`),f(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const T=p.getStatus();if(ge(Rn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const O=(function(B){const Q=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN})(I.status);f(new me(O,I.message))}else f(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(Rn,`RPC '${e}' ${u} completed.`)}}));const b=JSON.stringify(a);ge(Rn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",b,i,15)}))}T_(e,n,i){const a=Zg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=aS(),d=rS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const b=l.join("");ge(Rn,`Creating RPC '${e}' stream ${a}: ${b}`,f);const x=u.createWebChannel(b,f);this.I_(x);let T=!1,A=!1;const I=new Yj({Yo:D=>{A?ge(Rn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(T||(ge(Rn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),T=!0),ge(Rn,`RPC '${e}' stream ${a} sending:`,D),x.send(D))},Zo:()=>x.close()}),O=(D,B,Q)=>{D.listen(B,(H=>{try{Q(H)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return O(x,Jc.EventType.OPEN,(()=>{A||(ge(Rn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),O(x,Jc.EventType.CLOSE,(()=>{A||(A=!0,ge(Rn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(x))})),O(x,Jc.EventType.ERROR,(D=>{A||(A=!0,xl(Rn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),I.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),O(x,Jc.EventType.MESSAGE,(D=>{var B;if(!A){const Q=D.data[0];ut(!!Q,16349);const H=Q,ae=(H==null?void 0:H.error)||((B=H[0])==null?void 0:B.error);if(ae){ge(Rn,`RPC '${e}' stream ${a} received error:`,ae);const oe=ae.status;let he=(function(R){const j=tn[R];if(j!==void 0)return US(j)})(oe),N=ae.message;he===void 0&&(he=ne.INTERNAL,N="Unknown error status: "+oe+" with message "+ae.message),A=!0,I.a_(new me(he,N)),x.close()}else ge(Rn,`RPC '${e}' stream ${a} received:`,Q),I.u_(Q)}})),O(d,iS.STAT_EVENT,(D=>{D.stat===zg.PROXY?ge(Rn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===zg.NOPROXY&&ge(Rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){return new ej(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="PersistentStream";class tA{constructor(e,n,i,a,l,u,d,f){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(aT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(aT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zj extends tA{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sj(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Pe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?bi(u.readTime):Pe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Yg(this.serializer),n.addTarget=(function(l,u){let d;const f=u.target;if(d=qg(f)?{documents:aj(l,f)}:{query:oj(l,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=HS(l,u.resumeToken);const p=Kg(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Pe.min())>0){d.readTime=df(l,u.snapshotVersion.toTimestamp());const p=Kg(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=cj(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Yg(this.serializer),n.removeTarget=e,this.q_(n)}}class Wj extends tA{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rj(e.writeResults,e.commitTime),i=bi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Yg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>ij(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{}class e5 extends Jj{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,$g(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ne.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,$g(n,i),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class t5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class n5{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{co(this)&&(ge(io,"Restarting streams for network reachability change."),await(async function(f){const p=Le(f);p.Ea.add(4),await Bu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Uf(p)})(this))}))})),this.Ra=new t5(i,a)}}async function Uf(t){if(co(t))for(const e of t.da)await e(!0)}async function Bu(t){for(const e of t.da)await e(!1)}function nA(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hy(n)?dy(n):Ll(n).O_()&&uy(n,e))}function cy(t,e){const n=Le(t),i=Ll(n);n.Ia.delete(e),i.O_()&&sA(n,e),n.Ia.size===0&&(i.O_()?i.L_():co(n)&&n.Ra.set("Unknown"))}function uy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).Y_(e)}function sA(t,e){t.Va.Ue(e),Ll(t).Z_(e)}function dy(t){t.Va=new QM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.Ra.ua()}function hy(t){return co(t)&&!Ll(t).x_()&&t.Ia.size>0}function co(t){return Le(t).Ea.size===0}function iA(t){t.Va=void 0}async function s5(t){t.Ra.set("Online")}async function i5(t){t.Ia.forEach(((e,n)=>{uy(t,e)}))}async function r5(t,e){iA(t),hy(t)?(t.Ra.ha(e),dy(t)):t.Ra.set("Unknown")}async function a5(t,e,n){if(t.Ra.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(i){ge(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ff(t,i)}else if(e instanceof Fh?t.Va.Ze(e):e instanceof BS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const i=await JS(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const b=l.Ia.get(p);b&&l.Ia.set(p,b.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const b=l.Ia.get(f);if(!b)return;l.Ia.set(f,b.withResumeToken(An.EMPTY_BYTE_STRING,b.snapshotVersion)),sA(l,f);const x=new Xr(b.target,f,p,b.sequenceNumber);uy(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){ge(io,"Failed to raise snapshot:",i),await ff(t,i)}}async function ff(t,e,n){if(!Pl(e))throw e;t.Ea.add(1),await Bu(t),t.Ra.set("Offline"),n||(n=()=>JS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Uf(t)}))}function rA(t,e){return e().catch((n=>ff(t,n,e)))}async function Bf(t){const e=Le(t),n=ia(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:X0;for(;o5(e);)try{const a=await Fj(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,l5(e,a)}catch(a){await ff(e,a)}aA(e)&&oA(e)}function o5(t){return co(t)&&t.Ta.length<10}function l5(t,e){t.Ta.push(e);const n=ia(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aA(t){return co(t)&&!ia(t).x_()&&t.Ta.length>0}function oA(t){ia(t).start()}async function c5(t){ia(t).ra()}async function u5(t){const e=ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function d5(t,e,n){const i=t.Ta.shift(),a=ny.from(i,e,n);await rA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Bf(t)}async function h5(t,e){e&&ia(t).X_&&await(async function(i,a){if((function(u){return $M(u)&&u!==ne.ABORTED})(a.code)){const l=i.Ta.shift();ia(i).B_(),await rA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Bf(i)}})(t,e),aA(t)&&oA(t)}async function oT(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ge(io,"RemoteStore received new credentials");const i=co(n);n.Ea.add(3),await Bu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uf(n)}async function f5(t,e){const n=Le(t);e?(n.Ea.delete(2),await Uf(n)):e||(n.Ea.add(2),await Bu(n),n.Ra.set("Unknown"))}function Ll(t){return t.ma||(t.ma=(function(n,i,a){const l=Le(n);return l.sa(),new Zj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:s5.bind(null,t),t_:i5.bind(null,t),r_:r5.bind(null,t),H_:a5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),hy(t)?dy(t):t.Ra.set("Unknown")):(await t.ma.stop(),iA(t))}))),t.ma}function ia(t){return t.fa||(t.fa=(function(n,i,a){const l=Le(n);return l.sa(),new Wj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c5.bind(null,t),r_:h5.bind(null,t),ta:u5.bind(null,t),na:d5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Bf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,d=new fy(e,n,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Pl(t))return new me(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=eu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.ga=new Ot(Ee.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Sl{constructor(e,n,i,a,l,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Sl(e,n,pl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class p5{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Le(n),l=a.queries;a.queries=cT(),l.forEach(((u,d)=>{for(const f of d.Sa)f.onError(i)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function cT(){return new lo((t=>RS(t)),jf)}async function lA(t,e){const n=Le(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new m5,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=my(u,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&py(n)}async function cA(t,e){const n=Le(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function g5(t,e){const n=Le(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(i=!0);u.wa=a}}i&&py(n)}function y5(t,e,n){const i=Le(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function py(t){t.Ca.forEach((e=>{e.next()}))}var Wg,uT;(uT=Wg||(Wg={})).Ma="default",uT.Cache="cache";class uA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.key=e}}class hA{constructor(e){this.key=e}}class b5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=NS(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new lT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,x)=>{const T=a.get(b),A=Vf(this.query,x)?x:null,I=!!T&&this.mutatedKeys.has(T.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;T&&A?T.data.isEqual(A.data)?I!==O&&(i.track({type:3,doc:A}),D=!0):this.su(T,A)||(i.track({type:2,doc:A}),D=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(d=!0)):!T&&A?(i.track({type:0,doc:A}),D=!0):T&&!A&&(i.track({type:1,doc:T}),D=!0,(f||p)&&(d=!0)),D&&(A?(u=u.add(A),l=O?l.add(b):l.delete(b)):(u=u.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),l=l.delete(b.key),i.track({type:1,doc:b})}return{tu:u,iu:i,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((b,x)=>(function(A,I){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:D})}};return O(A)-O(I)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Sl(this.query,e.tu,l,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new hA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new dA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gy="SyncEngine";class v5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class x5{constructor(e){this.key=e,this.hu=!1}}class _5{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new lo((d=>RS(d)),jf),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ee.comparator),this.Au=new Map,this.Ru=new ry,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w5(t,e,n=!0){const i=bA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await fA(i,e,n,!0),a}async function T5(t,e){const n=bA(t);await fA(n,e,!0,!1)}async function fA(t,e,n,i){const a=await Hj(t.localStore,yi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await E5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&nA(t.remoteStore,a),d}async function E5(t,e,n,i,a){t.pu=(x,T,A)=>(async function(O,D,B,Q){let H=D.view.ru(B);H.Cs&&(H=await nT(O.localStore,D.query,!1).then((({documents:N})=>D.view.ru(N,H))));const ae=Q&&Q.targetChanges.get(D.targetId),oe=Q&&Q.targetMismatches.get(D.targetId)!=null,he=D.view.applyChanges(H,O.isPrimaryClient,ae,oe);return hT(O,D.targetId,he.au),he.snapshot})(t,x,T,A);const l=await nT(t.localStore,e,!0),u=new b5(e,l.Qs),d=u.ru(l.documents),f=Uu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(d,t.isPrimaryClient,f);hT(t,n,p.au);const b=new v5(e,n,u);return t.Tu.set(e,b),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function S5(t,e,n){const i=Le(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!jf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Qg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&cy(i.remoteStore,a.targetId),Jg(i,a.targetId)})).catch(Vl)):(Jg(i,a.targetId),await Qg(i.localStore,a.targetId,!0))}async function A5(t,e){const n=Le(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cy(n.remoteStore,i.targetId))}async function k5(t,e,n){const i=j5(t);try{const a=await(function(u,d){const f=Le(u),p=Et.now(),b=d.reduce(((A,I)=>A.add(I.key)),Je());let x,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=ir(),O=Je();return f.Ns.getEntries(A,b).next((D=>{I=D,I.forEach(((B,Q)=>{Q.isValidDocument()||(O=O.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,I))).next((D=>{x=D;const B=[];for(const Q of d){const H=FM(Q,x.get(Q.key).overlayedDocument);H!=null&&B.push(new da(Q.key,H,xS(H.value.mapValue),Hs.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,B,d)})).next((D=>{T=D;const B=D.applyToLocalDocumentSet(x,O);return f.documentOverlayCache.saveOverlays(A,D.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:IS(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new Ot(We)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,n),await Fu(i,a.changes),await Bf(i.remoteStore)}catch(a){const l=my(a,"Failed to persist write");n.reject(l)}}async function mA(t,e){const n=Le(t);try{const i=await Uj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ut(u.hu,14607):a.removedDocuments.size>0&&(ut(u.hu,42227),u.hu=!1))})),await Fu(n,i,e)}catch(i){await Vl(i)}}function dT(t,e,n){const i=Le(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const f=Le(u);f.onlineState=d;let p=!1;f.queries.forEach(((b,x)=>{for(const T of x.Sa)T.va(d)&&(p=!0)})),p&&py(f)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function R5(t,e,n){const i=Le(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Ot(Ee.comparator);u=u.insert(l,Cn.newNoDocument(l,Pe.min()));const d=Je().add(l),f=new Lf(Pe.min(),new Map,new Ot(We),u,d);await mA(i,f),i.du=i.du.remove(l),i.Au.delete(e),yy(i)}else await Qg(i.localStore,e,!1).then((()=>Jg(i,e,n))).catch(Vl)}async function N5(t,e){const n=Le(t),i=e.batch.batchId;try{const a=await zj(n.localStore,e);gA(n,i,null),pA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Fu(n,a)}catch(a){await Vl(a)}}async function C5(t,e,n){const i=Le(t);try{const a=await(function(u,d){const f=Le(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return f.mutationQueue.lookupMutationBatch(p,d).next((x=>(ut(x!==null,37113),b=x.keys(),f.mutationQueue.removeMutationBatch(p,x)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,b,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>f.localDocuments.getDocuments(p,b)))}))})(i.localStore,e);gA(i,e,n),pA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Fu(i,a)}catch(a){await Vl(a)}}function pA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function gA(t,e,n){const i=Le(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||yA(t,i)}))}function yA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yy(t))}function hT(t,e,n){for(const i of n)i instanceof dA?(t.Ru.addReference(i.key,e),I5(t,i)):i instanceof hA?(ge(gy,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||yA(t,i.key)):Ne(19791,{wu:i})}function I5(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ge(gy,"New document in limbo: "+n),t.Eu.add(i),yy(t))}function yy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(_t.fromString(e)),i=t.fu.next();t.Au.set(i,new x5(n)),t.du=t.du.insert(n,i),nA(t.remoteStore,new Xr(yi(J0(n.path)),i,"TargetPurposeLimboResolution",If.ce))}}async function Fu(t,e,n){const i=Le(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{u.push(i.pu(f,e,n).then((p=>{var b;if((p||n)&&i.isPrimaryClient){const x=p?!p.fromCache:(b=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:b.current;i.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(p){a.push(p);const x=oy.As(f.targetId,p);l.push(x)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(f,p){const b=Le(f);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ie.forEach(p,(T=>ie.forEach(T.Es,(A=>b.persistence.referenceDelegate.addReference(x,T.targetId,A))).next((()=>ie.forEach(T.ds,(A=>b.persistence.referenceDelegate.removeReference(x,T.targetId,A)))))))))}catch(x){if(!Pl(x))throw x;ge(ly,"Failed to update sequence numbers: "+x)}for(const x of p){const T=x.targetId;if(!x.fromCache){const A=b.Ms.get(T),I=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(I);b.Ms=b.Ms.insert(T,O)}}})(i.localStore,l))}async function D5(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ge(gy,"User change. New user:",e.toKey());const i=await WS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new me(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fu(n,i.Ls)}}function M5(t,e){const n=Le(t),i=n.Au.get(e);if(i&&i.hu)return Je().add(i.key);{let a=Je();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function bA(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R5.bind(null,e),e.Pu.H_=g5.bind(null,e.eventManager),e.Pu.yu=y5.bind(null,e.eventManager),e}function j5(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C5.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Lj(this.persistence,new Vj,e.initialUser,this.serializer)}Cu(e){return new ZS(ay.mi,this.serializer)}Du(e){return new Gj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class V5 extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof hf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xj(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new ZS((i=>hf.mi(i,n)),this.serializer)}}class e0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D5.bind(null,this.syncEngine),await f5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new p5})()}createDatastore(e){const n=zf(e.databaseInfo.databaseId),i=(function(l){return new Qj(l)})(e.databaseInfo);return(function(l,u,d,f){return new e5(l,u,d,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,d){return new n5(i,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>dT(this.syncEngine,n,0)),(function(){return rT.v()?new rT:new Kj})())}createSyncEngine(e,n){return(function(a,l,u,d,f,p,b){const x=new _5(a,l,u,d,f,p);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Le(a);ge(io,"RemoteStore shutting down."),l.Ea.add(5),await Bu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}e0.provider={build:()=>new e0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="FirestoreClient";class P5{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Nn.UNAUTHENTICATED,this.clientId=$0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{ge(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ge(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=my(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),ge(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await WS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O5(t);ge(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>oT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>oT(e.remoteStore,a))),t._onlineComponents=e}async function O5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(ra,"Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new mf)}}else ge(ra,"Using default OfflineComponentProvider"),await cg(t,new V5(void 0));return t._offlineComponents}async function xA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(ra,"Using user provided OnlineComponentProvider"),await fT(t,t._uninitializedComponentsProvider._online)):(ge(ra,"Using default OnlineComponentProvider"),await fT(t,new e0))),t._onlineComponents}function L5(t){return xA(t).then((e=>e.syncEngine))}async function _A(t){const e=await xA(t),n=e.eventManager;return n.onListen=w5.bind(null,e.syncEngine),n.onUnlisten=S5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A5.bind(null,e.syncEngine),n}function z5(t,e,n={}){const i=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,f,p){const b=new vA({next:T=>{b.Nu(),u.enqueueAndForget((()=>cA(l,x)));const A=T.docs.has(d);!A&&T.fromCache?p.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),x=new uA(J0(d.path),b,{includeMetadataChanges:!0,qa:!0});return lA(l,x)})(await _A(t),t.asyncQueue,e,n,i))),i.promise}function U5(t,e,n={}){const i=new Ji;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,f,p){const b=new vA({next:T=>{b.Nu(),u.enqueueAndForget((()=>cA(l,x))),T.fromCache&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),x=new uA(d,b,{includeMetadataChanges:!0,qa:!0});return lA(l,x)})(await _A(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firestore.googleapis.com",pT=!0;class gT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TA,this.ssl=pT}else this.host=e.host,this.ssl=e.ssl??pT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bj)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ff{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new K4;switch(i.type){case"firstParty":return new Q4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=mT.get(n);i&&(ge("ComponentProvider","Removing Datastore"),mT.delete(n),i.terminate())})(this),Promise.resolve()}}function B5(t,e,n,i={}){var p;t=Ti(t,Ff);const a=Il(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(fE(`https://${d}`),mE("Firestore",!0)),l.host!==TA&&l.host!==d&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:i};if(!Ja(f,u)&&(t._setSettings(f),i.mockUserToken)){let b,x;if(typeof i.mockUserToken=="string")b=i.mockUserToken,x=Nn.MOCK_USER;else{b=nI(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Nn(T)}t._authCredentials=new $4(new lS(b,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class $t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Lu(n,$t._jsonSchema))return new $t(e,i||null,new Ee(_t.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:rn("string",$t._jsonSchemaVersion),referencePath:rn("string")};class Jr extends ha{constructor(e,n,i){super(e,n,J0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Ee(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function yT(t,e,...n){if(t=pn(t),cS("collection","path",e),t instanceof Ff){const i=_t.fromString(e,...n);return Nw(i),new Jr(t,null,i)}{if(!(t instanceof $t||t instanceof Jr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return Nw(i),new Jr(t.firestore,null,i)}}function gl(t,e,...n){if(t=pn(t),arguments.length===1&&(e=$0.newId()),cS("doc","path",e),t instanceof Ff){const i=_t.fromString(e,...n);return Rw(i),new $t(t,null,new Ee(i))}{if(!(t instanceof $t||t instanceof Jr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_t.fromString(e,...n));return Rw(i),new $t(t.firestore,t instanceof Jr?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="AsyncQueue";class vT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eA(this,"async_queue_retry"),this._c=()=>{const i=lg();i&&ge(bT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pl(e))throw e;ge(bT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",xT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=fy.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:xT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zl extends Ff{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new vT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vT(e),this._firestoreClient=void 0,await e}}}function F5(t,e){const n=typeof t=="object"?t:bE(),i=typeof t=="string"?t:rf,a=O0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=eI("firestore");l&&B5(a,...l)}return a}function by(t){if(t._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H5(t),t._firestoreClient}function H5(t){var i,a,l;const e=t._freezeSettings(),n=(function(d,f,p,b){return new fM(d,f,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,wA(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new P5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(An.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Es(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Es._jsonSchema))return Es.fromBase64String(e.bytes)}}Es._jsonSchemaVersion="firestore/bytes/1.0",Es._jsonSchema={type:rn("string",Es._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:rn("string",vi._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xi(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:rn("string",xi._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=/^__.*__$/;class G5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}class EA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class xy{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SA(this.Ac)&&q5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||zf(e)}Cc(e,n,i,a=!1){return new xy({Ac:e,methodName:n,Dc:i,path:Sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _y(t){const e=t._freezeSettings(),n=zf(t._databaseId);return new K5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $5(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);wy("Data must be an object, but it was:",u,i);const d=AA(i,u);let f,p;if(l.merge)f=new ls(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const b=[];for(const x of l.mergeFields){const T=t0(e,x,n);if(!u.contains(T))throw new me(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);RA(b,T)||b.push(T)}f=new ls(b),p=u.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,p=u.fieldTransforms;return new G5(new Yn(d),f,p)}class qf extends vy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function X5(t,e,n,i){const a=t.Cc(1,e,n);wy("Data must be an object, but it was:",a,i);const l=[],u=Yn.empty();ua(i,((f,p)=>{const b=Ty(e,f,n);p=pn(p);const x=a.yc(b);if(p instanceof qf)l.push(b);else{const T=Hu(p,x);T!=null&&(l.push(b),u.set(b,T))}}));const d=new ls(l);return new EA(u,d,a.fieldTransforms)}function Y5(t,e,n,i,a,l){const u=t.Cc(1,e,n),d=[t0(e,i,n)],f=[a];if(l.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(t0(e,l[T])),f.push(l[T+1]);const p=[],b=Yn.empty();for(let T=d.length-1;T>=0;--T)if(!RA(p,d[T])){const A=d[T];let I=f[T];I=pn(I);const O=u.yc(A);if(I instanceof qf)p.push(A);else{const D=Hu(I,O);D!=null&&(p.push(A),b.set(A,D))}}const x=new ls(p);return new EA(b,x,u.fieldTransforms)}function Q5(t,e,n,i=!1){return Hu(n,t.Cc(i?4:3,e))}function Hu(t,e){if(kA(t=pn(t)))return wy("Unsupported field value:",e,t),AA(t,e);if(t instanceof vy)return(function(i,a){if(!SA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const d of i){let f=Hu(d,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Et.fromDate(i);return{timestampValue:df(a.serializer,l)}}if(i instanceof Et){const l=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:df(a.serializer,l)}}if(i instanceof vi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Es)return{bytesValue:HS(a.serializer,i._byteString)};if(i instanceof $t){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:iy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof xi)return(function(u,d){return{mapValue:{fields:{[bS]:{stringValue:vS},[af]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return ey(d.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Cf(i)}`)})(t,e)}function AA(t,e){const n={};return hS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,((i,a)=>{const l=Hu(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function kA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof vi||t instanceof Es||t instanceof $t||t instanceof vy||t instanceof xi)}function wy(t,e,n){if(!kA(n)||!uS(n)){const i=Cf(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function t0(t,e,n){if((e=pn(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return Ty(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Z5=new RegExp("[~\\*/\\[\\]]");function Ty(t,e,n){if(e.search(Z5)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hf(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${i}`),u&&(f+=` in document ${a}`),f+=")"),new me(ne.INVALID_ARGUMENT,d+t+f)}function RA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ey("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W5 extends NA{data(){return super.data()}}function Ey(t,e){return typeof e=="string"?Ty(t,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sy{}class Ay extends Sy{}function _T(t,e,...n){let i=[];e instanceof Sy&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((f=>f instanceof Ry)).length,d=l.filter((f=>f instanceof ky)).length;if(u>1||u>0&&d>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class ky extends Ay{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ky(e,n,i)}_apply(e){const n=this._parse(e);return CA(e._query,n),new ha(e.firestore,e.converter,Gg(e._query,n))}_parse(e){const n=_y(e.firestore);return(function(l,u,d,f,p,b,x){let T;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){ET(x,b);const I=[];for(const O of x)I.push(TT(f,l,O));T={arrayValue:{values:I}}}else T=TT(f,l,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||ET(x,b),T=Q5(d,u,x,b==="in"||b==="not-in");return sn.create(p,b,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ry extends Sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ry(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const f of d)CA(u,f),u=Gg(u,f)})(e._query,n),new ha(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ny extends Ay{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ny(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(l,u)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Ol(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function wT(t,e="asc"){const n=e,i=Ey("orderBy",t);return Ny._create(i,n)}class Cy extends Ay{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Cy(e,n,i)}_apply(e){return new ha(e.firestore,e.converter,lf(e._query,this._limit,this._limitType))}}function eV(t){return Cy._create("limit",t,"F")}function TT(t,e,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(_t.fromString(n));if(!Ee.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ow(t,new Ee(i))}if(n instanceof $t)return Ow(t,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function ET(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CA(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tV{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ua(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,a,l;const n=(l=(a=(i=e.fields)==null?void 0:i[af].arrayValue)==null?void 0:a.values)==null?void 0:l.map((u=>Kt(u.doubleValue)));return new xi(n)}convertGeoPoint(e){return new vi(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Mf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=_t.fromString(e);ut(YS(i),9688,{name:e});const a=new xu(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(n)||sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends NA{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Ey("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:rn("string",Qa._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Hh extends Qa{data(e={}){return super.data(e)}}class yl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new nu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Hh(this._firestore,this._userDataWriter,i.key,i,new nu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const f=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,b=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),b=u.indexOf(d.doc.key)),{type:sV(d.type),doc:f,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){t=Ti(t,$t);const e=Ti(t.firestore,zl);return z5(by(e),t._key).then((n=>aV(e,t,n)))}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:rn("string",yl._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class IA extends tV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function ST(t){t=Ti(t,ha);const e=Ti(t.firestore,zl),n=by(e),i=new IA(e);return J5(t._query),U5(n,t._query).then((a=>new yl(e,i,t,a)))}function iV(t,e,n){t=Ti(t,$t);const i=Ti(t.firestore,zl),a=nV(t.converter,e);return Iy(i,[$5(_y(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Hs.none())])}function n0(t,e,n,...i){t=Ti(t,$t);const a=Ti(t.firestore,zl),l=_y(a);let u;return u=typeof(e=pn(e))=="string"||e instanceof Hf?Y5(l,"updateDoc",t._key,e,n,i):X5(l,"updateDoc",t._key,e),Iy(a,[u.toMutation(t._key,Hs.exists(!0))])}function rV(t){return Iy(Ti(t.firestore,zl),[new ty(t._key,Hs.none())])}function Iy(t,e){return(function(i,a){const l=new Ji;return i.asyncQueue.enqueueAndForget((async()=>k5(await L5(i),a,l))),l.promise})(by(t),e)}function aV(t,e,n){const i=n.docs.get(e._key),a=new IA(t);return new Qa(t,a,e._key,i,new nu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){jl=a})(Dl),vl(new eo("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new zl(new X4(i.getProvider("auth-internal")),new Z4(u,i.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(p.options.projectId,b)})(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Zr(Ew,Sw,e),Zr(Ew,Sw,"esm2020")})();const oV={apiKey:"AIzaSyCJLR0gKSrzN3VCyZ74AeAFL82WuMI0Z0k",authDomain:"zenbaki-osoak-2dbh.firebaseapp.com",projectId:"zenbaki-osoak-2dbh",storageBucket:"zenbaki-osoak-2dbh.firebasestorage.app",messagingSenderId:"402362957412",appId:"1:402362957412:web:b89a1b9e802426ae74e971"},DA=yE(oV),Sh=q4(DA),$r=F5(DA),ct={theory_intro:50,theory_operations:50,theory_multiplication:50,theory_powers:50,theory_advanced:50,ordering_easy:100,ordering_medium:150,ordering_hard:200,addition_easy:100,addition_medium:150,addition_hard:200,subtraction_easy:100,subtraction_medium:150,subtraction_hard:200,multiplication_easy:100,multiplication_medium:150,multiplication_hard:200,division_easy:100,division_medium:150,division_hard:200,powers_easy:100,powers_medium:150,powers_hard:200,roots_easy:100,roots_medium:150,roots_hard:200,combined_easy:100,combined_medium:150,combined_hard:200,mixed_easy:150,mixed_medium:250,mixed_hard:500},s0=[{id:"first_steps",title:"Lehen Urratsak",description:"Lortu zure lehenengo 100 XP.",icon:"footprint",xpReward:50,condition:t=>t.xp>=100},{id:"streak_5",title:"Beroketa (5 Egun)",description:"Mantendu 5 eguneko erratxa.",icon:"local_fire_department",xpReward:100,condition:t=>t.streak>=5},{id:"streak_10",title:"Sutan (10 Egun)",description:"Mantendu 10 eguneko erratxa.",icon:"whatshot",xpReward:300,condition:t=>t.streak>=10},{id:"streak_20",title:"Geldiezin (20 Egun)",description:"Mantendu 20 eguneko erratxa.",icon:"volcano",xpReward:1e3,condition:t=>t.streak>=20},{id:"level_5",title:"Ikasle Aurreratua",description:"Iritsi 5. Mailara.",icon:"school",xpReward:250,condition:t=>t.level>=5},{id:"level_10",title:"Matematika Maisua",description:"Iritsi 10. Mailara.",icon:"military_tech",xpReward:1e3,condition:t=>t.level>=10},{id:"level_20",title:"Zenbakien Jainkoa",description:"Iritsi 20. Mailara.",icon:"auto_awesome",xpReward:5e3,condition:t=>t.level>=20},{id:"ord_bronze",title:"Ordenatzaile (Bronce)",description:"200 XP Ordenan.",icon:"sort",xpReward:50,condition:t=>vt(t,"ordering")>=200},{id:"ord_silver",title:"Ordenatzaile (Plata)",description:"500 XP Ordenan.",icon:"sort",xpReward:150,condition:t=>vt(t,"ordering")>=500},{id:"ord_gold",title:"Ordenatzaile (Oro)",description:"1000 XP Ordenan.",icon:"sort",xpReward:300,condition:t=>vt(t,"ordering")>=1e3},{id:"add_bronze",title:"Batzaile (Bronce)",description:"200 XP Batuketetan.",icon:"add_circle",xpReward:50,condition:t=>vt(t,"addition")>=200},{id:"add_silver",title:"Batzaile (Plata)",description:"500 XP Batuketetan.",icon:"add_circle",xpReward:150,condition:t=>vt(t,"addition")>=500},{id:"add_gold",title:"Batzaile (Oro)",description:"1000 XP Batuketetan.",icon:"add_circle",xpReward:300,condition:t=>vt(t,"addition")>=1e3},{id:"sub_bronze",title:"Kentzaile (Bronce)",description:"200 XP Kenketetan.",icon:"remove_circle",xpReward:50,condition:t=>vt(t,"subtraction")>=200},{id:"sub_silver",title:"Kentzaile (Plata)",description:"500 XP Kenketetan.",icon:"remove_circle",xpReward:150,condition:t=>vt(t,"subtraction")>=500},{id:"sub_gold",title:"Kentzaile (Oro)",description:"1000 XP Kenketetan.",icon:"remove_circle",xpReward:300,condition:t=>vt(t,"subtraction")>=1e3},{id:"mul_bronze",title:"Biderkatzaile (Bronce)",description:"200 XP Biderketetan.",icon:"close",xpReward:50,condition:t=>vt(t,"multiplication")>=200},{id:"mul_silver",title:"Biderkatzaile (Plata)",description:"500 XP Biderketetan.",icon:"close",xpReward:150,condition:t=>vt(t,"multiplication")>=500},{id:"mul_gold",title:"Biderkatzaile (Oro)",description:"1000 XP Biderketetan.",icon:"close",xpReward:300,condition:t=>vt(t,"multiplication")>=1e3},{id:"div_bronze",title:"Zatitzaile (Bronce)",description:"200 XP Zatiketetan.",icon:"percent",xpReward:50,condition:t=>vt(t,"division")>=200},{id:"div_silver",title:"Zatitzaile (Plata)",description:"500 XP Zatiketetan.",icon:"percent",xpReward:150,condition:t=>vt(t,"division")>=500},{id:"div_gold",title:"Zatitzaile (Oro)",description:"1000 XP Zatiketetan.",icon:"percent",xpReward:300,condition:t=>vt(t,"division")>=1e3},{id:"pow_bronze",title:"Potentzia (Bronce)",description:"200 XP Berreketetan.",icon:"expand_less",xpReward:50,condition:t=>vt(t,"powers")>=200},{id:"pow_silver",title:"Potentzia (Plata)",description:"500 XP Berreketetan.",icon:"expand_less",xpReward:150,condition:t=>vt(t,"powers")>=500},{id:"pow_gold",title:"Potentzia (Oro)",description:"1000 XP Berreketetan.",icon:"expand_less",xpReward:300,condition:t=>vt(t,"powers")>=1e3},{id:"roo_bronze",title:"Erro (Bronce)",description:"200 XP Erroetan.",icon:"check",xpReward:50,condition:t=>vt(t,"roots")>=200},{id:"roo_silver",title:"Erro (Plata)",description:"500 XP Erroetan.",icon:"check",xpReward:150,condition:t=>vt(t,"roots")>=500},{id:"roo_gold",title:"Erro (Oro)",description:"1000 XP Erroetan.",icon:"check",xpReward:300,condition:t=>vt(t,"roots")>=1e3},{id:"com_bronze",title:"Konbinatu (Bronce)",description:"200 XP Konbinatuetan.",icon:"function",xpReward:50,condition:t=>vt(t,"combined")>=200},{id:"com_silver",title:"Konbinatu (Plata)",description:"500 XP Konbinatuetan.",icon:"function",xpReward:150,condition:t=>vt(t,"combined")>=500},{id:"com_gold",title:"Konbinatu (Oro)",description:"1000 XP Konbinatuetan.",icon:"function",xpReward:300,condition:t=>vt(t,"combined")>=1e3},{id:"mix_bronze",title:"Expertua (Bronce)",description:"200 XP Mistoan.",icon:"psychology",xpReward:50,condition:t=>vt(t,"mixed")>=200},{id:"mix_silver",title:"Expertua (Plata)",description:"500 XP Mistoan.",icon:"psychology",xpReward:150,condition:t=>vt(t,"mixed")>=500},{id:"mix_gold",title:"Expertua (Oro)",description:"1000 XP Mistoan.",icon:"psychology",xpReward:300,condition:t=>vt(t,"mixed")>=1e3}],vt=(t,e)=>{let n=0;for(const i in t.gameXp)i.startsWith(e)&&(n+=t.gameXp[i]);return n},AT=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(t){return console.error("Error fetching IP",t),"unknown"}},lV=t=>{const e=new Date,n=new Date(t.lastLoginDate),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),a=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime(),l=1440*60*1e3;return i>a&&(i-a===l?t.streak+=1:i-a>l&&(t.streak=1),t.lastLoginDate=e.toISOString()),t},Wo={login:async(t,e)=>{const i=(await N3(Sh,t,e)).user.uid,a=gl($r,"users",i),l=await gf(a);if(l.exists()){let u=l.data();const d=await AT(),f=u.streak;return u=lV(u),(f!==u.streak||u.lastLoginDate!==l.data().lastLoginDate||u.lastIp!==d)&&(await n0(a,{streak:u.streak,lastLoginDate:u.lastLoginDate,lastIp:d}),u.lastIp=d),u}else throw new Error("Erabiltzailearen datuak ez dira aurkitu.")},loginAsGuest:async()=>({uid:"guest_"+Date.now(),email:"guest@zoa.eus",displayName:"Gonbidatua",photoURL:"https://ui-avatars.com/api/?name=Guest&background=e2e8f0&color=64748b",xp:0,level:1,streak:0,lastLoginDate:new Date().toISOString(),completedLessons:[],gameXp:{},unlockedAchievements:[]}),register:async(t,e,n)=>{const a=(await R3(Sh,t,e)).user.uid,l={uid:a,email:t,displayName:n,photoURL:`https://ui-avatars.com/api/?name=${n}&background=136dec&color=fff`,xp:0,level:1,streak:1,lastLoginDate:new Date().toISOString(),lastIp:await AT(),completedLessons:[],gameXp:{},unlockedAchievements:[],isAdmin:t==="admin@zoa.eus"};return await iV(gl($r,"users",a),l),l},logout:async()=>{await M3(Sh)},onAuthStateChanged:t=>D3(Sh,t),getUserProfile:async t=>{const e=gl($r,"users",t),n=await gf(e);return n.exists()?n.data():null}},Al={updateUserProgress:async(t,e,n)=>{const i=gl($r,"users",t),a=await gf(i);if(!a.exists())throw new Error("User not found");const l=a.data();l.gameXp||(l.gameXp={}),l.unlockedAchievements||(l.unlockedAchievements=[]);let u=0;const d=l.gameXp[n]||0;if(e>=0){const p=ct[n]||9999,b=Math.max(0,p-d);u=Math.min(e,b),u>0&&(l.xp+=u,l.gameXp[n]=d+u,n.startsWith("theory_")&&!l.completedLessons.includes(n)&&l.completedLessons.push(n))}else{const p=Math.abs(e),b=Math.min(p,d);b>0&&(l.gameXp[n]=d-b,l.xp=Math.max(0,l.xp-b)),u=-b}const f=[];return u>=0&&(l.level=Math.floor(l.xp/500)+1,s0.forEach(p=>{l.unlockedAchievements.includes(p.id)||p.condition(l)&&(l.unlockedAchievements.push(p.id),l.xp+=p.xpReward,l.level=Math.floor(l.xp/500)+1,f.push(p))})),await n0(i,{xp:l.xp,level:l.level,gameXp:l.gameXp,completedLessons:l.completedLessons,unlockedAchievements:l.unlockedAchievements}),{user:l,actualXpAdded:u,newAchievements:f}},updateProfile:async(t,e)=>{const n=gl($r,"users",t);return await n0(n,e),(await gf(n)).data()},getLeaderboard:async()=>{const t=_T(yT($r,"users"),wT("xp","desc"),eV(10)),e=await ST(t),n=[];return e.forEach(i=>{n.push(i.data())}),n},getAllUsers:async()=>{const t=_T(yT($r,"users"),wT("lastLoginDate","desc")),e=await ST(t),n=[];return e.forEach(i=>{n.push(i.data())}),n},kickUser:async t=>{await rV(gl($r,"users",t))}},MA=P.createContext(void 0),cV=({children:t})=>{const[e,n]=P.useState([]),i=P.useCallback((l,u)=>{const d=Date.now().toString()+Math.random().toString().slice(2,8);n(f=>[...f,{id:d,type:l,message:u}]),setTimeout(()=>{n(f=>f.filter(p=>p.id!==d))},3e3)},[]),a=P.useCallback(l=>{n(u=>u.filter(d=>d.id!==l))},[]);return y.jsx(MA.Provider,{value:{addToast:i,removeToast:a,toasts:e},children:t})},qu=()=>{const t=P.useContext(MA);if(t===void 0)throw new Error("useToast must be used within an ToastProvider");return t},jA=P.createContext(void 0),uV=({children:t})=>{const[e,n]=P.useState(null),[i,a]=P.useState(!0),[l,u]=P.useState([]),{addToast:d}=qu();P.useEffect(()=>{const A=Wo.onAuthStateChanged(async I=>{if(I)try{const O=await Wo.getUserProfile(I.uid);n(O||null)}catch(O){console.error("Error fetching profile",O),n(null)}else n(null);a(!1)});return()=>A()},[]);const f=async(A,I)=>{const O=await Wo.login(A,I);n(O)},p=async()=>{const A=await Wo.loginAsGuest();n(A)},b=async(A,I,O)=>{const D=await Wo.register(A,I,O);n(D)},x=async()=>{await Wo.logout(),n(null)},T=async(A,I)=>{if(!e||e.uid.startsWith("guest_"))return 0;try{const{user:O,actualXpAdded:D,newAchievements:B}=await Al.updateUserProgress(e.uid,A,I);return n(O),B&&B.length>0&&u(B),D}catch(O){return console.error("XP Error",O),0}};return y.jsxs(jA.Provider,{value:{user:e,loading:i,login:f,loginAsGuest:p,register:b,logout:x,addXp:T},children:[!i&&t,l.length>0&&y.jsx(GC,{achievements:l,onClose:()=>u([])})]})},Ai=()=>{const t=P.useContext(jA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},dV=()=>{const t=Si(),e=ao(),{user:n,logout:i}=Ai(),[a,l]=P.useState(!1),[u,d]=P.useState(K_.isMuted());P.useEffect(()=>{document.documentElement.classList.contains("dark")&&l(!0)},[]);const f=()=>{Ct.click();const A=document.documentElement;A.classList.contains("dark")?(A.classList.remove("dark"),l(!1)):(A.classList.add("dark"),l(!0))},p=()=>{const A=K_.toggleMute();d(A),A||Ct.click()},b=A=>t.pathname===A,x=A=>`text-sm font-medium leading-normal transition-colors ${b(A)?"text-primary font-bold":"text-slate-700 dark:text-slate-300 hover:text-primary dark:hover:text-primary"}`,T=async()=>{Ct.click(),await i(),e("/")};return y.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur transition-colors duration-200",children:y.jsxs("div",{className:"px-4 md:px-10 py-3 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(nt,{to:"/",className:"size-8 text-primary",onClick:()=>Ct.click(),children:y.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"}),y.jsx("path",{clipRule:"evenodd",d:"M10.4485 13.8519C10.4749 13.9271 10.6203 14.246 11.379 14.7361C12.298 15.3298 13.7492 15.9145 15.6717 16.3735C18.0007 16.9296 20.8712 17.2655 24 17.2655C27.1288 17.2655 29.9993 16.9296 32.3283 16.3735C34.2508 15.9145 35.702 15.3298 36.621 14.7361C37.3796 14.246 37.5251 13.9271 37.5515 13.8519C37.5287 13.7876 37.4333 13.5973 37.0635 13.2931C36.5266 12.8516 35.6288 12.3647 34.343 11.9175C31.79 11.0295 28.1333 10.4437 24 10.4437C19.8667 10.4437 16.2099 11.0295 13.657 11.9175C12.3712 12.3647 11.4734 12.8516 10.9365 13.2931C10.5667 13.5973 10.4713 13.7876 10.4485 13.8519ZM37.5563 18.7877C36.3176 19.3925 34.8502 19.8839 33.2571 20.2642C30.5836 20.9025 27.3973 21.2655 24 21.2655C20.6027 21.2655 17.4164 20.9025 14.7429 20.2642C13.1498 19.8839 11.6824 19.3925 10.4436 18.7877V34.1275C10.4515 34.1545 10.5427 34.4867 11.379 35.027C12.298 35.6207 13.7492 36.2054 15.6717 36.6644C18.0007 37.2205 20.8712 37.5564 24 37.5564C27.1288 37.5564 29.9993 37.2205 32.3283 36.6644C34.2508 36.2054 35.702 35.6207 36.621 35.027C37.4573 34.4867 37.5485 34.1546 37.5563 34.1275V18.7877ZM41.5563 13.8546V34.1455C41.5563 36.1078 40.158 37.5042 38.7915 38.3869C37.3498 39.3182 35.4192 40.0389 33.2571 40.5551C30.5836 41.1934 27.3973 41.5564 24 41.5564C20.6027 41.5564 17.4164 41.1934 14.7429 40.5551C12.5808 40.0389 10.6502 39.3182 9.20848 38.3869C7.84205 37.5042 6.44365 36.1078 6.44365 34.1455L6.44365 13.8546C6.44365 12.2684 7.37223 11.0454 8.39581 10.2036C9.43325 9.3505 10.8137 8.67141 12.343 8.13948C15.4203 7.06909 19.5418 6.44366 24 6.44366C28.4582 6.44366 32.5797 7.06909 35.657 8.13948C37.1863 8.67141 38.5667 9.3505 39.6042 10.2036C40.6278 11.0454 41.5563 12.2684 41.5563 13.8546Z",fill:"currentColor",fillRule:"evenodd"})]})}),y.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] hidden sm:block",children:"Zenbaki Osoen Abentura"})]}),y.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[y.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[y.jsx(nt,{className:x("/"),to:"/",children:"Hasiera"}),y.jsx(nt,{className:x("/topics"),to:"/topics",children:"Teoria"}),y.jsx(nt,{className:x("/games"),to:"/games",children:"Jokoak"}),n&&y.jsx(nt,{className:x("/progress"),to:"/progress",children:"Aurrerapena"}),n&&n.isAdmin&&y.jsx(nt,{className:"text-sm font-bold text-red-500 hover:text-red-700 uppercase tracking-wider",to:"/admin",children:"ADMIN"})]}),y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined",children:u?"volume_off":"volume_up"})}),y.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined",children:a?"light_mode":"dark_mode"})}),n?y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:T,className:"hidden md:flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 transition-colors text-slate-900 dark:text-white text-sm font-bold leading-normal tracking-[0.015em]",children:y.jsx("span",{className:"truncate",children:"Saioa itxi"})}),y.jsx(nt,{to:"/profile",title:"Nire Profila",className:"bg-center bg-no-repeat bg-cover rounded-full size-10 border-2 border-primary/50 dark:border-primary/50 shadow-sm hover:scale-105 transition-transform",style:{backgroundImage:`url("${n.photoURL||"https://ui-avatars.com/api/?name="+n.displayName}")`}})]}):y.jsxs("div",{className:"flex gap-2",children:[y.jsx(nt,{to:"/login",className:"flex items-center justify-center rounded-lg h-9 px-4 bg-primary hover:bg-blue-600 transition-colors text-white text-sm font-bold shadow-sm shadow-blue-500/30",children:y.jsx("span",{className:"truncate",children:"Hasi Saioa"})}),y.jsx(nt,{to:"/register",className:"hidden sm:flex items-center justify-center rounded-lg h-9 px-4 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors text-slate-900 dark:text-white text-sm font-bold",children:y.jsx("span",{className:"truncate",children:"Erregistratu"})})]})]})]})]})})},hV=()=>y.jsx("footer",{className:"w-full border-t border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark py-10 px-10",children:y.jsxs("div",{className:"max-w-[1200px] mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[y.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[y.jsx("div",{className:"size-6 text-primary",children:y.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"})})}),y.jsx("span",{className:"font-bold text-lg",children:"Zenbaki Osoen Abentura"})]}),y.jsxs("div",{className:"flex gap-8 text-sm font-medium text-slate-600 dark:text-slate-400",children:[y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Irakasleentzat"}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Laguntza"}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Pribatutasuna"})]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:" 2023 DBH Matematika"})]})}),fV=()=>{const{toasts:t,removeToast:e}=qu(),n=a=>{switch(a){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"xp":return"bg-yellow-400 text-slate-900 border-yellow-500 font-black";case"achievement":return"bg-purple-600 text-white border-purple-400 font-bold shadow-purple-500/50";default:return"bg-slate-800 text-white border-slate-900"}},i=a=>{switch(a){case"success":return"check_circle";case"error":return"error";case"xp":return"bolt";case"achievement":return"emoji_events";default:return"info"}};return y.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",children:t.map(a=>y.jsxs("div",{onClick:()=>e(a.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border-b-4 cursor-pointer animate-in slide-in-from-right fade-in duration-300 hover:scale-105 transition-transform ${n(a.type)}`,children:[y.jsx("span",{className:"material-symbols-outlined",children:i(a.type)}),y.jsx("span",{className:"text-sm font-bold",children:a.message})]},a.id))})},VA=P.createContext({});function mV(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dy=typeof window<"u",pV=Dy?P.useLayoutEffect:P.useEffect,My=P.createContext(null);function jy(t,e){t.indexOf(e)===-1&&t.push(e)}function Vy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rr=(t,e,n)=>n>e?e:n<t?t:n;let Py=()=>{};const ar={},PA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OA(t){return typeof t=="object"&&t!==null}const LA=t=>/^0[^.\s]+$/u.test(t);function Oy(t){let e;return()=>(e===void 0&&(e=t()),e)}const As=t=>t,gV=(t,e)=>n=>e(t(n)),Gu=(...t)=>t.reduce(gV),Su=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Ly{constructor(){this.subscriptions=[]}add(e){return jy(this.subscriptions,e),()=>Vy(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _i=t=>t*1e3,Ss=t=>t/1e3;function zA(t,e){return e?t*(1e3/e):0}const UA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yV=1e-7,bV=12;function vV(t,e,n,i,a){let l,u,d=0;do u=e+(n-e)/2,l=UA(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>yV&&++d<bV);return u}function Ku(t,e,n,i){if(t===e&&n===i)return As;const a=l=>vV(l,0,1,t,n);return l=>l===0||l===1?l:UA(a(l),e,i)}const BA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FA=t=>e=>1-t(1-e),HA=Ku(.33,1.53,.69,.99),zy=FA(HA),qA=BA(zy),GA=t=>(t*=2)<1?.5*zy(t):.5*(2-Math.pow(2,-10*(t-1))),Uy=t=>1-Math.sin(Math.acos(t)),KA=FA(Uy),$A=BA(Uy),xV=Ku(.42,0,1,1),_V=Ku(0,0,.58,1),XA=Ku(.42,0,.58,1),wV=t=>Array.isArray(t)&&typeof t[0]!="number",YA=t=>Array.isArray(t)&&typeof t[0]=="number",TV={linear:As,easeIn:xV,easeInOut:XA,easeOut:_V,circIn:Uy,circInOut:$A,circOut:KA,backIn:zy,backInOut:qA,backOut:HA,anticipate:GA},EV=t=>typeof t=="string",kT=t=>{if(YA(t)){Py(t.length===4);const[e,n,i,a]=t;return Ku(e,n,i,a)}else if(EV(t))return TV[t];return t},Ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SV(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(b){u.has(b)&&(p.schedule(b),t()),b(d)}const p={schedule:(b,x=!1,T=!1)=>{const I=T&&a?n:i;return x&&u.add(b),I.has(b)||I.add(b),b},cancel:b=>{i.delete(b),u.delete(b)},process:b=>{if(d=b,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(b))}};return p}const AV=40;function QA(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ah.reduce((H,ae)=>(H[ae]=SV(l),H),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:b,update:x,preRender:T,render:A,postRender:I}=u,O=()=>{const H=ar.useManualTiming?a.timestamp:performance.now();n=!1,ar.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(H-a.timestamp,AV),1)),a.timestamp=H,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),b.process(a),x.process(a),T.process(a),A.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(O))},D=()=>{n=!0,i=!0,a.isProcessing||t(O)};return{schedule:Ah.reduce((H,ae)=>{const oe=u[ae];return H[ae]=(he,N=!1,S=!1)=>(n||D(),oe.schedule(he,N,S)),H},{}),cancel:H=>{for(let ae=0;ae<Ah.length;ae++)u[Ah[ae]].cancel(H)},state:a,steps:u}}const{schedule:It,cancel:aa,state:Tn,steps:ug}=QA(typeof requestAnimationFrame<"u"?requestAnimationFrame:As,!0);let qh;function kV(){qh=void 0}const Qn={now:()=>(qh===void 0&&Qn.set(Tn.isProcessing||ar.useManualTiming?Tn.timestamp:performance.now()),qh),set:t=>{qh=t,queueMicrotask(kV)}},ZA=t=>e=>typeof e=="string"&&e.startsWith(t),WA=ZA("--"),RV=ZA("var(--"),By=t=>RV(t)?NV.test(t.split("/*")[0].trim()):!1,NV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Au={...Ul,transform:t=>rr(0,1,t)},kh={...Ul,default:1},uu=t=>Math.round(t*1e5)/1e5,Fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CV(t){return t==null}const IV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hy=(t,e)=>n=>!!(typeof n=="string"&&IV.test(n)&&n.startsWith(t)||e&&!CV(n)&&Object.prototype.hasOwnProperty.call(n,e)),JA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,d]=i.match(Fy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},DV=t=>rr(0,255,t),dg={...Ul,transform:t=>Math.round(DV(t))},Xa={test:Hy("rgb","red"),parse:JA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+dg.transform(t)+", "+dg.transform(e)+", "+dg.transform(n)+", "+uu(Au.transform(i))+")"};function MV(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const i0={test:Hy("#"),parse:MV,transform:Xa.transform},$u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Br=$u("deg"),wi=$u("%"),Me=$u("px"),jV=$u("vh"),VV=$u("vw"),RT={...wi,parse:t=>wi.parse(t)/100,transform:t=>wi.transform(t*100)},ol={test:Hy("hsl","hue"),parse:JA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+wi.transform(uu(e))+", "+wi.transform(uu(n))+", "+uu(Au.transform(i))+")"},nn={test:t=>Xa.test(t)||i0.test(t)||ol.test(t),parse:t=>Xa.test(t)?Xa.parse(t):ol.test(t)?ol.parse(t):i0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xa.transform(t):ol.transform(t),getAnimatableNone:t=>{const e=nn.parse(t);return e.alpha=0,nn.transform(e)}},PV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Fy))==null?void 0:e.length)||0)+(((n=t.match(PV))==null?void 0:n.length)||0)>0}const ek="number",tk="color",LV="var",zV="var(",NT="${}",UV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ku(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(UV,f=>(nn.test(f)?(i.color.push(l),a.push(tk),n.push(nn.parse(f))):f.startsWith(zV)?(i.var.push(l),a.push(LV),n.push(f)):(i.number.push(l),a.push(ek),n.push(parseFloat(f))),++l,NT)).split(NT);return{values:n,split:d,indexes:i,types:a}}function nk(t){return ku(t).values}function sk(t){const{split:e,types:n}=ku(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===ek?l+=uu(a[u]):d===tk?l+=nn.transform(a[u]):l+=a[u]}return l}}const BV=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function FV(t){const e=nk(t);return sk(t)(e.map(BV))}const oa={test:OV,parse:nk,createTransformer:sk,getAnimatableNone:FV};function hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HV({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=hg(f,d,t+1/3),l=hg(f,d,t),u=hg(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function yf(t,e){return n=>n>0?e:t}const Pt=(t,e,n)=>t+(e-t)*n,fg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},qV=[i0,Xa,ol],GV=t=>qV.find(e=>e.test(t));function CT(t){const e=GV(t);if(!e)return!1;let n=e.parse(t);return e===ol&&(n=HV(n)),n}const IT=(t,e)=>{const n=CT(t),i=CT(e);if(!n||!i)return yf(t,e);const a={...n};return l=>(a.red=fg(n.red,i.red,l),a.green=fg(n.green,i.green,l),a.blue=fg(n.blue,i.blue,l),a.alpha=Pt(n.alpha,i.alpha,l),Xa.transform(a))},r0=new Set(["none","hidden"]);function KV(t,e){return r0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $V(t,e){return n=>Pt(t,e,n)}function qy(t){return typeof t=="number"?$V:typeof t=="string"?By(t)?yf:nn.test(t)?IT:QV:Array.isArray(t)?ik:typeof t=="object"?nn.test(t)?IT:XV:yf}function ik(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>qy(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function XV(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=qy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function YV(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],d=t.values[u]??0;n[a]=d,i[l]++}return n}const QV=(t,e)=>{const n=oa.createTransformer(e),i=ku(t),a=ku(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?r0.has(t)&&!a.values.length||r0.has(e)&&!i.values.length?KV(t,e):Gu(ik(YV(i,a),a.values),n):yf(t,e)};function rk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):qy(t)(t,e)}const ZV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>It.update(e,n),stop:()=>aa(e),now:()=>Tn.isProcessing?Tn.timestamp:Qn.now()}},ak=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},bf=2e4;function Gy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<bf;)e+=n,i=t.next(e);return e>=bf?1/0:e}function WV(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Gy(i),bf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Ss(a)}}const JV=5;function ok(t,e,n){const i=Math.max(e-JV,0);return zA(n-t(i),e-i)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mg=.001;function eP({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:i=Ft.mass}){let a,l,u=1-e;u=rr(Ft.minDamping,Ft.maxDamping,u),t=rr(Ft.minDuration,Ft.maxDuration,Ss(t)),u<1?(a=p=>{const b=p*u,x=b*t,T=b-n,A=a0(p,u),I=Math.exp(-x);return mg-T/A*I},l=p=>{const x=p*u*t,T=x*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,I=Math.exp(-x),O=a0(Math.pow(p,2),u);return(-a(p)+mg>0?-1:1)*((T-A)*I)/O}):(a=p=>{const b=Math.exp(-p*t),x=(p-n)*t+1;return-mg+b*x},l=p=>{const b=Math.exp(-p*t),x=(n-p)*(t*t);return b*x});const d=5/t,f=nP(a,l,d);if(t=_i(t),isNaN(f))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const tP=12;function nP(t,e,n){let i=n;for(let a=1;a<tP;a++)i=i-t(i)/e(i);return i}function a0(t,e){return t*Math.sqrt(1-e*e)}const sP=["duration","bounce"],iP=["stiffness","damping","mass"];function DT(t,e){return e.some(n=>t[n]!==void 0)}function rP(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!DT(t,iP)&&DT(t,sP))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*rr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ft.mass,stiffness:a,damping:l}}else{const n=eP(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function vf(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:b,duration:x,velocity:T,isResolvedFromDuration:A}=rP({...n,velocity:-Ss(n.velocity||0)}),I=T||0,O=p/(2*Math.sqrt(f*b)),D=u-l,B=Ss(Math.sqrt(f/b)),Q=Math.abs(D)<5;i||(i=Q?Ft.restSpeed.granular:Ft.restSpeed.default),a||(a=Q?Ft.restDelta.granular:Ft.restDelta.default);let H;if(O<1){const oe=a0(B,O);H=he=>{const N=Math.exp(-O*B*he);return u-N*((I+O*B*D)/oe*Math.sin(oe*he)+D*Math.cos(oe*he))}}else if(O===1)H=oe=>u-Math.exp(-B*oe)*(D+(I+B*D)*oe);else{const oe=B*Math.sqrt(O*O-1);H=he=>{const N=Math.exp(-O*B*he),S=Math.min(oe*he,300);return u-N*((I+O*B*D)*Math.sinh(S)+oe*D*Math.cosh(S))/oe}}const ae={calculatedDuration:A&&x||null,next:oe=>{const he=H(oe);if(A)d.done=oe>=x;else{let N=oe===0?I:0;O<1&&(N=oe===0?_i(I):ok(H,oe,he));const S=Math.abs(N)<=i,R=Math.abs(u-he)<=a;d.done=S&&R}return d.value=d.done?u:he,d},toString:()=>{const oe=Math.min(Gy(ae),bf),he=ak(N=>ae.next(oe*N).value,oe,30);return oe+"ms "+he},toTransition:()=>{}};return ae}vf.applyToOptions=t=>{const e=WV(t,100,vf);return t.ease=e.ease,t.duration=_i(e.duration),t.type="keyframes",t};function o0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:b}){const x=t[0],T={done:!1,value:x},A=S=>d!==void 0&&S<d||f!==void 0&&S>f,I=S=>d===void 0?f:f===void 0||Math.abs(d-S)<Math.abs(f-S)?d:f;let O=n*e;const D=x+O,B=u===void 0?D:u(D);B!==D&&(O=B-x);const Q=S=>-O*Math.exp(-S/i),H=S=>B+Q(S),ae=S=>{const R=Q(S),j=H(S);T.done=Math.abs(R)<=p,T.value=T.done?B:j};let oe,he;const N=S=>{A(T.value)&&(oe=S,he=vf({keyframes:[T.value,I(T.value)],velocity:ok(H,S,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:b}))};return N(0),{calculatedDuration:null,next:S=>{let R=!1;return!he&&oe===void 0&&(R=!0,ae(S),N(S)),oe!==void 0&&S>=oe?he.next(S-oe):(!R&&ae(S),T)}}}function aP(t,e,n){const i=[],a=n||ar.mix||rk,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||As:e;d=Gu(f,d)}i.push(d)}return i}function oP(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Py(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=aP(e,i,a),f=d.length,p=b=>{if(u&&b<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(b<t[x+1]);x++);const T=Su(t[x],t[x+1],b);return d[x](T)};return n?b=>p(rr(t[0],t[l-1],b)):p}function lP(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Su(0,e,i);t.push(Pt(n,1,a))}}function cP(t){const e=[0];return lP(e,t.length-1),e}function uP(t,e){return t.map(n=>n*e)}function dP(t,e){return t.map(()=>e||XA).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=wV(i)?i.map(kT):kT(i),l={done:!1,value:e[0]},u=uP(n&&n.length===e.length?n:cP(e),t),d=oP(u,e,{ease:Array.isArray(a)?a:dP(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const hP=t=>t!==null;function Ky(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(hP),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const fP={decay:o0,inertia:o0,tween:du,keyframes:du,spring:vf};function lk(t){typeof t.type=="string"&&(t.type=fP[t.type])}class $y{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mP=t=>t/100;class Xy extends $y{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Qn.now()&&this.tick(Qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lk(e);const{type:n=du,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const f=n||du;f!==du&&typeof d[0]!="number"&&(this.mixKeyframes=Gu(mP,rk(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Gy(p));const{calculatedDuration:b}=p;this.calculatedDuration=b,this.resolvedDuration=b+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:b,repeat:x,repeatType:T,repeatDelay:A,type:I,onUpdate:O,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ae=i;if(x){const S=Math.min(this.currentTime,a)/d;let R=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&R--,R=Math.min(R,x+1),!!(R%2)&&(T==="reverse"?(j=1-j,A&&(j-=A/d)):T==="mirror"&&(ae=u)),H=rr(0,1,j)*d}const oe=Q?{done:!1,value:b[0]}:ae.next(H);l&&(oe.value=l(oe.value));let{done:he}=oe;!Q&&f!==null&&(he=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&he);return N&&I!==o0&&(oe.value=Ky(b,this.options,D,this.speed)),O&&O(oe.value),N&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return Ss(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ss(e)}get time(){return Ss(this.currentTime)}set time(e){var n;e=_i(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ss(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=ZV,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function pP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ya=t=>t*180/Math.PI,l0=t=>{const e=Ya(Math.atan2(t[1],t[0]));return c0(e)},gP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:l0,rotateZ:l0,skewX:t=>Ya(Math.atan(t[1])),skewY:t=>Ya(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},c0=t=>(t=t%360,t<0&&(t+=360),t),MT=l0,jT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),VT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:VT,scale:t=>(jT(t)+VT(t))/2,rotateX:t=>c0(Ya(Math.atan2(t[6],t[5]))),rotateY:t=>c0(Ya(Math.atan2(-t[2],t[0]))),rotateZ:MT,rotate:MT,skewX:t=>Ya(Math.atan(t[4])),skewY:t=>Ya(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function u0(t){return t.includes("scale")?1:0}function d0(t,e){if(!t||t==="none")return u0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=yP,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=gP,a=d}if(!a)return u0(e);const l=i[e],u=a[1].split(",").map(vP);return typeof l=="function"?l(u):u[l]}const bP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return d0(n,e)};function vP(t){return parseFloat(t.trim())}const Bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fl=new Set(Bl),PT=t=>t===Ul||t===Me,xP=new Set(["x","y","z"]),_P=Bl.filter(t=>!xP.has(t));function wP(t){const e=[];return _P.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d0(e,"x"),y:(t,{transform:e})=>d0(e,"y")};Za.translateX=Za.x;Za.translateY=Za.y;const Wa=new Set;let h0=!1,f0=!1,m0=!1;function ck(){if(f0){const t=Array.from(Wa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=wP(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{var d;(d=i.getValue(l))==null||d.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}f0=!1,h0=!1,Wa.forEach(t=>t.complete(m0)),Wa.clear()}function uk(){Wa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f0=!0)})}function TP(){m0=!0,uk(),ck(),m0=!1}class Yy{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Wa.add(this),h0||(h0=!0,It.read(uk),It.resolveKeyframes(ck))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}pP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wa.delete(this)}cancel(){this.state==="scheduled"&&(Wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EP=t=>t.startsWith("--");function SP(t,e,n){EP(e)?t.style.setProperty(e,n):t.style[e]=n}const AP=Oy(()=>window.ScrollTimeline!==void 0),kP={};function RP(t,e){const n=Oy(t);return()=>kP[e]??n()}const dk=RP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),su=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,OT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:su([0,.65,.55,1]),circOut:su([.55,0,1,.45]),backIn:su([.31,.01,.66,-.59]),backOut:su([.33,1.53,.69,.99])};function hk(t,e){if(t)return typeof t=="function"?dk()?ak(t,e):"ease-out":YA(t)?su(t):Array.isArray(t)?t.map(n=>hk(n,e)||OT.easeOut):OT[t]}function NP(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const b={[e]:n};f&&(b.offset=f);const x=hk(d,a);Array.isArray(x)&&(b.easing=x);const T={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(b,T)}function fk(t){return typeof t=="function"&&"applyToOptions"in t}function CP({type:t,...e}){return fk(t)&&dk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class IP extends $y{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Py(typeof e.type!="string");const p=CP(e);this.animation=NP(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const b=Ky(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(b):SP(n,i,b),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Ss(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ss(e)}get time(){return Ss(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_i(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&AP()?(this.animation.timeline=e,As):n(this)}}const mk={anticipate:GA,backInOut:qA,circInOut:$A};function DP(t){return t in mk}function MP(t){typeof t.ease=="string"&&DP(t.ease)&&(t.ease=mk[t.ease])}const LT=10;class jP extends IP{constructor(e){MP(e),lk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Xy({...u,autoplay:!1}),f=_i(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-LT).value,d.sample(f).value,LT),d.stop()}}const zT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oa.test(t)||t==="0")&&!t.startsWith("url("));function VP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PP(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=zT(a,e),d=zT(l,e);return!u||!d?!1:VP(t)||(n==="spring"||fk(n))&&i}function p0(t){t.duration=0,t.type="keyframes"}const OP=new Set(["opacity","clipPath","filter","transform"]),LP=Oy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zP(t){var b;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(((b=e==null?void 0:e.owner)==null?void 0:b.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return LP()&&n&&OP.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const UP=40;class BP extends $y{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:b,...x}){var I;super(),this.stop=()=>{var O,D;this._animation&&(this._animation.stop(),(O=this.stopTimeline)==null||O.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Qn.now();const T={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:f,motionValue:p,element:b,...x},A=(b==null?void 0:b.KeyframeResolver)||Yy;this.keyframeResolver=new A(d,(O,D,B)=>this.onKeyframesResolved(O,D,T,!B),f,p,b),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:b}=i;this.resolvedAt=Qn.now(),PP(e,l,u,d)||((ar.instantAnimations||!f)&&(b==null||b(Ky(e,i,n))),e[0]=e[e.length-1],p0(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>UP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&zP(T)?new jP({...T,element:T.motionValue.owner.current}):new Xy(T);A.finished.then(()=>this.notifyFinished()).catch(As),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),TP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const FP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HP(t){const e=FP.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function pk(t,e,n=1){const[i,a]=HP(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return PA(u)?parseFloat(u):u}return By(a)?pk(a,e,n+1):a}function Qy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const gk=new Set(["width","height","top","left","right","bottom",...Bl]),qP={test:t=>t==="auto",parse:t=>t},yk=t=>e=>e.test(t),bk=[Ul,Me,wi,Br,VV,jV,qP],UT=t=>bk.find(yk(t));function GP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LA(t):!0}const KP=new Set(["brightness","contrast","saturate","opacity"]);function $P(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Fy)||[];if(!i)return t;const a=n.replace(i,"");let l=KP.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const XP=/\b([a-z-]*)\(.*?\)/gu,g0={...oa,getAnimatableNone:t=>{const e=t.match(XP);return e?e.map($P).join(" "):t}},BT={...Ul,transform:Math.round},YP={rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:kh,scaleX:kh,scaleY:kh,scaleZ:kh,skew:Br,skewX:Br,skewY:Br,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Au,originX:RT,originY:RT,originZ:Me},Zy={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...YP,zIndex:BT,fillOpacity:Au,strokeOpacity:Au,numOctaves:BT},QP={...Zy,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:g0,WebkitFilter:g0},vk=t=>QP[t];function xk(t,e){let n=vk(t);return n!==g0&&(n=oa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ZP=new Set(["auto","none","0"]);function WP(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!ZP.has(l)&&ku(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=xk(n,a)}class JP extends Yy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),By(p))){const b=pk(p,n.current);b!==void 0&&(e[f]=b),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gk.has(i)||e.length!==2)return;const[a,l]=e,u=UT(a),d=UT(l);if(u!==d)if(PT(u)&&PT(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Za[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||GP(e[a]))&&i.push(a);i.length&&WP(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Za[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Za[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function eO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _k=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function tO(t){return OA(t)&&"offsetHeight"in t}const FT=30,nO=t=>!isNaN(parseFloat(t));class sO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=Qn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ly);const i=this.events[e].add(n);return e==="change"?()=>{i(),It.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FT);return zA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kl(t,e){return new sO(t,e)}const{schedule:Wy}=QA(queueMicrotask,!1),Bs={x:!1,y:!1};function wk(){return Bs.x||Bs.y}function iO(t){return t==="x"||t==="y"?Bs[t]?null:(Bs[t]=!0,()=>{Bs[t]=!1}):Bs.x||Bs.y?null:(Bs.x=Bs.y=!0,()=>{Bs.x=Bs.y=!1})}function Tk(t,e){const n=eO(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function HT(t){return!(t.pointerType==="touch"||wk())}function rO(t,e,n={}){const[i,a,l]=Tk(t,n),u=d=>{if(!HT(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const b=x=>{HT(x)&&(p(x),f.removeEventListener("pointerleave",b))};f.addEventListener("pointerleave",b,a)};return i.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const Ek=(t,e)=>e?t===e?!0:Ek(t,e.parentElement):!1,Jy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oO(t){return aO.has(t.tagName)||t.tabIndex!==-1}const Gh=new WeakSet;function qT(t){return e=>{e.key==="Enter"&&t(e)}}function pg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=qT(()=>{if(Gh.has(n))return;pg(n,"down");const a=qT(()=>{pg(n,"up")}),l=()=>pg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function GT(t){return Jy(t)&&!wk()}function cO(t,e,n={}){const[i,a,l]=Tk(t,n),u=d=>{const f=d.currentTarget;if(!GT(d))return;Gh.add(f);const p=e(f,d),b=(A,I)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",T),Gh.has(f)&&Gh.delete(f),GT(A)&&typeof p=="function"&&p(A,{success:I})},x=A=>{b(A,f===window||f===document||n.useGlobalTarget||Ek(f,A.target))},T=A=>{b(A,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",T,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),tO(d)&&(d.addEventListener("focus",p=>lO(p,a)),!oO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Sk(t){return OA(t)&&"ownerSVGElement"in t}function uO(t){return Sk(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),dO=[...bk,nn,oa],hO=t=>dO.find(yk(t)),Ak=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function fO(t=!0){const e=P.useContext(My);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=P.useId();P.useEffect(()=>{if(t)return a(l)},[t]);const u=P.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const kk=P.createContext({strict:!1}),KT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const t in KT)Rl[t]={isEnabled:e=>KT[t].some(n=>!!e[n])};function mO(t){for(const e in t)Rl[e]={...Rl[e],...t[e]}}const pO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pO.has(t)}let Rk=t=>!xf(t);function gO(t){typeof t=="function"&&(Rk=e=>e.startsWith("on")?!xf(e):t(e))}try{gO(require("@emotion/is-prop-valid").default)}catch{}function yO(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Rk(a)||n===!0&&xf(a)||!e&&!xf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Gf=P.createContext({});function Kf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ru(t){return typeof t=="string"||Array.isArray(t)}const eb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tb=["initial",...eb];function $f(t){return Kf(t.animate)||tb.some(e=>Ru(t[e]))}function Nk(t){return!!($f(t)||t.variants)}function bO(t,e){if($f(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ru(n)?n:void 0,animate:Ru(i)?i:void 0}}return t.inherit!==!1?e:{}}function vO(t){const{initial:e,animate:n}=bO(t,P.useContext(Gf));return P.useMemo(()=>({initial:e,animate:n}),[$T(e),$T(n)])}function $T(t){return Array.isArray(t)?t.join(" "):t}function XT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=XT(t,e.target.x),i=XT(t,e.target.y);return`${n}% ${i}%`}},xO={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=oa.parse(t);if(a.length>5)return i;const l=oa.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=f;const p=Pt(d,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},y0={borderRadius:{...Xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xc,borderTopRightRadius:Xc,borderBottomLeftRadius:Xc,borderBottomRightRadius:Xc,boxShadow:xO};function Ck(t,{layout:e,layoutId:n}){return Fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!y0[t]||t==="opacity")}const _O={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wO=Bl.length;function TO(t,e,n){let i="",a=!0;for(let l=0;l<wO;l++){const u=Bl[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=_k(d,Zy[u]);if(!f){a=!1;const b=_O[u]||u;i+=`${b}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function nb(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Fl.has(f)){u=!0;continue}else if(WA(f)){a[f]=p;continue}else{const b=_k(p,Zy[f]);f.startsWith("origin")?(d=!0,l[f]=b):i[f]=b}}if(e.transform||(u||n?i.transform=TO(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:b=0}=l;i.transformOrigin=`${f} ${p} ${b}`}}const sb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ik(t,e,n){for(const i in e)!In(e[i])&&!Ck(i,n)&&(t[i]=e[i])}function EO({transformTemplate:t},e){return P.useMemo(()=>{const n=sb();return nb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SO(t,e){const n=t.style||{},i={};return Ik(i,n,t),Object.assign(i,EO(t,e)),i}function AO(t,e){const n={},i=SO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const kO={offset:"stroke-dashoffset",array:"stroke-dasharray"},RO={offset:"strokeDashoffset",array:"strokeDasharray"};function NO(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?kO:RO;t[l.offset]=Me.transform(-i);const u=Me.transform(e),d=Me.transform(n);t[l.array]=`${u} ${d}`}function Dk(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},f,p,b){if(nb(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T}=t;x.transform&&(T.transform=x.transform,delete x.transform),(T.transform||x.transformOrigin)&&(T.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),T.transform&&(T.transformBox=(b==null?void 0:b.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),a!==void 0&&NO(x,a,l,u,!1)}const Mk=()=>({...sb(),attrs:{}}),jk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CO(t,e,n,i){const a=P.useMemo(()=>{const l=Mk();return Dk(l,e,jk(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Ik(l,t.style,t),a.style={...l,...a.style}}return a}const IO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ib(t){return typeof t!="string"||t.includes("-")?!1:!!(IO.indexOf(t)>-1||/[A-Z]/u.test(t))}function DO(t,e,n,{latestValues:i},a,l=!1){const d=(ib(t)?CO:AO)(e,i,a,t),f=yO(e,typeof t=="string",l),p=t!==P.Fragment?{...f,...d,ref:n}:{},{children:b}=e,x=P.useMemo(()=>In(b)?b.get():b,[b]);return P.createElement(t,{...p,children:x})}function YT(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function rb(t,e,n,i){if(typeof e=="function"){const[a,l]=YT(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=YT(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Kh(t){return In(t)?t.get():t}function MO({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:jO(n,i,a,t),renderState:e()}}function jO(t,e,n,i){const a={},l=i(t,{});for(const T in l)a[T]=Kh(l[T]);let{initial:u,animate:d}=t;const f=$f(t),p=Nk(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let b=n?n.initial===!1:!1;b=b||u===!1;const x=b?d:u;if(x&&typeof x!="boolean"&&!Kf(x)){const T=Array.isArray(x)?x:[x];for(let A=0;A<T.length;A++){const I=rb(t,T[A]);if(I){const{transitionEnd:O,transition:D,...B}=I;for(const Q in B){let H=B[Q];if(Array.isArray(H)){const ae=b?H.length-1:0;H=H[ae]}H!==null&&(a[Q]=H)}for(const Q in O)a[Q]=O[Q]}}}return a}const Vk=t=>(e,n)=>{const i=P.useContext(Gf),a=P.useContext(My),l=()=>MO(t,e,i,a);return n?l():mV(l)};function ab(t,e,n){var l;const{style:i}=t,a={};for(const u in i)(In(i[u])||e.style&&In(e.style[u])||Ck(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const VO=Vk({scrapeMotionValuesFromProps:ab,createRenderState:sb});function Pk(t,e,n){const i=ab(t,e,n);for(const a in t)if(In(t[a])||In(e[a])){const l=Bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const PO=Vk({scrapeMotionValuesFromProps:Pk,createRenderState:Mk}),OO=Symbol.for("motionComponentSymbol");function ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LO(t,e,n){return P.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ll(n)&&(n.current=i))},[e])}const ob=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zO="framerAppearId",Ok="data-"+ob(zO),Lk=P.createContext({});function UO(t,e,n,i,a){var O,D;const{visualElement:l}=P.useContext(Gf),u=P.useContext(kk),d=P.useContext(My),f=P.useContext(Ak).reducedMotion,p=P.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const b=p.current,x=P.useContext(Lk);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&BO(p.current,n,a,x);const T=P.useRef(!1);P.useInsertionEffect(()=>{b&&T.current&&b.update(n,d)});const A=n[Ok],I=P.useRef(!!A&&!((O=window.MotionHandoffIsComplete)!=null&&O.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return pV(()=>{b&&(T.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),I.current&&b.animationState&&b.animationState.animateChanges())}),P.useEffect(()=>{b&&(!I.current&&b.animationState&&b.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,A)}),I.current=!1),b.enteringChildren=void 0)}),b}function BO(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:b}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zk(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&ll(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:b,layoutScroll:f,layoutRoot:p})}function zk(t){if(t)return t.options.allowProjection!==!1?t.projection:zk(t.parent)}function gg(t,{forwardMotionProps:e=!1}={},n,i){n&&mO(n);const a=ib(t)?PO:VO;function l(d,f){let p;const b={...P.useContext(Ak),...d,layoutId:FO(d)},{isStatic:x}=b,T=vO(d),A=a(d,x);if(!x&&Dy){HO();const I=qO(b);p=I.MeasureLayout,T.visualElement=UO(t,A,b,i,I.ProjectionNode)}return y.jsxs(Gf.Provider,{value:T,children:[p&&T.visualElement?y.jsx(p,{visualElement:T.visualElement,...b}):null,DO(t,d,LO(A,T.visualElement,f),A,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=P.forwardRef(l);return u[OO]=t,u}function FO({layoutId:t}){const e=P.useContext(VA).id;return e&&t!==void 0?e+"-"+t:t}function HO(t,e){P.useContext(kk).strict}function qO(t){const{drag:e,layout:n}=Rl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function GO(t,e){if(typeof Proxy>"u")return gg;const n=new Map,i=(l,u)=>gg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,gg(u,void 0,t,e)),n.get(u))})}function Uk({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function KO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $O(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function yg(t){return t===void 0||t===1}function b0({scale:t,scaleX:e,scaleY:n}){return!yg(t)||!yg(e)||!yg(n)}function Ka(t){return b0(t)||Bk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Bk(t){return QT(t.x)||QT(t.y)}function QT(t){return t&&t!=="0%"}function _f(t,e,n){const i=t-n,a=e*i;return n+a}function ZT(t,e,n,i,a){return a!==void 0&&(t=_f(t,a,i)),_f(t,n,i)+e}function v0(t,e=0,n=1,i,a){t.min=ZT(t.min,e,n,i,a),t.max=ZT(t.max,e,n,i,a)}function Fk(t,{x:e,y:n}){v0(t.x,e.translate,e.scale,e.originPoint),v0(t.y,n.translate,n.scale,n.originPoint)}const WT=.999999999999,JT=1.0000000000001;function XO(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ul(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Fk(t,u)),i&&Ka(l.latestValues)&&ul(t,l.latestValues))}e.x<JT&&e.x>WT&&(e.x=1),e.y<JT&&e.y>WT&&(e.y=1)}function cl(t,e){t.min=t.min+e,t.max=t.max+e}function e1(t,e,n,i,a=.5){const l=Pt(t.min,t.max,a);v0(t,e,n,l,i)}function ul(t,e){e1(t.x,e.x,e.scaleX,e.scale,e.originX),e1(t.y,e.y,e.scaleY,e.scale,e.originY)}function Hk(t,e){return Uk($O(t.getBoundingClientRect(),e))}function YO(t,e,n){const i=Hk(t,n),{scroll:a}=e;return a&&(cl(i.x,a.offset.x),cl(i.y,a.offset.y)),i}const t1=()=>({translate:0,scale:1,origin:0,originPoint:0}),dl=()=>({x:t1(),y:t1()}),n1=()=>({min:0,max:0}),cn=()=>({x:n1(),y:n1()}),x0={current:null},qk={current:!1};function QO(){if(qk.current=!0,!!Dy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>x0.current=t.matches;t.addEventListener("change",e),e()}else x0.current=!1}const ZO=new WeakMap;function WO(t,e,n){for(const i in e){const a=e[i],l=n[i];if(In(a))t.addValue(i,a);else if(In(l))t.addValue(i,kl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,kl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const s1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JO{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Qn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,It.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=$f(n),this.isVariantNode=Nk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in x){const A=x[T];f[T]!==void 0&&In(A)&&A.set(f[T])}}mount(e){var n;this.current=e,ZO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),qk.current||QO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),aa(this.notifyUpdate),aa(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Fl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&It.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const n=Rl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<s1.length;i++){const a=s1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=WO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=kl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(PA(i)||LA(i))?i=parseFloat(i):!hO(i)&&oa.test(n)&&(i=xk(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=rb(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ly),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wy.render(this.render)}}class Gk extends JO{constructor(){super(...arguments),this.KeyframeResolver=JP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kk(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a==null||a.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function e6(t){return window.getComputedStyle(t)}class t6 extends Gk{constructor(){super(...arguments),this.type="html",this.renderInstance=Kk}readValueFromInstance(e,n){var i;if(Fl.has(n))return(i=this.projection)!=null&&i.isProjecting?u0(n):bP(e,n);{const a=e6(e),l=(WA(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Hk(e,n)}build(e,n,i){nb(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ab(e,n,i)}}const $k=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n6(t,e,n,i){Kk(t,e,void 0,i);for(const a in e.attrs)t.setAttribute($k.has(a)?a:ob(a),e.attrs[a])}class s6 extends Gk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fl.has(n)){const i=vk(n);return i&&i.default||0}return n=$k.has(n)?n:ob(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Pk(e,n,i)}build(e,n,i){Dk(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){n6(e,n,i,a)}mount(e){this.isSVGTag=jk(e.tagName),super.mount(e)}}const i6=(t,e)=>ib(t)?new s6(e):new t6(e,{allowProjection:t!==P.Fragment});function bl(t,e,n){const i=t.getProps();return rb(i,e,n!==void 0?n:i.custom,t)}const _0=t=>Array.isArray(t);function r6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kl(n))}function a6(t){return _0(t)?t[t.length-1]||0:t}function o6(t,e){const n=bl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const d=a6(l[u]);r6(t,u,d)}}function l6(t){return!!(In(t)&&t.add)}function w0(t,e){const n=t.getValue("willChange");if(l6(n))return n.add(e);if(!n&&ar.WillChange){const i=new ar.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Xk(t){return t.props[Ok]}const c6=t=>t!==null;function u6(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(c6),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const d6={type:"spring",stiffness:500,damping:25,restSpeed:10},h6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f6={type:"keyframes",duration:.8},m6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p6=(t,{keyframes:e})=>e.length>2?f6:Fl.has(t)?t.startsWith("scale")?h6(e[1]):d6:m6;function g6({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:p,...b}){return!!Object.keys(b).length}const lb=(t,e,n,i={},a,l)=>u=>{const d=Qy(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-_i(f);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};g6(d)||Object.assign(b,p6(t,b)),b.duration&&(b.duration=_i(b.duration)),b.repeatDelay&&(b.repeatDelay=_i(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let x=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(p0(b),b.delay===0&&(x=!0)),(ar.instantAnimations||ar.skipAnimations)&&(x=!0,p0(b),b.delay=0),b.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const T=u6(b.keyframes,d);if(T!==void 0){It.update(()=>{b.onUpdate(T),b.onComplete()});return}}return d.isSync?new Xy(b):new BP(b)};function y6({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Yk(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(l=i);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const b in d){const x=t.getValue(b,t.latestValues[b]??null),T=d[b];if(T===void 0||p&&y6(p,b))continue;const A={delay:n,...Qy(l||{},b)},I=x.get();if(I!==void 0&&!x.isAnimating&&!Array.isArray(T)&&T===I&&!A.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const B=Xk(t);if(B){const Q=window.MotionHandoffAnimation(B,b,It);Q!==null&&(A.startTime=Q,O=!0)}}w0(t,b),x.start(lb(b,x,T,t.shouldReduceMotion&&gk.has(b)?{type:!1}:A,t,O));const D=x.animation;D&&f.push(D)}return u&&Promise.all(f).then(()=>{It.update(()=>{u&&o6(t,u)})}),f}function Qk(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,b)=>p.sortNodePosition(b)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:d-l*i}function T0(t,e,n={}){var f;const i=bl(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(Yk(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:b=0,staggerChildren:x,staggerDirection:T}=a;return b6(t,e,p,b,x,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,b]=d==="beforeChildren"?[l,u]:[u,l];return p().then(()=>b())}else return Promise.all([l(),u(n.delay)])}function b6(t,e,n=0,i=0,a=0,l=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(T0(f,e,{...u,delay:n+(typeof i=="function"?0:i)+Qk(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function v6(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>T0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=T0(t,e,n);else{const a=typeof e=="function"?bl(t,e,n.custom):e;i=Promise.all(Yk(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Zk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const x6=tb.length;function Wk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Wk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x6;n++){const i=tb[n],a=t.props[i];(Ru(a)||a===!1)&&(e[i]=a)}return e}const _6=[...eb].reverse(),w6=eb.length;function T6(t){return e=>Promise.all(e.map(({animation:n,options:i})=>v6(t,n,i)))}function E6(t){let e=T6(t),n=i1(),i=!0;const a=f=>(p,b)=>{var T;const x=bl(t,b,f==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(x){const{transition:A,transitionEnd:I,...O}=x;p={...p,...O,...I}}return p};function l(f){e=f(t)}function u(f){const{props:p}=t,b=Wk(t.parent)||{},x=[],T=new Set;let A={},I=1/0;for(let D=0;D<w6;D++){const B=_6[D],Q=n[B],H=p[B]!==void 0?p[B]:b[B],ae=Ru(H),oe=B===f?Q.isActive:null;oe===!1&&(I=D);let he=H===b[B]&&H!==p[B]&&ae;if(he&&i&&t.manuallyAnimateOnMount&&(he=!1),Q.protectedKeys={...A},!Q.isActive&&oe===null||!H&&!Q.prevProp||Kf(H)||typeof H=="boolean")continue;const N=S6(Q.prevProp,H);let S=N||B===f&&Q.isActive&&!he&&ae||D>I&&ae,R=!1;const j=Array.isArray(H)?H:[H];let V=j.reduce(a(B),{});oe===!1&&(V={});const{prevResolvedValues:U={}}=Q,C={...U,...V},Xe=re=>{S=!0,T.has(re)&&(R=!0,T.delete(re)),Q.needsAnimating[re]=!0;const J=t.getValue(re);J&&(J.liveStyle=!1)};for(const re in C){const J=V[re],Ae=U[re];if(A.hasOwnProperty(re))continue;let Ve=!1;_0(J)&&_0(Ae)?Ve=!Zk(J,Ae):Ve=J!==Ae,Ve?J!=null?Xe(re):T.add(re):J!==void 0&&T.has(re)?Xe(re):Q.protectedKeys[re]=!0}Q.prevProp=H,Q.prevResolvedValues=V,Q.isActive&&(A={...A,...V}),i&&t.blockInitialAnimation&&(S=!1);const je=he&&N;S&&(!je||R)&&x.push(...j.map(re=>{const J={type:B};if(typeof re=="string"&&i&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Ve=bl(Ae,re);if(Ae.enteringChildren&&Ve){const{delayChildren:L}=Ve.transition||{};J.delay=Qk(Ae.enteringChildren,t,L)}}return{animation:re,options:J}}))}if(T.size){const D={};if(typeof p.initial!="boolean"){const B=bl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(D.transition=B.transition)}T.forEach(B=>{const Q=t.getBaseTarget(B),H=t.getValue(B);H&&(H.liveStyle=!0),D[B]=Q??null}),x.push({animation:D})}let O=!!x.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(x):Promise.resolve()}function d(f,p){var x;if(n[f].isActive===p)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(T=>{var A;return(A=T.animationState)==null?void 0:A.setActive(f,p)}),n[f].isActive=p;const b=u(f);for(const T in n)n[T].protectedKeys={};return b}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=i1()}}}function S6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Zk(e,t):!1}function Ha(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i1(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class A6 extends fa{constructor(e){super(e),e.animationState||(e.animationState=E6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let k6=0;class R6 extends fa{constructor(){super(...arguments),this.id=k6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const N6={animation:{Feature:A6},exit:{Feature:R6}};function Nu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Xu(t){return{point:{x:t.pageX,y:t.pageY}}}const C6=t=>e=>Jy(e)&&t(e,Xu(e));function hu(t,e,n,i){return Nu(t,e,C6(n),i)}const Jk=1e-4,I6=1-Jk,D6=1+Jk,e2=.01,M6=0-e2,j6=0+e2;function zn(t){return t.max-t.min}function V6(t,e,n){return Math.abs(t-e)<=n}function r1(t,e,n,i=.5){t.origin=i,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=zn(n)/zn(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=I6&&t.scale<=D6||isNaN(t.scale))&&(t.scale=1),(t.translate>=M6&&t.translate<=j6||isNaN(t.translate))&&(t.translate=0)}function fu(t,e,n,i){r1(t.x,e.x,n.x,i?i.originX:void 0),r1(t.y,e.y,n.y,i?i.originY:void 0)}function a1(t,e,n){t.min=n.min+e.min,t.max=t.min+zn(e)}function P6(t,e,n){a1(t.x,e.x,n.x),a1(t.y,e.y,n.y)}function o1(t,e,n){t.min=e.min-n.min,t.max=t.min+zn(e)}function wf(t,e,n){o1(t.x,e.x,n.x),o1(t.y,e.y,n.y)}function ws(t){return[t("x"),t("y")]}const t2=({current:t})=>t?t.ownerDocument.defaultView:null,l1=(t,e)=>Math.abs(t-e);function O6(t,e){const n=l1(t.x,e.x),i=l1(t.y,e.y);return Math.sqrt(n**2+i**2)}class n2{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=vg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,I=O6(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!I)return;const{point:O}=T,{timestamp:D}=Tn;this.history.push({...O,timestamp:D});const{onStart:B,onMove:Q}=this.handlers;A||(B&&B(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,T)},this.handlePointerMove=(T,A)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=bg(A,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(T,A)=>{this.end();const{onEnd:I,onSessionEnd:O,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=vg(T.type==="pointercancel"?this.lastMoveEventInfo:bg(A,this.transformPagePoint),this.history);this.startEvent&&I&&I(T,B),O&&O(T,B)},!Jy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=Xu(e),f=bg(d,this.transformPagePoint),{point:p}=f,{timestamp:b}=Tn;this.history=[{...p,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,vg(f,this.history)),this.removeListeners=Gu(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aa(this.updatePoint)}}function bg(t,e){return e?{point:e(t.point)}:t}function c1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:c1(t,s2(e)),offset:c1(t,L6(e)),velocity:z6(e,.1)}}function L6(t){return t[0]}function s2(t){return t[t.length-1]}function z6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=s2(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>_i(e)));)n--;if(!i)return{x:0,y:0};const l=Ss(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function U6(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Pt(n,t,i.max):Math.min(t,n)),t}function u1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function B6(t,{top:e,left:n,bottom:i,right:a}){return{x:u1(t.x,n,a),y:u1(t.y,e,i)}}function d1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function F6(t,e){return{x:d1(t.x,e.x),y:d1(t.y,e.y)}}function H6(t,e){let n=.5;const i=zn(t),a=zn(e);return a>i?n=Su(e.min,e.max-i,t.min):i>a&&(n=Su(t.min,t.max-a,e.min)),rr(0,1,n)}function q6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const E0=.35;function G6(t=E0){return t===!1?t=0:t===!0&&(t=E0),{x:h1(t,"left","right"),y:h1(t,"top","bottom")}}function h1(t,e,n){return{min:f1(t,e),max:f1(t,n)}}function f1(t,e){return typeof t=="number"?t:t[e]||0}const K6=new WeakMap;class $6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xu(x).point)},u=(x,T)=>{const{drag:A,dragPropagation:I,onDragStart:O}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iO(A),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ws(B=>{let Q=this.getAxisMotionValue(B).get()||0;if(wi.test(Q)){const{projection:H}=this.visualElement;if(H&&H.layout){const ae=H.layout.layoutBox[B];ae&&(Q=zn(ae)*(parseFloat(Q)/100))}}this.originPoint[B]=Q}),O&&It.postRender(()=>O(x,T)),w0(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},d=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:O,onDrag:D}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=T;if(I&&this.currentDirection===null){this.currentDirection=X6(B),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),D&&D(x,T)},f=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T,this.stop(x,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ws(x=>{var T;return this.getAnimationState(x)==="paused"&&((T=this.getAxisMotionValue(x).animation)==null?void 0:T.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new n2(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:i,contextWindow:t2(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&It.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Rh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=U6(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=B6(i.layoutBox,e):this.constraints=!1,this.elastic=G6(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ws(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=q6(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ll(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=YO(i,a.root,this.visualElement.getTransformPagePoint());let u=F6(a.layout.layoutBox,l);if(n){const d=n(KO(u));this.hasMutatedConstraints=!!d,d&&(u=Uk(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=ws(b=>{if(!Rh(b,n,this.currentDirection))return;let x=f&&f[b]||{};u&&(x={min:0,max:0});const T=a?200:1e6,A=a?40:1e7,I={type:"inertia",velocity:i?e[b]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(b,I)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return w0(this.visualElement,e),i.start(lb(e,i,0,n,this.visualElement,!1))}stopAnimation(){ws(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ws(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ws(n=>{const{drag:i}=this.getProps();if(!Rh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-Pt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ll(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ws(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();a[u]=H6({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ws(u=>{if(!Rh(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(Pt(f,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;K6.set(this.visualElement,this);const e=this.visualElement.current,n=hu(e,"pointerdown",f=>{const{drag:p,dragListener:b=!0}=this.getProps();p&&b&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ll(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),It.read(i);const u=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(ws(b=>{const x=this.getAxisMotionValue(b);x&&(this.originPoint[b]+=f[b].translate,x.set(x.get()+f[b].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=E0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Rh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Y6 extends fa{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new $6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}unmount(){this.removeGroupControls(),this.removeListeners()}}const m1=t=>(e,n)=>{t&&It.postRender(()=>t(e,n))};class Q6 extends fa{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new n2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:m1(e),onStart:m1(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&It.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $h={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xg=!1;class Z6 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),xg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),$h.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,xg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||It.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i2(t){const[e,n]=fO(),i=P.useContext(VA);return y.jsx(Z6,{...t,layoutGroup:i,switchLayoutGroup:P.useContext(Lk),isPresent:e,safeToRemove:n})}function W6(t,e,n){const i=In(t)?t:kl(t);return i.start(lb("",i,e,n)),i.animation}const J6=(t,e)=>t.depth-e.depth;class eL{constructor(){this.children=[],this.isDirty=!1}add(e){jy(this.children,e),this.isDirty=!0}remove(e){Vy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J6),this.isDirty=!1,this.children.forEach(e)}}function tL(t,e){const n=Qn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(aa(i),t(l-e))};return It.setup(i,!0),()=>aa(i)}const r2=["TopLeft","TopRight","BottomLeft","BottomRight"],nL=r2.length,p1=t=>typeof t=="string"?parseFloat(t):t,g1=t=>typeof t=="number"||Me.test(t);function sL(t,e,n,i,a,l){a?(t.opacity=Pt(0,n.opacity??1,iL(i)),t.opacityExit=Pt(e.opacity??1,0,rL(i))):l&&(t.opacity=Pt(e.opacity??1,n.opacity??1,i));for(let u=0;u<nL;u++){const d=`border${r2[u]}Radius`;let f=y1(e,d),p=y1(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||g1(f)===g1(p)?(t[d]=Math.max(Pt(p1(f),p1(p),i),0),(wi.test(p)||wi.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,i))}function y1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iL=a2(0,.5,KA),rL=a2(.5,.95,As);function a2(t,e,n){return i=>i<t?0:i>e?1:n(Su(t,e,i))}function b1(t,e){t.min=e.min,t.max=e.max}function Us(t,e){b1(t.x,e.x),b1(t.y,e.y)}function v1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function x1(t,e,n,i,a){return t-=e,t=_f(t,1/n,i),a!==void 0&&(t=_f(t,1/a,i)),t}function aL(t,e=0,n=1,i=.5,a,l=t,u=t){if(wi.test(e)&&(e=parseFloat(e),e=Pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Pt(l.min,l.max,i);t===l&&(d-=e),t.min=x1(t.min,e,n,d,a),t.max=x1(t.max,e,n,d,a)}function _1(t,e,[n,i,a],l,u){aL(t,e[n],e[i],e[a],e.scale,l,u)}const oL=["x","scaleX","originX"],lL=["y","scaleY","originY"];function w1(t,e,n,i){_1(t.x,e,oL,n?n.x:void 0,i?i.x:void 0),_1(t.y,e,lL,n?n.y:void 0,i?i.y:void 0)}function T1(t){return t.translate===0&&t.scale===1}function o2(t){return T1(t.x)&&T1(t.y)}function E1(t,e){return t.min===e.min&&t.max===e.max}function cL(t,e){return E1(t.x,e.x)&&E1(t.y,e.y)}function S1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function l2(t,e){return S1(t.x,e.x)&&S1(t.y,e.y)}function A1(t){return zn(t.x)/zn(t.y)}function k1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uL{constructor(){this.members=[]}add(e){jy(this.members,e),e.scheduleRender()}remove(e){if(Vy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dL(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:b,rotateX:x,rotateY:T,skewX:A,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),b&&(i+=`rotate(${b}deg) `),x&&(i+=`rotateX(${x}deg) `),T&&(i+=`rotateY(${T}deg) `),A&&(i+=`skewX(${A}deg) `),I&&(i+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const _g=["","X","Y","Z"],hL=1e3;let fL=0;function wg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function c2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Xk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&c2(i)}function u2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},d=e==null?void 0:e()){this.id=fL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gL),this.nodes.forEach(xL),this.nodes.forEach(_L),this.nodes.forEach(yL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new eL)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ly),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Sk(u)&&!uO(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let b,x=0;const T=()=>this.root.updateBlockedByResize=!1;It.read(()=>{x=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==x&&(x=A,this.root.updateBlockedByResize=!0,b&&b(),b=tL(T,250),$h.hasAnimatedSinceResize&&($h.hasAnimatedSinceResize=!1,this.nodes.forEach(C1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:x,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||AL,{onLayoutAnimationStart:O,onLayoutAnimationComplete:D}=p.getProps(),B=!this.targetLayout||!l2(this.targetLayout,A),Q=!x&&T;if(this.options.layoutRoot||this.resumeFrom||Q||x&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Qy(I,"layout"),onPlay:O,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(b,Q)}else x||C1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const x=this.path[b];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(N1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vL),this.nodes.forEach(mL),this.nodes.forEach(pL)):this.nodes.forEach(N1),this.clearAllSnapshots();const d=Qn.now();Tn.delta=rr(0,1e3/60,d-Tn.timestamp),Tn.timestamp=d,Tn.isProcessing=!0,ug.update.process(Tn),ug.preRender.process(Tn),ug.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bL),this.sharedNodes.forEach(TL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!o2(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,b=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ka(this.latestValues)||b)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),kL(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return cn();const d=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(RL))){const{scroll:b}=this.root;b&&(cl(d.x,b.offset.x),cl(d.y,b.offset.y))}return d}removeElementScroll(u){var f;const d=cn();if(Us(d,u),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const b=this.path[p],{scroll:x,options:T}=b;b!==this.root&&x&&T.layoutScroll&&(x.wasRoot&&Us(d,u),cl(d.x,x.offset.x),cl(d.y,x.offset.y))}return d}applyTransform(u,d=!1){const f=cn();Us(f,u);for(let p=0;p<this.path.length;p++){const b=this.path[p];!d&&b.options.layoutScroll&&b.scroll&&b!==b.root&&ul(f,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Ka(b.latestValues)&&ul(f,b.latestValues)}return Ka(this.latestValues)&&ul(f,this.latestValues),f}removeTransform(u){const d=cn();Us(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ka(p.latestValues))continue;b0(p.latestValues)&&p.updateSnapshot();const b=cn(),x=p.measurePageBox();Us(b,x),w1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,b)}return Ka(this.latestValues)&&w1(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var A;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:x}=this.options;if(!this.layout||!(b||x))return;this.resolvedRelativeTargetAt=Tn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Us(this.target,this.layout.layoutBox),Fk(this.target,this.targetDelta)):Us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||b0(this.parent.latestValues)||Bk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),wf(this.relativeTargetOrigin,d,f),Us(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||b))return;Us(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,T=this.treeScale.y;XO(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=cn());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v1(this.prevProjectionDelta.x,this.projectionDelta.x),v1(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==T||!k1(this.projectionDelta.x,this.prevProjectionDelta.x)||!k1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dl(),this.projectionDelta=dl(),this.projectionDeltaWithTransform=dl()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},b={...this.latestValues},x=dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=cn(),A=f?f.source:void 0,I=this.layout?this.layout.source:void 0,O=A!==I,D=this.getStack(),B=!D||D.members.length<=1,Q=!!(O&&!B&&this.options.crossfade===!0&&!this.path.some(SL));this.animationProgress=0;let H;this.mixTargetDelta=ae=>{const oe=ae/1e3;I1(x.x,u.x,oe),I1(x.y,u.y,oe),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wf(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EL(this.relativeTarget,this.relativeTargetOrigin,T,oe),H&&cL(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=cn()),Us(H,this.relativeTarget)),O&&(this.animationValues=b,sL(b,p,this.latestValues,oe,Q,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{$h.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kl(0)),this.currentAnimation=W6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),u.onUpdate&&u.onUpdate(b)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:b}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&d2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||cn();const x=zn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+x;const T=zn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}Us(d,f),ul(d,b),fu(this.projectionDeltaWithTransform,this.layoutCorrected,d,b)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new uL),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&wg("z",u,p,this.animationValues);for(let b=0;b<_g.length;b++)wg(`rotate${_g[b]}`,u,p,this.animationValues),wg(`skew${_g[b]}`,u,p,this.animationValues);u.render();for(const b in p)u.setStaticValue(b,p[b]),this.animationValues&&(this.animationValues[b]=p[b]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Kh(d==null?void 0:d.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Kh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const b=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=dL(this.projectionDeltaWithTransform,this.treeScale,b);f&&(x=f(b,x)),u.transform=x;const{x:T,y:A}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:u.opacity=p===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const I in y0){if(b[I]===void 0)continue;const{correct:O,applyTo:D,isCSSVariable:B}=y0[I],Q=x==="none"?b[I]:O(b[I],p);if(D){const H=D.length;for(let ae=0;ae<H;ae++)u[D[ae]]=Q}else B?this.options.visualElement.renderState.vars[I]=Q:u[I]=Q}this.options.layoutId&&(u.pointerEvents=p===this?Kh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(R1),this.root.sharedNodes.clear()}}}function mL(t){t.updateLayout()}function pL(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?ws(x=>{const T=u?e.measuredBox[x]:e.layoutBox[x],A=zn(T);T.min=i[x].min,T.max=T.min+A}):d2(l,e.layoutBox,i)&&ws(x=>{const T=u?e.measuredBox[x]:e.layoutBox[x],A=zn(i[x]);T.max=T.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+A)});const d=dl();fu(d,i,e.layoutBox);const f=dl();u?fu(f,t.applyTransform(a,!0),e.measuredBox):fu(f,i,e.layoutBox);const p=!o2(d);let b=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:T,layout:A}=x;if(T&&A){const I=cn();wf(I,e.layoutBox,T.layoutBox);const O=cn();wf(O,i,A.layoutBox),l2(I,O)||(b=!0),x.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=I,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:b})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function gL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bL(t){t.clearSnapshot()}function R1(t){t.clearMeasurements()}function N1(t){t.isLayoutDirty=!1}function vL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function C1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xL(t){t.resolveTargetDelta()}function _L(t){t.calcProjection()}function wL(t){t.resetSkewAndRotation()}function TL(t){t.removeLeadSnapshot()}function I1(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function D1(t,e,n,i){t.min=Pt(e.min,n.min,i),t.max=Pt(e.max,n.max,i)}function EL(t,e,n,i){D1(t.x,e.x,n.x,i),D1(t.y,e.y,n.y,i)}function SL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AL={duration:.45,ease:[.4,0,.1,1]},M1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j1=M1("applewebkit/")&&!M1("chrome/")?Math.round:As;function V1(t){t.min=j1(t.min),t.max=j1(t.max)}function kL(t){V1(t.x),V1(t.y)}function d2(t,e,n){return t==="position"||t==="preserve-aspect"&&!V6(A1(e),A1(n),.2)}function RL(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const NL=u2({attachResizeListener:(t,e)=>Nu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tg={current:void 0},h2=u2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tg.current){const t=new NL({});t.mount(window),t.setOptions({layoutScroll:!0}),Tg.current=t}return Tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CL={pan:{Feature:Q6},drag:{Feature:Y6,ProjectionNode:h2,MeasureLayout:i2}};function P1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&It.postRender(()=>l(e,Xu(e)))}class IL extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=rO(e,(n,i)=>(P1(this.node,i,"Start"),a=>P1(this.node,a,"End"))))}unmount(){}}class DL extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&It.postRender(()=>l(e,Xu(e)))}class ML extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=cO(e,(n,i)=>(O1(this.node,i,"Start"),(a,{success:l})=>O1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S0=new WeakMap,Eg=new WeakMap,jL=t=>{const e=S0.get(t.target);e&&e(t)},VL=t=>{t.forEach(jL)};function PL({root:t,...e}){const n=t||document;Eg.has(n)||Eg.set(n,{});const i=Eg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(VL,{root:t,...e})),i[a]}function OL(t,e,n){const i=PL(e);return S0.set(t,n),i.observe(t),()=>{S0.delete(t),i.unobserve(t)}}const LL={some:0,all:1};class zL extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:LL[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:b,onViewportLeave:x}=this.node.getProps(),T=p?b:x;T&&T(f)};return OL(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(UL(e,n))&&this.startObserver()}unmount(){}}function UL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const BL={inView:{Feature:zL},tap:{Feature:ML},focus:{Feature:DL},hover:{Feature:IL}},FL={layout:{ProjectionNode:h2,MeasureLayout:i2}},HL={...N6,...BL,...CL,...FL},Fr=GO(HL,i6);function f2(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=f2(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function m2(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=f2(t))&&(i&&(i+=" "),i+=e);return i}const qL=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},GL=(t,e)=>({classGroupId:t,validator:e}),p2=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Tf="-",L1=[],KL="arbitrary..",$L=t=>{const e=YL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return XL(u);const d=u.split(Tf),f=d[0]===""&&d.length>1?1:0;return g2(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=i[u],p=n[u];return f?p?qL(p,f):f:p||L1}return n[u]||L1}}},g2=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=g2(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const d=e===0?t.join(Tf):t.slice(e).join(Tf),f=u.length;for(let p=0;p<f;p++){const b=u[p];if(b.validator(d))return b.classGroupId}},XL=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?KL+i:void 0})(),YL=t=>{const{theme:e,classGroups:n}=t;return QL(n,e)},QL=(t,e)=>{const n=p2();for(const i in t){const a=t[i];cb(a,n,i,e)}return n},cb=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];ZL(u,e,n,i)}},ZL=(t,e,n,i)=>{if(typeof t=="string"){WL(t,e,n);return}if(typeof t=="function"){JL(t,e,n,i);return}e9(t,e,n,i)},WL=(t,e,n)=>{const i=t===""?e:y2(e,t);i.classGroupId=n},JL=(t,e,n,i)=>{if(t9(t)){cb(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(GL(n,t))},e9=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[d,f]=a[u];cb(f,y2(e,d),n,i)}},y2=(t,e)=>{let n=t;const i=e.split(Tf),a=i.length;for(let l=0;l<a;l++){const u=i[l];let d=n.nextPart.get(u);d||(d=p2(),n.nextPart.set(u,d)),n=d}return n},t9=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,n9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=i[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},A0="!",z1=":",s9=[],U1=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),i9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let u=0,d=0,f=0,p;const b=a.length;for(let O=0;O<b;O++){const D=a[O];if(u===0&&d===0){if(D===z1){l.push(a.slice(f,O)),f=O+1;continue}if(D==="/"){p=O;continue}}D==="["?u++:D==="]"?u--:D==="("?d++:D===")"&&d--}const x=l.length===0?a:a.slice(f);let T=x,A=!1;x.endsWith(A0)?(T=x.slice(0,-1),A=!0):x.startsWith(A0)&&(T=x.slice(1),A=!0);const I=p&&p>f?p-f:void 0;return U1(l,A,T,I)};if(e){const a=e+z1,l=i;i=u=>u.startsWith(a)?l(u.slice(a.length)):U1(s9,!1,u,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},r9=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],d=u[0]==="[",f=e.has(u);d||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(u)):a.push(u)}return a.length>0&&(a.sort(),i.push(...a)),i}},a9=t=>({cache:n9(t.cacheSize),parseClassName:i9(t),sortModifiers:r9(t),...$L(t)}),o9=/\s+/,l9=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],d=t.trim().split(o9);let f="";for(let p=d.length-1;p>=0;p-=1){const b=d[p],{isExternal:x,modifiers:T,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:O}=n(b);if(x){f=b+(f.length>0?" "+f:f);continue}let D=!!O,B=i(D?I.substring(0,O):I);if(!B){if(!D){f=b+(f.length>0?" "+f:f);continue}if(B=i(I),!B){f=b+(f.length>0?" "+f:f);continue}D=!1}const Q=T.length===0?"":T.length===1?T[0]:l(T).join(":"),H=A?Q+A0:Q,ae=H+B;if(u.indexOf(ae)>-1)continue;u.push(ae);const oe=a(B,D);for(let he=0;he<oe.length;++he){const N=oe[he];u.push(H+N)}f=b+(f.length>0?" "+f:f)}return f},c9=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=b2(n))&&(a&&(a+=" "),a+=i);return a},b2=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=b2(t[i]))&&(n&&(n+=" "),n+=e);return n},u9=(t,...e)=>{let n,i,a,l;const u=f=>{const p=e.reduce((b,x)=>x(b),t());return n=a9(p),i=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const p=i(f);if(p)return p;const b=l9(f,n);return a(f,b),b};return l=u,(...f)=>l(c9(...f))},d9=[],ln=t=>{const e=n=>n[t]||d9;return e.isThemeGetter=!0,e},v2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,h9=/^\d+\/\d+$/,f9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,g9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=t=>h9.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),Ur=t=>!!t&&Number.isInteger(Number(t)),Sg=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),Xi=t=>f9.test(t),b9=()=>!0,v9=t=>m9.test(t)&&!p9.test(t),_2=()=>!1,x9=t=>g9.test(t),_9=t=>y9.test(t),w9=t=>!be(t)&&!ve(t),T9=t=>Hl(t,E2,_2),be=t=>v2.test(t),qa=t=>Hl(t,S2,v9),Ag=t=>Hl(t,R9,Ge),B1=t=>Hl(t,w2,_2),E9=t=>Hl(t,T2,_9),Nh=t=>Hl(t,A2,x9),ve=t=>x2.test(t),Yc=t=>ql(t,S2),S9=t=>ql(t,N9),F1=t=>ql(t,w2),A9=t=>ql(t,E2),k9=t=>ql(t,T2),Ch=t=>ql(t,A2,!0),Hl=(t,e,n)=>{const i=v2.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},ql=(t,e,n=!1)=>{const i=x2.exec(t);return i?i[1]?e(i[1]):n:!1},w2=t=>t==="position"||t==="percentage",T2=t=>t==="image"||t==="url",E2=t=>t==="length"||t==="size"||t==="bg-size",S2=t=>t==="length",R9=t=>t==="number",N9=t=>t==="family-name",A2=t=>t==="shadow",C9=()=>{const t=ln("color"),e=ln("font"),n=ln("text"),i=ln("font-weight"),a=ln("tracking"),l=ln("leading"),u=ln("breakpoint"),d=ln("container"),f=ln("spacing"),p=ln("radius"),b=ln("shadow"),x=ln("inset-shadow"),T=ln("text-shadow"),A=ln("drop-shadow"),I=ln("blur"),O=ln("perspective"),D=ln("aspect"),B=ln("ease"),Q=ln("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...ae(),ve,be],he=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[ve,be,f],R=()=>[Jo,"full","auto",...S()],j=()=>[Ur,"none","subgrid",ve,be],V=()=>["auto",{span:["full",Ur,ve,be]},Ur,ve,be],U=()=>[Ur,"auto",ve,be],C=()=>["auto","min","max","fr",ve,be],Xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...S()],re=()=>[Jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],J=()=>[t,ve,be],Ae=()=>[...ae(),F1,B1,{position:[ve,be]}],Ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",A9,T9,{size:[ve,be]}],ee=()=>[Sg,Yc,qa],le=()=>["","none","full",p,ve,be],ue=()=>["",Ge,Yc,qa],fe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Ge,Sg,F1,B1],St=()=>["","none",I,ve,be],st=()=>["none",Ge,ve,be],Mn=()=>["none",Ge,ve,be],jn=()=>[Ge,ve,be],Vn=()=>[Jo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xi],breakpoint:[Xi],color:[b9],container:[Xi],"drop-shadow":[Xi],ease:["in","out","in-out"],font:[w9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xi],shadow:[Xi],spacing:["px",Ge],text:[Xi],"text-shadow":[Xi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jo,be,ve,D]}],container:["container"],columns:[{columns:[Ge,be,ve,d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ur,"auto",ve,be]}],basis:[{basis:[Jo,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,Jo,"auto","initial","none",be]}],grow:[{grow:["",Ge,ve,be]}],shrink:[{shrink:["",Ge,ve,be]}],order:[{order:[Ur,"first","last","none",ve,be]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Xe(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...Xe()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":Xe()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[d,"screen",...re()]}],"min-w":[{"min-w":[d,"screen","none",...re()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Yc,qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ve,Ag]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sg,be]}],"font-family":[{font:[S9,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,be]}],"line-clamp":[{"line-clamp":[Ge,"none",ve,Ag]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",ve,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",ve,qa]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Ge,"auto",ve,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:Ve()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ur,ve,be],radial:["",ve,be],conic:[Ur,ve,be]},k9,E9]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,ve,be]}],"outline-w":[{outline:["",Ge,Yc,qa]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",b,Ch,Nh]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",x,Ch,Nh]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Ge,qa]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",T,Ch,Nh]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Ge,ve,be]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[ve,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:Ve()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,be]}],filter:[{filter:["","none",ve,be]}],blur:[{blur:St()}],brightness:[{brightness:[Ge,ve,be]}],contrast:[{contrast:[Ge,ve,be]}],"drop-shadow":[{"drop-shadow":["","none",A,Ch,Nh]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Ge,ve,be]}],"hue-rotate":[{"hue-rotate":[Ge,ve,be]}],invert:[{invert:["",Ge,ve,be]}],saturate:[{saturate:[Ge,ve,be]}],sepia:[{sepia:["",Ge,ve,be]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,be]}],"backdrop-blur":[{"backdrop-blur":St()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,ve,be]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,ve,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,ve,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,ve,be]}],"backdrop-invert":[{"backdrop-invert":["",Ge,ve,be]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,ve,be]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,ve,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,ve,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",ve,be]}],ease:[{ease:["linear","initial",B,ve,be]}],delay:[{delay:[Ge,ve,be]}],animate:[{animate:["none",Q,ve,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,ve,be]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:st()}],"rotate-x":[{"rotate-x":st()}],"rotate-y":[{"rotate-y":st()}],"rotate-z":[{"rotate-z":st()}],scale:[{scale:Mn()}],"scale-x":[{"scale-x":Mn()}],"scale-y":[{"scale-y":Mn()}],"scale-z":[{"scale-z":Mn()}],"scale-3d":["scale-3d"],skew:[{skew:jn()}],"skew-x":[{"skew-x":jn()}],"skew-y":[{"skew-y":jn()}],transform:[{transform:[ve,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vn()}],"translate-x":[{"translate-x":Vn()}],"translate-y":[{"translate-y":Vn()}],"translate-z":[{"translate-z":Vn()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,be]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Ge,Yc,qa,Ag]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},k2=u9(C9);function I9(...t){return k2(m2(t))}const Qc=({className:t,variant:e="glass",hoverEffect:n=!0,children:i,...a})=>{const l="rounded-2xl p-6 transition-all duration-300 relative overflow-hidden",u={glass:"bg-surface-light/80 dark:bg-surface-dark/70 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-xl shadow-slate-200/50 dark:shadow-black/40",solid:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg",outline:"bg-transparent border-2 border-slate-200 dark:border-slate-700"},d=n?"hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/10 hover:border-primary/30 dark:hover:border-primary/30":"";return y.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:I9(l,u[e],d,t),...a,children:[e==="glass"&&y.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),i]})};function D9(...t){return k2(m2(t))}const Ih=({className:t,variant:e="primary",size:n="md",leftIcon:i,rightIcon:a,children:l,...u})=>{const d="relative font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",f={primary:"bg-primary text-white shadow-lg shadow-blue-500/30 hover:bg-blue-600 hover:shadow-blue-500/50",secondary:"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700",ghost:"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",danger:"bg-red-500 text-white shadow-lg shadow-red-500/30 hover:bg-red-600"},p={sm:"h-8 px-3 text-xs",md:"h-11 px-6 text-sm",lg:"h-14 px-8 text-base"};return y.jsxs(Fr.button,{whileHover:{scale:1.02},whileTap:{scale:.95},className:D9(d,f[e],p[n],t),...u,children:[i&&y.jsx("span",{className:"text-[1.2em] flex",children:i}),l,a&&y.jsx("span",{className:"text-[1.2em] flex",children:a})]})},M9=()=>{const{user:t,loginAsGuest:e}=Ai(),[n,i]=P.useState(0),a=5e4;return P.useEffect(()=>{(async()=>{const d=(await Al.getLeaderboard()).reduce((f,p)=>f+p.xp,0);i(d)})()},[]),t?y.jsxs("main",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-7xl mx-auto w-full",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[y.jsxs(Fr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:["Kaixo, ",y.jsxs("span",{className:"text-primary bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:[t.displayName,"!"]})]}),y.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 font-medium",children:"Prest zure abentura matematikoarekin jarraitzeko?"}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx(nt,{to:"/games",children:y.jsx(Ih,{size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),children:"Jolastu"})}),y.jsx(nt,{to:"/progress",children:y.jsx(Ih,{variant:"secondary",size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"bar_chart"}),children:"Nire Aurrerapena"})})]})]}),y.jsxs(Qc,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-none relative overflow-visible",children:[y.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[y.jsx("div",{className:"size-24 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-inner",children:y.jsx("div",{className:"size-20 rounded-xl bg-cover bg-center",style:{backgroundImage:`url("${t.photoURL}")`}})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-blue-100 text-sm font-bold uppercase tracking-wider mb-1",children:"Zure Maila"}),y.jsx("div",{className:"text-4xl font-black",children:t.level}),y.jsx("div",{className:"w-full h-3 bg-black/20 rounded-full mt-3 overflow-hidden",children:y.jsx(Fr.div,{initial:{width:0},animate:{width:`${t.xp%500/5}%`},className:"h-full bg-white rounded-full"})}),y.jsxs("div",{className:"text-right text-xs mt-1 font-mono opacity-80",children:[t.xp%500," / 500 XP"]})]})]}),y.jsx("div",{className:"absolute -top-10 -right-10 size-40 rounded-full bg-white/10 blur-3xl"}),y.jsx("div",{className:"absolute -bottom-10 -left-10 size-40 rounded-full bg-blue-400/20 blur-3xl"})]})]}),y.jsx("section",{children:y.jsx(Qc,{className:"border-2 border-primary/20 bg-gradient-to-r from-slate-50 to-blue-50/50 dark:from-slate-800 dark:to-slate-800/50",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-3xl",children:"trophy"}),"Klasearen Helburua"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Guztion artean lortu behar dugu!"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-3xl font-black text-primary",children:n.toLocaleString()}),y.jsxs("span",{className:"text-slate-400 font-bold",children:[" / ",a.toLocaleString()," XP"]})]})]}),y.jsx("div",{className:"w-full h-8 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden shadow-inner relative",children:y.jsx(Fr.div,{initial:{width:0},animate:{width:`${Math.min(100,n/a*100)}%`},className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 relative",children:y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,.15)_25%,transparent_25%,transparent_50%,rgba(255,255,255,.15)_50%,rgba(255,255,255,.15)_75%,transparent_75%,transparent)] bg-[length:1rem_1rem] animate-[progress-bar-stripes_1s_linear_infinite]"})})}),y.jsxs("p",{className:"text-center text-sm font-bold text-slate-500 mt-2",children:[Math.round(n/a*100),"% osatuta - Jarraitu horrela!"]})]}),y.jsxs("div",{className:"shrink-0 text-center bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm rotate-3 hover:rotate-0 transition-transform duration-300",children:[y.jsx("div",{className:"text-4xl mb-2",children:""}),y.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:"Sari Berezia"}),y.jsx("div",{className:"text-xs text-slate-400",children:"50k XP lortzean"})]})]})})}),y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(nt,{to:"/topics",className:"contents",children:y.jsxs(Qc,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-blue-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"menu_book"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Teoria"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Ikasi eta errepasatu kontzeptuak jokoan hasi aurretik."})]})}),y.jsx(nt,{to:"/games",className:"contents",children:y.jsxs(Qc,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-green-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"joystick"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Jolastu"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Jarri zure gaitasunak proban eta irabazi XP!"})]})}),y.jsx(nt,{to:"/progress",className:"contents",children:y.jsxs(Qc,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-purple-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"military_tech"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Lorpenak"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Begiratu zure dominak eta desblokeatu berriak."})]})})]})]}):y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-20 left-10 size-64 bg-primary/20 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-20 right-10 size-80 bg-purple-500/20 rounded-full blur-[100px] animate-pulse",style:{animationDelay:"1s"}}),y.jsxs("div",{className:"relative z-10 max-w-2xl space-y-8",children:[y.jsxs(Fr.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight mb-4",children:["Zenbaki ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600",children:"Osoen"}),y.jsx("br",{})," Abentura"]}),y.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium max-w-lg mx-auto",children:"Ikasi matematikak jolasten! Irabazi puntuak, igo mailaz eta bihurtu klaseko txapelduna."})]}),y.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[y.jsx(nt,{to:"/login",children:y.jsx(Ih,{size:"lg",className:"w-full sm:w-auto shadow-xl shadow-primary/30",children:"Hasi Saioa"})}),y.jsx("button",{onClick:e,children:y.jsx(Ih,{variant:"ghost",size:"lg",className:"w-full sm:w-auto",children:"Gonbidatu gisa sartu"})})]}),y.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-12",children:[{icon:"sports_esports",label:"Jolasak"},{icon:"military_tech",label:"Lorpenak"},{icon:"school",label:"Teoria"},{icon:"group",label:"Lagunak"}].map((l,u)=>y.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-slate-200 dark:border-slate-700",children:[y.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:l.icon}),y.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:l.label})]},u))})]})]})},j9=()=>{const{user:t}=Ai();if(!t)return null;const e=H=>t.completedLessons.includes(H),n=H=>t.gameXp[H]||0,i=e("theory_intro"),a=n("ordering_hard")>=ct.ordering_hard,l=Math.min(100,n("ordering_hard")/ct.ordering_hard*100),u=e("theory_operations"),f=n("addition_hard")>=ct.addition_hard||n("subtraction_hard")>=ct.subtraction_hard,p=Math.min(100,n("addition_hard")/ct.addition_hard*100),b=e("theory_multiplication"),T=n("multiplication_hard")>=ct.multiplication_hard||n("division_hard")>=ct.division_hard,A=Math.min(100,n("multiplication_hard")/ct.multiplication_hard*100),I=e("theory_powers"),D=n("powers_hard")>=ct.powers_hard||n("roots_hard")>=ct.roots_hard,B=Math.min(100,n("powers_hard")/ct.powers_hard*100),Q=e("theory_advanced");return y.jsx("main",{className:"flex flex-1 flex-col items-center py-8",children:y.jsxs("div",{className:"layout-content-container flex flex-col w-full max-w-[1200px] px-4 lg:px-8 gap-8",children:[y.jsx("div",{className:"@container",children:y.jsxs("div",{className:"flex flex-col gap-6 p-6 rounded-2xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 @[480px]:gap-8 @[864px]:flex-row transition-all hover:shadow-md",children:[y.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl @[480px]:h-auto @[480px]:min-w-[300px] @[864px]:w-1/2 max-w-[500px]",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBRmPvc3EOaJSextMYOxzWlMwMqOi_BzRFGtqC16zLLEQ2RKVskHP3h1Gir_tImbrR38L3G0ZbvwuWjG3r0qPFbGZTfYIJ63BkuopqMsdkYhWKRzUNuSILppKpKIz0ZpbSMgRFxv2N8WXIZMf1YTdA81EZFwKhonr7FTy65o7V3UK_QoowEKdi-Xz_NCKty3f47bOK6XDHrlmtWDlLJmWx_FSyufhUQ9Fixq7p9Akh3NkvFg7UngPQ6MAGfkujoka1gEgtOunw-tQpb")'}}),y.jsxs("div",{className:"flex flex-col justify-center gap-6 flex-1",children:[y.jsxs("div",{className:"flex flex-col gap-3 text-left",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 w-fit",children:[y.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"school"}),y.jsx("span",{className:"text-primary text-xs font-bold uppercase tracking-wide",children:"2. DBH - Matematika"})]}),y.jsx("h1",{className:"text-slate-900 dark:text-white text-3xl font-black leading-tight tracking-[-0.033em] @[480px]:text-4xl",children:"Zenbaki Osoak"}),y.jsx("h2",{className:"text-slate-500 dark:text-slate-300 text-base font-normal leading-relaxed",children:"Osatu unitate bakoitzeko teoria eta jokoak hurrengo maila desblokeatzeko."})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["Maila Orokorra: ",(t==null?void 0:t.level)||1]}),y.jsxs("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:[(t==null?void 0:t.xp)||0," XP"]})]}),y.jsx("div",{className:"rounded-full h-3 bg-slate-100 dark:bg-slate-700 overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-500",style:{width:`${((t==null?void 0:t.xp)||0)%500/5}%`}})})]})]})]})}),y.jsxs("div",{className:"flex flex-col gap-1 pt-4",children:[y.jsx("h2",{className:"text-slate-900 dark:text-white text-2xl font-bold leading-tight",children:"Ikasketa Bidea"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Jarraibideak bete hurrengo mailak irekitzeko."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-12",children:[y.jsxs("div",{className:"group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e("theory_intro")&&y.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),y.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuANpFJXXpVuGa0bSpEboWaKePkikvFHog0REbJAGDWWLhjrWoLl2tuIq8odigSNYX6gcjAB842Jen-3jtrXELjGUpzk3hO2gLKN4MRMwgmQVw9m3SI84TkaCR5VVXWe1nxR-ZpmZkK3POp95Jf-FyqwWOAIcMFjq9ragGXO5XMGRAZ7H-fnTYOOMB0hRfVUstzXBU0a8V6XnZY5EYrq1NU56aS_zBAoBb85v-qODAiTlblca3GAi4fPwoJ4S7DYH4Cv-0RU0_tgk2YB")'}}),y.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsx("span",{className:"px-2 py-1 rounded bg-blue-50 dark:bg-blue-900/10 text-xs font-bold text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800",children:"1. Unitatea"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Oinarriak"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Balio absolutua, aurkakoa eta ordenatzea."})]}),y.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[y.jsx(nt,{to:"/theory/intro",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}),i?y.jsx(nt,{to:"/games?mode=ordering&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):y.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),y.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${a?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_operations")&&y.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!a&&y.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:y.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[y.jsx("span",{className:"material-symbols-outlined",children:"lock"}),y.jsx("span",{className:"text-sm font-bold",children:"Osatu 1. Unitatea (Zaila)"})]})}),y.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC62k7gl3J7HZSIfnl6y1kMaKGOJ4nTP40gXUjGxscgY28PX5FH6v6lDKFbzmsFufrUrjv__fohbhSDGIuZinVtKkMqFeGJ-eplqrDryMnifQ-0gK0D7I_Ik44zXDr7EpqEwCGNmIOd2IHsXHUqR8Vu7omJKtUnl2jibF4Np8Cf2JN8MUy2cvfM0Aiws6wFlHeKVes9Pdj7fvWbwlTTeOZJ0r3Wbvev1C_cBVn10wXH39BFFY5uGK_SCF3b5yvCLc6PQyE7Np81Lvnl")'}}),y.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsx("span",{className:"px-2 py-1 rounded bg-orange-50 dark:bg-orange-900/10 text-xs font-bold text-orange-700 dark:text-orange-300 border border-orange-200 dark:border-orange-800",children:"2. Unitatea"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Batuketa eta Kenketa"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Parentesiak kendu, zeinu berdinak eta ezberdinak."}),!a&&y.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:y.jsx("div",{className:"h-full bg-orange-400 rounded-full",style:{width:`${l}%`}})})]}),y.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[a?y.jsx(nt,{to:"/theory/operations",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):y.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),u?y.jsx(nt,{to:"/games?mode=addition&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):y.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),y.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${f?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_multiplication")&&y.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!f&&y.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:y.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[y.jsx("span",{className:"material-symbols-outlined",children:"lock"}),y.jsx("span",{className:"text-sm font-bold",children:"Osatu 2. Unitatea (Zaila)"})]})}),y.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAP0VeZTXTkvkfWI-nBluHmRyLy8pWM1OB6hCuXMSuTwoJ1V8BxY4Xs22kgalUbtYG7YoyFSvNpHRt93p0PUGBgp89R0zHXgQ0094c7_NfkJ3MMu8A3QiGkyMl0xHdMPPDIIdfzHx0wpXdmxxoYp5LnZmUeI0Vry1gKa7QRShJKhGzh6zWfyXtuALBaw7yw9Qm9YRnKPbnVBdf1Hq1BZN_DxPDVGEDCrikCrozUEu88VIOD9aDBliLeppf-wGv3DmuMCbB_BX5nsL54")'}}),y.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsx("span",{className:"px-2 py-1 rounded bg-purple-50 dark:bg-purple-900/10 text-xs font-bold text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800",children:"3. Unitatea"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Biderketa eta Zatiketa"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Zeinuen Legea: +  + = + ..."}),!f&&y.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:y.jsx("div",{className:"h-full bg-purple-400 rounded-full",style:{width:`${p}%`}})})]}),y.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[f?y.jsx(nt,{to:"/theory/multiplication",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):y.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),b?y.jsx(nt,{to:"/games?mode=multiplication&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):y.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),y.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${T?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_powers")&&y.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!T&&y.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:y.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[y.jsx("span",{className:"material-symbols-outlined",children:"lock"}),y.jsx("span",{className:"text-sm font-bold",children:"Osatu 3. Unitatea (Zaila)"})]})}),y.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAz6Y8-19_3-7y88X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888")'},children:y.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-white text-6xl opacity-50",children:"electric_bolt"})})}),y.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsx("span",{className:"px-2 py-1 rounded bg-indigo-50 dark:bg-indigo-900/10 text-xs font-bold text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-800",children:"4. Unitatea"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Berreketak"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Potentziak, erro karratuak eta ikurren arauak."}),!T&&y.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:y.jsx("div",{className:"h-full bg-indigo-400 rounded-full",style:{width:`${A}%`}})})]}),y.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[T?y.jsx(nt,{to:"/theory/powers",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):y.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),I?y.jsx(nt,{to:"/games?mode=powers&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):y.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),y.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${D?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_advanced")&&y.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!D&&y.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:y.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[y.jsx("span",{className:"material-symbols-outlined",children:"lock"}),y.jsx("span",{className:"text-sm font-bold",children:"Osatu 4. Unitatea (Zaila)"})]})}),y.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC1cgGZwA72EHOK1-O-BIlo3M3MkeaYS-J0OdZg29jMmVZb-y7I--J4ezmq12kiNHzi60eNCmuf1ANads-dS8fRqTZsTP9jDRiOBnght9FJZQz8ci0BN-8cvfioR3Ii04sTokdxopMBGM9cG0zMH0La_fLlU_-s-R6TlAtDhz3npfdMd8Uf3z0qGXO5MUzSXPdEjO2BxvcP4VQrf17fEx0LEK8qphbXKZ-FJAx_1MF5xrlDgu6LmGFWlLTNBgslTm2N3GNFwdloP8TB")'}}),y.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[y.jsx("div",{className:"flex justify-between items-start",children:y.jsx("span",{className:"px-2 py-1 rounded bg-teal-50 dark:bg-teal-900/10 text-xs font-bold text-teal-700 dark:text-teal-300 border border-teal-200 dark:border-teal-800",children:"5. Unitatea"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Eragiketa Konbinatuak"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Hierarkia (PEMDAS) eta parentesi konplexuak."}),!D&&y.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:y.jsx("div",{className:"h-full bg-teal-400 rounded-full",style:{width:`${B}%`}})})]}),y.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[D?y.jsx(nt,{to:"/theory/advanced",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):y.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),Q?y.jsx(nt,{to:"/games?mode=combined&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-teal-600 hover:bg-teal-700 text-white text-sm font-bold transition-colors shadow-teal-500/20 shadow-lg",children:"Erronka Hasi"}):y.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]})]})]})})},H1={intro:{title:"1. Unitatea: Oinarriak",nextLink:"/games?mode=ordering&difficulty=easy",nextLabel:"Praktikatu: Ordena",content:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsx("section",{children:y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border-l-4 border-primary mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Zer dira Zenbaki Osoak (Z)?"}),y.jsx("p",{children:"Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:"}),y.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Positiboak:"}),' (+1, +2...)  "Daukadana".']}),y.jsxs("li",{children:[y.jsx("strong",{children:"Zero:"})," (0)  Muga."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Negatiboak:"}),' (-1, -2...)  "Zor dudana" edo "Zero azpitik".']})]})]})}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-inner",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"linear_scale"}),"Zuzen Erreala eta Ordena"]}),y.jsx("p",{className:"mb-6 text-sm",children:"Zenbakiak lerro batean ordenatzen dira. Eskuinerantz handitzen dira."}),y.jsxs("div",{className:"w-full h-24 relative flex items-center justify-center select-none overflow-hidden my-8",children:[y.jsx("div",{className:"absolute w-[95%] h-1 bg-slate-300 dark:bg-slate-600 rounded-full"}),y.jsx("div",{className:"flex justify-between w-[90%] relative z-10",children:[-3,-2,-1,0,1,2,3].map(t=>y.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer hover:-translate-y-1 transition-transform",children:[y.jsx("div",{className:`w-0.5 h-4 ${t===0?"h-6 bg-slate-900 dark:bg-white":"bg-slate-400"}`}),y.jsx("span",{className:`text-sm md:text-base font-bold ${t===0?"text-slate-900 dark:text-white":t<0?"text-red-500":"text-blue-500"}`,children:t>0?`+${t}`:t})]},t))})]}),y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-900/30",children:[y.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 mb-2",children:"Kontuz Negatiboekin!"}),y.jsxs("p",{className:"text-sm",children:['Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta ',y.jsx("strong",{children:"txikiagoa"})," da balioa."]}),y.jsx("div",{className:"mt-2 font-mono bg-white dark:bg-slate-800 p-2 rounded text-center border border-red-200 dark:border-red-900",children:"-100 < -1"})]})]})]}),quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correctIdx:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correctIdx:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correctIdx:0}]},operations:{title:"2. Unitatea: Batuketa eta Kenketa",nextLink:"/games?mode=addition&difficulty=easy",nextLabel:"Praktikatu: Batuketak",content:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-6 rounded-2xl border border-yellow-200 dark:border-yellow-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-600",children:"layers_clear"}),"1. Pausoa: Parentesiak Kendu"]}),y.jsx("p",{className:"mb-4",children:"Zenbaki baten aurrean zeinu bat badago, nola geratzen da?"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center font-mono font-bold",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsx("span",{className:"text-slate-400",children:"+(+a) edo -(-a)"})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-green-600 text-xl",children:" +a (Berdinak)"})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsx("span",{className:"text-slate-400",children:"+(-a) edo -(+a)"})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-red-600 text-xl",children:" -a (Ezberdinak)"})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"calculate"}),"2. Pausoa: Eragiketa Egin"]}),y.jsx("p",{className:"mb-4",children:"Orain ez daukagu parentesirik. Nola operatu?"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 mb-2",children:"Zeinu Berdina"}),y.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",y.jsx("strong",{children:"BATU"})," egiten dira eta zeinua mantendu."]}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 +3 = +8"}),y.jsx("li",{children:"-5 -3 = -8"})]})]}),y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:"Zeinu Ezberdina"}),y.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",y.jsx("strong",{children:"KENDU"})," egiten dira eta balio absolutu handienaren zeinua jarri."]}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 -3 = +2 (5 handiago)"}),y.jsx("li",{children:"-5 +3 = -2 (5 handiago)"})]})]})]})]})]}),quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correctIdx:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correctIdx:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correctIdx:2}]},multiplication:{title:"3. Unitatea: Biderketa eta Zatiketa",nextLink:"/games?mode=multiplication&difficulty=easy",nextLabel:"Praktikatu: Biderketak",content:y.jsx("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:y.jsxs("section",{className:"bg-purple-50 dark:bg-purple-900/10 p-6 rounded-2xl border border-purple-200 dark:border-purple-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-purple-600",children:"close"}),"Zeinuen Legea"]}),y.jsxs("p",{className:"mb-4",children:["Biderketetan eta zatiketetan arau hau betetzen da ",y.jsx("strong",{children:"BETI"}),":"]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[y.jsx("span",{className:"text-xl font-black text-green-600 mb-1",children:"+  +"}),y.jsx("span",{className:"text-2xl font-black text-green-700",children:"= +"})]}),y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[y.jsx("span",{className:"text-xl font-black text-red-600 mb-1",children:"+  -"}),y.jsx("span",{className:"text-2xl font-black text-red-700",children:"= -"})]}),y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[y.jsx("span",{className:"text-xl font-black text-red-600 mb-1",children:"-  +"}),y.jsx("span",{className:"text-2xl font-black text-red-700",children:"= -"})]}),y.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[y.jsx("span",{className:"text-xl font-black text-green-600 mb-1",children:"-  -"}),y.jsx("span",{className:"text-2xl font-black text-green-700",children:"= +"})]})]}),y.jsxs("div",{className:"mt-6 p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h4",{className:"font-bold mb-2",children:"Aholkua:"}),y.jsx("p",{className:"text-sm",children:"Lagunaren araua erabil dezakezu:"}),y.jsxs("ul",{className:"text-sm list-disc pl-5 mt-1 space-y-1",children:[y.jsx("li",{children:"Nire lagunaren (+) laguna (+) = Nire laguna (+)"}),y.jsx("li",{children:"Nire etsaien (-) etsaia (-) = Nire laguna (+)"})]})]})]})}),quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correctIdx:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correctIdx:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correctIdx:2}]},powers:{title:"4. Unitatea: Berreketak eta Erroketak",nextLink:"/games?mode=powers&difficulty=easy",nextLabel:"Praktikatu: Berreketak",content:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-200 dark:border-indigo-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-indigo-600",children:"functions"}),"Berreketen Propietateak"]}),y.jsx("p",{className:"mb-6 text-sm",children:"Hiru arau nagusi hauek buruz jakin behar dituzu eragiketak egiteko:"}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-green-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 font-bold text-lg",children:""}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Biderketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"}),"  a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n+m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-red-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 font-bold text-lg",children:":"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Zatiketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"KENDU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"})," : a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n-m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-blue-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 font-bold text-lg",children:"()"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Berreketaren Berreketa"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BIDERKATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["(a",y.jsx("sup",{children:"n"}),")",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"nm"})]})]})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-500",children:"exposure"}),"Zeinuen Araua (Oinarri Negatiboa)"]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BIKOITIA (2, 4...)"}),y.jsxs("p",{className:"text-sm",children:["Emaitza ",y.jsx("span",{className:"text-green-600 font-bold",children:"POSITIBOA (+)"}),"."]}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-3)",y.jsx("sup",{children:"2"})," = +9"]})]}),y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BAKOITIA (3, 5...)"}),y.jsx("p",{className:"text-sm",children:"Oinarriaren zeinua mantendu."}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-2)",y.jsx("sup",{children:"3"})," = -8"]})]})]})]})]}),quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correctIdx:0},{question:"Zein da (-2) ber 2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correctIdx:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correctIdx:1}]},advanced:{title:"5. Unitatea: Konbinatuak (PEMDAS)",nextLink:"/games?mode=combined&difficulty=easy",nextLabel:"Praktikatu: Konbinatuak",content:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-2xl border border-orange-200 dark:border-orange-800",children:[y.jsx("h3",{className:"text-xl font-black text-orange-700 dark:text-orange-300 mb-2",children:"Eragiketen Hierarkia"}),y.jsx("p",{children:"Dena nahastuta dagoenean, ordena hau jarraitu behar da derrigorrez:"})]}),y.jsxs("section",{className:"flex flex-col items-center w-full max-w-lg mx-auto relative",children:[y.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 h-full w-1 bg-slate-200 dark:bg-slate-700 -z-10"}),y.jsxs("div",{className:"w-full bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-purple-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-purple-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"1"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Parentesiak ( ) [ ]"})})]}),y.jsxs("div",{className:"w-[95%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-indigo-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-indigo-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"2"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Berreketak eta Erroak"})})]}),y.jsxs("div",{className:"w-[90%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-blue-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-blue-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"3"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Biderketa eta Zatiketa"})})]}),y.jsxs("div",{className:"w-[80%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-green-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-green-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"4"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Batuketa eta Kenketa"})})]})]})]}),quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correctIdx:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correctIdx:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correctIdx:1}]}},V9=()=>{const{topicId:t}=XN(),{user:e,addXp:n}=Ai(),{addToast:i}=qu(),a=t||"intro",l=`theory_${a}`,u=H1[a]||H1.intro,[d,f]=P.useState(new Array(3).fill(-1)),[p,b]=P.useState(!1),[x,T]=P.useState(!1),A=N=>e&&e.gameXp[N]||0,I=A("ordering_hard")<ct.ordering_hard,D=!(A("addition_hard")>=ct.addition_hard||A("subtraction_hard")>=ct.subtraction_hard),Q=!(A("multiplication_hard")>=ct.multiplication_hard||A("division_hard")>=ct.division_hard),ae=!(A("powers_hard")>=ct.powers_hard||A("roots_hard")>=ct.roots_hard);if(t==="operations"&&I)return y.jsx(il,{to:"/topics",replace:!0});if(t==="multiplication"&&D)return y.jsx(il,{to:"/topics",replace:!0});if(t==="powers"&&Q)return y.jsx(il,{to:"/topics",replace:!0});if(t==="advanced"&&ae)return y.jsx(il,{to:"/topics",replace:!0});P.useEffect(()=>{e&&e.completedLessons.includes(l)?(T(!0),f(u.quiz.map(N=>N.correctIdx)),b(!0)):(f(new Array(3).fill(-1)),b(!1),T(!1))},[l,e,u.quiz]);const oe=(N,S)=>{if(x)return;const R=[...d];R[N]=S,f(R),b(!1)},he=async()=>{if(d.some(S=>S===-1)){i("info","Erantzun galdera guztiak mesedez.");return}b(!0),d.every((S,R)=>S===u.quiz[R].correctIdx)?(Ct.win(),T(!0),e&&!e.completedLessons.includes(l)&&(await n(50,l)>0?i("xp","+50 XP Teoria ikasteagatik!"):i("success","Teoria osatuta! Orain jolastu dezakezu."))):(Ct.wrong(),i("error","Erantzun okerrak daude. Berrikusi teoria eta saiatu berriro."))};return y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-10 flex justify-center",children:y.jsxs("div",{className:"max-w-[900px] w-full flex flex-col gap-8",children:[y.jsxs(nt,{to:"/topics",className:"flex items-center gap-2 text-slate-500 hover:text-primary transition-colors font-bold text-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),"Atzera"]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-slate-100 dark:border-slate-700 pb-6",children:[y.jsx("div",{className:"size-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/30",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:t==="intro"?"1. Unitatea":t==="operations"?"2. Unitatea":t==="multiplication"?"3. Unitatea":t==="powers"?"4. Unitatea":"5. Unitatea"}),y.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight",children:u.title})]})]}),u.content,y.jsxs("div",{className:"mt-12 pt-8 border-t-2 border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-black text-slate-900 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"quiz"}),"Egiaztatu zure ezagutza"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Erantzun galdera hauek zuzen jokoa eta XP puntuak desblokeatzeko."})]}),y.jsx("div",{className:"flex flex-col gap-6",children:u.quiz.map((N,S)=>{const R=p&&d[S]===N.correctIdx,j=p&&d[S]!==N.correctIdx;return y.jsxs("div",{className:`p-5 rounded-xl border-2 transition-colors ${R?"border-green-500 bg-green-50 dark:bg-green-900/10":j?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50"}`,children:[y.jsxs("p",{className:"font-bold text-slate-900 dark:text-white mb-3",children:[S+1,". ",N.question]}),y.jsx("div",{className:"flex flex-col gap-2",children:N.options.map((V,U)=>y.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors hover:bg-white dark:hover:bg-slate-800 ${d[S]===U?"bg-white dark:bg-slate-800 shadow-sm ring-2 ring-primary":""}`,children:[y.jsx("input",{type:"radio",name:`q-${S}`,className:"size-4 text-primary focus:ring-primary",checked:d[S]===U,onChange:()=>oe(S,U),disabled:x}),y.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:V})]},U))}),j&&y.jsx("p",{className:"text-xs font-bold text-red-500 mt-2",children:"Erantzun okerra. Saiatu berriro."})]},S)})}),y.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 items-center justify-between",children:[x?y.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 font-bold bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg",children:[y.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Teoria menperatuta!"]}):y.jsx("button",{onClick:he,className:"w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:scale-105 transition-transform",children:"Egiaztatu Erantzunak"}),y.jsxs(nt,{to:u.nextLink,onClick:N=>!x&&N.preventDefault(),className:`w-full md:w-auto flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-bold shadow-lg transition-all 
                        ${x?"bg-primary hover:bg-blue-600 text-white hover:-translate-y-1 cursor-pointer":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed opacity-70"}`,children:[y.jsx("span",{children:u.nextLabel}),y.jsx("span",{className:"material-symbols-outlined",children:x?"sports_esports":"lock"})]})]})]})]})]})})},P9=({text:t})=>{if(!t.includes("^")&&!t.includes(""))return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-1",children:t.split(" ").map((n,i)=>y.jsx("span",{className:n==="?"?"text-slate-400 animate-pulse":["+","-","","","(",")",":",""].includes(n)?"text-slate-400 mx-1":"text-primary",children:n},i))});const e=t.split(" ");return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-2 text-4xl md:text-5xl lg:text-6xl font-black text-slate-900 dark:text-white font-display tracking-tight",children:e.map((n,i)=>{if(n==="="||n==="?"||n===""||n===":")return y.jsx("span",{className:"text-slate-400 mx-1",children:n},i);const a=n.split(/(\^)/);return y.jsx("div",{className:"flex items-start text-primary",children:a.map((l,u)=>l==="^"?null:u>0&&a[u-1]==="^"?y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-[-0.5em]",children:l.replace(/[\(\)]/g,"")},u):y.jsx("span",{children:l},u))},i)})})},O9=({text:t,type:e})=>{if(t.startsWith(""))return y.jsxs("div",{className:"flex items-center gap-1 text-5xl md:text-6xl font-black text-primary",children:[y.jsx("span",{className:"text-slate-400",children:""}),y.jsx("span",{children:t.replace("","").replace("= ?","")}),y.jsx("span",{className:"text-slate-400 ml-4",children:"= ?"})]});if(t.includes("^")){const n=t.split(" = ?")[0],i=(l,u)=>{if(l.includes(")^")){const[d,f]=l.split(")^"),p=d.replace("(",""),[b,x]=p.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:"("}),y.jsx("span",{className:"text-primary",children:b}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:x}),y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:")"}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},u)}if(l.includes("^")){const[d,f]=l.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-primary",children:d}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},u)}return y.jsx("span",{children:l},u)},a=n.split(" ");return y.jsxs("div",{className:"flex items-center justify-center flex-wrap gap-2 text-5xl md:text-6xl font-black",children:[a.map((l,u)=>["",":"].includes(l)?y.jsx("span",{className:"text-slate-400 mx-2",children:l},u):i(l,u)),y.jsx("span",{className:"text-slate-400 ml-2",children:"= ?"})]})}return y.jsx(P9,{text:t})},L9=()=>{const{user:t,addXp:e}=Ai(),{addToast:n}=qu(),[i]=LC(),a=ao(),[l,u]=P.useState("ordering"),[d,f]=P.useState("easy"),[p,b]=P.useState(null),[x,T]=P.useState(null),[A,I]=P.useState(1),[O,D]=P.useState(0),[B,Q]=P.useState(0),[H,ae]=P.useState(""),[oe,he]=P.useState(!1),[N,S]=P.useState(null),R=P.useRef(null),j=P.useRef(null),[V,U]=P.useState(0),[C,Xe]=P.useState({sequence:[],currentStep:0,completedIds:[]}),je=ce=>t?t.completedLessons.includes(ce):!1,X=ce=>t&&t.gameXp[ce]||0,re=X("ordering_hard")>=ct.ordering_hard,J=X("addition_hard")>=ct.addition_hard||X("subtraction_hard")>=ct.subtraction_hard,Ae=X("multiplication_hard")>=ct.multiplication_hard||X("division_hard")>=ct.division_hard,Ve=X("powers_hard")>=ct.powers_hard||X("roots_hard")>=ct.roots_hard,L=t?t.level>=5:!1,ee=ce=>{switch(ce){case"ordering":return"theory_intro";case"addition":case"subtraction":return"theory_operations";case"multiplication":case"division":return"theory_multiplication";case"powers":case"roots":return"theory_powers";case"combined":return"theory_advanced";default:return null}},le=(ce,pe)=>{if(pe==="easy")return!1;const Ie=ct[`${ce}_easy`]||100;if(pe==="medium")return X(`${ce}_easy`)<Ie;const ze=ct[`${ce}_medium`]||150;return pe==="hard"?X(`${ce}_medium`)<ze:!0};P.useEffect(()=>{let ce=i.get("mode");const pe=i.get("difficulty");ce==="mixed"&&!L&&(ce="ordering"),ce==="combined"&&!Ve&&(ce="ordering"),(ce==="powers"||ce==="roots")&&!Ae&&(ce="ordering"),(ce==="multiplication"||ce==="division")&&!J&&(ce="ordering"),(ce==="addition"||ce==="subtraction")&&!re&&(ce="ordering");const Ie=ee(ce||"ordering");if(Ie&&!je(Ie)){n("error","Joko hau desblokeatzeko Teoria irakurri eta testa gainditu behar duzu!"),a("/topics");return}ce||(ce="ordering"),u(ce);let ze=pe||"easy";return le(ce,ze)&&(ze="easy"),f(ze),jn(ce,ze),()=>{R.current&&clearInterval(R.current),j.current&&clearTimeout(j.current)}},[i,L,Ve,re,J,Ae]),P.useEffect(()=>{if(d==="hard"&&!oe&&(!x||(p==null?void 0:p.type)==="ordering")){R.current&&clearInterval(R.current);const pe=l==="combined"||l==="mixed"||(p==null?void 0:p.type)==="ordering"?45:30;((p==null?void 0:p.type)!=="ordering"||C.currentStep===0)&&S(pe),R.current=window.setInterval(()=>{S(Ie=>Ie!==null&&Ie>0?Ie-1:(ue(),0))},1e3)}else(p==null?void 0:p.type)!=="ordering"&&(R.current&&clearInterval(R.current),S(null));return()=>{R.current&&clearInterval(R.current)}},[A,d,oe,l,p]);const ue=()=>{R.current&&clearInterval(R.current),Ct.wrong(),Un(),Q(0),(p==null?void 0:p.type)!=="ordering"?(T({val:"Denbora!",isCorrect:!1}),ae("Denbora agortu da. Azkarrago hurrengoan!")):(ae("Denbora agortu da! Saiatu azkarrago."),T({val:"Denbora!",isCorrect:!1})),j.current=window.setTimeout(()=>{Ri()},2e3)},fe=(ce,pe)=>{const Ie=Math.floor(Math.random()*(pe-ce+1))+ce;return Ie===0?0:Ie},Ce=()=>`${l}_${d}`,we=()=>ct[Ce()]||100,St=()=>(t==null?void 0:t.gameXp[Ce()])||0,st=ce=>{let pe=ce==="easy"?4:5,Ie=ce==="easy"?10:ce==="medium"?25:100;const ze=new Set;for(;ze.size<pe;){let lt=fe(-Ie,Ie);lt!==0&&ze.add(lt)}const Ue=Array.from(ze).sort((lt,At)=>lt-At),De=Array.from(ze).sort(()=>Math.random()-.5).map(lt=>({val:lt.toString(),isCorrect:!0,id:lt}));Xe({sequence:Ue,currentStep:0,completedIds:[]}),b({text:"Ordenatu zenbakiak TXIKIENETIK HANDIERA",options:De,type:"ordering",orderingSequence:Ue}),ae("Gogoratu: Zenbaki negatiboetan, zenbat eta urrunago zerotik, orduan eta txikiagoa.")},Mn=ce=>{const pe=ce==="hard"?fe(1,4):fe(1,2);let Ie=ce==="easy"?5:10,ze=fe(-Ie,Ie),Ue=fe(-Ie,Ie),De=fe(-Ie,Ie);ze===0&&(ze=2),Ue===0&&(Ue=3),De===0&&(De=-2);let lt="",At=0,gn=0;pe===1?(lt=`${ze} + ${Ue<0?`(${Ue})`:Ue}  ${De<0?`(${De})`:De}`,At=ze+Ue*De,gn=(ze+Ue)*De):pe===2?(lt=`(${ze} ${Ue<0?"-":"+"} ${Math.abs(Ue)})  ${De<0?`(${De})`:De}`,At=(ze+Ue)*De,gn=ze+Ue*De):pe===3?(De=De===0?2:De,Ue=De*fe(1,5)*(Math.random()>.5?1:-1),lt=`${ze} - ${Ue<0?`(${Ue})`:Ue} : ${De<0?`(${De})`:De}`,At=ze-Ue/De,gn=(ze-Ue)/De):(lt=`${ze<0?`(${ze})`:ze}  ${Ue<0?`(${Ue})`:Ue} - ${De<0?`(${De})`:De}`,At=ze*Ue-De,gn=ze*(Ue-De));let kt=-At,Pn=At+fe(1,5)*(Math.random()>.5?1:-1);const Se=new Set([At,gn,kt,Pn]);for(;Se.size<4;)Se.add(fe(-50,50));const Be=Array.from(Se).sort(()=>Math.random()-.5).map(xe=>({val:`${xe}`,isCorrect:xe===At}));b({text:lt+" = ?",options:Be,type:"quiz"}),ae("Hierarkia (PEMDAS): Parentesiak lehenengo, gero Berreketak/Erroak, gero Biderketa/Zatiketa, azkenik Batuketa/Kenketa.")},jn=(ce,pe)=>{if(j.current&&clearTimeout(j.current),T(null),ae(""),Xe({sequence:[],currentStep:0,completedIds:[]}),ce==="ordering"){st(pe);return}if(ce==="combined"){Mn(pe);return}let Ie=ce;if(ce==="mixed"){const Se=Math.random();if(Se<.15){st(pe);return}if(Se<.35){Mn(pe);return}Ie=["addition","subtraction","multiplication","division","powers","roots"][fe(0,5)]}let ze=pe==="easy"?9:pe==="medium"?20:50,Ue=fe(-ze,ze),De=fe(-ze,ze),lt="",At="",gn="";const kt=new Set;if(Ie==="powers"){const Se=fe(1,3);let Be=pe==="easy"?fe(2,9):fe(2,15),xe=fe(2,5),xt=fe(2,5),jt=0,an=0,Vt=0,yn=0;if(Se===1)lt="",gn=`${Be}^${xe}  ${Be}^${xt} = ?`,jt=xe+xt,an=xe*xt,Vt=Math.abs(xe-xt),yn=jt+1,ae(`Oinarri berdineko biderketan, berretzaileak BATU egiten dira (${xe} + ${xt} = ${jt}).`);else if(Se===2){if(xt>=xe){let zt=xe;xe=xt+fe(1,3),xt=zt}lt=":",gn=`${Be}^${xe} : ${Be}^${xt} = ?`,jt=xe-xt,an=xe+xt,Vt=Math.floor(xe/xt),yn=jt+2,ae(`Oinarri berdineko zatiketan, berretzaileak KENDU egiten dira (${xe} - ${xt} = ${jt}).`)}else lt="()",gn=`(${Be}^${xe})^${xt} = ?`,jt=xe*xt,an=xe+xt,Vt=Math.pow(xe,xt),yn=jt-1,ae(`Berreketaren berreketan, berretzaileak BIDERKATU egiten dira (${xe}  ${xt} = ${jt}).`);for(At=`${Be}^${jt}`,kt.add(At),kt.add(`${Be}^${an}`),Vt!==jt&&Vt!==an&&kt.add(`${Be}^${Vt}`),kt.add(`${Be}^${yn}`);kt.size<4;)kt.add(`${Be}^${jt+fe(1,5)*(Math.random()>.5?1:-1)}`)}else if(Ie==="roots"){let Se=pe==="easy"?fe(1,10):fe(1,15);Se===0&&(Se=2),Ue=Se*Se;let Be=Se;gn=`${Ue} = ?`,At=Be.toString(),kt.add(At),kt.add((Se+1).toString()),kt.add((Se-1).toString()),kt.add(Math.floor(Ue/2).toString()),ae(`Erantzuna: ${Se}, zeren ${Se} = ${Ue}.`)}else{let Se=Ue,Be=De;if(Ie==="division"){De===0&&(De=2);const Vt=fe(-10,10);Be=De,Se=(Vt===0?2:Vt)*Be}let xe=0;switch(Ie){case"addition":lt="+",xe=Se+Be;break;case"subtraction":lt="-",xe=Se-Be;break;case"multiplication":lt="",xe=Se*Be;break;case"division":lt=":",xe=Se/Be;break}gn=`${Se<0?`(${Se})`:Se} ${lt} ${Be<0?`(${Be})`:Be} = ?`,At=xe>0?`+${xe}`:`${xe}`,kt.add(At);const xt=Math.random()>.5?1:2,jt=xe+(Math.random()>.5?xt:-xt);kt.add(jt>0?`+${jt}`:`${jt}`);let an=0;for(lt==="+"?an=Se-Be:lt==="-"||lt===""?an=Se+Be:lt===":"&&(an=Se-Be),an!==xe&&kt.add(an>0?`+${an}`:`${an}`),Math.random()<.2&&xe!==0&&kt.add(xe>0?`${-xe}`:`+${-xe}`);kt.size<4;){const Vt=Math.max(5,Math.abs(xe)*.4),yn=fe(xe-Vt,xe+Vt);yn!==xe&&kt.add(yn>0?`+${yn}`:`${yn}`)}ae(`Erantzuna: ${At}.`)}const Pn=Array.from(kt).sort(()=>Math.random()-.5).map(Se=>({val:Se,isCorrect:Se===At}));b({text:gn,options:Pn,type:"quiz"})},Vn=ce=>{const pe=d==="hard"?25:d==="medium"?15:10,Ie=ce*(d==="hard"?3:2);return pe+Ie},Rs=async ce=>{const pe=await e(ce,Ce());pe>0?(n("xp",`+${pe} XP`),U(Ie=>Ie+pe)):ce>0?n("info","Zailtasun honetako XP muga lortu duzu! Saiatu hurrengoa."):pe<0&&(n("error",`-${Math.abs(pe)} XP (Penalizazioa)`),U(Ie=>Ie+pe))},Un=async()=>{const pe=Vn(B)*1.5;await Rs(-pe)},ma=ce=>{if(!p||!p.orderingSequence)return;const pe=p.orderingSequence[C.currentStep],Ie=parseInt(ce.val);if(Ie===pe){Ct.click();const ze=[...C.completedIds,Ie];if(ze.length===p.orderingSequence.length){Ct.correct(),Xe(De=>({...De,completedIds:ze})),T({val:"Zuzena!",isCorrect:!0});const Ue=Vn(B);D(De=>De+Ue),Q(De=>De+1),Rs(Ue),j.current=window.setTimeout(()=>{Ri()},1500)}else Xe(Ue=>({...Ue,currentStep:Ue.currentStep+1,completedIds:ze}))}else Ct.wrong(),Un(),Q(0),n("error","Ordena okerra! Saiatu berriro.")},ki=ce=>{if(!x){if((p==null?void 0:p.type)==="ordering"){ma(ce);return}if(T(ce),R.current&&clearInterval(R.current),ce.isCorrect){Ct.correct();const pe=Vn(B);D(Ie=>Ie+pe),Q(Ie=>Ie+1),Rs(pe)}else Ct.wrong(),Un(),Q(0);j.current=window.setTimeout(()=>{Ri()},1500)}},Ri=()=>{Ct.click(),A<5?(I(ce=>ce+1),jn(l,d)):pa()},pa=async()=>{if(he(!0),Ct.win(),O>=(d==="hard"?50:30)){const ce=d==="hard"?50:d==="medium"?30:10;await Rs(ce),n("success",`Jokoa amaituta! Bonus: ${ce} XP`)}else n("success","Jokoa amaituta!")},Lt=()=>{Ct.click(),he(!1),I(1),D(0),Q(0),U(0),jn(l,d)};if(oe){const ce=O>(d==="hard"?100:50)?3:O>(d==="hard"?50:30)?2:1;return y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[ce===3&&y.jsx(aE,{}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full border border-slate-200 dark:border-slate-700 animate-in zoom-in-95 duration-300 relative z-10",children:[y.jsx("div",{className:"mb-6 flex justify-center gap-2",children:[1,2,3].map(pe=>y.jsx("span",{className:`material-symbols-outlined text-6xl ${pe<=ce?"text-yellow-400 fill-current animate-bounce":"text-slate-200 dark:text-slate-700"}`,style:{animationDelay:`${pe*100}ms`},children:"star"},pe))}),y.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:ce===3?"Bikain!":ce===2?"Oso Ondo!":"Ondo!"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:[O," puntu lortu dituzu.",V!==0&&y.jsxs("span",{className:`block mt-2 font-bold ${V>0?"text-yellow-500":"text-red-500"}`,children:[V>0?`+${V}`:V," XP saio honetan"]}),V===0&&y.jsx("span",{className:"block mt-2 text-xs text-slate-400 uppercase font-bold",children:"XP Muga Lortuta"})]}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:Lt,className:"w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"replay"}),"Jolastu Berriro"]}),y.jsx(nt,{to:"/topics",className:"w-full py-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-bold",children:"Itzuli Gaietara"})]})]})]})}const Mt=we(),cs=St(),uo=cs>=Mt;return y.jsx("main",{className:"layout-container flex h-full grow flex-col",children:y.jsx("div",{className:"w-full flex flex-1 justify-center py-5 px-4 md:px-8",children:y.jsxs("div",{className:"layout-content-container flex flex-col max-w-[1200px] flex-1 gap-8",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:[uo&&y.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 flex items-center justify-center font-black text-yellow-600 dark:text-yellow-400 opacity-20 -rotate-12 text-3xl",children:"MAX"}),y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500",children:"stars"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:["XP (",d,")"]})]}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:cs}),y.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-1",children:["/ ",Mt]})]}),y.jsx("div",{className:"w-full h-1 bg-slate-100 dark:bg-slate-700 rounded-full mt-1",children:y.jsx("div",{className:`h-full rounded-full transition-all ${uo?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,cs/Mt*100)}%`}})})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"school"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Maila"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:t?t.level:1})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"local_fire_department"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Bolada"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:B})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-blue-400",children:"score"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Puntuazioa"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:O})]})]}),y.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[y.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6 order-2 lg:order-1",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1 bg-white dark:bg-[#1a2634] rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"tune"}),y.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-bold",children:"Zailtasuna"})]}),y.jsx("div",{className:"flex gap-1",children:["easy","medium","hard"].map(ce=>{const pe=le(l,ce);return y.jsxs("button",{disabled:pe,onClick:()=>{Ct.click(),f(ce),jn(l,ce),I(1),D(0),U(0)},className:`px-3 py-1 text-xs font-bold rounded-full capitalize border flex items-center gap-1 transition-all
                                ${d===ce?"bg-primary text-white border-primary":pe?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-transparent cursor-not-allowed opacity-70":"bg-transparent text-slate-500 border-slate-200 dark:border-slate-700 hover:border-primary/50"}`,children:[pe&&y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"lock"}),ce]},ce)})})]}),N!==null&&y.jsxs("div",{className:`w-20 bg-white dark:bg-[#1a2634] rounded-xl p-2 shadow-sm border flex items-center justify-center font-mono text-xl font-bold ${N<10?"text-red-500 border-red-500 animate-pulse":"text-slate-900 dark:text-white border-slate-200 dark:border-slate-800"}`,children:[N,"s"]})]}),y.jsxs("div",{className:"flex flex-col bg-white dark:bg-[#1a2634] rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 overflow-hidden relative",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400 text-sm",children:"quiz"}),y.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Galdera ",A,"/5"]})]}),y.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ce,pe)=>y.jsx("div",{className:`h-1.5 w-6 rounded-full ${pe<A-1?"bg-green-500":pe===A-1?"bg-blue-500 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`},pe))})]}),y.jsx("div",{className:"p-8 md:p-12 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:p&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center w-full",children:[y.jsx("p",{className:"text-slate-400 text-sm font-medium mb-4 uppercase tracking-wider",children:p.type==="ordering"?"Ordenatu Zenbakiak":l==="combined"?"Kalkulatu (Kontuz Hierarkiarekin!)":l==="powers"?"Sinplifikatu":"Kalkulatu emaitza"}),p.type!=="ordering"?y.jsx(O9,{text:p.text,type:p.type}):y.jsx("div",{className:"flex flex-col items-center gap-6 w-full",children:y.jsxs("div",{className:"flex gap-2 items-center justify-center flex-wrap min-h-[60px] p-4 bg-slate-100 dark:bg-slate-900 rounded-xl w-full",children:[C.completedIds.map(ce=>y.jsx("div",{className:"size-12 rounded-lg bg-green-500 text-white flex items-center justify-center font-bold text-lg animate-in zoom-in",children:ce},ce)),C.completedIds.length===0&&y.jsx("span",{className:"text-slate-400 italic",children:"Hautatu zenbaki txikiena..."})]})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md mt-4",children:p.options.map((ce,pe)=>p.type==="ordering"&&C.completedIds.includes(ce.id)?y.jsx("div",{className:"h-[76px]"},pe):y.jsx("button",{onClick:()=>ki(ce),disabled:!!x&&p.type!=="ordering",className:`group relative flex items-center justify-center py-6 px-4 rounded-xl border-2 transition-all 
                                    ${x===ce&&p.type!=="ordering"?ce.isCorrect?"border-green-500 bg-green-500/10":"border-red-500 bg-red-500/10":"border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-primary/5 active:bg-primary/10"}`,children:y.jsx("div",{className:`text-2xl font-bold transition-colors ${x===ce&&p.type!=="ordering"?ce.isCorrect?"text-green-600":"text-red-600":"text-slate-700 dark:text-slate-200 group-hover:text-primary"}`,children:ce.val.includes("^")?y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{children:ce.val.split("^")[0]}),y.jsx("sup",{className:"text-sm mt-1",children:ce.val.split("^")[1]})]}):ce.val})},pe))})]})}),x&&y.jsxs("div",{className:`border-t p-4 md:px-8 md:py-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-bottom-2 fade-in duration-300 ${x.isCorrect||(p==null?void 0:p.type)==="ordering"?"bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800/30":"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800/30"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${x.isCorrect||(p==null?void 0:p.type)==="ordering"?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-300"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:x.isCorrect||(p==null?void 0:p.type)==="ordering"?"celebration":"help"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:`font-bold text-lg leading-tight ${x.isCorrect||(p==null?void 0:p.type)==="ordering"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:x.isCorrect||(p==null?void 0:p.type)==="ordering"?(p==null?void 0:p.type)==="ordering"?"Ondo ordenatuta!":"Primeran!":"Saiatu berriro!"}),(p==null?void 0:p.type)!=="ordering"&&y.jsx("p",{className:`${x.isCorrect?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"} text-sm`,children:x.isCorrect?"Erantzun zuzena.":H})]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold opacity-60 text-slate-600 dark:text-slate-300",children:["Hurrengoa kargatzen...",y.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"progress_activity"})]})]})]})]}),y.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6 order-1 lg:order-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-lg",children:"Joko Moduak"}),y.jsx(nt,{className:"text-primary text-sm font-medium hover:underline",to:"/topics",children:"Teoria"})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[y.jsxs("button",{disabled:!L,onClick:()=>{L&&(Ct.click(),u("mixed"),f("easy"),I(1),D(0),U(0))},className:`relative p-5 rounded-2xl border-2 shadow-sm flex flex-col items-center gap-3 transition-all text-center group ${L?l==="mixed"?"bg-primary border-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:border-primary/50":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 cursor-not-allowed"}`,children:[!L&&y.jsx("div",{className:"absolute top-2 right-2 text-slate-400",children:y.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),y.jsx("div",{className:`size-14 rounded-full flex items-center justify-center border-4 border-white/20 shrink-0 ${l==="mixed"?"bg-white/20 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"}`,children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shuffle"})}),y.jsxs("div",{children:[y.jsx("h4",{className:`font-black text-xl leading-none ${l==="mixed"?"text-white":"text-slate-900 dark:text-white"}`,children:"Nahastuta"}),y.jsx("p",{className:`text-xs mt-1 font-bold uppercase tracking-wide opacity-80 ${l==="mixed"?"text-blue-100":"text-slate-500"}`,children:"Azterketa Orokorra"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("button",{disabled:!je("theory_intro"),onClick:()=>{je("theory_intro")&&(Ct.click(),u("ordering"),f("easy"),I(1),D(0),U(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${je("theory_intro")?l==="ordering"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/20 ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-amber-50 dark:hover:bg-amber-900/10 hover:border-amber-500/50":"opacity-50 grayscale cursor-not-allowed"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${l==="ordering"?"bg-white/20 text-white":"bg-amber-100 dark:bg-amber-900/30 text-amber-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"sort"})}),y.jsx("span",{className:`text-sm font-bold ${l==="ordering"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Ordena"})]}),y.jsxs("button",{disabled:!Ve||!je("theory_advanced"),onClick:()=>{Ve&&je("theory_advanced")&&(Ct.click(),u("combined"),f("easy"),I(1),D(0),U(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${!Ve||!je("theory_advanced")?"bg-slate-50 dark:bg-slate-800 opacity-50 cursor-not-allowed border-slate-200":l==="combined"?"bg-purple-600 border-purple-600 text-white shadow-lg shadow-purple-600/20 ring-2 ring-purple-600 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-purple-50 dark:hover:bg-purple-900/10 hover:border-purple-600/50"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${l==="combined"?"bg-white/20 text-white":"bg-purple-100 dark:bg-purple-900/30 text-purple-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"function"})}),y.jsx("span",{className:`text-sm font-bold ${l==="combined"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Konbinatuak"}),(!Ve||!je("theory_advanced"))&&y.jsx("span",{className:"material-symbols-outlined text-xs absolute top-2 right-2 text-slate-400",children:"lock"})]})]})]}),y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-2"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"2. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!re||!je("theory_operations")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!re,onClick:()=>{u("addition"),f("easy"),I(1),D(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="addition"?"bg-green-600 border-green-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-green-50 dark:hover:bg-green-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center font-black text-lg",children:"+"}),y.jsx("span",{className:`text-sm font-bold ${l==="addition"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Batuketa"}),(!re||!je("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!re,onClick:()=>{u("subtraction"),f("easy"),I(1),D(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="subtraction"?"bg-red-500 border-red-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-red-50 dark:hover:bg-red-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center font-black text-lg",children:"-"}),y.jsx("span",{className:`text-sm font-bold ${l==="subtraction"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Kenketa"}),(!re||!je("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"3. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!J||!je("theory_multiplication")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!J,onClick:()=>{u("multiplication"),f("easy"),I(1),D(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="multiplication"?"bg-orange-500 border-orange-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-orange-50 dark:hover:bg-orange-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${l==="multiplication"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Biderketa"}),(!J||!je("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!J,onClick:()=>{u("division"),f("easy"),I(1),D(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="division"?"bg-teal-500 border-teal-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:":"}),y.jsx("span",{className:`text-sm font-bold ${l==="division"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Zatiketa"}),(!J||!je("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"4. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 ${!Ae||!je("theory_powers")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!Ae,onClick:()=>{u("powers"),f("easy"),I(1),D(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="powers"?"bg-indigo-500 border-indigo-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-black text-xs",children:"x"}),y.jsx("span",{className:`text-sm font-bold ${l==="powers"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Berreketak"}),(!Ae||!je("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!Ae,onClick:()=>{u("roots"),f("easy"),I(1),D(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="roots"?"bg-teal-600 border-teal-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${l==="roots"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Erroketak"}),(!Ae||!je("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]})]})]})]})]})]})})})},z9=()=>{var u;const{user:t}=Ai(),[e,n]=P.useState([]);if(P.useEffect(()=>{(async()=>{const f=await Al.getLeaderboard();n(f)})()},[t==null?void 0:t.xp]),!t)return y.jsx(il,{to:"/login",replace:!0});const i=Math.min(100,Math.floor(t.xp/9e3*100)),a=d=>d==="theory_intro"?"Teoria: Oinarriak":d==="theory_operations"?"Teoria: Batuketa/Kenketa":d==="theory_multiplication"?"Teoria: Biderketa/Zatiketa":d==="theory_powers"?"Teoria: Berreketak":d==="theory_advanced"?"Teoria: Konbinatuak":{ordering_easy:"Ordena (Erraza)",ordering_medium:"Ordena (Ertaina)",ordering_hard:"Ordena (Zaila)",combined_easy:"Konbinatuak (Erraza)",combined_medium:"Konbinatuak (Ertaina)",combined_hard:"Konbinatuak (Zaila)",mixed_easy:"Nahastuta (Erraza)",mixed_medium:"Nahastuta (Ertaina)",mixed_hard:"Nahastuta (Zaila)",addition_easy:"Batuketa (Erraza)",addition_medium:"Batuketa (Ertaina)",addition_hard:"Batuketa (Zaila)",subtraction_easy:"Kenketa (Erraza)",subtraction_medium:"Kenketa (Ertaina)",subtraction_hard:"Kenketa (Zaila)",multiplication_easy:"Biderketa (Erraza)",multiplication_medium:"Biderketa (Ertaina)",multiplication_hard:"Biderketa (Zaila)",division_easy:"Zatiketa (Erraza)",division_medium:"Zatiketa (Ertaina)",division_hard:"Zatiketa (Zaila)",powers_easy:"Berreketak (Erraza)",powers_medium:"Berreketak (Ertaina)",powers_hard:"Berreketak (Zaila)",roots_easy:"Erroketak (Erraza)",roots_medium:"Erroketak (Ertaina)",roots_hard:"Erroketak (Zaila)"}[d]||d,l=Object.entries(ct).reduce((d,[f,p])=>{let b="other";return f.includes("theory")?b="Teoria":f.includes("ordering")?b="Ordena":f.includes("combined")?b="Konbinatuak":f.includes("mixed")?b="Nahastuta":f.includes("addition")||f.includes("subtraction")?b="Batuketa eta Kenketa":f.includes("multiplication")||f.includes("division")?b="Biderketa eta Zatiketa":f.includes("powers")||f.includes("roots")?b="Berreketak eta Erroketak":b="Oinarrizkoak",d[b]||(d[b]=[]),d[b].push({key:f,limit:p,current:t.gameXp[f]||0}),d},{});return y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-8",children:y.jsxs("div",{className:"mx-auto max-w-[1100px] flex flex-col gap-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("h1",{className:"text-slate-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]",children:["Kaixo, ",t.displayName.split(" ")[0],"!"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base font-normal leading-normal",children:"Hemen duzu zure zenbaki osoen abenturaren laburpena."})]}),y.jsxs(nt,{to:"/games",className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-all shadow-lg shadow-blue-500/20",children:[y.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),y.jsx("span",{children:"Jarraitu jolasten"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[t.xp," XP"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Puntuazioa"})]}),y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-primary mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"donut_large"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:["%",i]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Ikastaroa osatuta"})]}),y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"emoji_events"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[((u=t.unlockedAchievements)==null?void 0:u.length)||0,"/",s0.length]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Lorpenak"})]})]}),y.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm",children:y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex gap-6 justify-between items-end",children:[y.jsx("p",{className:"text-slate-900 dark:text-white text-base font-bold leading-normal",children:"Ikastaroaren Aurrerapen Orokorra"}),y.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-xs font-bold",children:["%",i]})]}),y.jsx("div",{className:"w-full rounded-full bg-slate-100 dark:bg-slate-700 h-3 overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500 ease-out",style:{width:`${i}%`}})}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-normal leading-normal",children:i<30?"Hasiera ona! Jarraitu ikasten.":i<70?"Oso ondo zoaz! Berreketak menperatzea falta zaizu.":"Ia amaitu duzu! Txapelduna zara."})]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Dominak eta Lorpenak"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s0.map(d=>{var p;const f=(p=t.unlockedAchievements)==null?void 0:p.includes(d.id);return y.jsxs("div",{className:`flex gap-4 p-4 rounded-xl border transition-all ${f?"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 shadow-sm":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 opacity-60 grayscale"}`,children:[y.jsx("div",{className:`size-12 rounded-full flex items-center justify-center shrink-0 ${f?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-slate-200 dark:bg-slate-700 text-slate-400"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:d.icon})}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("h4",{className:`font-bold ${f?"text-slate-900 dark:text-white":"text-slate-500"}`,children:d.title}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:d.description}),f&&y.jsxs("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mt-1",children:["+",d.xpReward," XP Lortuta"]})]})]},d.id)})})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Jokoen Xehetasunak"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.entries(l).map(([d,f])=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm",children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:d}),y.jsx("div",{className:"flex flex-col gap-4",children:f.map(p=>y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[y.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:a(p.key)}),y.jsxs("span",{className:`${p.current>=p.limit?"text-green-500 font-bold":"text-slate-400"}`,children:[p.current," / ",p.limit," XP"]})]}),y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 h-2 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full transition-all ${p.current>=p.limit?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,p.current/p.limit*100)}%`}})})]},p.key))})]},d))})]})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 flex flex-col gap-4",children:[y.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Zure Maila"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"size-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-2xl font-black text-primary border-4 border-primary/20",children:t.level}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("p",{className:"text-slate-900 dark:text-white font-bold mb-1",children:["Ikaslea (Lvl ",t.level,")"]}),y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Hurrengo mailara: ",500-t.xp%500," XP"]}),y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2 mt-2",children:y.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${t.xp%500/5}%`}})})]})]})]}),y.jsxs("div",{className:"rounded-xl bg-gradient-to-b from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 p-5 text-white flex flex-col gap-4 shadow-lg",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 pb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-400",children:"trophy"}),y.jsx("h3",{className:"font-bold text-lg",children:"Sailkapena"})]}),y.jsx("span",{className:"text-xs bg-white/10 px-2 py-1 rounded",children:"Aste hau"})]}),y.jsx("div",{className:"flex flex-col gap-2",children:e.map((d,f)=>y.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${d.uid===t.uid?"bg-primary/20 border border-primary/50":"hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:`text-sm font-bold w-4 ${f===0?"text-yellow-400":f===1?"text-slate-300":f===2?"text-amber-600":"text-slate-500"}`,children:f+1}),y.jsx("div",{className:"size-8 rounded-full bg-slate-700 bg-cover bg-center",style:{backgroundImage:`url("${d.photoURL}")`}}),y.jsxs("span",{className:`text-sm font-medium ${d.uid===t.uid?"text-white font-bold":"text-slate-300"}`,children:[d.displayName," ",d.uid===t.uid&&"(Zu)"]})]}),y.jsx("span",{className:"text-sm font-bold text-white",children:d.xp})]},d.uid))})]})]})]})]})})},U9=()=>{const[t,e]=P.useState(""),[n,i]=P.useState(""),[a,l]=P.useState(""),{login:u,loginAsGuest:d}=Ai(),f=ao(),p=async x=>{x.preventDefault(),l("");try{await u(t,n),f("/progress")}catch{l("Errorea saioa hastean. Egiaztatu datuak.")}},b=async()=>{try{await d(),f("/progress")}catch{l("Arazo bat egon da gonbidatu gisa sartzean.")}};return y.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:"Ongi Etorri!"}),y.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Sartu zure kontuan jolasten jarraitzeko."}),a&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:a}),y.jsxs("form",{onSubmit:p,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),y.jsx("input",{type:"email",required:!0,value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"zure@emaila.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),y.jsx("input",{type:"password",required:!0,value:n,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:""})]}),y.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:"Hasi Saioa"})]}),y.jsxs("div",{className:"flex items-center gap-4 my-6",children:[y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"}),y.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:"edo"}),y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"})]}),y.jsxs("button",{onClick:b,className:"w-full py-3.5 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-white font-bold transition-all border border-slate-200 dark:border-slate-600 flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"person"}),"Jarraitu Gonbidatu gisa"]}),y.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Ez daukazu konturik? ",y.jsx(nt,{to:"/register",className:"text-primary font-bold hover:underline",children:"Erregistratu hemen"})]})]})})},B9=()=>{const[t,e]=P.useState(""),[n,i]=P.useState(""),[a,l]=P.useState(""),[u,d]=P.useState(""),{register:f}=Ai(),p=ao(),b=async x=>{x.preventDefault(),d("");try{await f(n,a,t),p("/progress")}catch{d("Errorea erregistratzean. Saiatu berriro.")}};return y.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:"Sortu Kontua"}),y.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Bat egin Zenbaki Osoen Abenturarekin!"}),u&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:u}),y.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Izena"}),y.jsx("input",{type:"text",required:!0,value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"Jon Agirre"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),y.jsx("input",{type:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"zure@emaila.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),y.jsx("input",{type:"password",required:!0,value:a,onChange:x=>l(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:""})]}),y.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:"Erregistratu"})]}),y.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Dagoeneko kontua daukazu? ",y.jsx(nt,{to:"/login",className:"text-primary font-bold hover:underline",children:"Hasi Saioa"})]})]})})},q1=["https://ui-avatars.com/api/?name=User&background=136dec&color=fff","https://ui-avatars.com/api/?name=User&background=0d9488&color=fff","https://ui-avatars.com/api/?name=User&background=7c3aed&color=fff","https://ui-avatars.com/api/?name=User&background=db2777&color=fff","https://ui-avatars.com/api/?name=User&background=ea580c&color=fff"],F9=()=>{const{user:t,login:e}=Ai(),[n,i]=P.useState((t==null?void 0:t.displayName)||""),[a,l]=P.useState((t==null?void 0:t.photoURL)||q1[0]),[u,d]=P.useState(!1),[f,p]=P.useState("");if(!t)return y.jsx("p",{className:"text-center p-10",children:"Saioa hasi behar duzu."});const b=async x=>{x.preventDefault(),d(!0),p(""),Ct.click();try{await Al.updateProfile(t.uid,{displayName:n,photoURL:a}),p("Aldaketak ondo gorde dira!"),Ct.correct(),setTimeout(()=>window.location.reload(),1e3)}catch{p("Errorea gertatu da."),Ct.wrong()}finally{d(!1)}};return y.jsx("main",{className:"flex-1 flex flex-col items-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-lg p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 border-b border-slate-100 dark:border-slate-700 pb-4",children:"Nire Profila"}),f&&y.jsx("div",{className:"mb-6 p-4 rounded-xl bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 font-bold text-center",children:f}),y.jsxs("form",{onSubmit:b,className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Avatarra Aukeratu"}),y.jsx("div",{className:"flex gap-3 justify-center flex-wrap",children:q1.map((x,T)=>y.jsx("button",{type:"button",onClick:()=>{l(x),Ct.click()},className:`size-14 rounded-full border-4 transition-transform hover:scale-110 ${a===x?"border-primary":"border-transparent"}`,style:{backgroundImage:`url("${x}")`,backgroundSize:"cover"}},T))})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Erabiltzaile Izena"}),y.jsx("input",{type:"text",value:n,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),y.jsxs("div",{className:"flex flex-col gap-2 opacity-60",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Emaila (Ezin da aldatu)"}),y.jsx("input",{type:"email",value:t.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 cursor-not-allowed"})]}),y.jsx("button",{type:"submit",disabled:u,className:"mt-4 w-full py-4 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Gordetzen...":"Gorde Aldaketak"})]})]})})},H9=()=>{const{user:t}=Ai(),{addToast:e}=qu(),[n,i]=P.useState([]),[a,l]=P.useState(!0),[u,d]=P.useState(null);P.useEffect(()=>{f()},[t]);const f=async()=>{if(t!=null&&t.isAdmin){const b=await Al.getAllUsers();i(b),l(!1)}},p=async b=>{try{await Al.kickUser(b),e("success","Erabiltzailea kanporatua izan da."),d(null),f()}catch{e("error","Arazoa egon da erabiltzailea kanporatzean.")}};return!t||!t.isAdmin?y.jsx(il,{to:"/",replace:!0}):y.jsxs("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:[y.jsxs("div",{className:"w-full max-w-6xl",children:[y.jsxs("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-8 border-b border-slate-200 dark:border-slate-700 pb-4 flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-red-500",children:"admin_panel_settings"}),"Administrazio Panela"]}),a?y.jsx("p",{className:"text-center",children:"Kargatzen..."}):y.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase",children:"Erabiltzailea"}),y.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase",children:"Emaila"}),y.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"XP"}),y.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"Maila"}),y.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"Azken Saioa"}),y.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"IP"}),y.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-right",children:"Ekintzak"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:n.map(b=>y.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[y.jsxs("td",{className:"p-4 flex items-center gap-3",children:[y.jsx("div",{className:"size-10 rounded-full bg-cover bg-center bg-slate-200",style:{backgroundImage:`url("${b.photoURL}")`}}),y.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:[b.displayName,b.isAdmin&&y.jsx("span",{className:"ml-2 bg-red-100 text-red-600 text-[10px] px-2 py-0.5 rounded-full uppercase font-black",children:"Admin"})]})]}),y.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400 font-mono text-sm",children:b.email}),y.jsx("td",{className:"p-4 text-center font-bold text-primary",children:b.xp}),y.jsx("td",{className:"p-4 text-center",children:y.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full text-xs font-bold",children:b.level})}),y.jsx("td",{className:"p-4 text-center text-sm text-slate-500",children:new Date(b.lastLoginDate).toLocaleDateString()}),y.jsx("td",{className:"p-4 text-center text-xs font-mono text-slate-400",children:b.lastIp||"-"}),y.jsx("td",{className:"p-4 text-right",children:!b.isAdmin&&y.jsx("button",{onClick:()=>d(b.uid),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition-colors",title:"Kanporatu",children:y.jsx("span",{className:"material-symbols-outlined",children:"person_remove"})})})]},b.uid))})]})})})]}),u&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-6 border border-slate-200 dark:border-slate-700",children:[y.jsx("div",{className:"size-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center mb-4",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"warning"})}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Ziur zaude?"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Ekintza honek erabiltzailea eta bere datu guztiak ezabatuko ditu. Ezin da desegin."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>d(null),className:"flex-1 py-3 rounded-xl bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:"Ezeztatu"}),y.jsx("button",{onClick:()=>p(u),className:"flex-1 py-3 rounded-xl bg-red-600 text-white font-bold hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Kanporatu"})]})]})})]})},q9=()=>y.jsx(cV,{children:y.jsx(uV,{children:y.jsx(MC,{children:y.jsxs("div",{className:"relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 transition-colors duration-200 font-body",children:[y.jsx(dV,{}),y.jsxs(cC,{children:[y.jsx(fi,{path:"/",element:y.jsx(M9,{})}),y.jsx(fi,{path:"/topics",element:y.jsx(j9,{})}),y.jsx(fi,{path:"/theory/:topicId",element:y.jsx(V9,{})}),y.jsx(fi,{path:"/games",element:y.jsx(L9,{})}),y.jsx(fi,{path:"/progress",element:y.jsx(z9,{})}),y.jsx(fi,{path:"/login",element:y.jsx(U9,{})}),y.jsx(fi,{path:"/register",element:y.jsx(B9,{})}),y.jsx(fi,{path:"/profile",element:y.jsx(F9,{})}),y.jsx(fi,{path:"/admin",element:y.jsx(H9,{})})]}),y.jsx(hV,{}),y.jsx(fV,{})]})})})}),R2=document.getElementById("root");if(!R2)throw new Error("Could not find root element to mount to");const G9=gN.createRoot(R2);G9.render(y.jsx(lN.StrictMode,{children:y.jsx(q9,{})}));
