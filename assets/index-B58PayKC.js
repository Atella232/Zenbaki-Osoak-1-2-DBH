(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function WT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $p={exports:{}},Kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function pN(){if(M_)return Kc;M_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Kc.Fragment=e,Kc.jsx=n,Kc.jsxs=n,Kc}var j_;function gN(){return j_||(j_=1,$p.exports=pN()),$p.exports}var y=gN(),Xp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function yN(){if(V_)return Oe;V_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function B(L,ee,le){this.props=L,this.context=ee,this.refs=M,this.updater=le||N}B.prototype.isReactComponent={},B.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function X(){}X.prototype=B.prototype;function q(L,ee,le){this.props=L,this.context=ee,this.refs=M,this.updater=le||N}var ae=q.prototype=new X;ae.constructor=q,O(ae,B.prototype),ae.isPureReactComponent=!0;var oe=Array.isArray;function ue(){}var R={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function C(L,ee,le){var de=le.ref;return{$$typeof:t,type:L,key:ee,ref:de!==void 0?de:null,props:le}}function V(L,ee){return C(L.type,ee,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function U(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return ee[le]})}var D=/\/+/g;function Xe(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):ee.toString(36)}function je(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ue,ue):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,ee,le,de,fe){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var we=!1;if(L===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(L.$$typeof){case t:case e:we=!0;break;case b:return we=L._init,Y(we(L._payload),ee,le,de,fe)}}if(we)return fe=fe(L),we=de===""?"."+Xe(L,0):de,oe(fe)?(le="",we!=null&&(le=we.replace(D,"$&/")+"/"),Y(fe,ee,le,"",function(jn){return jn})):fe!=null&&(P(fe)&&(fe=V(fe,le+(fe.key==null||L&&L.key===fe.key?"":(""+fe.key).replace(D,"$&/")+"/")+we)),ee.push(fe)),1;we=0;var Tt=de===""?".":de+":";if(oe(L))for(var nt=0;nt<L.length;nt++)de=L[nt],Ne=Tt+Xe(de,nt),we+=Y(de,ee,le,Ne,fe);else if(nt=A(L),typeof nt=="function")for(L=nt.call(L),nt=0;!(de=L.next()).done;)de=de.value,Ne=Tt+Xe(de,nt++),we+=Y(de,ee,le,Ne,fe);else if(Ne==="object"){if(typeof L.then=="function")return Y(je(L),ee,le,de,fe);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(L,ee,le){if(L==null)return L;var de=[],fe=0;return Y(L,de,"","",function(Ne){return ee.call(le,Ne,fe++)}),de}function J(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var Ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ve={map:re,forEach:function(L,ee,le){re(L,function(){ee.apply(this,arguments)},le)},count:function(L){var ee=0;return re(L,function(){ee++}),ee},toArray:function(L){return re(L,function(ee){return ee})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Oe.Activity=v,Oe.Children=Ve,Oe.Component=B,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=q,Oe.StrictMode=s,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},Oe.cache=function(L){return function(){return L.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(L,ee,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var de=O({},L.props),fe=L.key;if(ee!=null)for(Ne in ee.key!==void 0&&(fe=""+ee.key),ee)!T.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(de[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)de.children=le;else if(1<Ne){for(var we=Array(Ne),Tt=0;Tt<Ne;Tt++)we[Tt]=arguments[Tt+2];de.children=we}return C(L.type,fe,de)},Oe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Oe.createElement=function(L,ee,le){var de,fe={},Ne=null;if(ee!=null)for(de in ee.key!==void 0&&(Ne=""+ee.key),ee)T.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(fe[de]=ee[de]);var we=arguments.length-2;if(we===1)fe.children=le;else if(1<we){for(var Tt=Array(we),nt=0;nt<we;nt++)Tt[nt]=arguments[nt+2];fe.children=Tt}if(L&&L.defaultProps)for(de in we=L.defaultProps,we)fe[de]===void 0&&(fe[de]=we[de]);return C(L,Ne,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:h,render:L}},Oe.isValidElement=P,Oe.lazy=function(L){return{$$typeof:b,_payload:{_status:-1,_result:L},_init:J}},Oe.memo=function(L,ee){return{$$typeof:p,type:L,compare:ee===void 0?null:ee}},Oe.startTransition=function(L){var ee=R.T,le={};R.T=le;try{var de=L(),fe=R.S;fe!==null&&fe(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ue,Ae)}catch(Ne){Ae(Ne)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),R.T=ee}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(L){return R.H.use(L)},Oe.useActionState=function(L,ee,le){return R.H.useActionState(L,ee,le)},Oe.useCallback=function(L,ee){return R.H.useCallback(L,ee)},Oe.useContext=function(L){return R.H.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L,ee){return R.H.useDeferredValue(L,ee)},Oe.useEffect=function(L,ee){return R.H.useEffect(L,ee)},Oe.useEffectEvent=function(L){return R.H.useEffectEvent(L)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(L,ee,le){return R.H.useImperativeHandle(L,ee,le)},Oe.useInsertionEffect=function(L,ee){return R.H.useInsertionEffect(L,ee)},Oe.useLayoutEffect=function(L,ee){return R.H.useLayoutEffect(L,ee)},Oe.useMemo=function(L,ee){return R.H.useMemo(L,ee)},Oe.useOptimistic=function(L,ee){return R.H.useOptimistic(L,ee)},Oe.useReducer=function(L,ee,le){return R.H.useReducer(L,ee,le)},Oe.useRef=function(L){return R.H.useRef(L)},Oe.useState=function(L){return R.H.useState(L)},Oe.useSyncExternalStore=function(L,ee,le){return R.H.useSyncExternalStore(L,ee,le)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var P_;function R0(){return P_||(P_=1,Xp.exports=yN()),Xp.exports}var I=R0();const bN=WT(I);var Yp={exports:{}},$c={},Qp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function vN(){return O_||(O_=1,(function(t){function e(Y,re){var J=Y.length;Y.push(re);e:for(;0<J;){var Ae=J-1>>>1,Ve=Y[Ae];if(0<a(Ve,re))Y[Ae]=re,Y[J]=Ve,J=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var re=Y[0],J=Y.pop();if(J!==re){Y[0]=J;e:for(var Ae=0,Ve=Y.length,L=Ve>>>1;Ae<L;){var ee=2*(Ae+1)-1,le=Y[ee],de=ee+1,fe=Y[de];if(0>a(le,J))de<Ve&&0>a(fe,le)?(Y[Ae]=fe,Y[de]=J,Ae=de):(Y[Ae]=le,Y[ee]=J,Ae=ee);else if(de<Ve&&0>a(fe,J))Y[Ae]=fe,Y[de]=J,Ae=de;else break e}}return re}function a(Y,re){var J=Y.sortIndex-re.sortIndex;return J!==0?J:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],p=[],b=1,v=null,w=3,A=!1,N=!1,O=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=Y)s(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(p)}}function oe(Y){if(O=!1,ae(Y),!N)if(n(f)!==null)N=!0,ue||(ue=!0,U());else{var re=n(p);re!==null&&je(oe,re.startTime-Y)}}var ue=!1,R=-1,T=5,C=-1;function V(){return M?!0:!(t.unstable_now()-C<T)}function P(){if(M=!1,ue){var Y=t.unstable_now();C=Y;var re=!0;try{e:{N=!1,O&&(O=!1,X(R),R=-1),A=!0;var J=w;try{t:{for(ae(Y),v=n(f);v!==null&&!(v.expirationTime>Y&&V());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,w=v.priorityLevel;var Ve=Ae(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ve=="function"){v.callback=Ve,ae(Y),re=!0;break t}v===n(f)&&s(f),ae(Y)}else s(f);v=n(f)}if(v!==null)re=!0;else{var L=n(p);L!==null&&je(oe,L.startTime-Y),re=!1}}break e}finally{v=null,w=J,A=!1}re=void 0}}finally{re?U():ue=!1}}}var U;if(typeof q=="function")U=function(){q(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Xe=D.port2;D.port1.onmessage=P,U=function(){Xe.postMessage(null)}}else U=function(){B(P,0)};function je(Y,re){R=B(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var J=w;w=re;try{return Y()}finally{w=J}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=w;w=Y;try{return re()}finally{w=J}},t.unstable_scheduleCallback=function(Y,re,J){var Ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ae+J:Ae):J=Ae,Y){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=J+Ve,Y={id:b++,callback:re,priorityLevel:Y,startTime:J,expirationTime:Ve,sortIndex:-1},J>Ae?(Y.sortIndex=J,e(p,Y),n(f)===null&&Y===n(p)&&(O?(X(R),R=-1):O=!0,je(oe,J-Ae))):(Y.sortIndex=Ve,e(f,Y),N||A||(N=!0,ue||(ue=!0,U()))),Y},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Y){var re=w;return function(){var J=w;w=re;try{return Y.apply(this,arguments)}finally{w=J}}}})(Zp)),Zp}var L_;function xN(){return L_||(L_=1,Qp.exports=vN()),Qp.exports}var Wp={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function _N(){if(z_)return kn;z_=1;var t=R0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:p,implementation:b}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kn.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,b)},kn.flushSync=function(f){var p=c.T,b=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=b,s.d.f()}},kn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},kn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},kn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:A}):b==="script"&&s.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},kn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin);s.d.L(f,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kn.preloadModule=function(f,p){if(typeof f=="string")if(p){var b=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},kn.requestFormReset=function(f){s.d.r(f)},kn.unstable_batchedUpdates=function(f,p){return f(p)},kn.useFormState=function(f,p,b){return c.H.useFormState(f,p,b)},kn.useFormStatus=function(){return c.H.useHostTransitionStatus()},kn.version="19.2.3",kn}var U_;function wN(){if(U_)return Wp.exports;U_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wp.exports=_N(),Wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function EN(){if(B_)return $c;B_=1;var t=xN(),e=R0(),n=wN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return f(m),i;if(g===u)return f(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=g;else{for(var _=!1,S=m.child;S;){if(S===o){_=!0,o=m,u=g;break}if(S===u){_=!0,u=m,o=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===o){_=!0,o=g,u=m;break}if(S===u){_=!0,u=g,o=m;break}S=S.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function b(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=b(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case oe:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case q:return i.displayName||"Context";case X:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Xe(i.type)||"Memo";case T:r=i._payload,i=i._init;try{return Xe(i(r))}catch{}}return null}var je=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ae=[],Ve=-1;function L(i){return{current:i}}function ee(i){0>Ve||(i.current=Ae[Ve],Ae[Ve]=null,Ve--)}function le(i,r){Ve++,Ae[Ve]=i.current,i.current=r}var de=L(null),fe=L(null),Ne=L(null),we=L(null);function Tt(i,r){switch(le(Ne,r),le(fe,i),le(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?n_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=n_(r),i=i_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(de),le(de,i)}function nt(){ee(de),ee(fe),ee(Ne)}function jn(i){i.memoizedState!==null&&le(we,i);var r=de.current,o=i_(r,i.type);r!==o&&(le(fe,i),le(de,o))}function Vn(i){fe.current===i&&(ee(de),ee(fe)),we.current===i&&(ee(we),Fc._currentValue=J)}var Pn,Ci;function Bn(i){if(Pn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Pn=r&&r[1]||"",Ci=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+i+Ci}var ya=!1;function Ns(i,r){if(!i||ya)return"";ya=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var $=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){$=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){$=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],S=g[1];if(_&&S){var j=_.split(`
`),K=S.split(`
`);for(m=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(u===j.length||m===K.length)for(u=j.length-1,m=K.length-1;1<=u&&0<=m&&j[u]!==K[m];)m--;for(;1<=u&&0<=m;u--,m--)if(j[u]!==K[m]){if(u!==1||m!==1)do if(u--,m--,0>m||j[u]!==K[m]){var W=`
`+j[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=m);break}}}finally{ya=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bn(o):""}function Is(i,r){switch(i.tag){case 26:case 27:case 5:return Bn(i.type);case 16:return Bn("Lazy");case 13:return i.child!==r&&r!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Ns(i.type,!1);case 11:return Ns(i.type.render,!1);case 1:return Ns(i.type,!0);case 31:return Bn("Activity");default:return""}}function ba(i){try{var r="",o=null;do r+=Is(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ot=Object.prototype.hasOwnProperty,Dt=t.unstable_scheduleCallback,ui=t.unstable_cancelCallback,go=t.unstable_shouldYield,ce=t.unstable_requestPaint,pe=t.unstable_now,Ie=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,ot=t.unstable_LowPriority,St=t.unstable_IdlePriority,gn=t.log,At=t.unstable_setDisableYieldValue,On=null,Se=null;function Be(i){if(typeof gn=="function"&&At(i),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(On,i)}catch{}}var xe=Math.clz32?Math.clz32:rn,bt=Math.log,Mt=Math.LN2;function rn(i){return i>>>=0,i===0?32:31-(bt(i)/Mt|0)|0}var jt=256,yn=262144,Lt=4194304;function Zi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?m=Zi(u):(_&=S,_!==0?m=Zi(_):o||(o=S&~i,o!==0&&(m=Zi(o))))):(S=u&~g,S!==0?m=Zi(S):_!==0?m=Zi(_):o||(o=u&~i,o!==0&&(m=Zi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Ni(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Zf(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var i=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),i}function Ji(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function va(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wf(i,r,o,u,m,g){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,j=i.expirationTimes,K=i.hiddenUpdates;for(o=_&~o;0<o;){var W=31-xe(o),ie=1<<W;S[W]=0,j[W]=-1;var $=K[W];if($!==null)for(K[W]=null,W=0;W<$.length;W++){var Z=$[W];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&xa(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(_&~r))}function xa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-xe(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function $l(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-xe(o),m=1<<u;m&r|i[u]&r&&(i[u]|=r),o&=~m}}function Xl(i,r){var o=r&-r;return o=(o&42)!==0?1:_a(o),(o&(i.suspendedLanes|r))!==0?0:o}function _a(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ds(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zu(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:A_(i.type))}function Ii(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var Di=Math.random().toString(36).slice(2),$t="__reactFiber$"+Di,dn="__reactProps$"+Di,es="__reactContainer$"+Di,yo="__reactEvents$"+Di,Jf="__reactListeners$"+Di,Wu="__reactHandles$"+Di,Ju="__reactResources$"+Di,ts="__reactMarker$"+Di;function bo(i){delete i[$t],delete i[dn],delete i[yo],delete i[Jf],delete i[Wu]}function ns(i){var r=i[$t];if(r)return r;for(var o=i.parentNode;o;){if(r=o[es]||o[$t]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=u_(i);i!==null;){if(o=i[$t])return o;i=u_(i)}return r}i=o,o=i.parentNode}return null}function di(i){if(i=i[$t]||i[es]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Jn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function is(i){var r=i[Ju];return r||(r=i[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Xt(i){i[ts]=!0}var Yl=new Set,Ql={};function ss(i,r){rs(i,r),rs(i+"Capture",r)}function rs(i,r){for(Ql[i]=r,i=0;i<r.length;i++)Yl.add(r[i])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Jl={};function ed(i){return Ot.call(Jl,i)?!0:Ot.call(Wl,i)?!1:Zl.test(i)?Jl[i]=!0:(Wl[i]=!0,!1)}function vo(i,r,o){if(ed(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ei(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Yt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ec(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ct(i){if(!i._valueTracker){var r=hr(i)?"checked":"value";i._valueTracker=ec(i,r,""+i[r])}}function wa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=hr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function as(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ea=/[\n"\\]/g;function Fn(i){return i.replace(Ea,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xo(i,r,o,u,m,g,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+hn(r)):i.value!==""+hn(r)&&(i.value=""+hn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?tc(i,_,hn(r)):o!=null?tc(i,_,hn(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+hn(S):i.removeAttribute("name")}function td(i,r,o,u,m,g,_,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ct(i);return}o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),ct(i)}function tc(i,r,o){r==="number"&&as(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function fr(i,r,o,u){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function nd(i,r,o){if(r!=null&&(r=""+hn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+hn(o):""}function mr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(je(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=hn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),ct(i)}function qn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||id.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ic(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&nc(i,m,u)}else for(var g in r)r.hasOwnProperty(g)&&nc(i,g,r[g])}function _o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(i){return pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Mi(){}var sc=null;function hi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gr=null,os=null;function Ta(i){var r=di(i);if(r&&(i=r.stateNode)){var o=i[dn]||null;e:switch(i=r.stateNode,r.type){case"input":if(xo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Fn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var m=u[dn]||null;if(!m)throw Error(s(90));xo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&wa(u)}break e;case"textarea":nd(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&fr(i,!!o.multiple,r,!1)}}}var Eo=!1;function yr(i,r,o){if(Eo)return i(r,o);Eo=!0;try{var u=i(r);return u}finally{if(Eo=!1,(gr!==null||os!==null)&&(Zd(),gr&&(r=gr,i=os,os=gr=null,Ta(r),i)))for(r=0;r<i.length;r++)Ta(i[r])}}function ji(i,r){var o=i.stateNode;if(o===null)return null;var u=o[dn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=!1;if(fi)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Sa=!1}var ls=null,rc=null,Aa=null;function ac(){if(Aa)return Aa;var i,r=rc,o=r.length,u,m="value"in ls?ls.value:ls.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===m[g-u];u++);return Aa=m.slice(i,1<u?1-u:void 0)}function ka(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ms(){return!0}function Vi(){return!1}function bn(i){function r(o,u,m,g,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ms:Vi,this.isPropagationStopped=Vi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),r}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=bn(js),br=v({},js,{view:0,detail:0}),oc=bn(br),vr,To,us,So=v({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==us&&(us&&i.type==="mousemove"?(vr=i.screenX-us.screenX,To=i.screenY-us.screenY):To=vr=0,us=i),vr)},movementY:function(i){return"movementY"in i?i.movementY:To}}),lc=bn(So),Ra=v({},So,{dataTransfer:0}),rd=bn(Ra),ad=v({},br,{relatedTarget:0}),Ca=bn(ad),cc=v({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),od=bn(cc),Ao=v({},js,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ld=bn(Ao),cd=v({},js,{data:0}),ds=bn(cd),ud={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fd(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=hd[i])?!!r[i]:!1}function xr(){return fd}var Ln=v({},br,{key:function(i){if(i.key){var r=ud[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ka(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(i){return i.type==="keypress"?ka(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ka(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),md=bn(Ln),pd=v({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vs=bn(pd),d=v({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),x=bn(d),E=v({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=bn(E),H=v({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=bn(H),he=v({},js,{newState:0,oldState:0}),Fe=bn(he),Ft=[9,13,27,32],rt=fi&&"CompositionEvent"in window,kt=null;fi&&"documentMode"in document&&(kt=document.documentMode);var mi=fi&&"TextEvent"in window&&!kt,hs=fi&&(!rt||kt&&8<kt&&11>=kt),Pi=" ",Oi=!1;function Na(i,r){switch(i){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ko(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ro=!1;function zR(i,r){switch(i){case"compositionend":return ko(r);case"keypress":return r.which!==32?null:(Oi=!0,Pi);case"textInput":return i=r.data,i===Pi&&Oi?null:i;default:return null}}function UR(i,r){if(Ro)return i==="compositionend"||!rt&&Na(i,r)?(i=ac(),Aa=rc=ls=null,Ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hs&&r.locale!=="ko"?null:r.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!BR[i.type]:r==="textarea"}function mb(i,r,o,u){gr?os?os.push(u):os=[u]:gr=u,r=sh(r,"onChange"),0<r.length&&(o=new cs("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var uc=null,dc=null;function FR(i){Qx(i,0)}function gd(i){var r=Jn(i);if(wa(r))return i}function pb(i,r){if(i==="change")return r}var gb=!1;if(fi){var em;if(fi){var tm="oninput"in document;if(!tm){var yb=document.createElement("div");yb.setAttribute("oninput","return;"),tm=typeof yb.oninput=="function"}em=tm}else em=!1;gb=em&&(!document.documentMode||9<document.documentMode)}function bb(){uc&&(uc.detachEvent("onpropertychange",vb),dc=uc=null)}function vb(i){if(i.propertyName==="value"&&gd(dc)){var r=[];mb(r,dc,i,hi(i)),yr(FR,r)}}function qR(i,r,o){i==="focusin"?(bb(),uc=r,dc=o,uc.attachEvent("onpropertychange",vb)):i==="focusout"&&bb()}function HR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gd(dc)}function GR(i,r){if(i==="click")return gd(r)}function KR(i,r){if(i==="input"||i==="change")return gd(r)}function $R(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ti=typeof Object.is=="function"?Object.is:$R;function hc(i,r){if(ti(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Ot.call(r,m)||!ti(i[m],r[m]))return!1}return!0}function xb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _b(i,r){var o=xb(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xb(o)}}function wb(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?wb(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Eb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=as(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=as(i.document)}return r}function nm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var XR=fi&&"documentMode"in document&&11>=document.documentMode,Co=null,im=null,fc=null,sm=!1;function Tb(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sm||Co==null||Co!==as(u)||(u=Co,"selectionStart"in u&&nm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fc&&hc(fc,u)||(fc=u,u=sh(im,"onSelect"),0<u.length&&(r=new cs("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Co)))}function Ia(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var No={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},rm={},Sb={};fi&&(Sb=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Da(i){if(rm[i])return rm[i];if(!No[i])return i;var r=No[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Sb)return rm[i]=r[o];return i}var Ab=Da("animationend"),kb=Da("animationiteration"),Rb=Da("animationstart"),YR=Da("transitionrun"),QR=Da("transitionstart"),ZR=Da("transitioncancel"),Cb=Da("transitionend"),Nb=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function Li(i,r){Nb.set(i,r),ss(r,[i])}var yd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},pi=[],Io=0,om=0;function bd(){for(var i=Io,r=om=Io=0;r<i;){var o=pi[r];pi[r++]=null;var u=pi[r];pi[r++]=null;var m=pi[r];pi[r++]=null;var g=pi[r];if(pi[r++]=null,u!==null&&m!==null){var _=u.pending;_===null?m.next=m:(m.next=_.next,_.next=m),u.pending=m}g!==0&&Ib(o,m,g)}}function vd(i,r,o,u){pi[Io++]=i,pi[Io++]=r,pi[Io++]=o,pi[Io++]=u,om|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function lm(i,r,o,u){return vd(i,r,o,u),xd(i)}function Ma(i,r){return vd(i,null,null,r),xd(i)}function Ib(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-xe(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=o|536870912),g):null}function xd(i){if(50<Vc)throw Vc=0,yp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Do={};function WR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(i,r,o,u){return new WR(i,r,o,u)}function cm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ps(i,r){var o=i.alternate;return o===null?(o=ni(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Db(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _d(i,r,o,u,m,g){var _=0;if(u=i,typeof i=="function")cm(i)&&(_=1);else if(typeof i=="string")_=iN(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=ni(31,o,r,m),i.elementType=C,i.lanes=g,i;case O:return ja(o.children,m,g,r);case M:_=8,m|=24;break;case B:return i=ni(12,o,r,m|2),i.elementType=B,i.lanes=g,i;case oe:return i=ni(13,o,r,m),i.elementType=oe,i.lanes=g,i;case ue:return i=ni(19,o,r,m),i.elementType=ue,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:_=10;break e;case X:_=9;break e;case ae:_=11;break e;case R:_=14;break e;case T:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=ni(_,o,r,m),r.elementType=i,r.type=u,r.lanes=g,r}function ja(i,r,o,u){return i=ni(7,i,u,r),i.lanes=o,i}function um(i,r,o){return i=ni(6,i,null,r),i.lanes=o,i}function Mb(i){var r=ni(18,null,null,0);return r.stateNode=i,r}function dm(i,r,o){return r=ni(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var jb=new WeakMap;function gi(i,r){if(typeof i=="object"&&i!==null){var o=jb.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ba(r)},jb.set(i,r),r)}return{value:i,source:r,stack:ba(r)}}var Mo=[],jo=0,wd=null,mc=0,yi=[],bi=0,_r=null,fs=1,ms="";function Os(i,r){Mo[jo++]=mc,Mo[jo++]=wd,wd=i,mc=r}function Vb(i,r,o){yi[bi++]=fs,yi[bi++]=ms,yi[bi++]=_r,_r=i;var u=fs;i=ms;var m=32-xe(u)-1;u&=~(1<<m),o+=1;var g=32-xe(r)+m;if(30<g){var _=m-m%5;g=(u&(1<<_)-1).toString(32),u>>=_,m-=_,fs=1<<32-xe(r)+m|o<<m|u,ms=g+i}else fs=1<<g|o<<m|u,ms=i}function hm(i){i.return!==null&&(Os(i,1),Vb(i,1,0))}function fm(i){for(;i===wd;)wd=Mo[--jo],Mo[jo]=null,mc=Mo[--jo],Mo[jo]=null;for(;i===_r;)_r=yi[--bi],yi[bi]=null,ms=yi[--bi],yi[bi]=null,fs=yi[--bi],yi[bi]=null}function Pb(i,r){yi[bi++]=fs,yi[bi++]=ms,yi[bi++]=_r,fs=r.id,ms=r.overflow,_r=i}var vn=null,xt=null,et=!1,wr=null,vi=!1,mm=Error(s(519));function Er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pc(gi(r,i)),mm}function Ob(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[$t]=i,r[dn]=u,o){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<Oc.length;o++)$e(Oc[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),td(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),mr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||e_(r.textContent,o)?(u.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),u.onScroll!=null&&$e("scroll",r),u.onScrollEnd!=null&&$e("scrollend",r),u.onClick!=null&&(r.onclick=Mi),r=!0):r=!1,r||Er(i,!0)}function Lb(i){for(vn=i.return;vn;)switch(vn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:vn=vn.return}}function Vo(i){if(i!==vn)return!1;if(!et)return Lb(i),et=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Dp(i.type,i.memoizedProps)),o=!o),o&&xt&&Er(i),Lb(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=c_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=c_(i)}else r===27?(r=xt,Or(i.type)?(i=Op,Op=null,xt=i):xt=r):xt=vn?_i(i.stateNode.nextSibling):null;return!0}function Va(){xt=vn=null,et=!1}function pm(){var i=wr;return i!==null&&($n===null?$n=i:$n.push.apply($n,i),wr=null),i}function pc(i){wr===null?wr=[i]:wr.push(i)}var gm=L(null),Pa=null,Ls=null;function Tr(i,r,o){le(gm,r._currentValue),r._currentValue=o}function zs(i){i._currentValue=gm.current,ee(gm)}function ym(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function bm(i,r,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var _=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var j=0;j<r.length;j++)if(S.context===r[j]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),ym(g.return,o,i),u||(_=null);break e}g=S.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(s(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),ym(_,o,i),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Po(i,r,o,u){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=m.type;ti(m.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(m===we.current){if(_=m.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Fc):i=[Fc])}m=m.return}i!==null&&bm(r,i,o,u),r.flags|=262144}function Ed(i){for(i=i.firstContext;i!==null;){if(!ti(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Oa(i){Pa=i,Ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return zb(Pa,i)}function Td(i,r){return Pa===null&&Oa(i),zb(i,r)}function zb(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ls===null){if(i===null)throw Error(s(308));Ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ls=Ls.next=r;return o}var JR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},eC=t.unstable_scheduleCallback,tC=t.unstable_NormalPriority,Qt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new JR,data:new Map,refCount:0}}function gc(i){i.refCount--,i.refCount===0&&eC(tC,function(){i.controller.abort()})}var yc=null,xm=0,Oo=0,Lo=null;function nC(i,r){if(yc===null){var o=yc=[];xm=0,Oo=Ep(),Lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return xm++,r.then(Ub,Ub),r}function Ub(){if(--xm===0&&yc!==null){Lo!==null&&(Lo.status="fulfilled");var i=yc;yc=null,Oo=0,Lo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function iC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Bb=Y.S;Y.S=function(i,r){Tx=pe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&nC(i,r),Bb!==null&&Bb(i,r)};var La=L(null);function _m(){var i=La.current;return i!==null?i:gt.pooledCache}function Sd(i,r){r===null?le(La,La.current):le(La,r.pool)}function Fb(){var i=_m();return i===null?null:{parent:Qt._currentValue,pool:i}}var zo=Error(s(460)),wm=Error(s(474)),Ad=Error(s(542)),kd={then:function(){}};function qb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Mi,Mi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Kb(i),i;default:if(typeof r.status=="string")r.then(Mi,Mi);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Kb(i),i}throw Ua=r,zo}}function za(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ua=o,zo):o}}var Ua=null;function Gb(){if(Ua===null)throw Error(s(459));var i=Ua;return Ua=null,i}function Kb(i){if(i===zo||i===Ad)throw Error(s(483))}var Uo=null,bc=0;function Rd(i){var r=bc;return bc+=1,Uo===null&&(Uo=[]),Hb(Uo,i,r)}function vc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Cd(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function $b(i){function r(F,z){if(i){var G=F.deletions;G===null?(F.deletions=[z],F.flags|=16):G.push(z)}}function o(F,z){if(!i)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(F,z){return F=Ps(F,z),F.index=0,F.sibling=null,F}function g(F,z,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<z?(F.flags|=67108866,z):G):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function _(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,z,G,te){return z===null||z.tag!==6?(z=um(G,F.mode,te),z.return=F,z):(z=m(z,G),z.return=F,z)}function j(F,z,G,te){var Ee=G.type;return Ee===O?W(F,z,G.props.children,te,G.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&za(Ee)===z.type)?(z=m(z,G.props),vc(z,G),z.return=F,z):(z=_d(G.type,G.key,G.props,null,F.mode,te),vc(z,G),z.return=F,z)}function K(F,z,G,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=dm(G,F.mode,te),z.return=F,z):(z=m(z,G.children||[]),z.return=F,z)}function W(F,z,G,te,Ee){return z===null||z.tag!==7?(z=ja(G,F.mode,te,Ee),z.return=F,z):(z=m(z,G),z.return=F,z)}function ie(F,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=um(""+z,F.mode,G),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return G=_d(z.type,z.key,z.props,null,F.mode,G),vc(G,z),G.return=F,G;case N:return z=dm(z,F.mode,G),z.return=F,z;case T:return z=za(z),ie(F,z,G)}if(je(z)||U(z))return z=ja(z,F.mode,G,null),z.return=F,z;if(typeof z.then=="function")return ie(F,Rd(z),G);if(z.$$typeof===q)return ie(F,Td(F,z),G);Cd(F,z)}return null}function $(F,z,G,te){var Ee=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:S(F,z,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===Ee?j(F,z,G,te):null;case N:return G.key===Ee?K(F,z,G,te):null;case T:return G=za(G),$(F,z,G,te)}if(je(G)||U(G))return Ee!==null?null:W(F,z,G,te,null);if(typeof G.then=="function")return $(F,z,Rd(G),te);if(G.$$typeof===q)return $(F,z,Td(F,G),te);Cd(F,G)}return null}function Z(F,z,G,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(G)||null,S(z,F,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return F=F.get(te.key===null?G:te.key)||null,j(z,F,te,Ee);case N:return F=F.get(te.key===null?G:te.key)||null,K(z,F,te,Ee);case T:return te=za(te),Z(F,z,G,te,Ee)}if(je(te)||U(te))return F=F.get(G)||null,W(z,F,te,Ee,null);if(typeof te.then=="function")return Z(F,z,G,Rd(te),Ee);if(te.$$typeof===q)return Z(F,z,G,Td(z,te),Ee);Cd(z,te)}return null}function ye(F,z,G,te){for(var Ee=null,it=null,_e=z,He=z=0,Qe=null;_e!==null&&He<G.length;He++){_e.index>He?(Qe=_e,_e=null):Qe=_e.sibling;var st=$(F,_e,G[He],te);if(st===null){_e===null&&(_e=Qe);break}i&&_e&&st.alternate===null&&r(F,_e),z=g(st,z,He),it===null?Ee=st:it.sibling=st,it=st,_e=Qe}if(He===G.length)return o(F,_e),et&&Os(F,He),Ee;if(_e===null){for(;He<G.length;He++)_e=ie(F,G[He],te),_e!==null&&(z=g(_e,z,He),it===null?Ee=_e:it.sibling=_e,it=_e);return et&&Os(F,He),Ee}for(_e=u(_e);He<G.length;He++)Qe=Z(_e,F,He,G[He],te),Qe!==null&&(i&&Qe.alternate!==null&&_e.delete(Qe.key===null?He:Qe.key),z=g(Qe,z,He),it===null?Ee=Qe:it.sibling=Qe,it=Qe);return i&&_e.forEach(function(Fr){return r(F,Fr)}),et&&Os(F,He),Ee}function ke(F,z,G,te){if(G==null)throw Error(s(151));for(var Ee=null,it=null,_e=z,He=z=0,Qe=null,st=G.next();_e!==null&&!st.done;He++,st=G.next()){_e.index>He?(Qe=_e,_e=null):Qe=_e.sibling;var Fr=$(F,_e,st.value,te);if(Fr===null){_e===null&&(_e=Qe);break}i&&_e&&Fr.alternate===null&&r(F,_e),z=g(Fr,z,He),it===null?Ee=Fr:it.sibling=Fr,it=Fr,_e=Qe}if(st.done)return o(F,_e),et&&Os(F,He),Ee;if(_e===null){for(;!st.done;He++,st=G.next())st=ie(F,st.value,te),st!==null&&(z=g(st,z,He),it===null?Ee=st:it.sibling=st,it=st);return et&&Os(F,He),Ee}for(_e=u(_e);!st.done;He++,st=G.next())st=Z(_e,F,He,st.value,te),st!==null&&(i&&st.alternate!==null&&_e.delete(st.key===null?He:st.key),z=g(st,z,He),it===null?Ee=st:it.sibling=st,it=st);return i&&_e.forEach(function(mN){return r(F,mN)}),et&&Os(F,He),Ee}function pt(F,z,G,te){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var Ee=G.key;z!==null;){if(z.key===Ee){if(Ee=G.type,Ee===O){if(z.tag===7){o(F,z.sibling),te=m(z,G.props.children),te.return=F,F=te;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&za(Ee)===z.type){o(F,z.sibling),te=m(z,G.props),vc(te,G),te.return=F,F=te;break e}o(F,z);break}else r(F,z);z=z.sibling}G.type===O?(te=ja(G.props.children,F.mode,te,G.key),te.return=F,F=te):(te=_d(G.type,G.key,G.props,null,F.mode,te),vc(te,G),te.return=F,F=te)}return _(F);case N:e:{for(Ee=G.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(F,z.sibling),te=m(z,G.children||[]),te.return=F,F=te;break e}else{o(F,z);break}else r(F,z);z=z.sibling}te=dm(G,F.mode,te),te.return=F,F=te}return _(F);case T:return G=za(G),pt(F,z,G,te)}if(je(G))return ye(F,z,G,te);if(U(G)){if(Ee=U(G),typeof Ee!="function")throw Error(s(150));return G=Ee.call(G),ke(F,z,G,te)}if(typeof G.then=="function")return pt(F,z,Rd(G),te);if(G.$$typeof===q)return pt(F,z,Td(F,G),te);Cd(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(F,z.sibling),te=m(z,G),te.return=F,F=te):(o(F,z),te=um(G,F.mode,te),te.return=F,F=te),_(F)):o(F,z)}return function(F,z,G,te){try{bc=0;var Ee=pt(F,z,G,te);return Uo=null,Ee}catch(_e){if(_e===zo||_e===Ad)throw _e;var it=ni(29,_e,null,F.mode);return it.lanes=te,it.return=F,it}finally{}}}var Ba=$b(!0),Xb=$b(!1),Sr=!1;function Em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function kr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(at&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=xd(i),Ib(i,null,o),r}return vd(i,u,r,o),xd(i)}function xc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,$l(i,o)}}function Sm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Am=!1;function _c(){if(Am){var i=Lo;if(i!==null)throw i}}function wc(i,r,o,u){Am=!1;var m=i.updateQueue;Sr=!1;var g=m.firstBaseUpdate,_=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var j=S,K=j.next;j.next=null,_===null?g=K:_.next=K,_=j;var W=i.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=K:S.next=K,W.lastBaseUpdate=j))}if(g!==null){var ie=m.baseState;_=0,W=K=j=null,S=g;do{var $=S.lane&-536870913,Z=$!==S.lane;if(Z?(Ye&$)===$:(u&$)===$){$!==0&&$===Oo&&(Am=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=i,ke=S;$=r;var pt=o;switch(ke.tag){case 1:if(ye=ke.payload,typeof ye=="function"){ie=ye.call(pt,ie,$);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ke.payload,$=typeof ye=="function"?ye.call(pt,ie,$):ye,$==null)break e;ie=v({},ie,$);break e;case 2:Sr=!0}}$=S.callback,$!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[$]:Z.push($))}else Z={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(K=W=Z,j=ie):W=W.next=Z,_|=$;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);W===null&&(j=ie),m.baseState=j,m.firstBaseUpdate=K,m.lastBaseUpdate=W,g===null&&(m.shared.lanes=0),Dr|=_,i.lanes=_,i.memoizedState=ie}}function Yb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Qb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yb(o[i],r)}var Bo=L(null),Nd=L(0);function Zb(i,r){i=Xs,le(Nd,i),le(Bo,r),Xs=i|r.baseLanes}function km(){le(Nd,Xs),le(Bo,Bo.current)}function Rm(){Xs=Nd.current,ee(Bo),ee(Nd)}var ii=L(null),xi=null;function Rr(i){var r=i.alternate;le(qt,qt.current&1),le(ii,i),xi===null&&(r===null||Bo.current!==null||r.memoizedState!==null)&&(xi=i)}function Cm(i){le(qt,qt.current),le(ii,i),xi===null&&(xi=i)}function Wb(i){i.tag===22?(le(qt,qt.current),le(ii,i),xi===null&&(xi=i)):Cr()}function Cr(){le(qt,qt.current),le(ii,ii.current)}function si(i){ee(ii),xi===i&&(xi=null),ee(qt)}var qt=L(0);function Id(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vp(o)||Pp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Us=0,qe=null,ft=null,Zt=null,Dd=!1,Fo=!1,Fa=!1,Md=0,Ec=0,qo=null,sC=0;function zt(){throw Error(s(321))}function Nm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ti(i[o],r[o]))return!1;return!0}function Im(i,r,o,u,m,g){return Us=g,qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?Vv:Km,Fa=!1,g=o(u,m),Fa=!1,Fo&&(g=ev(r,o,u,m)),Jb(i),g}function Jb(i){Y.H=Ac;var r=ft!==null&&ft.next!==null;if(Us=0,Zt=ft=qe=null,Dd=!1,Ec=0,qo=null,r)throw Error(s(300));i===null||Wt||(i=i.dependencies,i!==null&&Ed(i)&&(Wt=!0))}function ev(i,r,o,u){qe=i;var m=0;do{if(Fo&&(qo=null),Ec=0,Fo=!1,25<=m)throw Error(s(301));if(m+=1,Zt=ft=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=Pv,g=r(o,u)}while(Fo);return g}function rC(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Tc(r):r,i=i.useState()[0],(ft!==null?ft.memoizedState:null)!==i&&(qe.flags|=1024),r}function Dm(){var i=Md!==0;return Md=0,i}function Mm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function jm(i){if(Dd){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dd=!1}Us=0,Zt=ft=qe=null,Fo=!1,Ec=Md=0,qo=null}function zn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?qe.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function Ht(){if(ft===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var r=Zt===null?qe.memoizedState:Zt.next;if(r!==null)Zt=r,ft=i;else{if(i===null)throw qe.alternate===null?Error(s(467)):Error(s(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Zt===null?qe.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(i){var r=Ec;return Ec+=1,qo===null&&(qo=[]),i=Hb(qo,i,r),r=qe,(Zt===null?r.memoizedState:Zt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Vv:Km),i}function Vd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Tc(i);if(i.$$typeof===q)return xn(i)}throw Error(s(438,String(i)))}function Vm(i){var r=null,o=qe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=jd(),qe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=V;return r.index++,o}function Bs(i,r){return typeof r=="function"?r(i):r}function Pd(i){var r=Ht();return Pm(r,ft,i)}function Pm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var _=m.next;m.next=g.next,g.next=_}r.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var S=_=null,j=null,K=r,W=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Ye&ie)===ie:(Us&ie)===ie){var $=K.revertLane;if($===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Oo&&(W=!0);else if((Us&$)===$){K=K.next,$===Oo&&(W=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(S=j=ie,_=g):j=j.next=ie,qe.lanes|=$,Dr|=$;ie=K.action,Fa&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else $={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(S=j=$,_=g):j=j.next=$,qe.lanes|=ie,Dr|=ie;K=K.next}while(K!==null&&K!==r);if(j===null?_=g:j.next=S,!ti(g,i.memoizedState)&&(Wt=!0,W&&(o=Lo,o!==null)))throw o;i.memoizedState=g,i.baseState=_,i.baseQueue=j,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Om(i){var r=Ht(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do g=i(g,_.action),_=_.next;while(_!==m);ti(g,r.memoizedState)||(Wt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function tv(i,r,o){var u=qe,m=Ht(),g=et;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!ti((ft||m).memoizedState,o);if(_&&(m.memoizedState=o,Wt=!0),m=m.queue,Um(sv.bind(null,u,m,i),[i]),m.getSnapshot!==r||_||Zt!==null&&Zt.memoizedState.tag&1){if(u.flags|=2048,Ho(9,{destroy:void 0},iv.bind(null,u,m,o,r),null),gt===null)throw Error(s(349));g||(Us&127)!==0||nv(u,r,o)}return o}function nv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=qe.updateQueue,r===null?(r=jd(),qe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function iv(i,r,o,u){r.value=o,r.getSnapshot=u,rv(r)&&av(i)}function sv(i,r,o){return o(function(){rv(r)&&av(i)})}function rv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ti(i,o)}catch{return!0}}function av(i){var r=Ma(i,2);r!==null&&Xn(r,i,2)}function Lm(i){var r=zn();if(typeof i=="function"){var o=i;if(i=o(),Fa){Be(!0);try{o()}finally{Be(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:i},r}function ov(i,r,o,u){return i.baseState=o,Pm(i,ft,typeof u=="function"?u:Bs)}function aC(i,r,o,u,m){if(zd(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};Y.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,lv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function lv(i,r){var o=r.action,u=r.payload,m=i.state;if(r.isTransition){var g=Y.T,_={};Y.T=_;try{var S=o(m,u),j=Y.S;j!==null&&j(_,S),cv(i,r,S)}catch(K){zm(i,r,K)}finally{g!==null&&_.types!==null&&(g.types=_.types),Y.T=g}}else try{g=o(m,u),cv(i,r,g)}catch(K){zm(i,r,K)}}function cv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){uv(i,r,u)},function(u){return zm(i,r,u)}):uv(i,r,o)}function uv(i,r,o){r.status="fulfilled",r.value=o,dv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,lv(i,o)))}function zm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,dv(r),r=r.next;while(r!==u)}i.action=null}function dv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function hv(i,r){return r}function fv(i,r){if(et){var o=gt.formState;if(o!==null){e:{var u=qe;if(et){if(xt){t:{for(var m=xt,g=vi;m.nodeType!==8;){if(!g){m=null;break t}if(m=_i(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){xt=_i(m.nextSibling),u=m.data==="F!";break e}}Er(u)}u=!1}u&&(r=o[0])}}return o=zn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:r},o.queue=u,o=Dv.bind(null,qe,u),u.dispatch=o,u=Lm(!1),g=Gm.bind(null,qe,!1,u.queue),u=zn(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,o=aC.bind(null,qe,m,g,o),m.dispatch=o,u.memoizedState=i,[r,o,!1]}function mv(i){var r=Ht();return pv(r,ft,i)}function pv(i,r,o){if(r=Pm(i,r,hv)[0],i=Pd(Bs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Tc(r)}catch(_){throw _===zo?Ad:_}else u=r;r=Ht();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(qe.flags|=2048,Ho(9,{destroy:void 0},oC.bind(null,m,o),null)),[u,g,i]}function oC(i,r){i.action=r}function gv(i){var r=Ht(),o=ft;if(o!==null)return pv(r,o,i);Ht(),r=r.memoizedState,o=Ht();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Ho(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=qe.updateQueue,r===null&&(r=jd(),qe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function yv(){return Ht().memoizedState}function Od(i,r,o,u){var m=zn();qe.flags|=i,m.memoizedState=Ho(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ld(i,r,o,u){var m=Ht();u=u===void 0?null:u;var g=m.memoizedState.inst;ft!==null&&u!==null&&Nm(u,ft.memoizedState.deps)?m.memoizedState=Ho(r,g,o,u):(qe.flags|=i,m.memoizedState=Ho(1|r,g,o,u))}function bv(i,r){Od(8390656,8,i,r)}function Um(i,r){Ld(2048,8,i,r)}function lC(i){qe.flags|=4;var r=qe.updateQueue;if(r===null)r=jd(),qe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function vv(i){var r=Ht().memoizedState;return lC({ref:r,nextImpl:i}),function(){if((at&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function xv(i,r){return Ld(4,2,i,r)}function _v(i,r){return Ld(4,4,i,r)}function wv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Ev(i,r,o){o=o!=null?o.concat([i]):null,Ld(4,4,wv.bind(null,r,i),o)}function Bm(){}function Tv(i,r){var o=Ht();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Nm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Sv(i,r){var o=Ht();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Nm(r,u[1]))return u[0];if(u=i(),Fa){Be(!0);try{i()}finally{Be(!1)}}return o.memoizedState=[u,r],u}function Fm(i,r,o){return o===void 0||(Us&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Ax(),qe.lanes|=i,Dr|=i,o)}function Av(i,r,o,u){return ti(o,r)?o:Bo.current!==null?(i=Fm(i,o,u),ti(i,r)||(Wt=!0),i):(Us&42)===0||(Us&1073741824)!==0&&(Ye&261930)===0?(Wt=!0,i.memoizedState=o):(i=Ax(),qe.lanes|=i,Dr|=i,r)}function kv(i,r,o,u,m){var g=re.p;re.p=g!==0&&8>g?g:8;var _=Y.T,S={};Y.T=S,Gm(i,!1,r,o);try{var j=m(),K=Y.S;if(K!==null&&K(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var W=iC(j,u);Sc(i,r,W,oi(i))}else Sc(i,r,u,oi(i))}catch(ie){Sc(i,r,{then:function(){},status:"rejected",reason:ie},oi())}finally{re.p=g,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function cC(){}function qm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var m=Rv(i).queue;kv(i,m,r,J,o===null?cC:function(){return Cv(i),o(u)})}function Rv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:J},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Cv(i){var r=Rv(i);r.next===null&&(r=i.alternate.memoizedState),Sc(i,r.next.queue,{},oi())}function Hm(){return xn(Fc)}function Nv(){return Ht().memoizedState}function Iv(){return Ht().memoizedState}function uC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=oi();i=Ar(o);var u=kr(r,i,o);u!==null&&(Xn(u,r,o),xc(u,r,o)),r={cache:vm()},i.payload=r;return}r=r.return}}function dC(i,r,o){var u=oi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zd(i)?Mv(r,o):(o=lm(i,r,o,u),o!==null&&(Xn(o,i,u),jv(o,r,u)))}function Dv(i,r,o){var u=oi();Sc(i,r,o,u)}function Sc(i,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zd(i))Mv(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,S=g(_,o);if(m.hasEagerState=!0,m.eagerState=S,ti(S,_))return vd(i,r,m,0),gt===null&&bd(),!1}catch{}finally{}if(o=lm(i,r,m,u),o!==null)return Xn(o,i,u),jv(o,r,u),!0}return!1}function Gm(i,r,o,u){if(u={lane:2,revertLane:Ep(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zd(i)){if(r)throw Error(s(479))}else r=lm(i,o,u,2),r!==null&&Xn(r,i,2)}function zd(i){var r=i.alternate;return i===qe||r!==null&&r===qe}function Mv(i,r){Fo=Dd=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function jv(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,$l(i,o)}}var Ac={readContext:xn,use:Vd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};Ac.useEffectEvent=zt;var Vv={readContext:xn,use:Vd,useCallback:function(i,r){return zn().memoizedState=[i,r===void 0?null:r],i},useContext:xn,useEffect:bv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Od(4194308,4,wv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Od(4194308,4,i,r)},useInsertionEffect:function(i,r){Od(4,2,i,r)},useMemo:function(i,r){var o=zn();r=r===void 0?null:r;var u=i();if(Fa){Be(!0);try{i()}finally{Be(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=zn();if(o!==void 0){var m=o(r);if(Fa){Be(!0);try{o(r)}finally{Be(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=dC.bind(null,qe,i),[u.memoizedState,i]},useRef:function(i){var r=zn();return i={current:i},r.memoizedState=i},useState:function(i){i=Lm(i);var r=i.queue,o=Dv.bind(null,qe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Bm,useDeferredValue:function(i,r){var o=zn();return Fm(o,i,r)},useTransition:function(){var i=Lm(!1);return i=kv.bind(null,qe,i.queue,!0,!1),zn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=qe,m=zn();if(et){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),gt===null)throw Error(s(349));(Ye&127)!==0||nv(u,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,bv(sv.bind(null,u,g,i),[i]),u.flags|=2048,Ho(9,{destroy:void 0},iv.bind(null,u,g,o,r),null),o},useId:function(){var i=zn(),r=gt.identifierPrefix;if(et){var o=ms,u=fs;o=(u&~(1<<32-xe(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Md++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=sC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Hm,useFormState:fv,useActionState:fv,useOptimistic:function(i){var r=zn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Gm.bind(null,qe,!0,o),o.dispatch=r,[i,r]},useMemoCache:Vm,useCacheRefresh:function(){return zn().memoizedState=uC.bind(null,qe)},useEffectEvent:function(i){var r=zn(),o={impl:i};return r.memoizedState=o,function(){if((at&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Km={readContext:xn,use:Vd,useCallback:Tv,useContext:xn,useEffect:Um,useImperativeHandle:Ev,useInsertionEffect:xv,useLayoutEffect:_v,useMemo:Sv,useReducer:Pd,useRef:yv,useState:function(){return Pd(Bs)},useDebugValue:Bm,useDeferredValue:function(i,r){var o=Ht();return Av(o,ft.memoizedState,i,r)},useTransition:function(){var i=Pd(Bs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Tc(i),r]},useSyncExternalStore:tv,useId:Nv,useHostTransitionStatus:Hm,useFormState:mv,useActionState:mv,useOptimistic:function(i,r){var o=Ht();return ov(o,ft,i,r)},useMemoCache:Vm,useCacheRefresh:Iv};Km.useEffectEvent=vv;var Pv={readContext:xn,use:Vd,useCallback:Tv,useContext:xn,useEffect:Um,useImperativeHandle:Ev,useInsertionEffect:xv,useLayoutEffect:_v,useMemo:Sv,useReducer:Om,useRef:yv,useState:function(){return Om(Bs)},useDebugValue:Bm,useDeferredValue:function(i,r){var o=Ht();return ft===null?Fm(o,i,r):Av(o,ft.memoizedState,i,r)},useTransition:function(){var i=Om(Bs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Tc(i),r]},useSyncExternalStore:tv,useId:Nv,useHostTransitionStatus:Hm,useFormState:gv,useActionState:gv,useOptimistic:function(i,r){var o=Ht();return ft!==null?ov(o,ft,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Vm,useCacheRefresh:Iv};Pv.useEffectEvent=vv;function $m(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Xm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=oi(),m=Ar(u);m.payload=r,o!=null&&(m.callback=o),r=kr(i,m,u),r!==null&&(Xn(r,i,u),xc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=oi(),m=Ar(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=kr(i,m,u),r!==null&&(Xn(r,i,u),xc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=oi(),u=Ar(o);u.tag=2,r!=null&&(u.callback=r),r=kr(i,u,o),r!==null&&(Xn(r,i,o),xc(r,i,o))}};function Ov(i,r,o,u,m,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,_):r.prototype&&r.prototype.isPureReactComponent?!hc(o,u)||!hc(m,g):!0}function Lv(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Xm.enqueueReplaceState(r,r.state,null)}function qa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function zv(i){yd(i)}function Uv(i){console.error(i)}function Bv(i){yd(i)}function Ud(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Fv(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ym(i,r,o){return o=Ar(o),o.tag=3,o.payload={element:null},o.callback=function(){Ud(i,r)},o}function qv(i){return i=Ar(i),i.tag=3,i}function Hv(i,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){Fv(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Fv(r,o,u),typeof m!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function hC(i,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Po(r,o,m,!0),o=ii.current,o!==null){switch(o.tag){case 31:case 13:return xi===null?Wd():o.alternate===null&&Ut===0&&(Ut=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===kd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),xp(i,u,m)),!1;case 22:return o.flags|=65536,u===kd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),xp(i,u,m)),!1}throw Error(s(435,o.tag))}return xp(i,u,m),Wd(),!1}if(et)return r=ii.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==mm&&(i=Error(s(422),{cause:u}),pc(gi(i,o)))):(u!==mm&&(r=Error(s(423),{cause:u}),pc(gi(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=gi(u,o),m=Ym(i.stateNode,u,m),Sm(i,m),Ut!==4&&(Ut=2)),!1;var g=Error(s(520),{cause:u});if(g=gi(g,o),jc===null?jc=[g]:jc.push(g),Ut!==4&&(Ut=2),r===null)return!0;u=gi(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Ym(o.stateNode,u,i),Sm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=qv(m),Hv(m,i,o,u),Sm(o,m),!1}o=o.return}while(o!==null);return!1}var Qm=Error(s(461)),Wt=!1;function _n(i,r,o,u){r.child=i===null?Xb(r,null,o,u):Ba(r,i.child,o,u)}function Gv(i,r,o,u,m){o=o.render;var g=r.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Oa(r),u=Im(i,r,o,_,g,m),S=Dm(),i!==null&&!Wt?(Mm(i,r,m),Fs(i,r,m)):(et&&S&&hm(r),r.flags|=1,_n(i,r,u,m),r.child)}function Kv(i,r,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!cm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,$v(i,r,g,u,m)):(i=_d(o.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!sp(i,m)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:hc,o(_,u)&&i.ref===r.ref)return Fs(i,r,m)}return r.flags|=1,i=Ps(g,u),i.ref=r.ref,i.return=r,r.child=i}function $v(i,r,o,u,m){if(i!==null){var g=i.memoizedProps;if(hc(g,u)&&i.ref===r.ref)if(Wt=!1,r.pendingProps=u=g,sp(i,m))(i.flags&131072)!==0&&(Wt=!0);else return r.lanes=i.lanes,Fs(i,r,m)}return Zm(i,r,o,u,m)}function Xv(i,r,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,r.child=null;return Yv(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sd(r,g!==null?g.cachePool:null),g!==null?Zb(r,g):km(),Wb(r);else return u=r.lanes=536870912,Yv(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Sd(r,g.cachePool),Zb(r,g),Cr(),r.memoizedState=null):(i!==null&&Sd(r,null),km(),Cr());return _n(i,r,m,o),r.child}function kc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yv(i,r,o,u,m){var g=_m();return g=g===null?null:{parent:Qt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Sd(r,null),km(),Wb(r),i!==null&&Po(i,r,u,!0),r.childLanes=m,null}function Bd(i,r){return r=qd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Qv(i,r,o){return Ba(r,i.child,null,o),i=Bd(r,r.pendingProps),i.flags|=2,si(r),r.memoizedState=null,i}function fC(i,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(et){if(u.mode==="hidden")return i=Bd(r,u),r.lanes=536870912,kc(null,i);if(Cm(r),(i=xt)?(i=l_(i,vi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:fs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=Mb(i),o.return=r,r.child=o,vn=r,xt=null)):i=null,i===null)throw Er(r);return r.lanes=536870912,null}return Bd(r,u)}var g=i.memoizedState;if(g!==null){var _=g.dehydrated;if(Cm(r),m)if(r.flags&256)r.flags&=-257,r=Qv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Wt||Po(i,r,o,!1),m=(o&i.childLanes)!==0,Wt||m){if(u=gt,u!==null&&(_=Xl(u,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,Ma(i,_),Xn(u,i,_),Qm;Wd(),r=Qv(i,r,o)}else i=g.treeContext,xt=_i(_.nextSibling),vn=r,et=!0,wr=null,vi=!1,i!==null&&Pb(r,i),r=Bd(r,u),r.flags|=4096;return r}return i=Ps(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Fd(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Zm(i,r,o,u,m){return Oa(r),o=Im(i,r,o,u,void 0,m),u=Dm(),i!==null&&!Wt?(Mm(i,r,m),Fs(i,r,m)):(et&&u&&hm(r),r.flags|=1,_n(i,r,o,m),r.child)}function Zv(i,r,o,u,m,g){return Oa(r),r.updateQueue=null,o=ev(r,u,o,m),Jb(i),u=Dm(),i!==null&&!Wt?(Mm(i,r,g),Fs(i,r,g)):(et&&u&&hm(r),r.flags|=1,_n(i,r,o,g),r.child)}function Wv(i,r,o,u,m){if(Oa(r),r.stateNode===null){var g=Do,_=o.contextType;typeof _=="object"&&_!==null&&(g=xn(_)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Em(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?xn(_):Do,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&($m(r,o,_,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Xm.enqueueReplaceState(g,g.state,null),wc(r,u,g,m),_c(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,j=qa(o,S);g.props=j;var K=g.context,W=o.contextType;_=Do,typeof W=="object"&&W!==null&&(_=xn(W));var ie=o.getDerivedStateFromProps;W=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==_)&&Lv(r,g,u,_),Sr=!1;var $=r.memoizedState;g.state=$,wc(r,u,g,m),_c(),K=r.memoizedState,S||$!==K||Sr?(typeof ie=="function"&&($m(r,o,ie,u),K=r.memoizedState),(j=Sr||Ov(r,o,j,u,$,K,_))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=_,u=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Tm(i,r),_=r.memoizedProps,W=qa(o,_),g.props=W,ie=r.pendingProps,$=g.context,K=o.contextType,j=Do,typeof K=="object"&&K!==null&&(j=xn(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==ie||$!==j)&&Lv(r,g,u,j),Sr=!1,$=r.memoizedState,g.state=$,wc(r,u,g,m),_c();var Z=r.memoizedState;_!==ie||$!==Z||Sr||i!==null&&i.dependencies!==null&&Ed(i.dependencies)?(typeof S=="function"&&($m(r,o,S,u),Z=r.memoizedState),(W=Sr||Ov(r,o,W,u,$,Z,j)||i!==null&&i.dependencies!==null&&Ed(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),g.props=u,g.state=Z,g.context=j,u=W):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Fd(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Ba(r,i.child,null,m),r.child=Ba(r,null,o,m)):_n(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Fs(i,r,m),i}function Jv(i,r,o,u){return Va(),r.flags|=256,_n(i,r,o,u),r.child}var Wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jm(i){return{baseLanes:i,cachePool:Fb()}}function ep(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ai),i}function ex(i,r,o){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(et){if(m?Rr(r):Cr(),(i=xt)?(i=l_(i,vi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:fs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=Mb(i),o.return=r,r.child=o,vn=r,xt=null)):i=null,i===null)throw Er(r);return Pp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(Cr(),m=r.mode,S=qd({mode:"hidden",children:S},m),u=ja(u,m,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Jm(o),u.childLanes=ep(i,_,o),r.memoizedState=Wm,kc(null,u)):(Rr(r),tp(r,S))}var j=i.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(g)r.flags&256?(Rr(r),r.flags&=-257,r=np(i,r,o)):r.memoizedState!==null?(Cr(),r.child=i.child,r.flags|=128,r=null):(Cr(),S=u.fallback,m=r.mode,u=qd({mode:"visible",children:u.children},m),S=ja(S,m,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ba(r,i.child,null,o),u=r.child,u.memoizedState=Jm(o),u.childLanes=ep(i,_,o),r.memoizedState=Wm,r=kc(null,u));else if(Rr(r),Pp(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var K=_.dgst;_=K,u=Error(s(419)),u.stack="",u.digest=_,pc({value:u,source:null,stack:null}),r=np(i,r,o)}else if(Wt||Po(i,r,o,!1),_=(o&i.childLanes)!==0,Wt||_){if(_=gt,_!==null&&(u=Xl(_,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Ma(i,u),Xn(_,i,u),Qm;Vp(S)||Wd(),r=np(i,r,o)}else Vp(S)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,xt=_i(S.nextSibling),vn=r,et=!0,wr=null,vi=!1,i!==null&&Pb(r,i),r=tp(r,u.children),r.flags|=4096);return r}return m?(Cr(),S=u.fallback,m=r.mode,j=i.child,K=j.sibling,u=Ps(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,K!==null?S=Ps(K,S):(S=ja(S,m,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,kc(null,u),u=r.child,S=i.child.memoizedState,S===null?S=Jm(o):(m=S.cachePool,m!==null?(j=Qt._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=Fb(),S={baseLanes:S.baseLanes|o,cachePool:m}),u.memoizedState=S,u.childLanes=ep(i,_,o),r.memoizedState=Wm,kc(i.child,u)):(Rr(r),o=i.child,i=o.sibling,o=Ps(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function tp(i,r){return r=qd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function qd(i,r){return i=ni(22,i,null,r),i.lanes=0,i}function np(i,r,o){return Ba(r,i.child,null,o),i=tp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function tx(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),ym(i.return,r,o)}function ip(i,r,o,u,m,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=m,_.treeForkCount=g)}function nx(i,r,o){var u=r.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var _=qt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,le(qt,_),_n(i,r,u,o),u=et?mc:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tx(i,o,r);else if(i.tag===19)tx(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Id(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),ip(r,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Id(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}ip(r,!0,o,null,g,u);break;case"together":ip(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Dr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Po(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ps(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ps(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function sp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ed(i)))}function mC(i,r,o){switch(r.tag){case 3:Tt(r,r.stateNode.containerInfo),Tr(r,Qt,i.memoizedState.cache),Va();break;case 27:case 5:jn(r);break;case 4:Tt(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Cm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Rr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?ex(i,r,o):(Rr(r),i=Fs(i,r,o),i!==null?i.sibling:null);Rr(r);break;case 19:var m=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Po(i,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return nx(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(qt,qt.current),u)break;return null;case 22:return r.lanes=0,Xv(i,r,o,r.pendingProps);case 24:Tr(r,Qt,i.memoizedState.cache)}return Fs(i,r,o)}function ix(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Wt=!0;else{if(!sp(i,o)&&(r.flags&128)===0)return Wt=!1,mC(i,r,o);Wt=(i.flags&131072)!==0}else Wt=!1,et&&(r.flags&1048576)!==0&&Vb(r,mc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=za(r.elementType),r.type=i,typeof i=="function")cm(i)?(u=qa(i,u),r.tag=1,r=Wv(null,r,i,u,o)):(r.tag=0,r=Zm(null,r,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===ae){r.tag=11,r=Gv(null,r,i,u,o);break e}else if(m===R){r.tag=14,r=Kv(null,r,i,u,o);break e}}throw r=Xe(i)||i,Error(s(306,r,""))}}return r;case 0:return Zm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=qa(u,r.pendingProps),Wv(i,r,u,m,o);case 3:e:{if(Tt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,Tm(i,r),wc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,Tr(r,Qt,u),u!==g.cache&&bm(r,[Qt],o,!0),_c(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Jv(i,r,u,o);break e}else if(u!==m){m=gi(Error(s(424)),r),pc(m),r=Jv(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xt=_i(i.firstChild),vn=r,et=!0,wr=null,vi=!0,o=Xb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Va(),u===m){r=Fs(i,r,o);break e}_n(i,r,u,o)}r=r.child}return r;case 26:return Fd(i,r),i===null?(o=m_(r.type,null,r.pendingProps,null))?r.memoizedState=o:et||(o=r.type,i=r.pendingProps,u=rh(Ne.current).createElement(o),u[$t]=r,u[dn]=i,wn(u,o,i),Xt(u),r.stateNode=u):r.memoizedState=m_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return jn(r),i===null&&et&&(u=r.stateNode=d_(r.type,r.pendingProps,Ne.current),vn=r,vi=!0,m=xt,Or(r.type)?(Op=m,xt=_i(u.firstChild)):xt=m),_n(i,r,r.pendingProps.children,o),Fd(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&et&&((m=u=xt)&&(u=HC(u,r.type,r.pendingProps,vi),u!==null?(r.stateNode=u,vn=r,xt=_i(u.firstChild),vi=!1,m=!0):m=!1),m||Er(r)),jn(r),m=r.type,g=r.pendingProps,_=i!==null?i.memoizedProps:null,u=g.children,Dp(m,g)?u=null:_!==null&&Dp(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=Im(i,r,rC,null,null,o),Fc._currentValue=m),Fd(i,r),_n(i,r,u,o),r.child;case 6:return i===null&&et&&((i=o=xt)&&(o=GC(o,r.pendingProps,vi),o!==null?(r.stateNode=o,vn=r,xt=null,i=!0):i=!1),i||Er(r)),null;case 13:return ex(i,r,o);case 4:return Tt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ba(r,null,u,o):_n(i,r,u,o),r.child;case 11:return Gv(i,r,r.type,r.pendingProps,o);case 7:return _n(i,r,r.pendingProps,o),r.child;case 8:return _n(i,r,r.pendingProps.children,o),r.child;case 12:return _n(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Tr(r,r.type,u.value),_n(i,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Oa(r),m=xn(m),u=u(m),r.flags|=1,_n(i,r,u,o),r.child;case 14:return Kv(i,r,r.type,r.pendingProps,o);case 15:return $v(i,r,r.type,r.pendingProps,o);case 19:return nx(i,r,o);case 31:return fC(i,r,o);case 22:return Xv(i,r,o,r.pendingProps);case 24:return Oa(r),u=xn(Qt),i===null?(m=_m(),m===null&&(m=gt,g=vm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:u,cache:m},Em(r),Tr(r,Qt,m)):((i.lanes&o)!==0&&(Tm(i,r),wc(r,null,null,o),_c()),m=i.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Tr(r,Qt,u)):(u=g.cache,Tr(r,Qt,u),u!==m.cache&&bm(r,[Qt],o,!0))),_n(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qs(i){i.flags|=4}function rp(i,r,o,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Nx())i.flags|=8192;else throw Ua=kd,wm}else i.flags&=-16777217}function sx(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!v_(r))if(Nx())i.flags|=8192;else throw Ua=kd,wm}function Hd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Qu():536870912,i.lanes|=r,Xo|=r)}function Rc(i,r){if(!et)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function _t(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function pC(i,r,o){var u=r.pendingProps;switch(fm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(r),null;case 1:return _t(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),zs(Qt),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Vo(r)?qs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pm())),_t(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(qs(r),g!==null?(_t(r),sx(r,g)):(_t(r),rp(r,m,null,u,o))):g?g!==i.memoizedState?(qs(r),_t(r),sx(r,g)):(_t(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&qs(r),_t(r),rp(r,m,i,u,o)),null;case 27:if(Vn(r),o=Ne.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&qs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return _t(r),null}i=de.current,Vo(r)?Ob(r):(i=d_(m,u,o),r.stateNode=i,qs(r))}return _t(r),null;case 5:if(Vn(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&qs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return _t(r),null}if(g=de.current,Vo(r))Ob(r);else{var _=rh(Ne.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?_.createElement(m,{is:u.is}):_.createElement(m)}}g[$t]=r,g[dn]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(wn(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&qs(r)}}return _t(r),rp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&qs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ne.current,Vo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,m=vn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[$t]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||e_(i.nodeValue,o)),i||Er(r,!0)}else i=rh(i).createTextNode(u),i[$t]=r,r.stateNode=i}return _t(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Vo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[$t]=r}else Va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),i=!1}else o=pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(si(r),r):(si(r),null);if((r.flags&128)!==0)throw Error(s(558))}return _t(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Vo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[$t]=r}else Va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),m=!1}else m=pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(si(r),r):(si(r),null)}return si(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Hd(r,r.updateQueue),_t(r),null);case 4:return nt(),i===null&&kp(r.stateNode.containerInfo),_t(r),null;case 10:return zs(r.type),_t(r),null;case 19:if(ee(qt),u=r.memoizedState,u===null)return _t(r),null;if(m=(r.flags&128)!==0,g=u.rendering,g===null)if(m)Rc(u,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Id(i),g!==null){for(r.flags|=128,Rc(u,!1),i=g.updateQueue,r.updateQueue=i,Hd(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Db(o,i),o=o.sibling;return le(qt,qt.current&1|2),et&&Os(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&pe()>Yd&&(r.flags|=128,m=!0,Rc(u,!1),r.lanes=4194304)}else{if(!m)if(i=Id(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Hd(r,i),Rc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!et)return _t(r),null}else 2*pe()-u.renderingStartTime>Yd&&o!==536870912&&(r.flags|=128,m=!0,Rc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=pe(),i.sibling=null,o=qt.current,le(qt,m?o&1|2:o&1),et&&Os(r,u.treeForkCount),i):(_t(r),null);case 22:case 23:return si(r),Rm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(_t(r),r.subtreeFlags&6&&(r.flags|=8192)):_t(r),o=r.updateQueue,o!==null&&Hd(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ee(La),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),zs(Qt),_t(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gC(i,r){switch(fm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return zs(Qt),nt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vn(r),null;case 31:if(r.memoizedState!==null){if(si(r),r.alternate===null)throw Error(s(340));Va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(si(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Va()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(qt),null;case 4:return nt(),null;case 10:return zs(r.type),null;case 22:case 23:return si(r),Rm(),i!==null&&ee(La),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return zs(Qt),null;case 25:return null;default:return null}}function rx(i,r){switch(fm(r),r.tag){case 3:zs(Qt),nt();break;case 26:case 27:case 5:Vn(r);break;case 4:nt();break;case 31:r.memoizedState!==null&&si(r);break;case 13:si(r);break;case 19:ee(qt);break;case 10:zs(r.type);break;case 22:case 23:si(r),Rm(),i!==null&&ee(La);break;case 24:zs(Qt)}}function Cc(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,_=o.inst;u=g(),_.destroy=u}o=o.next}while(o!==m)}}catch(S){dt(r,r.return,S)}}function Nr(i,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,m=r;var j=o,K=S;try{K()}catch(W){dt(m,j,W)}}}u=u.next}while(u!==g)}}catch(W){dt(r,r.return,W)}}function ax(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Qb(r,o)}catch(u){dt(i,i.return,u)}}}function ox(i,r,o){o.props=qa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){dt(i,r,u)}}function Nc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){dt(i,r,m)}}function ps(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){dt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){dt(i,r,m)}else o.current=null}function lx(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){dt(i,i.return,m)}}function ap(i,r,o){try{var u=i.stateNode;LC(u,i.type,o,r),u[dn]=r}catch(m){dt(i,i.return,m)}}function cx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Or(i.type)||i.tag===4}function op(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||cx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Or(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Mi));else if(u!==4&&(u===27&&Or(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(lp(i,r,o),i=i.sibling;i!==null;)lp(i,r,o),i=i.sibling}function Gd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Or(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Gd(i,r,o),i=i.sibling;i!==null;)Gd(i,r,o),i=i.sibling}function ux(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);wn(r,u,o),r[$t]=i,r[dn]=o}catch(g){dt(i,i.return,g)}}var Hs=!1,Jt=!1,cp=!1,dx=typeof WeakSet=="function"?WeakSet:Set,fn=null;function yC(i,r){if(i=i.containerInfo,Np=hh,i=Eb(i),nm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,S=-1,j=-1,K=0,W=0,ie=i,$=null;t:for(;;){for(var Z;ie!==o||m!==0&&ie.nodeType!==3||(S=_+m),ie!==g||u!==0&&ie.nodeType!==3||(j=_+u),ie.nodeType===3&&(_+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)$=ie,ie=Z;for(;;){if(ie===i)break t;if($===o&&++K===m&&(S=_),$===g&&++W===u&&(j=_),(Z=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=Z}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ip={focusedElem:i,selectionRange:o},hh=!1,fn=r;fn!==null;)if(r=fn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,fn=i;else for(;fn!==null;){switch(r=fn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ye=qa(o.type,m);i=u.getSnapshotBeforeUpdate(ye,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ke){dt(o,o.return,ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,fn=i;break}fn=r.return}}function hx(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ks(i,o),u&4&&Cc(5,o);break;case 1:if(Ks(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){dt(o,o.return,_)}else{var m=qa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){dt(o,o.return,_)}}u&64&&ax(o),u&512&&Nc(o,o.return);break;case 3:if(Ks(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Qb(i,r)}catch(_){dt(o,o.return,_)}}break;case 27:r===null&&u&4&&ux(o);case 26:case 5:Ks(i,o),r===null&&u&4&&lx(o),u&512&&Nc(o,o.return);break;case 12:Ks(i,o);break;case 31:Ks(i,o),u&4&&px(i,o);break;case 13:Ks(i,o),u&4&&gx(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=AC.bind(null,o),KC(i,o))));break;case 22:if(u=o.memoizedState!==null||Hs,!u){r=r!==null&&r.memoizedState!==null||Jt,m=Hs;var g=Jt;Hs=u,(Jt=r)&&!g?$s(i,o,(o.subtreeFlags&8772)!==0):Ks(i,o),Hs=m,Jt=g}break;case 30:break;default:Ks(i,o)}}function fx(i){var r=i.alternate;r!==null&&(i.alternate=null,fx(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&bo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,Hn=!1;function Gs(i,r,o){for(o=o.child;o!==null;)mx(i,r,o),o=o.sibling}function mx(i,r,o){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(On,o)}catch{}switch(o.tag){case 26:Jt||ps(o,r),Gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Jt||ps(o,r);var u=Rt,m=Hn;Or(o.type)&&(Rt=o.stateNode,Hn=!1),Gs(i,r,o),zc(o.stateNode),Rt=u,Hn=m;break;case 5:Jt||ps(o,r);case 6:if(u=Rt,m=Hn,Rt=null,Gs(i,r,o),Rt=u,Hn=m,Rt!==null)if(Hn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(g){dt(o,r,g)}else try{Rt.removeChild(o.stateNode)}catch(g){dt(o,r,g)}break;case 18:Rt!==null&&(Hn?(i=Rt,a_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),nl(i)):a_(Rt,o.stateNode));break;case 4:u=Rt,m=Hn,Rt=o.stateNode.containerInfo,Hn=!0,Gs(i,r,o),Rt=u,Hn=m;break;case 0:case 11:case 14:case 15:Nr(2,o,r),Jt||Nr(4,o,r),Gs(i,r,o);break;case 1:Jt||(ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ox(o,r,u)),Gs(i,r,o);break;case 21:Gs(i,r,o);break;case 22:Jt=(u=Jt)||o.memoizedState!==null,Gs(i,r,o),Jt=u;break;default:Gs(i,r,o)}}function px(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{nl(i)}catch(o){dt(r,r.return,o)}}}function gx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nl(i)}catch(o){dt(r,r.return,o)}}function bC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new dx),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new dx),r;default:throw Error(s(435,i.tag))}}function Kd(i,r){var o=bC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=kC.bind(null,i,u);u.then(m,m)}})}function Gn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Or(S.type)){Rt=S.stateNode,Hn=!1;break e}break;case 5:Rt=S.stateNode,Hn=!1;break e;case 3:case 4:Rt=S.stateNode.containerInfo,Hn=!0;break e}S=S.return}if(Rt===null)throw Error(s(160));mx(g,_,m),Rt=null,Hn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)yx(r,i),r=r.sibling}var zi=null;function yx(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gn(r,i),Kn(i),u&4&&(Nr(3,i,i.return),Cc(3,i),Nr(5,i,i.return));break;case 1:Gn(r,i),Kn(i),u&512&&(Jt||o===null||ps(o,o.return)),u&64&&Hs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=zi;if(Gn(r,i),Kn(i),u&512&&(Jt||o===null||ps(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ts]||g[$t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),wn(g,u,o),g[$t]=i,Xt(g),u=g;break e;case"link":var _=y_("link","href",m).get(u+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(g=_[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}g=m.createElement(u),wn(g,u,o),m.head.appendChild(g);break;case"meta":if(_=y_("meta","content",m).get(u+(o.content||""))){for(S=0;S<_.length;S++)if(g=_[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}g=m.createElement(u),wn(g,u,o),m.head.appendChild(g);break;default:throw Error(s(468,u))}g[$t]=i,Xt(g),u=g}i.stateNode=u}else b_(m,i.type,i.stateNode);else i.stateNode=g_(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?b_(m,i.type,i.stateNode):g_(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:Gn(r,i),Kn(i),u&512&&(Jt||o===null||ps(o,o.return)),o!==null&&u&4&&ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Gn(r,i),Kn(i),u&512&&(Jt||o===null||ps(o,o.return)),i.flags&32){m=i.stateNode;try{qn(m,"")}catch(ye){dt(i,i.return,ye)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,ap(i,m,o!==null?o.memoizedProps:m)),u&1024&&(cp=!0);break;case 6:if(Gn(r,i),Kn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){dt(i,i.return,ye)}}break;case 3:if(lh=null,m=zi,zi=ah(r.containerInfo),Gn(r,i),zi=m,Kn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nl(r.containerInfo)}catch(ye){dt(i,i.return,ye)}cp&&(cp=!1,bx(i));break;case 4:u=zi,zi=ah(i.stateNode.containerInfo),Gn(r,i),Kn(i),zi=u;break;case 12:Gn(r,i),Kn(i);break;case 31:Gn(r,i),Kn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kd(i,u)));break;case 13:Gn(r,i),Kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xd=pe()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kd(i,u)));break;case 22:m=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,K=Hs,W=Jt;if(Hs=K||m,Jt=W||j,Gn(r,i),Jt=W,Hs=K,Kn(i),u&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||j||Hs||Jt||Ha(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,m)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=j.stateNode;var ie=j.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ye){dt(j,j.return,ye)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(ye){dt(j,j.return,ye)}}}else if(r.tag===18){if(o===null){j=r;try{var Z=j.stateNode;m?o_(Z,!0):o_(j.stateNode,!1)}catch(ye){dt(j,j.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Kd(i,o))));break;case 19:Gn(r,i),Kn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kd(i,u)));break;case 30:break;case 21:break;default:Gn(r,i),Kn(i)}}function Kn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(cx(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=op(i);Gd(i,g,m);break;case 5:var _=o.stateNode;o.flags&32&&(qn(_,""),o.flags&=-33);var S=op(i);Gd(i,S,_);break;case 3:case 4:var j=o.stateNode.containerInfo,K=op(i);lp(i,K,j);break;default:throw Error(s(161))}}catch(W){dt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function bx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;bx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ks(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)hx(i,r.alternate,r),r=r.sibling}function Ha(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Nr(4,r,r.return),Ha(r);break;case 1:ps(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ox(r,r.return,o),Ha(r);break;case 27:zc(r.stateNode);case 26:case 5:ps(r,r.return),Ha(r);break;case 22:r.memoizedState===null&&Ha(r);break;case 30:Ha(r);break;default:Ha(r)}i=i.sibling}}function $s(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:$s(m,g,o),Cc(4,g);break;case 1:if($s(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(u,u.return,K)}if(u=g,m=u.updateQueue,m!==null){var S=u.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)Yb(j[m],S)}catch(K){dt(u,u.return,K)}}o&&_&64&&ax(g),Nc(g,g.return);break;case 27:ux(g);case 26:case 5:$s(m,g,o),o&&u===null&&_&4&&lx(g),Nc(g,g.return);break;case 12:$s(m,g,o);break;case 31:$s(m,g,o),o&&_&4&&px(m,g);break;case 13:$s(m,g,o),o&&_&4&&gx(m,g);break;case 22:g.memoizedState===null&&$s(m,g,o),Nc(g,g.return);break;case 30:break;default:$s(m,g,o)}r=r.sibling}}function up(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&gc(o))}function dp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&gc(i))}function Ui(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vx(i,r,o,u),r=r.sibling}function vx(i,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ui(i,r,o,u),m&2048&&Cc(9,r);break;case 1:Ui(i,r,o,u);break;case 3:Ui(i,r,o,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&gc(i)));break;case 12:if(m&2048){Ui(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,_=g.id,S=g.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){dt(r,r.return,j)}}else Ui(i,r,o,u);break;case 31:Ui(i,r,o,u);break;case 13:Ui(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?Ui(i,r,o,u):Ic(i,r):g._visibility&2?Ui(i,r,o,u):(g._visibility|=2,Go(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&up(_,r);break;case 24:Ui(i,r,o,u),m&2048&&dp(r.alternate,r);break;default:Ui(i,r,o,u)}}function Go(i,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,_=r,S=o,j=u,K=_.flags;switch(_.tag){case 0:case 11:case 15:Go(g,_,S,j,m),Cc(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Go(g,_,S,j,m):Ic(g,_):(W._visibility|=2,Go(g,_,S,j,m)),m&&K&2048&&up(_.alternate,_);break;case 24:Go(g,_,S,j,m),m&&K&2048&&dp(_.alternate,_);break;default:Go(g,_,S,j,m)}r=r.sibling}}function Ic(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,m=u.flags;switch(u.tag){case 22:Ic(o,u),m&2048&&up(u.alternate,u);break;case 24:Ic(o,u),m&2048&&dp(u.alternate,u);break;default:Ic(o,u)}r=r.sibling}}var Dc=8192;function Ko(i,r,o){if(i.subtreeFlags&Dc)for(i=i.child;i!==null;)xx(i,r,o),i=i.sibling}function xx(i,r,o){switch(i.tag){case 26:Ko(i,r,o),i.flags&Dc&&i.memoizedState!==null&&sN(o,zi,i.memoizedState,i.memoizedProps);break;case 5:Ko(i,r,o);break;case 3:case 4:var u=zi;zi=ah(i.stateNode.containerInfo),Ko(i,r,o),zi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Dc,Dc=16777216,Ko(i,r,o),Dc=u):Ko(i,r,o));break;default:Ko(i,r,o)}}function _x(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Mc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];fn=u,Ex(u,i)}_x(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wx(i),i=i.sibling}function wx(i){switch(i.tag){case 0:case 11:case 15:Mc(i),i.flags&2048&&Nr(9,i,i.return);break;case 3:Mc(i);break;case 12:Mc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$d(i)):Mc(i);break;default:Mc(i)}}function $d(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];fn=u,Ex(u,i)}_x(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Nr(8,r,r.return),$d(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$d(r));break;default:$d(r)}i=i.sibling}}function Ex(i,r){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,fn=u;else e:for(o=i;fn!==null;){u=fn;var m=u.sibling,g=u.return;if(fx(u),u===o){fn=null;break e}if(m!==null){m.return=g,fn=m;break e}fn=g}}}var vC={getCacheForType:function(i){var r=xn(Qt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return xn(Qt).controller.signal}},xC=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,Ke=null,Ye=0,ut=0,ri=null,Ir=!1,$o=!1,hp=!1,Xs=0,Ut=0,Dr=0,Ga=0,fp=0,ai=0,Xo=0,jc=null,$n=null,mp=!1,Xd=0,Tx=0,Yd=1/0,Qd=null,Mr=null,an=0,jr=null,Yo=null,Ys=0,pp=0,gp=null,Sx=null,Vc=0,yp=null;function oi(){return(at&2)!==0&&Ye!==0?Ye&-Ye:Y.T!==null?Ep():Zu()}function Ax(){if(ai===0)if((Ye&536870912)===0||et){var i=yn;yn<<=1,(yn&3932160)===0&&(yn=262144),ai=i}else ai=536870912;return i=ii.current,i!==null&&(i.flags|=32),ai}function Xn(i,r,o){(i===gt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(Qo(i,0),Vr(i,Ye,ai,!1)),va(i,o),((at&2)===0||i!==gt)&&(i===gt&&((at&2)===0&&(Ga|=o),Ut===4&&Vr(i,Ye,ai,!1)),gs(i))}function kx(i,r,o){if((at&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Ni(i,r),m=u?EC(i,r):vp(i,r,!0),g=u;do{if(m===0){$o&&!u&&Vr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!_C(o)){m=vp(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=i;m=jc;var j=S.current.memoizedState.isDehydrated;if(j&&(Qo(S,_).flags|=256),_=vp(S,_,!1),_!==2){if(hp&&!j){S.errorRecoveryDisabledLanes|=g,Ga|=g,m=4;break e}g=$n,$n=m,g!==null&&($n===null?$n=g:$n.push.apply($n,g))}m=_}if(g=!1,m!==2)continue}}if(m===1){Qo(i,0),Vr(i,r,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vr(u,r,ai,!Ir);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Xd+300-pe(),10<m)){if(Vr(u,r,ai,!Ir),Wi(u,0,!0)!==0)break e;Ys=r,u.timeoutHandle=s_(Rx.bind(null,u,o,$n,Qd,mp,r,ai,Ga,Xo,Ir,g,"Throttled",-0,0),m);break e}Rx(u,o,$n,Qd,mp,r,ai,Ga,Xo,Ir,g,null,-0,0)}}break}while(!0);gs(i)}function Rx(i,r,o,u,m,g,_,S,j,K,W,ie,$,Z){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},xx(r,g,ie);var ye=(g&62914560)===g?Xd-pe():(g&4194048)===g?Tx-pe():0;if(ye=rN(ie,ye),ye!==null){Ys=g,i.cancelPendingCommit=ye(Px.bind(null,i,r,g,o,u,m,_,S,j,W,ie,null,$,Z)),Vr(i,g,_,!K);return}}Px(i,r,g,o,u,m,_,S,j)}function _C(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!ti(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(i,r,o,u){r&=~fp,r&=~Ga,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var g=31-xe(m),_=1<<g;u[g]=-1,m&=~_}o!==0&&xa(i,o,r)}function Zd(){return(at&6)===0?(Pc(0),!1):!0}function bp(){if(Ke!==null){if(ut===0)var i=Ke.return;else i=Ke,Ls=Pa=null,jm(i),Uo=null,bc=0,i=Ke;for(;i!==null;)rx(i.alternate,i),i=i.return;Ke=null}}function Qo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,BC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ys=0,bp(),gt=i,Ke=o=Ps(i.current,null),Ye=r,ut=0,ri=null,Ir=!1,$o=Ni(i,r),hp=!1,Xo=ai=fp=Ga=Dr=Ut=0,$n=jc=null,mp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-xe(u),g=1<<m;r|=i[m],u&=~g}return Xs=r,bd(),o}function Cx(i,r){qe=null,Y.H=Ac,r===zo||r===Ad?(r=Gb(),ut=3):r===wm?(r=Gb(),ut=4):ut=r===Qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ri=r,Ke===null&&(Ut=1,Ud(i,gi(r,i.current)))}function Nx(){var i=ii.current;return i===null?!0:(Ye&4194048)===Ye?xi===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===xi:!1}function Ix(){var i=Y.H;return Y.H=Ac,i===null?Ac:i}function Dx(){var i=Y.A;return Y.A=vC,i}function Wd(){Ut=4,Ir||(Ye&4194048)!==Ye&&ii.current!==null||($o=!0),(Dr&134217727)===0&&(Ga&134217727)===0||gt===null||Vr(gt,Ye,ai,!1)}function vp(i,r,o){var u=at;at|=2;var m=Ix(),g=Dx();(gt!==i||Ye!==r)&&(Qd=null,Qo(i,r)),r=!1;var _=Ut;e:do try{if(ut!==0&&Ke!==null){var S=Ke,j=ri;switch(ut){case 8:bp(),_=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(r=!0);var K=ut;if(ut=0,ri=null,Zo(i,S,j,K),o&&$o){_=0;break e}break;default:K=ut,ut=0,ri=null,Zo(i,S,j,K)}}wC(),_=Ut;break}catch(W){Cx(i,W)}while(!0);return r&&i.shellSuspendCounter++,Ls=Pa=null,at=u,Y.H=m,Y.A=g,Ke===null&&(gt=null,Ye=0,bd()),_}function wC(){for(;Ke!==null;)Mx(Ke)}function EC(i,r){var o=at;at|=2;var u=Ix(),m=Dx();gt!==i||Ye!==r?(Qd=null,Yd=pe()+500,Qo(i,r)):$o=Ni(i,r);e:do try{if(ut!==0&&Ke!==null){r=Ke;var g=ri;t:switch(ut){case 1:ut=0,ri=null,Zo(i,r,g,1);break;case 2:case 9:if(qb(g)){ut=0,ri=null,jx(r);break}r=function(){ut!==2&&ut!==9||gt!==i||(ut=7),gs(i)},g.then(r,r);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:qb(g)?(ut=0,ri=null,jx(r)):(ut=0,ri=null,Zo(i,r,g,7));break;case 5:var _=null;switch(Ke.tag){case 26:_=Ke.memoizedState;case 5:case 27:var S=Ke;if(_?v_(_):S.stateNode.complete){ut=0,ri=null;var j=S.sibling;if(j!==null)Ke=j;else{var K=S.return;K!==null?(Ke=K,Jd(K)):Ke=null}break t}}ut=0,ri=null,Zo(i,r,g,5);break;case 6:ut=0,ri=null,Zo(i,r,g,6);break;case 8:bp(),Ut=6;break e;default:throw Error(s(462))}}TC();break}catch(W){Cx(i,W)}while(!0);return Ls=Pa=null,Y.H=u,Y.A=m,at=o,Ke!==null?0:(gt=null,Ye=0,bd(),Ut)}function TC(){for(;Ke!==null&&!go();)Mx(Ke)}function Mx(i){var r=ix(i.alternate,i,Xs);i.memoizedProps=i.pendingProps,r===null?Jd(i):Ke=r}function jx(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Zv(o,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=Zv(o,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:jm(r);default:rx(o,r),r=Ke=Db(r,Xs),r=ix(o,r,Xs)}i.memoizedProps=i.pendingProps,r===null?Jd(i):Ke=r}function Zo(i,r,o,u){Ls=Pa=null,jm(r),Uo=null,bc=0;var m=r.return;try{if(hC(i,m,r,o,Ye)){Ut=1,Ud(i,gi(o,i.current)),Ke=null;return}}catch(g){if(m!==null)throw Ke=m,g;Ut=1,Ud(i,gi(o,i.current)),Ke=null;return}r.flags&32768?(et||u===1?i=!0:$o||(Ye&536870912)!==0?i=!1:(Ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=ii.current,u!==null&&u.tag===13&&(u.flags|=16384))),Vx(r,i)):Jd(r)}function Jd(i){var r=i;do{if((r.flags&32768)!==0){Vx(r,Ir);return}i=r.return;var o=pC(r.alternate,r,Xs);if(o!==null){Ke=o;return}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=i}while(r!==null);Ut===0&&(Ut=5)}function Vx(i,r){do{var o=gC(i.alternate,i);if(o!==null){o.flags&=32767,Ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=o}while(i!==null);Ut=6,Ke=null}function Px(i,r,o,u,m,g,_,S,j){i.cancelPendingCommit=null;do eh();while(an!==0);if((at&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=om,Wf(i,o,g,_,S,j),i===gt&&(Ke=gt=null,Ye=0),Yo=r,jr=i,Ys=o,pp=g,gp=m,Sx=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RC(De,function(){return Bx(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=re.p,re.p=2,_=at,at|=4;try{yC(i,r,o)}finally{at=_,re.p=m,Y.T=u}}an=1,Ox(),Lx(),zx()}}function Ox(){if(an===1){an=0;var i=jr,r=Yo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=re.p;re.p=2;var m=at;at|=4;try{yx(r,i);var g=Ip,_=Eb(i.containerInfo),S=g.focusedElem,j=g.selectionRange;if(_!==S&&S&&S.ownerDocument&&wb(S.ownerDocument.documentElement,S)){if(j!==null&&nm(S)){var K=j.start,W=j.end;if(W===void 0&&(W=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(W,S.value.length);else{var ie=S.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var Z=$.getSelection(),ye=S.textContent.length,ke=Math.min(j.start,ye),pt=j.end===void 0?ke:Math.min(j.end,ye);!Z.extend&&ke>pt&&(_=pt,pt=ke,ke=_);var F=_b(S,ke),z=_b(S,pt);if(F&&z&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var G=ie.createRange();G.setStart(F.node,F.offset),Z.removeAllRanges(),ke>pt?(Z.addRange(G),Z.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Z.addRange(G))}}}}for(ie=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}hh=!!Np,Ip=Np=null}finally{at=m,re.p=u,Y.T=o}}i.current=r,an=2}}function Lx(){if(an===2){an=0;var i=jr,r=Yo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=re.p;re.p=2;var m=at;at|=4;try{hx(i,r.alternate,r)}finally{at=m,re.p=u,Y.T=o}}an=3}}function zx(){if(an===4||an===3){an=0,ce();var i=jr,r=Yo,o=Ys,u=Sx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,Yo=jr=null,Ux(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Mr=null),Ds(o),r=r.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(On,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,m=re.p,re.p=2,Y.T=null;try{for(var g=i.onRecoverableError,_=0;_<u.length;_++){var S=u[_];g(S.value,{componentStack:S.stack})}}finally{Y.T=r,re.p=m}}(Ys&3)!==0&&eh(),gs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===yp?Vc++:(Vc=0,yp=i):Vc=0,Pc(0)}}function Ux(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,gc(r)))}function eh(){return Ox(),Lx(),zx(),Bx()}function Bx(){if(an!==5)return!1;var i=jr,r=pp;pp=0;var o=Ds(Ys),u=Y.T,m=re.p;try{re.p=32>o?32:o,Y.T=null,o=gp,gp=null;var g=jr,_=Ys;if(an=0,Yo=jr=null,Ys=0,(at&6)!==0)throw Error(s(331));var S=at;if(at|=4,wx(g.current),vx(g,g.current,_,o),at=S,Pc(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(On,g)}catch{}return!0}finally{re.p=m,Y.T=u,Ux(i,r)}}function Fx(i,r,o){r=gi(o,r),r=Ym(i.stateNode,r,2),i=kr(i,r,2),i!==null&&(va(i,2),gs(i))}function dt(i,r,o){if(i.tag===3)Fx(i,i,o);else for(;r!==null;){if(r.tag===3){Fx(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mr===null||!Mr.has(u))){i=gi(o,i),o=qv(2),u=kr(r,o,2),u!==null&&(Hv(o,u,r,i),va(u,2),gs(u));break}}r=r.return}}function xp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new xC;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(hp=!0,m.add(o),i=SC.bind(null,i,r,o),r.then(i,i))}function SC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,gt===i&&(Ye&o)===o&&(Ut===4||Ut===3&&(Ye&62914560)===Ye&&300>pe()-Xd?(at&2)===0&&Qo(i,0):fp|=o,Xo===Ye&&(Xo=0)),gs(i)}function qx(i,r){r===0&&(r=Qu()),i=Ma(i,r),i!==null&&(va(i,r),gs(i))}function AC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),qx(i,o)}function kC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),qx(i,o)}function RC(i,r){return Dt(i,r)}var th=null,Wo=null,_p=!1,nh=!1,wp=!1,Pr=0;function gs(i){i!==Wo&&i.next===null&&(Wo===null?th=Wo=i:Wo=Wo.next=i),nh=!0,_p||(_p=!0,NC())}function Pc(i,r){if(!wp&&nh){wp=!0;do for(var o=!1,u=th;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var _=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-xe(42|i)+1)-1,g&=m&~(_&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,$x(u,g))}else g=Ye,g=Wi(u,u===gt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ni(u,g)||(o=!0,$x(u,g));u=u.next}while(o);wp=!1}}function CC(){Hx()}function Hx(){nh=_p=!1;var i=0;Pr!==0&&UC()&&(i=Pr);for(var r=pe(),o=null,u=th;u!==null;){var m=u.next,g=Gx(u,r);g===0?(u.next=null,o===null?th=m:o.next=m,m===null&&(Wo=o)):(o=u,(i!==0||(g&3)!==0)&&(nh=!0)),u=m}an!==0&&an!==5||Pc(i),Pr!==0&&(Pr=0)}function Gx(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var _=31-xe(g),S=1<<_,j=m[_];j===-1?((S&o)===0||(S&u)!==0)&&(m[_]=Zf(S,r)):j<=r&&(i.expiredLanes|=S),g&=~S}if(r=gt,o=Ye,o=Wi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ui(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ni(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ui(u),Ds(o)){case 2:case 8:o=Ue;break;case 32:o=De;break;case 268435456:o=St;break;default:o=De}return u=Kx.bind(null,i),o=Dt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ui(u),i.callbackPriority=2,i.callbackNode=null,2}function Kx(i,r){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(eh()&&i.callbackNode!==o)return null;var u=Ye;return u=Wi(i,i===gt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(kx(i,u,r),Gx(i,pe()),i.callbackNode!=null&&i.callbackNode===o?Kx.bind(null,i):null)}function $x(i,r){if(eh())return null;kx(i,r,!0)}function NC(){FC(function(){(at&6)!==0?Dt(ze,CC):Hx()})}function Ep(){if(Pr===0){var i=Oo;i===0&&(i=jt,jt<<=1,(jt&261888)===0&&(jt=256)),Pr=i}return Pr}function Xx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wo(""+i)}function Yx(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function IC(i,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var g=Xx((m[dn]||null).action),_=u.submitter;_&&(r=(r=_[dn]||null)?Xx(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var S=new cs("action","action",null,u,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Pr!==0){var j=_?Yx(m,_):new FormData(m);qm(o,{pending:!0,data:j,method:m.method,action:g},null,j)}}else typeof g=="function"&&(S.preventDefault(),j=_?Yx(m,_):new FormData(m),qm(o,{pending:!0,data:j,method:m.method,action:g},g,j))},currentTarget:m}]})}}for(var Tp=0;Tp<am.length;Tp++){var Sp=am[Tp],DC=Sp.toLowerCase(),MC=Sp[0].toUpperCase()+Sp.slice(1);Li(DC,"on"+MC)}Li(Ab,"onAnimationEnd"),Li(kb,"onAnimationIteration"),Li(Rb,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(YR,"onTransitionRun"),Li(QR,"onTransitionStart"),Li(ZR,"onTransitionCancel"),Li(Cb,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function Qx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],j=S.instance,K=S.currentTarget;if(S=S.listener,j!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=K;try{g(m)}catch(W){yd(W)}m.currentTarget=null,g=j}else for(_=0;_<u.length;_++){if(S=u[_],j=S.instance,K=S.currentTarget,S=S.listener,j!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=K;try{g(m)}catch(W){yd(W)}m.currentTarget=null,g=j}}}}function $e(i,r){var o=r[yo];o===void 0&&(o=r[yo]=new Set);var u=i+"__bubble";o.has(u)||(Zx(r,i,2,!1),o.add(u))}function Ap(i,r,o){var u=0;r&&(u|=4),Zx(o,i,u,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function kp(i){if(!i[ih]){i[ih]=!0,Yl.forEach(function(o){o!=="selectionchange"&&(jC.has(o)||Ap(o,!1,i),Ap(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ih]||(r[ih]=!0,Ap("selectionchange",!1,r))}}function Zx(i,r,o,u){switch(A_(r)){case 2:var m=lN;break;case 8:m=cN;break;default:m=Fp}o=m.bind(null,r,o,i),m=void 0,!Sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Rp(i,r,o,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===m)break;if(_===4)for(_=u.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;S!==null;){if(_=ns(S),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){u=g=_;continue e}S=S.parentNode}}u=u.return}yr(function(){var K=g,W=hi(o),ie=[];e:{var $=Nb.get(i);if($!==void 0){var Z=cs,ye=i;switch(i){case"keypress":if(ka(o)===0)break e;case"keydown":case"keyup":Z=md;break;case"focusin":ye="focus",Z=Ca;break;case"focusout":ye="blur",Z=Ca;break;case"beforeblur":case"afterblur":Z=Ca;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=x;break;case Ab:case kb:case Rb:Z=od;break;case Cb:Z=k;break;case"scroll":case"scrollend":Z=oc;break;case"wheel":Z=Q;break;case"copy":case"cut":case"paste":Z=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Vs;break;case"toggle":case"beforetoggle":Z=Fe}var ke=(r&4)!==0,pt=!ke&&(i==="scroll"||i==="scrollend"),F=ke?$!==null?$+"Capture":null:$;ke=[];for(var z=K,G;z!==null;){var te=z;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||F===null||(te=ji(z,F),te!=null&&ke.push(Lc(z,te,G))),pt)break;z=z.return}0<ke.length&&($=new Z($,ye,null,o,W),ie.push({event:$,listeners:ke}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",$&&o!==sc&&(ye=o.relatedTarget||o.fromElement)&&(ns(ye)||ye[es]))break e;if((Z||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(ye=o.relatedTarget||o.toElement,Z=K,ye=ye?ns(ye):null,ye!==null&&(pt=l(ye),ke=ye.tag,ye!==pt||ke!==5&&ke!==27&&ke!==6)&&(ye=null)):(Z=null,ye=K),Z!==ye)){if(ke=lc,te="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ke=Vs,te="onPointerLeave",F="onPointerEnter",z="pointer"),pt=Z==null?$:Jn(Z),G=ye==null?$:Jn(ye),$=new ke(te,z+"leave",Z,o,W),$.target=pt,$.relatedTarget=G,te=null,ns(W)===K&&(ke=new ke(F,z+"enter",ye,o,W),ke.target=G,ke.relatedTarget=pt,te=ke),pt=te,Z&&ye)t:{for(ke=VC,F=Z,z=ye,G=0,te=F;te;te=ke(te))G++;te=0;for(var Ee=z;Ee;Ee=ke(Ee))te++;for(;0<G-te;)F=ke(F),G--;for(;0<te-G;)z=ke(z),te--;for(;G--;){if(F===z||z!==null&&F===z.alternate){ke=F;break t}F=ke(F),z=ke(z)}ke=null}else ke=null;Z!==null&&Wx(ie,$,Z,ke,!1),ye!==null&&pt!==null&&Wx(ie,pt,ye,ke,!0)}}e:{if($=K?Jn(K):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var it=pb;else if(fb($))if(gb)it=KR;else{it=HR;var _e=qR}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&_o(K.elementType)&&(it=pb):it=GR;if(it&&(it=it(i,K))){mb(ie,it,o,W);break e}_e&&_e(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&tc($,"number",$.value)}switch(_e=K?Jn(K):window,i){case"focusin":(fb(_e)||_e.contentEditable==="true")&&(Co=_e,im=K,fc=null);break;case"focusout":fc=im=Co=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,Tb(ie,o,W);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":Tb(ie,o,W)}var He;if(rt)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ro?Na(i,o)&&(Qe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Qe="onCompositionStart");Qe&&(hs&&o.locale!=="ko"&&(Ro||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ro&&(He=ac()):(ls=W,rc="value"in ls?ls.value:ls.textContent,Ro=!0)),_e=sh(K,Qe),0<_e.length&&(Qe=new ds(Qe,i,null,o,W),ie.push({event:Qe,listeners:_e}),He?Qe.data=He:(He=ko(o),He!==null&&(Qe.data=He)))),(He=mi?zR(i,o):UR(i,o))&&(Qe=sh(K,"onBeforeInput"),0<Qe.length&&(_e=new ds("onBeforeInput","beforeinput",null,o,W),ie.push({event:_e,listeners:Qe}),_e.data=He)),IC(ie,i,K,o,W)}Qx(ie,r)})}function Lc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function sh(i,r){for(var o=r+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ji(i,o),m!=null&&u.unshift(Lc(i,m,g)),m=ji(i,r),m!=null&&u.push(Lc(i,m,g))),i.tag===3)return u;i=i.return}return[]}function VC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Wx(i,r,o,u,m){for(var g=r._reactName,_=[];o!==null&&o!==u;){var S=o,j=S.alternate,K=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||K===null||(j=K,m?(K=ji(o,g),K!=null&&_.unshift(Lc(o,K,j))):m||(K=ji(o,g),K!=null&&_.push(Lc(o,K,j)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var PC=/\r\n?/g,OC=/\u0000|\uFFFD/g;function Jx(i){return(typeof i=="string"?i:""+i).replace(PC,`
`).replace(OC,"")}function e_(i,r){return r=Jx(r),Jx(i)===r}function mt(i,r,o,u,m,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||qn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&qn(i,""+u);break;case"className":ei(i,"class",u);break;case"tabIndex":ei(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(i,o,u);break;case"style":ic(i,u,g);break;case"data":if(r!=="object"){ei(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=wo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&mt(i,r,"name",m.name,m,null),mt(i,r,"formEncType",m.formEncType,m,null),mt(i,r,"formMethod",m.formMethod,m,null),mt(i,r,"formTarget",m.formTarget,m,null)):(mt(i,r,"encType",m.encType,m,null),mt(i,r,"method",m.method,m,null),mt(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=wo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Mi);break;case"onScroll":u!=null&&$e("scroll",i);break;case"onScrollEnd":u!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=wo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":$e("beforetoggle",i),$e("toggle",i),vo(i,"popover",u);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,vo(i,o,u))}}function Cp(i,r,o,u,m,g){switch(o){case"style":ic(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?qn(i,u):(typeof u=="number"||typeof u=="bigint")&&qn(i,""+u);break;case"onScroll":u!=null&&$e("scroll",i);break;case"onScrollEnd":u!=null&&$e("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[dn]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):vo(i,o,u)}}}function wn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(i,r,g,_,o,null)}}m&&mt(i,r,"srcSet",o.srcSet,o,null),u&&mt(i,r,"src",o.src,o,null);return;case"input":$e("invalid",i);var S=g=_=m=null,j=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":m=W;break;case"type":_=W;break;case"checked":j=W;break;case"defaultChecked":K=W;break;case"value":g=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:mt(i,r,u,W,o,null)}}td(i,g,S,j,K,_,m,!1);return;case"select":$e("invalid",i),u=_=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:mt(i,r,m,S,o,null)}r=g,o=_,i.multiple=!!u,r!=null?fr(i,!!u,r,!1):o!=null&&fr(i,!!u,o,!0);return;case"textarea":$e("invalid",i),g=m=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:mt(i,r,_,S,o,null)}mr(i,u,m,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(i,r,j,u,o,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(u=0;u<Oc.length;u++)$e(Oc[u],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(i,r,K,u,o,null)}return;default:if(_o(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Cp(i,r,W,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&mt(i,r,S,u,o,null))}function LC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,_=null,S=null,j=null,K=null,W=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=ie;default:u.hasOwnProperty(Z)||mt(i,r,Z,null,u,ie)}}for(var $ in u){var Z=u[$];if(ie=o[$],u.hasOwnProperty($)&&(Z!=null||ie!=null))switch($){case"type":g=Z;break;case"name":m=Z;break;case"checked":K=Z;break;case"defaultChecked":W=Z;break;case"value":_=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==ie&&mt(i,r,$,Z,u,ie)}}xo(i,_,S,j,K,W,g,m);return;case"select":Z=_=S=$=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":Z=j;default:u.hasOwnProperty(g)||mt(i,r,g,null,u,j)}for(m in u)if(g=u[m],j=o[m],u.hasOwnProperty(m)&&(g!=null||j!=null))switch(m){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":_=g;default:g!==j&&mt(i,r,m,g,u,j)}r=S,o=_,u=Z,$!=null?fr(i,!!o,$,!1):!!u!=!!o&&(r!=null?fr(i,!!o,r,!0):fr(i,!!o,o?[]:"",!1));return;case"textarea":Z=$=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:mt(i,r,S,null,u,m)}for(_ in u)if(m=u[_],g=o[_],u.hasOwnProperty(_)&&(m!=null||g!=null))switch(_){case"value":$=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&mt(i,r,_,m,u,g)}nd(i,$,Z);return;case"option":for(var ye in o)if($=o[ye],o.hasOwnProperty(ye)&&$!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:mt(i,r,ye,null,u,$)}for(j in u)if($=u[j],Z=o[j],u.hasOwnProperty(j)&&$!==Z&&($!=null||Z!=null))switch(j){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:mt(i,r,j,$,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)$=o[ke],o.hasOwnProperty(ke)&&$!=null&&!u.hasOwnProperty(ke)&&mt(i,r,ke,null,u,$);for(K in u)if($=u[K],Z=o[K],u.hasOwnProperty(K)&&$!==Z&&($!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:mt(i,r,K,$,u,Z)}return;default:if(_o(r)){for(var pt in o)$=o[pt],o.hasOwnProperty(pt)&&$!==void 0&&!u.hasOwnProperty(pt)&&Cp(i,r,pt,void 0,u,$);for(W in u)$=u[W],Z=o[W],!u.hasOwnProperty(W)||$===Z||$===void 0&&Z===void 0||Cp(i,r,W,$,u,Z);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&mt(i,r,F,null,u,$);for(ie in u)$=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||$===Z||$==null&&Z==null||mt(i,r,ie,$,u,Z)}function t_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,_=m.initiatorType,S=m.duration;if(g&&S&&t_(_)){for(_=0,S=m.responseEnd,u+=1;u<o.length;u++){var j=o[u],K=j.startTime;if(K>S)break;var W=j.transferSize,ie=j.initiatorType;W&&t_(ie)&&(j=j.responseEnd,_+=W*(j<S?1:(S-K)/(j-K)))}if(--u,r+=8*(g+_)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Np=null,Ip=null;function rh(i){return i.nodeType===9?i:i.ownerDocument}function n_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Dp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mp=null;function UC(){var i=window.event;return i&&i.type==="popstate"?i===Mp?!1:(Mp=i,!0):(Mp=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(i){return r_.resolve(null).then(i).catch(qC)}:s_;function qC(i){setTimeout(function(){throw i})}function Or(i){return i==="head"}function a_(i,r){var o=r,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),nl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")zc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,zc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[ts]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&zc(i.ownerDocument.body);o=m}while(o);nl(r)}function o_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jp(o),bo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function HC(i,r,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ts])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=_i(i.nextSibling),i===null)break}return null}function GC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=_i(i.nextSibling),i===null))return null;return i}function l_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=_i(i.nextSibling),i===null))return null;return i}function Vp(i){return i.data==="$?"||i.data==="$~"}function Pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function KC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function _i(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Op=null;function c_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return _i(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function u_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function d_(i,r,o){switch(r=rh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function zc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);bo(i)}var wi=new Map,h_=new Set;function ah(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qs=re.d;re.d={f:$C,r:XC,D:YC,C:QC,L:ZC,m:WC,X:eN,S:JC,M:tN};function $C(){var i=Qs.f(),r=Zd();return i||r}function XC(i){var r=di(i);r!==null&&r.tag===5&&r.type==="form"?Cv(r):Qs.r(i)}var Jo=typeof document>"u"?null:document;function f_(i,r,o){var u=Jo;if(u&&typeof r=="string"&&r){var m=Fn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),h_.has(m)||(h_.add(m),i={rel:i,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),wn(r,"link",i),Xt(r),u.head.appendChild(r)))}}function YC(i){Qs.D(i),f_("dns-prefetch",i,null)}function QC(i,r){Qs.C(i,r),f_("preconnect",i,r)}function ZC(i,r,o){Qs.L(i,r,o);var u=Jo;if(u&&i&&r){var m='link[rel="preload"][as="'+Fn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Fn(o.imageSizes)+'"]')):m+='[href="'+Fn(i)+'"]';var g=m;switch(r){case"style":g=el(i);break;case"script":g=tl(i)}wi.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),wi.set(g,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(Uc(g))||r==="script"&&u.querySelector(Bc(g))||(r=u.createElement("link"),wn(r,"link",i),Xt(r),u.head.appendChild(r)))}}function WC(i,r){Qs.m(i,r);var o=Jo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Fn(u)+'"][href="'+Fn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=tl(i)}if(!wi.has(g)&&(i=v({rel:"modulepreload",href:i},r),wi.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bc(g)))return}u=o.createElement("link"),wn(u,"link",i),Xt(u),o.head.appendChild(u)}}}function JC(i,r,o){Qs.S(i,r,o);var u=Jo;if(u&&i){var m=is(u).hoistableStyles,g=el(i);r=r||"default";var _=m.get(g);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(Uc(g)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=wi.get(g))&&Lp(i,o);var j=_=u.createElement("link");Xt(j),wn(j,"link",i),j._p=new Promise(function(K,W){j.onload=K,j.onerror=W}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:S},m.set(g,_)}}}function eN(i,r){Qs.X(i,r);var o=Jo;if(o&&i){var u=is(o).hoistableScripts,m=tl(i),g=u.get(m);g||(g=o.querySelector(Bc(m)),g||(i=v({src:i,async:!0},r),(r=wi.get(m))&&zp(i,r),g=o.createElement("script"),Xt(g),wn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function tN(i,r){Qs.M(i,r);var o=Jo;if(o&&i){var u=is(o).hoistableScripts,m=tl(i),g=u.get(m);g||(g=o.querySelector(Bc(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=wi.get(m))&&zp(i,r),g=o.createElement("script"),Xt(g),wn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function m_(i,r,o,u){var m=(m=Ne.current)?ah(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=el(o.href),o=is(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=el(o.href);var g=is(m).hoistableStyles,_=g.get(i);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,_),(g=m.querySelector(Uc(i)))&&!g._p&&(_.instance=g,_.state.loading=5),wi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wi.set(i,o),g||nN(m,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=tl(o),o=is(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function el(i){return'href="'+Fn(i)+'"'}function Uc(i){return'link[rel="stylesheet"]['+i+"]"}function p_(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function nN(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),wn(r,"link",o),Xt(r),i.head.appendChild(r))}function tl(i){return'[src="'+Fn(i)+'"]'}function Bc(i){return"script[async]"+i}function g_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Fn(o.href)+'"]');if(u)return r.instance=u,Xt(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Xt(u),wn(u,"style",m),oh(u,o.precedence,i),r.instance=u;case"stylesheet":m=el(o.href);var g=i.querySelector(Uc(m));if(g)return r.state.loading|=4,r.instance=g,Xt(g),g;u=p_(o),(m=wi.get(m))&&Lp(u,m),g=(i.ownerDocument||i).createElement("link"),Xt(g);var _=g;return _._p=new Promise(function(S,j){_.onload=S,_.onerror=j}),wn(g,"link",u),r.state.loading|=4,oh(g,o.precedence,i),r.instance=g;case"script":return g=tl(o.src),(m=i.querySelector(Bc(g)))?(r.instance=m,Xt(m),m):(u=o,(m=wi.get(g))&&(u=v({},o),zp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Xt(m),wn(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,oh(u,o.precedence,i));return r.instance}function oh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Lp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function zp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var lh=null;function y_(i,r,o){if(lh===null){var u=new Map,m=lh=new Map;m.set(o,u)}else m=lh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[ts]||g[$t]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=i+_;var S=u.get(_);S?S.push(g):u.set(_,[g])}}return u}function b_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function iN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function sN(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=el(u.href),g=r.querySelector(Uc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=ch.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Xt(g);return}g=r.ownerDocument||r,u=p_(u),(m=wi.get(m))&&Lp(u,m),g=g.createElement("link"),Xt(g);var _=g;_._p=new Promise(function(S,j){_.onload=S,_.onerror=j}),wn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=ch.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Up=0;function rN(i,r){return i.stylesheets&&i.count===0&&dh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&dh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Up===0&&(Up=62500*zC());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&dh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Up?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var uh=null;function dh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,uh=new Map,r.forEach(aN,i),uh=null,ch.call(i))}function aN(i,r){if(!(r.state.loading&4)){var o=uh.get(i);if(o)var u=o.get(null);else{o=new Map,uh.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var _=m[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}m=r.instance,_=m.getAttribute("data-precedence"),g=o.get(_)||u,g===u&&o.set(null,m),o.set(_,m),this.count++,u=ch.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Fc={$$typeof:q,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function oN(i,r,o,u,m,g,_,S,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function x_(i,r,o,u,m,g,_,S,j,K,W,ie){return i=new oN(i,r,o,_,j,K,W,ie,S),r=1,g===!0&&(r|=24),g=ni(3,null,null,r),i.current=g,g.stateNode=i,r=vm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Em(g),i}function __(i){return i?(i=Do,i):Do}function w_(i,r,o,u,m,g){m=__(m),u.context===null?u.context=m:u.pendingContext=m,u=Ar(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=kr(i,u,r),o!==null&&(Xn(o,i,r),xc(o,i,r))}function E_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Bp(i,r){E_(i,r),(i=i.alternate)&&E_(i,r)}function T_(i){if(i.tag===13||i.tag===31){var r=Ma(i,67108864);r!==null&&Xn(r,i,67108864),Bp(i,67108864)}}function S_(i){if(i.tag===13||i.tag===31){var r=oi();r=_a(r);var o=Ma(i,r);o!==null&&Xn(o,i,r),Bp(i,r)}}var hh=!0;function lN(i,r,o,u){var m=Y.T;Y.T=null;var g=re.p;try{re.p=2,Fp(i,r,o,u)}finally{re.p=g,Y.T=m}}function cN(i,r,o,u){var m=Y.T;Y.T=null;var g=re.p;try{re.p=8,Fp(i,r,o,u)}finally{re.p=g,Y.T=m}}function Fp(i,r,o,u){if(hh){var m=qp(u);if(m===null)Rp(i,r,u,fh,o),k_(i,u);else if(dN(m,i,r,o,u))u.stopPropagation();else if(k_(i,u),r&4&&-1<uN.indexOf(i)){for(;m!==null;){var g=di(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Zi(g.pendingLanes);if(_!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var j=1<<31-xe(_);S.entanglements[1]|=j,_&=~j}gs(g),(at&6)===0&&(Yd=pe()+500,Pc(0))}}break;case 31:case 13:S=Ma(g,2),S!==null&&Xn(S,g,2),Zd(),Bp(g,2)}if(g=qp(u),g===null&&Rp(i,r,u,fh,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else Rp(i,r,u,null,o)}}function qp(i){return i=hi(i),Hp(i)}var fh=null;function Hp(i){if(fh=null,i=ns(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return fh=i,null}function A_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case ze:return 2;case Ue:return 8;case De:case ot:return 32;case St:return 268435456;default:return 32}default:return 32}}var Gp=!1,Lr=null,zr=null,Ur=null,qc=new Map,Hc=new Map,Br=[],uN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(i,r){switch(i){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":qc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(r.pointerId)}}function Gc(i,r,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=di(r),r!==null&&T_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function dN(i,r,o,u,m){switch(r){case"focusin":return Lr=Gc(Lr,i,r,o,u,m),!0;case"dragenter":return zr=Gc(zr,i,r,o,u,m),!0;case"mouseover":return Ur=Gc(Ur,i,r,o,u,m),!0;case"pointerover":var g=m.pointerId;return qc.set(g,Gc(qc.get(g)||null,i,r,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,Hc.set(g,Gc(Hc.get(g)||null,i,r,o,u,m)),!0}return!1}function R_(i){var r=ns(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Ii(i.priority,function(){S_(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Ii(i.priority,function(){S_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=qp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);sc=u,o.target.dispatchEvent(u),sc=null}else return r=di(o),r!==null&&T_(r),i.blockedOn=o,!1;r.shift()}return!0}function C_(i,r,o){mh(i)&&o.delete(r)}function hN(){Gp=!1,Lr!==null&&mh(Lr)&&(Lr=null),zr!==null&&mh(zr)&&(zr=null),Ur!==null&&mh(Ur)&&(Ur=null),qc.forEach(C_),Hc.forEach(C_)}function ph(i,r){i.blockedOn===r&&(i.blockedOn=null,Gp||(Gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hN)))}var gh=null;function N_(i){gh!==i&&(gh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gh===i&&(gh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(Hp(u||o)===null)continue;break}var g=di(o);g!==null&&(i.splice(r,3),r-=3,qm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function nl(i){function r(j){return ph(j,i)}Lr!==null&&ph(Lr,i),zr!==null&&ph(zr,i),Ur!==null&&ph(Ur,i),qc.forEach(r),Hc.forEach(r);for(var o=0;o<Br.length;o++){var u=Br[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Br.length&&(o=Br[0],o.blockedOn===null);)R_(o),o.blockedOn===null&&Br.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],_=m[dn]||null;if(typeof g=="function")_||N_(o);else if(_){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,_=g[dn]||null)S=_.formAction;else if(Hp(m)!==null)continue}else S=_.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),N_(o)}}}function I_(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Kp(i){this._internalRoot=i}yh.prototype.render=Kp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=oi();w_(o,u,i,r,null,null)},yh.prototype.unmount=Kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;w_(i.current,2,null,i,null,null),Zd(),r[es]=null}};function yh(i){this._internalRoot=i}yh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Zu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Br.length&&r!==0&&r<Br[o].priority;o++);Br.splice(o,0,i),o===0&&R_(i)}};var D_=e.version;if(D_!=="19.2.3")throw Error(s(527,D_,"19.2.3"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var fN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{On=bh.inject(fN),Se=bh}catch{}}return $c.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",m=zv,g=Uv,_=Bv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=x_(i,1,!1,null,null,o,u,null,m,g,_,I_),i[es]=r.current,kp(i),new Kp(r)},$c.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,m="",g=zv,_=Uv,S=Bv,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=x_(i,1,!0,r,o??null,u,m,j,g,_,S,I_),r.context=__(null),o=r.current,u=oi(),u=_a(u),m=Ar(u),m.callback=null,kr(o,m,u),o=u,r.current.lanes=o,va(r,o),gs(r),i[es]=r.current,kp(i),new yh(r)},$c.version="19.2.3",$c}var F_;function TN(){if(F_)return Yp.exports;F_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=EN(),Yp.exports}var SN=TN();const AN=WT(SN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function kN(t={}){function e(a,l){let{pathname:c="/",search:h="",hash:f=""}=uo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ng("",{pathname:c,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=a.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof l=="string"?l:gu(l))}function s(a,l){Wn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return CN(e,n,s,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RN(){return Math.random().toString(36).substring(2,10)}function H_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||RN()}}function gu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function CN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",f=null,p=b();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function b(){return(c.state||{idx:null}).idx}function v(){h="POP";let M=b(),B=M==null?null:M-p;p=M,f&&f({action:h,location:O.location,delta:B})}function w(M,B){h="PUSH";let X=Ng(O.location,M,B);n&&n(X,M),p=b()+1;let q=H_(X,p),ae=O.createHref(X);try{c.pushState(q,"",ae)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;a.location.assign(ae)}l&&f&&f({action:h,location:O.location,delta:1})}function A(M,B){h="REPLACE";let X=Ng(O.location,M,B);n&&n(X,M),p=b();let q=H_(X,p),ae=O.createHref(X);c.replaceState(q,"",ae),l&&f&&f({action:h,location:O.location,delta:0})}function N(M){return NN(M)}let O={get action(){return h},get location(){return t(a,c)},listen(M){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(q_,v),f=M,()=>{a.removeEventListener(q_,v),f=null}},createHref(M){return e(a,M)},createURL:N,encodeLocation(M){let B=N(M);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:A,go(M){return c.go(M)}};return O}function NN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:gu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function JT(t,e,n="/"){return IN(t,e,n,!1)}function IN(t,e,n,s){let a=typeof e=="string"?uo(e):e,l=sr(a.pathname||"/",n);if(l==null)return null;let c=e1(t);DN(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=qN(l);h=BN(c[f],p,s)}return h}function e1(t,e=[],n=[],s="",a=!1){let l=(c,h,f=a,p)=>{let b={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&f)return;It(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let v=tr([s,b.relativePath]),w=n.concat(b);c.children&&c.children.length>0&&(It(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),e1(c.children,e,w,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:zN(v,c.index),routesMeta:w})};return t.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,h);else for(let p of t1(c.path))l(c,h,!0,p)}),e}function t1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=t1(s.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function DN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var MN=/^:[\w-]+$/,jN=3,VN=2,PN=1,ON=10,LN=-2,G_=t=>t==="*";function zN(t,e){let n=t.split("/"),s=n.length;return n.some(G_)&&(s+=LN),e&&(s+=VN),n.filter(a=>!G_(a)).reduce((a,l)=>a+(MN.test(l)?jN:l===""?PN:ON),s)}function UN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function BN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let f=s[h],p=h===s.length-1,b=l==="/"?e:e.slice(l.length)||"/",v=Zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},b),w=f.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=Zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:tr([l,v.pathname]),pathnameBase:XN(tr([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=tr([l,v.pathnameBase]))}return c}function Zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=FN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:b,isOptional:v},w)=>{if(b==="*"){let N=h[w]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const A=h[w];return v&&!A?p[b]=void 0:p[b]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function FN(t,e=!1,n=!0){Wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function qN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function sr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var HN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GN=t=>HN.test(t);function KN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?uo(t):t,l;if(n)if(GN(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=K_(n.substring(1),"/"):l=K_(n,e)}else l=e;return{pathname:l,search:YN(s),hash:QN(a)}}function K_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Jp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $N(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function C0(t){let e=$N(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function N0(t,e,n,s=!1){let a;typeof t=="string"?a=uo(t):(a={...t},It(!a.pathname||!a.pathname.includes("?"),Jp("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),Jp("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),Jp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}h=v>=0?e[v]:"/"}let f=KN(a,h),p=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||b)&&(f.pathname+="/"),f}var tr=t=>t.join("/").replace(/\/\/+/g,"/"),XN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function WN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n1=["POST","PUT","PATCH","DELETE"];new Set(n1);var JN=["GET",...n1];new Set(JN);var Nl=I.createContext(null);Nl.displayName="DataRouter";var Af=I.createContext(null);Af.displayName="DataRouterState";I.createContext(!1);var i1=I.createContext({isTransitioning:!1});i1.displayName="ViewTransition";var e2=I.createContext(new Map);e2.displayName="Fetchers";var t2=I.createContext(null);t2.displayName="Await";var Ri=I.createContext(null);Ri.displayName="Navigation";var Du=I.createContext(null);Du.displayName="Location";var Yi=I.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var I0=I.createContext(null);I0.displayName="RouteError";function n2(t,{relative:e}={}){It(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Ri),{hash:a,pathname:l,search:c}=Mu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:tr([n,l])),s.createHref({pathname:h,search:c,hash:a})}function Il(){return I.useContext(Du)!=null}function Cs(){return It(Il(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Du).location}var s1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r1(t){I.useContext(Ri).static||I.useLayoutEffect(t)}function ho(){let{isDataRoute:t}=I.useContext(Yi);return t?g2():i2()}function i2(){It(Il(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Nl),{basename:e,navigator:n}=I.useContext(Ri),{matches:s}=I.useContext(Yi),{pathname:a}=Cs(),l=JSON.stringify(C0(s)),c=I.useRef(!1);return r1(()=>{c.current=!0}),I.useCallback((f,p={})=>{if(Wn(c.current,s1),!c.current)return;if(typeof f=="number"){n.go(f);return}let b=N0(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:tr([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,l,a,t])}I.createContext(null);function s2(){let{matches:t}=I.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function Mu(t,{relative:e}={}){let{matches:n}=I.useContext(Yi),{pathname:s}=Cs(),a=JSON.stringify(C0(n));return I.useMemo(()=>N0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function r2(t,e){return a1(t,e)}function a1(t,e,n,s,a){var X;It(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Ri),{matches:c}=I.useContext(Yi),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",b=h?h.pathnameBase:"/",v=h&&h.route;{let q=v&&v.path||"";o1(p,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Cs(),A;if(e){let q=typeof e=="string"?uo(e):e;It(b==="/"||((X=q.pathname)==null?void 0:X.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=w;let N=A.pathname||"/",O=N;if(b!=="/"){let q=b.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let M=JT(t,{pathname:O});Wn(v||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Wn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=u2(M&&M.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:tr([b,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?b:tr([b,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,s,a);return e&&B?I.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function a2(){let t=p2(),e=ZN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,c)}var o2=I.createElement(a2,null),l2=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(Yi.Provider,{value:this.props.routeContext},I.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c2({routeContext:t,match:e,children:n}){let s=I.useContext(Nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Yi.Provider,{value:t},n)}function u2(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let b=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);It(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let h=!1,f=-1;if(n)for(let b=0;b<l.length;b++){let v=l[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=b),v.route.id){let{loaderData:w,errors:A}=n,N=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||N){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&s?(b,v)=>{var w,A;s(b,{location:n.location,params:((A=(w=n.matches)==null?void 0:w[0])==null?void 0:A.params)??{},unstable_pattern:WN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((b,v,w)=>{let A,N=!1,O=null,M=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||o2,h&&(f<0&&w===0?(o1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,M=null):f===w&&(N=!0,M=v.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),X=()=>{let q;return A?q=O:N?q=M:v.route.Component?q=I.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=b,I.createElement(c2,{match:v,routeContext:{outlet:b,matches:B,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?I.createElement(l2,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:X(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):X()},null)}function D0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d2(t){let e=I.useContext(Nl);return It(e,D0(t)),e}function h2(t){let e=I.useContext(Af);return It(e,D0(t)),e}function f2(t){let e=I.useContext(Yi);return It(e,D0(t)),e}function M0(t){let e=f2(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function m2(){return M0("useRouteId")}function p2(){var s;let t=I.useContext(I0),e=h2("useRouteError"),n=M0("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function g2(){let{router:t}=d2("useNavigate"),e=M0("useNavigate"),n=I.useRef(!1);return r1(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Wn(n.current,s1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var $_={};function o1(t,e,n){!e&&!$_[t]&&($_[t]=!0,Wn(!1,n))}I.memo(y2);function y2({routes:t,future:e,state:n,unstable_onError:s}){return a1(t,void 0,n,s,e)}function Qr({to:t,replace:e,state:n,relative:s}){It(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Ri);Wn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Yi),{pathname:c}=Cs(),h=ho(),f=N0(t,C0(l),c,s==="path"),p=JSON.stringify(f);return I.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:s})},[h,p,s,e,n]),null}function Fi(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b2({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){It(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=uo(n));let{pathname:p="/",search:b="",hash:v="",state:w=null,key:A="default"}=n,N=I.useMemo(()=>{let O=sr(p,h);return O==null?null:{location:{pathname:O,search:b,hash:v,state:w,key:A},navigationType:s}},[h,p,b,v,w,A,s]);return Wn(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:I.createElement(Ri.Provider,{value:f},I.createElement(Du.Provider,{children:e,value:N}))}function v2({children:t,location:e}){return r2(Ig(t),e)}function Ig(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,Ig(s.props.children,l));return}It(s.type===Fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ig(s.props.children,l)),n.push(c)}),n}var jh="get",Vh="application/x-www-form-urlencoded";function kf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function x2(t){return kf(t)&&t.tagName.toLowerCase()==="button"}function _2(t){return kf(t)&&t.tagName.toLowerCase()==="form"}function w2(t){return kf(t)&&t.tagName.toLowerCase()==="input"}function E2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T2(t,e){return t.button===0&&(!e||e==="_self")&&!E2(t)}function Dg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function S2(t,e){let n=Dg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var vh=null;function A2(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var k2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eg(t){return t!=null&&!k2.has(t)?(Wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):t}function R2(t,e){let n,s,a,l,c;if(_2(t)){let h=t.getAttribute("action");s=h?sr(h,e):null,n=t.getAttribute("method")||jh,a=eg(t.getAttribute("enctype"))||Vh,l=new FormData(t)}else if(x2(t)||w2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(s=f?sr(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||jh,a=eg(t.getAttribute("formenctype"))||eg(h.getAttribute("enctype"))||Vh,l=new FormData(h,t),!A2()){let{name:p,type:b,value:v}=t;if(b==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(kf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jh,s=null,a=Vh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function j0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C2(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function N2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D2(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await N2(l,n);return c.links?c.links():[]}return[]}));return P2(s.flat(1).filter(I2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function X_(t,e,n,s,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>{var b;return n[p].pathname!==f.pathname||((b=n[p].route.path)==null?void 0:b.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{var v;let b=s.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function M2(t,e,{includeHydrateFallback:n}={}){return j2(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function j2(t){return[...new Set(t)]}function V2(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function P2(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(V2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function l1(){let t=I.useContext(Nl);return j0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function O2(){let t=I.useContext(Af);return j0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var V0=I.createContext(void 0);V0.displayName="FrameworkContext";function c1(){let t=I.useContext(V0);return j0(t,"You must render this element inside a <HydratedRouter> element"),t}function L2(t,e){let n=I.useContext(V0),[s,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:b,onTouchStart:v}=e,w=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=B=>{B.forEach(X=>{c(X.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[t]),I.useEffect(()=>{if(s){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[s]);let A=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Xc(h,A),onBlur:Xc(f,N),onMouseEnter:Xc(p,A),onMouseLeave:Xc(b,N),onTouchStart:Xc(v,A)}]:[!1,w,{}]}function Xc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z2({page:t,...e}){let{router:n}=l1(),s=I.useMemo(()=>JT(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(B2,{page:t,matches:s,...e}):null}function U2(t){let{manifest:e,routeModules:n}=c1(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return D2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function B2({page:t,matches:e,...n}){let s=Cs(),{manifest:a,routeModules:l}=c1(),{basename:c}=l1(),{loaderData:h,matches:f}=O2(),p=I.useMemo(()=>X_(t,e,f,a,s,"data"),[t,e,f,a,s]),b=I.useMemo(()=>X_(t,e,f,a,s,"assets"),[t,e,f,a,s]),v=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,O=!1;if(e.forEach(B=>{var q;let X=a.routes[B.route.id];!X||!X.hasLoader||(!p.some(ae=>ae.route.id===B.route.id)&&B.route.id in h&&((q=l[B.route.id])!=null&&q.shouldRevalidate)||X.hasClientLoader?O=!0:N.add(B.route.id))}),N.size===0)return[];let M=C2(t,c,"data");return O&&N.size>0&&M.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[M.pathname+M.search]},[c,h,s,a,p,e,t,l]),w=I.useMemo(()=>M2(b,a),[b,a]),A=U2(b);return I.createElement(I.Fragment,null,v.map(N=>I.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>I.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),A.map(({key:N,link:O})=>I.createElement("link",{key:N,nonce:n.nonce,...O})))}function F2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u1&&(window.__reactRouterVersion="7.10.1")}catch{}function q2({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=I.useRef();a.current==null&&(a.current=kN({window:s,v5Compat:!0}));let l=a.current,[c,h]=I.useState({action:l.action,location:l.location}),f=I.useCallback(p=>{n===!1?h(p):I.startTransition(()=>h(p))},[n]);return I.useLayoutEffect(()=>l.listen(f),[l,f]),I.createElement(b2,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:b,viewTransition:v,...w},A){let{basename:N,unstable_useTransitions:O}=I.useContext(Ri),M=typeof p=="string"&&d1.test(p),B,X=!1;if(typeof p=="string"&&M&&(B=p,u1))try{let V=new URL(window.location.href),P=p.startsWith("//")?new URL(V.protocol+p):new URL(p),U=sr(P.pathname,N);P.origin===V.origin&&U!=null?p=U+P.search+P.hash:X=!0}catch{Wn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=n2(p,{relative:a}),[ae,oe,ue]=L2(s,w),R=$2(p,{replace:c,state:h,target:f,preventScrollReset:b,relative:a,viewTransition:v,unstable_useTransitions:O});function T(V){e&&e(V),V.defaultPrevented||R(V)}let C=I.createElement("a",{...w,...ue,href:B||q,onClick:X||l?e:T,ref:F2(A,oe),target:f,"data-discover":!M&&n==="render"?"true":void 0});return ae&&!M?I.createElement(I.Fragment,null,C,I.createElement(z2,{page:q})):C});Ct.displayName="Link";var H2=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...p},b){let v=Mu(c,{relative:p.relative}),w=Cs(),A=I.useContext(Af),{navigator:N,basename:O}=I.useContext(Ri),M=A!=null&&J2(v)&&h===!0,B=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,X=w.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(X=X.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&O&&(q=sr(q,O)||q);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=X===B||!a&&X.startsWith(B)&&X.charAt(ae)==="/",ue=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),R={isActive:oe,isPending:ue,isTransitioning:M},T=oe?e:void 0,C;typeof s=="function"?C=s(R):C=[s,oe?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(R):l;return I.createElement(Ct,{...p,"aria-current":T,className:C,ref:b,style:V,to:c,viewTransition:h},typeof f=="function"?f(R):f)});H2.displayName="NavLink";var G2=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=jh,action:h,onSubmit:f,relative:p,preventScrollReset:b,viewTransition:v,...w},A)=>{let{unstable_useTransitions:N}=I.useContext(Ri),O=Z2(),M=W2(h,{relative:p}),B=c.toLowerCase()==="get"?"get":"post",X=typeof h=="string"&&d1.test(h),q=ae=>{if(f&&f(ae),ae.defaultPrevented)return;ae.preventDefault();let oe=ae.nativeEvent.submitter,ue=(oe==null?void 0:oe.getAttribute("formmethod"))||c,R=()=>O(oe||ae.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:a,state:l,relative:p,preventScrollReset:b,viewTransition:v});N&&n!==!1?I.startTransition(()=>R()):R()};return I.createElement("form",{ref:A,method:B,action:M,onSubmit:s?f:q,...w,"data-discover":!X&&t==="render"?"true":void 0})});G2.displayName="Form";function K2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(t){let e=I.useContext(Nl);return It(e,K2(t)),e}function $2(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:h}={}){let f=ho(),p=Cs(),b=Mu(t,{relative:l});return I.useCallback(v=>{if(T2(v,e)){v.preventDefault();let w=n!==void 0?n:gu(p)===gu(b),A=()=>f(t,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c});h?I.startTransition(()=>A()):A()}},[p,f,b,n,s,e,t,a,l,c,h])}function X2(t){Wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(Dg(t)),n=I.useRef(!1),s=Cs(),a=I.useMemo(()=>S2(s.search,n.current?null:e.current),[s.search]),l=ho(),c=I.useCallback((h,f)=>{const p=Dg(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+p,f)},[l,a]);return[a,c]}var Y2=0,Q2=()=>`__${String(++Y2)}__`;function Z2(){let{router:t}=h1("useSubmit"),{basename:e}=I.useContext(Ri),n=m2(),s=t.fetch,a=t.navigate;return I.useCallback(async(l,c={})=>{let{action:h,method:f,encType:p,formData:b,body:v}=R2(l,e);if(c.navigate===!1){let w=c.fetcherKey||Q2();await s(w,n,c.action||h,{preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function W2(t,{relative:e}={}){let{basename:n}=I.useContext(Ri),s=I.useContext(Yi);It(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Mu(t||".",{relative:e})},c=Cs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(b=>b==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let b=h.toString();l.search=b?`?${b}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:tr([n,l.pathname])),gu(l)}function J2(t,{relative:e}={}){let n=I.useContext(i1);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=h1("useViewTransitionState"),a=Mu(t,{relative:e});if(!n.isTransitioning)return!1;let l=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zh(a.pathname,c)!=null||Zh(a.pathname,l)!=null}let Yc=null;const eI=()=>(Yc||(Yc=new(window.AudioContext||window.webkitAudioContext)),Yc.state==="suspended"&&Yc.resume(),Yc),li=(t,e,n,s=0,a=.1)=>{const l=eI();if(!l)return;const c=l.createOscillator(),h=l.createGain();c.type=e,c.frequency.setValueAtTime(t,l.currentTime+s),h.gain.setValueAtTime(a,l.currentTime+s),h.gain.exponentialRampToValueAtTime(.01,l.currentTime+s+n),c.connect(h),h.connect(l.destination),c.start(l.currentTime+s),c.stop(l.currentTime+s+n)},wt={correct:()=>{li(600,"sine",.1,0),li(800,"sine",.2,.1)},wrong:()=>{li(150,"sawtooth",.3,0)},click:()=>{li(400,"triangle",.05,0,.05)},win:()=>{li(400,"sine",.1,0),li(500,"sine",.1,.1),li(600,"sine",.1,.2),li(800,"square",.4,.3)},levelUp:()=>{li(400,"sine",.1,0),li(500,"sine",.1,.1),li(600,"sine",.1,.2),li(800,"sine",.1,.3),li(1e3,"square",.4,.4)}},f1=()=>{const t=I.useRef(null);return I.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;e.width=window.innerWidth,e.height=window.innerHeight;const s=[],a=["#136dec","#fbbf24","#10b981","#ef4444","#8b5cf6"];for(let c=0;c<150;c++)s.push({x:e.width/2,y:e.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20-5,color:a[Math.floor(Math.random()*a.length)],size:Math.random()*8+4,life:100});const l=()=>{if(!n||!e)return;n.clearRect(0,0,e.width,e.height);let c=!1;s.forEach(h=>{h.life>0&&(c=!0,h.x+=h.vx,h.y+=h.vy,h.vy+=.5,h.life--,n.fillStyle=h.color,n.fillRect(h.x,h.y,h.size,h.size))}),c&&requestAnimationFrame(l)};l()},[]),y.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-50"})},tI=({achievements:t,onClose:e})=>(I.useEffect(()=>{wt.win()},[]),y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-300",children:[y.jsx(f1,{}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-8 border-2 border-primary/50 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-[shimmer_2s_infinite]"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-wide",children:"Lorpen Berria!"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-medium",children:"Bikain egina!"}),y.jsx("div",{className:"flex flex-col gap-4",children:t.map(n=>y.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700/50",children:[y.jsx("div",{className:"p-4 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 shadow-lg shadow-orange-500/30 text-white mb-2 animate-bounce",children:y.jsx("span",{className:"material-symbols-outlined text-4xl",children:n.icon})}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:n.title}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:n.description}),y.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-black px-2 py-0.5 rounded shadow-sm",children:["+",n.xpReward," XP"]})]},n.id))}),y.jsx("button",{onClick:e,className:"mt-8 w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold transition-all hover:scale-105 shadow-xl shadow-blue-500/30",children:"Jarraitu"})]})]})]})),nI=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},iI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,b=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,A=p&63;f||(A=64,c||(w=64)),s.push(n[b],n[v],n[w],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new sI;const w=l<<2|h>>4;if(s.push(w),p!==64){const A=h<<4&240|p>>2;if(s.push(A),v!==64){const N=p<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rI=function(t){const e=m1(t);return p1.encodeByteArray(e,!0)},Wh=function(t){return rI(t).replace(/\./g,"")},g1=function(t){try{return p1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>aI().__FIREBASE_DEFAULTS__,lI=()=>{if(typeof process>"u"||typeof Y_>"u")return;const t=Y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g1(t[1]);return e&&JSON.parse(e)},Rf=()=>{try{return nI()||oI()||lI()||cI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y1=t=>{var e,n;return(n=(e=Rf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},uI=t=>{const e=y1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},b1=()=>{var t;return(t=Rf())==null?void 0:t.config},v1=t=>{var e;return(e=Rf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(c)),""].join(".")}const ru={};function fI(){const t={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?t.emulator.push(e):t.prod.push(e);return t}function mI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q_=!1;function _1(t,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||ru[t]===e||ru[t]||Q_)return;ru[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=fI().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Q_=!0,c()},w}function b(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=mI(s),A=n("text"),N=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),M=document.getElementById(O)||document.createElement("a"),B=n("preprendIcon"),X=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;h(q),b(M,O);const ae=p();f(X,B),q.append(X,N,M,ae),document.body.appendChild(q)}l?(N.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function gI(){var e;const t=(e=Rf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _I(){return!gI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wI(){try{return typeof indexedDB=="object"}catch{return!1}}function EI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="FirebaseError";class dr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TI,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?SI(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new dr(a,h,s)}}function SI(t,e){return t.replace(AI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const AI=/\{\$([^}]+)}/g;function kI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function io(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Z_(l)&&Z_(c)){if(!io(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Z_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RI(t,e){const n=new CI(t,e);return n.subscribe.bind(n)}class CI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=tg),a.error===void 0&&(a.error=tg),a.complete===void 0&&(a.complete=tg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MI(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(t){return t===Xa?void 0:t}function MI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new II(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const VI={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},PI=Ze.INFO,OI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},LI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=OI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P0{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=LI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const zI=(t,e)=>e.some(n=>t instanceof n);let W_,J_;function UI(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BI(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,Mg=new WeakMap,E1=new WeakMap,ng=new WeakMap,O0=new WeakMap;function FI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Wr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&w1.set(n,t)}).catch(()=>{}),O0.set(e,t),e}function qI(t){if(Mg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Mg.set(t,e)}let jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||E1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HI(t){jg=t(jg)}function GI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ig(this),e,...n);return E1.set(s,e.sort?e.sort():[e]),Wr(s)}:BI().includes(t)?function(...e){return t.apply(ig(this),e),Wr(w1.get(this))}:function(...e){return Wr(t.apply(ig(this),e))}}function KI(t){return typeof t=="function"?GI(t):(t instanceof IDBTransaction&&qI(t),zI(t,UI())?new Proxy(t,jg):t)}function Wr(t){if(t instanceof IDBRequest)return FI(t);if(ng.has(t))return ng.get(t);const e=KI(t);return e!==t&&(ng.set(t,e),O0.set(e,t)),e}const ig=t=>O0.get(t);function $I(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Wr(c);return s&&c.addEventListener("upgradeneeded",f=>{s(Wr(c.result),f.oldVersion,f.newVersion,Wr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const XI=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],sg=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=YI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||XI.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return sg.set(e,l),l}HI(t=>({...t,get:(e,n,s)=>ew(e,n)||t.get(e,n,s),has:(e,n)=>!!ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",tw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new P0("@firebase/app"),WI="@firebase/app-compat",JI="@firebase/analytics-compat",eD="@firebase/analytics",tD="@firebase/app-check-compat",nD="@firebase/app-check",iD="@firebase/auth",sD="@firebase/auth-compat",rD="@firebase/database",aD="@firebase/data-connect",oD="@firebase/database-compat",lD="@firebase/functions",cD="@firebase/functions-compat",uD="@firebase/installations",dD="@firebase/installations-compat",hD="@firebase/messaging",fD="@firebase/messaging-compat",mD="@firebase/performance",pD="@firebase/performance-compat",gD="@firebase/remote-config",yD="@firebase/remote-config-compat",bD="@firebase/storage",vD="@firebase/storage-compat",xD="@firebase/firestore",_D="@firebase/ai",wD="@firebase/firestore-compat",ED="firebase",TD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="[DEFAULT]",SD={[Vg]:"fire-core",[WI]:"fire-core-compat",[eD]:"fire-analytics",[JI]:"fire-analytics-compat",[nD]:"fire-app-check",[tD]:"fire-app-check-compat",[iD]:"fire-auth",[sD]:"fire-auth-compat",[rD]:"fire-rtdb",[aD]:"fire-data-connect",[oD]:"fire-rtdb-compat",[lD]:"fire-fn",[cD]:"fire-fn-compat",[uD]:"fire-iid",[dD]:"fire-iid-compat",[hD]:"fire-fcm",[fD]:"fire-fcm-compat",[mD]:"fire-perf",[pD]:"fire-perf-compat",[gD]:"fire-rc",[yD]:"fire-rc-compat",[bD]:"fire-gcs",[vD]:"fire-gcs-compat",[xD]:"fire-fst",[wD]:"fire-fst-compat",[_D]:"fire-vertex","fire-js":"fire-js",[ED]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Map,AD=new Map,Og=new Map;function nw(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _l(t){const e=t.name;if(Og.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(const n of Jh.values())nw(n,t);for(const n of AD.values())nw(n,t);return!0}function L0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new ju("app","Firebase",kD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=TD;function T1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Pg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Jr.create("bad-app-name",{appName:String(a)});if(n||(n=b1()),!n)throw Jr.create("no-options");const l=Jh.get(a);if(l){if(io(n,l.options)&&io(s,l.config))return l;throw Jr.create("duplicate-app",{appName:a})}const c=new jI(a);for(const f of Og.values())c.addComponent(f);const h=new RD(n,s,c);return Jh.set(a,h),h}function S1(t=Pg){const e=Jh.get(t);if(!e&&t===Pg&&b1())return T1();if(!e)throw Jr.create("no-app",{appName:t});return e}function ea(t,e,n){let s=SD[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(c.join(" "));return}_l(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="firebase-heartbeat-database",ND=1,yu="firebase-heartbeat-store";let rg=null;function A1(){return rg||(rg=$I(CD,ND,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),rg}async function ID(t){try{const n=(await A1()).transaction(yu),s=await n.objectStore(yu).get(k1(t));return await n.done,s}catch(e){if(e instanceof dr)rr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function iw(t,e){try{const s=(await A1()).transaction(yu,"readwrite");await s.objectStore(yu).put(e,k1(t)),await s.done}catch(n){if(n instanceof dr)rr.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function k1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=1024,MD=30;class jD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>MD){const c=OD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sw(),{heartbeatsToSend:s,unsentEntries:a}=VD(this._heartbeatsCache.heartbeats),l=Wh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return rr.warn(n),""}}}function sw(){return new Date().toISOString().substring(0,10)}function VD(t,e=DD){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),rw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wI()?EI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ID(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rw(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function OD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){_l(new so("platform-logger",e=>new QI(e),"PRIVATE")),_l(new so("heartbeat",e=>new jD(e),"PRIVATE")),ea(Vg,tw,t),ea(Vg,tw,"esm2020"),ea("fire-js","")}LD("");var zD="firebase",UD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(zD,UD,"app");function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BD=R1,C1=new ju("auth","Firebase",R1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new P0("@firebase/auth");function FD(t,...e){ef.logLevel<=Ze.WARN&&ef.warn(`Auth (${Ml}): ${t}`,...e)}function Ph(t,...e){ef.logLevel<=Ze.ERROR&&ef.error(`Auth (${Ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw z0(t,...e)}function vs(t,...e){return z0(t,...e)}function N1(t,e,n){const s={...BD(),[e]:n};return new ju("auth","Firebase",s).create(e,{appName:t.name})}function nr(t){return N1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return C1.create(t,...e)}function Re(t,e,...n){if(!t)throw z0(e,...n)}function Js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function ar(t,e){t||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function qD(){return aw()==="http:"||aw()==="https:"}function aw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qD()||bI()||"connection"in navigator)?navigator.onLine:!0}function GD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=pI()||vI()}get(){return HD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new Pu(3e4,6e4);function da(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ha(t,e,n,s,a={}){return D1(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Vu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return yI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(p.credentials="include"),I1.fetch()(await M1(t,t.config.apiHost,n,h),p)})}async function D1(t,e,n){t._canInitEmulator=!1;const s={...KD,...e};try{const a=new QD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw xh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw xh(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw xh(t,"user-disabled",c);const b=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw N1(t,b,p);$i(t,b)}}catch(a){if(a instanceof dr)throw a;$i(t,"network-request-failed",{message:String(a)})}}async function Ou(t,e,n,s,a={}){const l=await ha(t,e,n,s,a);return"mfaPendingCredential"in l&&$i(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function M1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?U0(t.config,a):`${t.config.apiScheme}://${a}`;return $D.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function YD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vs(this.auth,"network-request-failed")),XD.get())})}}function xh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=vs(t,e,s);return a.customData._tokenResponse=n,a}function ow(t){return t!==void 0&&t.enterprise!==void 0}class ZD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WD(t,e){return ha(t,"GET","/v2/recaptchaConfig",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eM(t,e=!1){const n=pn(t),s=await n.getIdToken(e),a=B0(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:au(ag(a.auth_time)),issuedAtTime:au(ag(a.iat)),expirationTime:au(ag(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ag(t){return Number(t)*1e3}function B0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const a=g1(n);return a?JSON.parse(a):(Ph("Failed to decode base64 JWT payload"),null)}catch(a){return Ph("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function lw(t){const e=B0(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof dr&&tM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function tM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){var v;const e=t.auth,n=await t.getIdToken(),s=await bu(t,tf(e,{idToken:n}));Re(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?j1(a.providerUserInfo):[],c=sM(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new zg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,b)}async function iM(t){const e=pn(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function j1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){const n=await D1(t,{},async()=>{const s=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await M1(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:s};return t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(f.credentials="include"),I1.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aM(t,e){return ha(t,"POST","/v2/accounts:revokeToken",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await rM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new pl;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await bu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eM(this,e)}reload(){return iM(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await bu(this,JD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:A,providerData:N,stsTokenManager:O}=n;Re(v&&O,e,"internal-error");const M=pl.fromJSON(this.name,O);Re(typeof v=="string",e,"internal-error"),qr(s,e.name),qr(a,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),qr(l,e.name),qr(c,e.name),qr(h,e.name),qr(f,e.name),qr(p,e.name),qr(b,e.name);const B=new Gi({uid:v,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:M,createdAt:p,lastLoginAt:b});return N&&Array.isArray(N)&&(B.providerData=N.map(X=>({...X}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new pl;a.updateFromServerResponse(n);const l=new Gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await nf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?j1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new pl;h.updateFromIdToken(s);const f=new Gi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new zg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Map;function er(t){ar(t instanceof Function,"Expected a class definition");let e=cw.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V1.type="NONE";const uw=V1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Oh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Oh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new gl(er(uw),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||er(uw);const c=Oh(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const b=await p._get(c);if(b){let v;if(typeof b=="string"){const w=await tf(e,{idToken:b}).catch(()=>{});if(!w)break;v=await Gi._fromGetAccountInfoResponse(e,w,b)}else v=Gi._fromJSON(e,b);p!==l&&(h=v),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new gl(l,e,s):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new gl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B1(e))return"Blackberry";if(F1(e))return"Webos";if(O1(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(U1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function P1(t=Mn()){return/firefox\//i.test(t)}function O1(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(t=Mn()){return/crios\//i.test(t)}function z1(t=Mn()){return/iemobile/i.test(t)}function U1(t=Mn()){return/android/i.test(t)}function B1(t=Mn()){return/blackberry/i.test(t)}function F1(t=Mn()){return/webos/i.test(t)}function F0(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oM(t=Mn()){var e;return F0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function lM(){return xI()&&document.documentMode===10}function q1(t=Mn()){return F0(t)||U1(t)||F1(t)||B1(t)||/windows phone/i.test(t)||z1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e=[]){let n;switch(t){case"Browser":n=dw(Mn());break;case"Worker":n=`${dw(Mn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e={}){return ha(t,"GET","/v2/passwordPolicy",da(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=6;class hM{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new cM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(nr(this));const n=e?pn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uM(this),n=new hM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&FD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fo(t){return pn(t)}class hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=RI(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mM(t){Cf=t}function G1(t){return Cf.loadJS(t)}function pM(){return Cf.recaptchaEnterpriseScript}function gM(){return Cf.gapiScript}function yM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bM{constructor(){this.enterprise=new vM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xM="recaptcha-enterprise",K1="NO_RECAPTCHA";class _M{constructor(e){this.type=xM,this.auth=fo(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{WD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new ZD(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;ow(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(K1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&ow(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=pM();f.length!==0&&(f+=h),G1(f).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function fw(t,e,n,s=!1,a=!1){const l=new _M(t);let c;if(a)c=K1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ug(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await fw(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await fw(t,e,n,n==="getOobCode");return s(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e){const n=L0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(io(l,e??{}))return a;$i(a,"already-initialized")}return n.initialize({options:e})}function EM(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function TM(t,e,n){const s=fo(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=$1(e),{host:c,port:h}=SM(e),f=h===null?"":`:${h}`,p={url:`${l}//${c}${f}/`},b=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(io(p,s.config.emulator)&&io(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Dl(c)?(x1(`${l}//${c}${f}`),_1("Auth",!0)):AM()}function $1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SM(t){const e=$1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:mw(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:mw(c)}}}function mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,n){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function kM(t,e){return ha(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e){return Ou(t,"POST","/v1/accounts:signInWithPassword",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",da(t,e))}async function NM(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends q0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,n,"signInWithPassword",RM);case"emailLink":return CM(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,s,"signUpPassword",kM);case"emailLink":return NM(e,{idToken:n,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return Ou(t,"POST","/v1/accounts:signInWithIdp",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="http://localhost";class ro extends q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new ro(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,yl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:IM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MM(t){const e=Wc(Jc(t)).link,n=e?Wc(Jc(e)).deep_link_id:null,s=Wc(Jc(t)).deep_link_id;return(s?Wc(Jc(s)).link:null)||s||n||e||t}class H0{constructor(e){const n=Wc(Jc(e)),s=n.apiKey??null,a=n.oobCode??null,l=DM(n.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MM(e);try{return new H0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=H0.parseLink(n);return Re(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends X1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Lu{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Lu{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Lu{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e){return Ou(t,"POST","/v1/accounts:signUp",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Gi._fromIdTokenResponse(e,s,a),c=pw(s);return new ao({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=pw(s);return new ao({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends dr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new sf(e,n,s,a)}}function Y1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(t,l,e,s):l})}async function VM(t,e,n=!1){const s=await bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ao._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e,n=!1){const{auth:s}=t;if(Ti(s.app))return Promise.reject(nr(s));const a="reauthenticate";try{const l=await bu(t,Y1(s,a,e,t),n);Re(l.idToken,s,"internal-error");const c=B0(l.idToken);Re(c,s,"internal-error");const{sub:h}=c;return Re(t.uid===h,s,"user-mismatch"),ao._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$i(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(t,e,n=!1){if(Ti(t.app))return Promise.reject(nr(t));const s="signIn",a=await Y1(t,s,e),l=await ao._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function OM(t,e){return Q1(fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(t){const e=fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LM(t,e,n){if(Ti(t.app))return Promise.reject(nr(t));const s=fo(t),c=await Ug(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Z1(t),f}),h=await ao._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function zM(t,e,n){return Ti(t.app)?Promise.reject(nr(t)):OM(pn(t),jl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Z1(t),s})}function UM(t,e,n,s){return pn(t).onIdTokenChanged(e,n,s)}function BM(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}function FM(t,e,n,s){return pn(t).onAuthStateChanged(e,n,s)}function qM(t){return pn(t).signOut()}const rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1e3,GM=10;class J1 extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);lM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,GM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J1.type="LOCAL";const KM=J1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eS.type="SESSION";const tS=eS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),f=await $M(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=G0("",20);a.port1.start();const b=setTimeout(()=>{f(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(b),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function YM(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function QM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function WM(){return nS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",JM=1,af="firebaseLocalStorage",sS="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function If(t,e){return t.transaction([af],e?"readwrite":"readonly").objectStore(af)}function ej(){const t=indexedDB.deleteDatabase(iS);return new zu(t).toPromise()}function Bg(){const t=indexedDB.open(iS,JM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(af,{keyPath:sS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(af)?e(s):(s.close(),await ej(),e(await Bg()))})})}async function gw(t,e,n){const s=If(t,!0).put({[sS]:e,value:n});return new zu(s).toPromise()}async function tj(t,e){const n=If(t,!1).get(e),s=await new zu(n).toPromise();return s===void 0?null:s.value}function yw(t,e){const n=If(t,!0).delete(e);return new zu(n).toPromise()}const nj=800,ij=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ij)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(WM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await QM(),!this.activeServiceWorker)return;this.sender=new XM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await gw(e,rf,"1"),await yw(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>gw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=If(a,!1).getAll();return new zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const sj=rS;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){return e?er(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aj(t){return Q1(t.auth,new K0(t),t.bypassAuthState)}function oj(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),PM(n,new K0(t),t.bypassAuthState)}async function lj(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),VM(n,new K0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aj;case"linkViaPopup":case"linkViaRedirect":return lj;case"reauthViaPopup":case"reauthViaRedirect":return oj;default:$i(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Pu(2e3,1e4);class cl extends aS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=G0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cj.get())};e()}}cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="pendingRedirect",Lh=new Map;class dj extends aS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const s=await hj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hj(t,e){const n=pj(e),s=mj(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function fj(t,e){Lh.set(t._key(),e)}function mj(t){return er(t._redirectPersistence)}function pj(t){return Oh(uj,t.config.apiKey,t.name)}async function gj(t,e,n=!1){if(Ti(t.app))return Promise.reject(nr(t));const s=fo(t),a=rj(s,e),c=await new dj(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=600*1e3;class bj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!oS(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(vs(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yj&&this.cachedEventUids.clear(),this.cachedEventUids.has(bw(e))}saveEventToCache(e){this.cachedEventUids.add(bw(e)),this.lastProcessedEventTime=Date.now()}}function bw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e={}){return ha(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wj=/^https?/;async function Ej(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xj(t);for(const n of e)try{if(Tj(n))return}catch{}$i(t,"unauthorized-domain")}function Tj(t){const e=Lg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!wj.test(n))return!1;if(_j.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Pu(3e4,6e4);function vw(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Aj(t){return new Promise((e,n)=>{var a,l,c;function s(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(vs(t,"network-request-failed"))},timeout:Sj.get()})}if((l=(a=xs().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=xs().gapi)!=null&&c.load)s();else{const h=yM("iframefcb");return xs()[h]=()=>{gapi.load?s():n(vs(t,"network-request-failed"))},G1(`${gM()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw zh=null,e})}let zh=null;function kj(t){return zh=zh||Aj(t),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new Pu(5e3,15e3),Cj="__/auth/iframe",Nj="emulator/auth/iframe",Ij={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mj(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?U0(e,Nj):`https://${t.config.authDomain}/${Cj}`,s={apiKey:e.apiKey,appName:t.name,v:Ml},a=Dj.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Vu(s).slice(1)}`}async function jj(t){const e=await kj(t),n=xs().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:Mj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ij,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=vs(t,"network-request-failed"),h=xs().setTimeout(()=>{l(c)},Rj.get());function f(){xs().clearTimeout(h),a(s)}s.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pj=500,Oj=600,Lj="_blank",zj="http://localhost";class xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uj(t,e,n,s=Pj,a=Oj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f={...Vj,width:s.toString(),height:a.toString(),top:l,left:c},p=Mn().toLowerCase();n&&(h=L1(p)?Lj:n),P1(p)&&(e=e||zj,f.scrollbars="yes");const b=Object.entries(f).reduce((w,[A,N])=>`${w}${A}=${N},`,"");if(oM(p)&&h!=="_self")return Bj(e||"",h),new xw(null);const v=window.open(e||"",h,b);Re(v,t,"popup-blocked");try{v.focus()}catch{}return new xw(v)}function Bj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="__/auth/handler",qj="emulator/auth/handler",Hj=encodeURIComponent("fac");async function _w(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ml,eventId:a};if(e instanceof X1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",kI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,v]of Object.entries({}))c[b]=v}if(e instanceof Lu){const b=e.getScopes().filter(v=>v!=="");b.length>0&&(c.scopes=b.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const b of Object.keys(h))h[b]===void 0&&delete h[b];const f=await t._getAppCheckToken(),p=f?`#${Hj}=${encodeURIComponent(f)}`:"";return`${Gj(t)}?${Vu(h).slice(1)}${p}`}function Gj({config:t}){return t.emulator?U0(t,qj):`https://${t.authDomain}/${Fj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class Kj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tS,this._completeRedirectFn=gj,this._overrideRedirectResult=fj}async _openPopup(e,n,s,a){var c;ar((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await _w(e,n,s,Lg(),a);return Uj(e,l,G0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await _w(e,n,s,Lg(),a);return YM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ar(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jj(e),s=new bj(e);return n.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[og];l!==void 0&&n(!!l),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ej(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return q1()||O1()||F0()}}const $j=Kj;var ww="@firebase/auth",Ew="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qj(t){_l(new so("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(t)},p=new fM(s,a,l,f);return EM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_l(new so("auth-internal",e=>{const n=fo(e.getProvider("auth").getImmediate());return(s=>new Xj(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(ww,Ew,Yj(t)),ea(ww,Ew,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=300,Wj=v1("authIdTokenMaxAge")||Zj;let Tw=null;const Jj=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Wj)return;const a=n==null?void 0:n.token;Tw!==a&&(Tw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function eV(t=S1()){const e=L0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wM(t,{popupRedirectResolver:$j,persistence:[sj,KM,tS]}),s=v1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Jj(l.toString());BM(n,c,()=>c(n.currentUser)),UM(n,h=>c(h))}}const a=y1("auth");return a&&TM(n,`http://${a}`),n}function tV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}mM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=vs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",tV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qj("Browser");var Sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,lS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function C(){}C.prototype=T.prototype,R.F=T.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,P,U){for(var D=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)D[Xe-2]=arguments[Xe];return T.prototype[P].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,T,C){C||(C=0);const V=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)V[P]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(P=0;P<16;++P)V[P]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=R.g[0],C=R.g[1],P=R.g[2];let U=R.g[3],D;D=T+(U^C&(P^U))+V[0]+3614090360&4294967295,T=C+(D<<7&4294967295|D>>>25),D=U+(P^T&(C^P))+V[1]+3905402710&4294967295,U=T+(D<<12&4294967295|D>>>20),D=P+(C^U&(T^C))+V[2]+606105819&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(T^P&(U^T))+V[3]+3250441966&4294967295,C=P+(D<<22&4294967295|D>>>10),D=T+(U^C&(P^U))+V[4]+4118548399&4294967295,T=C+(D<<7&4294967295|D>>>25),D=U+(P^T&(C^P))+V[5]+1200080426&4294967295,U=T+(D<<12&4294967295|D>>>20),D=P+(C^U&(T^C))+V[6]+2821735955&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(T^P&(U^T))+V[7]+4249261313&4294967295,C=P+(D<<22&4294967295|D>>>10),D=T+(U^C&(P^U))+V[8]+1770035416&4294967295,T=C+(D<<7&4294967295|D>>>25),D=U+(P^T&(C^P))+V[9]+2336552879&4294967295,U=T+(D<<12&4294967295|D>>>20),D=P+(C^U&(T^C))+V[10]+4294925233&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(T^P&(U^T))+V[11]+2304563134&4294967295,C=P+(D<<22&4294967295|D>>>10),D=T+(U^C&(P^U))+V[12]+1804603682&4294967295,T=C+(D<<7&4294967295|D>>>25),D=U+(P^T&(C^P))+V[13]+4254626195&4294967295,U=T+(D<<12&4294967295|D>>>20),D=P+(C^U&(T^C))+V[14]+2792965006&4294967295,P=U+(D<<17&4294967295|D>>>15),D=C+(T^P&(U^T))+V[15]+1236535329&4294967295,C=P+(D<<22&4294967295|D>>>10),D=T+(P^U&(C^P))+V[1]+4129170786&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(T^C))+V[6]+3225465664&4294967295,U=T+(D<<9&4294967295|D>>>23),D=P+(T^C&(U^T))+V[11]+643717713&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(P^U))+V[0]+3921069994&4294967295,C=P+(D<<20&4294967295|D>>>12),D=T+(P^U&(C^P))+V[5]+3593408605&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(T^C))+V[10]+38016083&4294967295,U=T+(D<<9&4294967295|D>>>23),D=P+(T^C&(U^T))+V[15]+3634488961&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(P^U))+V[4]+3889429448&4294967295,C=P+(D<<20&4294967295|D>>>12),D=T+(P^U&(C^P))+V[9]+568446438&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(T^C))+V[14]+3275163606&4294967295,U=T+(D<<9&4294967295|D>>>23),D=P+(T^C&(U^T))+V[3]+4107603335&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(P^U))+V[8]+1163531501&4294967295,C=P+(D<<20&4294967295|D>>>12),D=T+(P^U&(C^P))+V[13]+2850285829&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^P&(T^C))+V[2]+4243563512&4294967295,U=T+(D<<9&4294967295|D>>>23),D=P+(T^C&(U^T))+V[7]+1735328473&4294967295,P=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(P^U))+V[12]+2368359562&4294967295,C=P+(D<<20&4294967295|D>>>12),D=T+(C^P^U)+V[5]+4294588738&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^P)+V[8]+2272392833&4294967295,U=T+(D<<11&4294967295|D>>>21),D=P+(U^T^C)+V[11]+1839030562&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^T)+V[14]+4259657740&4294967295,C=P+(D<<23&4294967295|D>>>9),D=T+(C^P^U)+V[1]+2763975236&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^P)+V[4]+1272893353&4294967295,U=T+(D<<11&4294967295|D>>>21),D=P+(U^T^C)+V[7]+4139469664&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^T)+V[10]+3200236656&4294967295,C=P+(D<<23&4294967295|D>>>9),D=T+(C^P^U)+V[13]+681279174&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^P)+V[0]+3936430074&4294967295,U=T+(D<<11&4294967295|D>>>21),D=P+(U^T^C)+V[3]+3572445317&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^T)+V[6]+76029189&4294967295,C=P+(D<<23&4294967295|D>>>9),D=T+(C^P^U)+V[9]+3654602809&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^P)+V[12]+3873151461&4294967295,U=T+(D<<11&4294967295|D>>>21),D=P+(U^T^C)+V[15]+530742520&4294967295,P=U+(D<<16&4294967295|D>>>16),D=C+(P^U^T)+V[2]+3299628645&4294967295,C=P+(D<<23&4294967295|D>>>9),D=T+(P^(C|~U))+V[0]+4096336452&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~P))+V[7]+1126891415&4294967295,U=T+(D<<10&4294967295|D>>>22),D=P+(T^(U|~C))+V[14]+2878612391&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~T))+V[5]+4237533241&4294967295,C=P+(D<<21&4294967295|D>>>11),D=T+(P^(C|~U))+V[12]+1700485571&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~P))+V[3]+2399980690&4294967295,U=T+(D<<10&4294967295|D>>>22),D=P+(T^(U|~C))+V[10]+4293915773&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~T))+V[1]+2240044497&4294967295,C=P+(D<<21&4294967295|D>>>11),D=T+(P^(C|~U))+V[8]+1873313359&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~P))+V[15]+4264355552&4294967295,U=T+(D<<10&4294967295|D>>>22),D=P+(T^(U|~C))+V[6]+2734768916&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~T))+V[13]+1309151649&4294967295,C=P+(D<<21&4294967295|D>>>11),D=T+(P^(C|~U))+V[4]+4149444226&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~P))+V[11]+3174756917&4294967295,U=T+(D<<10&4294967295|D>>>22),D=P+(T^(U|~C))+V[2]+718787259&4294967295,P=U+(D<<15&4294967295|D>>>17),D=C+(U^(P|~T))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,T){T===void 0&&(T=R.length);const C=T-this.blockSize,V=this.C;let P=this.h,U=0;for(;U<T;){if(P==0)for(;U<=C;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<T;)if(V[P++]=R.charCodeAt(U++),P==this.blockSize){a(this,V),P=0;break}}else for(;U<T;)if(V[P++]=R[U++],P==this.blockSize){a(this,V),P=0;break}}this.h=P,this.o+=T},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;T=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=T&255,T/=256;for(this.v(R),R=Array(16),T=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[T++]=this.g[C]>>>V&255;return R};function l(R,T){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=T(R)}function c(R,T){this.h=T;const C=[];let V=!0;for(let P=R.length-1;P>=0;P--){const U=R[P]|0;V&&U==T||(C[P]=U,V=!1)}this.g=C}var h={};function f(R){return-128<=R&&R<128?l(R,function(T){return new c([T|0],T<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return M(p(-R));const T=[];let C=1;for(let V=0;R>=C;V++)T[V]=R/C|0,C*=4294967296;return new c(T,0)}function b(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return M(b(R.substring(1),T));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(T,8));let V=v;for(let U=0;U<R.length;U+=8){var P=Math.min(8,R.length-U);const D=parseInt(R.substring(U,U+P),T);P<8?(P=p(Math.pow(T,P)),V=V.j(P).add(p(D))):(V=V.j(C),V=V.add(p(D)))}return V}var v=f(0),w=f(1),A=f(16777216);t=c.prototype,t.m=function(){if(O(this))return-M(this).m();let R=0,T=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*T,T*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(O(this))return"-"+M(this).toString(R);const T=p(Math.pow(R,6));var C=this;let V="";for(;;){const P=ae(C,T).g;C=B(C,P.j(T));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=P,N(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function O(R){return R.h==-1}t.l=function(R){return R=B(this,R),O(R)?-1:N(R)?0:1};function M(R){const T=R.g.length,C=[];for(let V=0;V<T;V++)C[V]=~R.g[V];return new c(C,~R.h).add(w)}t.abs=function(){return O(this)?M(this):this},t.add=function(R){const T=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let P=0;P<=T;P++){let U=V+(this.i(P)&65535)+(R.i(P)&65535),D=(U>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);V=D>>>16,U&=65535,D&=65535,C[P]=D<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function B(R,T){return R.add(M(T))}t.j=function(R){if(N(this)||N(R))return v;if(O(this))return O(R)?M(this).j(M(R)):M(M(this).j(R));if(O(R))return M(this.j(M(R)));if(this.l(A)<0&&R.l(A)<0)return p(this.m()*R.m());const T=this.g.length+R.g.length,C=[];for(var V=0;V<2*T;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let P=0;P<R.g.length;P++){const U=this.i(V)>>>16,D=this.i(V)&65535,Xe=R.i(P)>>>16,je=R.i(P)&65535;C[2*V+2*P]+=D*je,X(C,2*V+2*P),C[2*V+2*P+1]+=U*je,X(C,2*V+2*P+1),C[2*V+2*P+1]+=D*Xe,X(C,2*V+2*P+1),C[2*V+2*P+2]+=U*Xe,X(C,2*V+2*P+2)}for(R=0;R<T;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=T;R<2*T;R++)C[R]=0;return new c(C,0)};function X(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function q(R,T){this.g=R,this.h=T}function ae(R,T){if(N(T))throw Error("division by zero");if(N(R))return new q(v,v);if(O(R))return T=ae(M(R),T),new q(M(T.g),M(T.h));if(O(T))return T=ae(R,M(T)),new q(M(T.g),T.h);if(R.g.length>30){if(O(R)||O(T))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=T;V.l(R)<=0;)C=oe(C),V=oe(V);var P=ue(C,1),U=ue(V,1);for(V=ue(V,2),C=ue(C,2);!N(V);){var D=U.add(V);D.l(R)<=0&&(P=P.add(C),U=D),V=ue(V,1),C=ue(C,1)}return T=B(R,P.j(T)),new q(P,T)}for(P=v;R.l(T)>=0;){for(C=Math.max(1,Math.floor(R.m()/T.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=p(C),D=U.j(T);O(D)||D.l(R)>0;)C-=V,U=p(C),D=U.j(T);N(U)&&(U=w),P=P.add(U),R=B(R,D)}return new q(P,R)}t.B=function(R){return ae(this,R).h},t.and=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<T;V++)C[V]=this.i(V)&R.i(V);return new c(C,this.h&R.h)},t.or=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<T;V++)C[V]=this.i(V)|R.i(V);return new c(C,this.h|R.h)},t.xor=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<T;V++)C[V]=this.i(V)^R.i(V);return new c(C,this.h^R.h)};function oe(R){const T=R.g.length+1,C=[];for(let V=0;V<T;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new c(C,R.h)}function ue(R,T){const C=T>>5;T%=32;const V=R.g.length-C,P=[];for(let U=0;U<V;U++)P[U]=T>0?R.i(U+C)>>>T|R.i(U+C+1)<<32-T:R.i(U+C);return new c(P,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=b,ta=c}).apply(typeof Sw<"u"?Sw:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cS,eu,uS,Uh,Fg,dS,hS,fS;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var x=0;x<d.length;++x){var E=d[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(d,x){if(x)e:{var E=s;d=d.split(".");for(var k=0;k<d.length-1;k++){var H=d[k];if(!(H in E))break e;E=E[H]}d=d[d.length-1],k=E[d],x=x(k),x!=k&&x!=null&&e(E,d,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(x){var E=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&E.push([k,x[k]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function f(d,x,E){return d.call.apply(d.bind,arguments)}function p(d,x,E){return p=f,p.apply(null,arguments)}function b(d,x){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function v(d,x){function E(){}E.prototype=x.prototype,d.Z=x.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(k,H,Q){for(var he=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)he[Fe-2]=arguments[Fe];return x.prototype[H].apply(k,he)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function A(d){const x=d.length;if(x>0){const E=Array(x);for(let k=0;k<x;k++)E[k]=d[k];return E}return[]}function N(d,x){for(let k=1;k<arguments.length;k++){const H=arguments[k];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=d.length||0;const Q=H.length||0;d.length=E+Q;for(let he=0;he<Q;he++)d[E+he]=H[he]}else d.push(H)}}class O{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function M(d){c.setTimeout(()=>{throw d},0)}function B(){var d=R;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class X{constructor(){this.h=this.g=null}add(x,E){const k=q.get();k.set(x,E),this.h?this.h.next=k:this.g=k,this.h=k}}var q=new O(()=>new ae,d=>d.reset());class ae{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,R=new X,T=()=>{const d=Promise.resolve(void 0);oe=()=>{d.then(C)}};function C(){for(var d;d=B();){try{d.h.call(d.g)}catch(E){M(E)}var x=q;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}ue=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,x),c.removeEventListener("test",E,x)}catch{}return d})();function D(d){return/^[\s\xa0]*$/.test(d)}function Xe(d,x){P.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}v(Xe,P),Xe.prototype.init=function(d,x){const E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(E=="mouseover"?x=d.fromElement:E=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(d,x,E,k,H){this.listener=d,this.proxy=null,this.src=x,this.type=E,this.capture=!!k,this.ha=H,this.key=++Y,this.da=this.fa=!1}function J(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ae(d,x,E){for(const k in d)x.call(E,d[k],k,d)}function Ve(d,x){for(const E in d)x.call(void 0,d[E],E,d)}function L(d){const x={};for(const E in d)x[E]=d[E];return x}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(d,x){let E,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(E in k)d[E]=k[E];for(let Q=0;Q<ee.length;Q++)E=ee[Q],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,x,E,k,H){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const he=Ne(d,x,k,H);return he>-1?(x=d[he],E||(x.fa=!1)):(x=new re(x,this.src,Q,!!k,H),x.fa=E,d.push(x)),x};function fe(d,x){const E=x.type;if(E in d.g){var k=d.g[E],H=Array.prototype.indexOf.call(k,x,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(k,H,1),Q&&(J(x),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ne(d,x,E,k){for(let H=0;H<d.length;++H){const Q=d[H];if(!Q.da&&Q.listener==x&&Q.capture==!!E&&Q.ha==k)return H}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Tt={};function nt(d,x,E,k,H){if(Array.isArray(x)){for(let Q=0;Q<x.length;Q++)nt(d,x[Q],E,k,H);return null}return E=ba(E),d&&d[je]?d.J(x,E,h(k)?!!k.capture:!1,H):jn(d,x,E,!1,k,H)}function jn(d,x,E,k,H,Q){if(!x)throw Error("Invalid event type");const he=h(H)?!!H.capture:!!H;let Fe=Ns(d);if(Fe||(d[we]=Fe=new de(d)),E=Fe.add(x,E,k,he,Q),E.proxy)return E;if(k=Vn(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)U||(H=he),H===void 0&&(H=!1),d.addEventListener(x.toString(),k,H);else if(d.attachEvent)d.attachEvent(Bn(x.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Vn(){function d(E){return x.call(d.src,d.listener,E)}const x=ya;return d}function Pn(d,x,E,k,H){if(Array.isArray(x))for(var Q=0;Q<x.length;Q++)Pn(d,x[Q],E,k,H);else k=h(k)?!!k.capture:!!k,E=ba(E),d&&d[je]?(d=d.i,Q=String(x).toString(),Q in d.g&&(x=d.g[Q],E=Ne(x,E,k,H),E>-1&&(J(x[E]),Array.prototype.splice.call(x,E,1),x.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Ns(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Ne(x,E,k,H)),(E=d>-1?x[d]:null)&&Ci(E))}function Ci(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[je])fe(x.i,d);else{var E=d.type,k=d.proxy;x.removeEventListener?x.removeEventListener(E,k,d.capture):x.detachEvent?x.detachEvent(Bn(E),k):x.addListener&&x.removeListener&&x.removeListener(k),(E=Ns(x))?(fe(E,d),E.h==0&&(E.src=null,x[we]=null)):J(d)}}}function Bn(d){return d in Tt?Tt[d]:Tt[d]="on"+d}function ya(d,x){if(d.da)d=!0;else{x=new Xe(x,this);const E=d.listener,k=d.ha||d.src;d.fa&&Ci(d),d=E.call(k,x)}return d}function Ns(d){return d=d[we],d instanceof de?d:null}var Is="__closure_events_fn_"+(Math.random()*1e9>>>0);function ba(d){return typeof d=="function"?d:(d[Is]||(d[Is]=function(x){return d.handleEvent(x)}),d[Is])}function Ot(){V.call(this),this.i=new de(this),this.M=this,this.G=null}v(Ot,V),Ot.prototype[je]=!0,Ot.prototype.removeEventListener=function(d,x,E,k){Pn(this,d,x,E,k)};function Dt(d,x){var E,k=d.G;if(k)for(E=[];k;k=k.G)E.push(k);if(d=d.M,k=x.type||x,typeof x=="string")x=new P(x,d);else if(x instanceof P)x.target=x.target||d;else{var H=x;x=new P(k,d),le(x,H)}H=!0;let Q,he;if(E)for(he=E.length-1;he>=0;he--)Q=x.g=E[he],H=ui(Q,k,!0,x)&&H;if(Q=x.g=d,H=ui(Q,k,!0,x)&&H,H=ui(Q,k,!1,x)&&H,E)for(he=0;he<E.length;he++)Q=x.g=E[he],H=ui(Q,k,!1,x)&&H}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const E=d.g[x];for(let k=0;k<E.length;k++)J(E[k]);delete d.g[x],d.h--}}this.G=null},Ot.prototype.J=function(d,x,E,k){return this.i.add(String(d),x,!1,E,k)},Ot.prototype.K=function(d,x,E,k){return this.i.add(String(d),x,!0,E,k)};function ui(d,x,E,k){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let H=!0;for(let Q=0;Q<x.length;++Q){const he=x[Q];if(he&&!he.da&&he.capture==E){const Fe=he.listener,Ft=he.ha||he.src;he.fa&&fe(d.i,he),H=Fe.call(Ft,k)!==!1&&H}}return H&&!k.defaultPrevented}function go(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(d,x||0)}function ce(d){d.g=go(()=>{d.g=null,d.i&&(d.i=!1,ce(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class pe extends V{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(d){V.call(this),this.h=d,this.g={}}v(Ie,V);var ze=[];function Ue(d){Ae(d.g,function(x,E){this.g.hasOwnProperty(E)&&Ci(x)},d),d.g={}}Ie.prototype.N=function(){Ie.Z.N.call(this),Ue(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=c.JSON.stringify,ot=c.JSON.parse,St=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gn(){}function At(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Se(){P.call(this,"d")}v(Se,P);function Be(){P.call(this,"c")}v(Be,P);var xe={},bt=null;function Mt(){return bt=bt||new Ot}xe.Ia="serverreachability";function rn(d){P.call(this,xe.Ia,d)}v(rn,P);function jt(d){const x=Mt();Dt(x,new rn(x))}xe.STAT_EVENT="statevent";function yn(d,x){P.call(this,xe.STAT_EVENT,d),this.stat=x}v(yn,P);function Lt(d){const x=Mt();Dt(x,new yn(x,d))}xe.Ja="timingevent";function Zi(d,x){P.call(this,xe.Ja,d),this.size=x}v(Zi,P);function Wi(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},x)}function Ni(){this.g=!0}Ni.prototype.ua=function(){this.g=!1};function Zf(d,x,E,k,H,Q){d.info(function(){if(d.g)if(Q){var he="",Fe=Q.split("&");for(let rt=0;rt<Fe.length;rt++){var Ft=Fe[rt].split("=");if(Ft.length>1){const kt=Ft[0];Ft=Ft[1];const mi=kt.split("_");he=mi.length>=2&&mi[1]=="type"?he+(kt+"="+Ft+"&"):he+(kt+"=redacted&")}}}else he=null;else he=Q;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+x+`
`+E+`
`+he})}function Qu(d,x,E,k,H,Q,he){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+x+`
`+E+`
`+Q+" "+he})}function Ji(d,x,E,k){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Wf(d,E)+(k?" "+k:"")})}function va(d,x){d.info(function(){return"TIMEOUT: "+x})}Ni.prototype.info=function(){};function Wf(d,x){if(!d.g)return x;if(!x)return null;try{const Q=JSON.parse(x);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var E=Q[d];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(let he=1;he<k.length;he++)k[he]=""}}}}return De(Q)}catch{return x}}var xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xl;function _a(){}v(_a,gn),_a.prototype.g=function(){return new XMLHttpRequest},Xl=new _a;function Ds(d){return encodeURIComponent(String(d))}function Zu(d){var x=1;d=d.split(":");const E=[];for(;x>0&&d.length;)E.push(d.shift()),x--;return d.length&&E.push(d.join(":")),E}function Ii(d,x,E,k){this.j=d,this.i=x,this.l=E,this.S=k||1,this.V=new Ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var $t={},dn={};function es(d,x,E){d.M=1,d.A=wa(Yt(x)),d.u=E,d.R=!0,yo(d,null)}function yo(d,x){d.F=Date.now(),ts(d),d.B=Yt(d.A);var E=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),_o(E.i,"t",k),d.C=0,E=d.j.L,d.h=new Di,d.g=hd(d.j,E?x:null,!d.u),d.P>0&&(d.O=new pe(p(d.Y,d,d.g),d.P)),x=d.V,E=d.g,k=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(ze[0]=H.toString()),H=ze);for(let Q=0;Q<H.length;Q++){const he=nt(E,H[Q],k||x.handleEvent,!1,x.h||x);if(!he)break;x.g[he.key]=he}x=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),jt(),Zf(d.i,d.v,d.B,d.l,d.S,d.u)}Ii.prototype.ba=function(d){d=d.target;const x=this.O;x&&Vi(d)==3?x.j():this.Y(d)},Ii.prototype.Y=function(d){try{if(d==this.g)e:{const Fe=Vi(this.g),Ft=this.g.ya(),rt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||Fe!=4||Ft==7||(Ft==8||rt<=0?jt(3):jt(2)),ns(this);var x=this.g.ca();this.X=x;var E=Jf(this);if(this.o=x==200,Qu(this.i,this.v,this.B,this.l,this.S,Fe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,H=this.g;if((k=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(k)){var Q=k;break t}}Q=null}if(d=Q)Ji(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,is(this,d);else{this.o=!1,this.m=3,Lt(12),Jn(this),di(this);break e}}if(this.R){d=!0;let kt;for(;!this.K&&this.C<E.length;)if(kt=Ju(this,E),kt==dn){Fe==4&&(this.m=4,Lt(14),d=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==$t){this.m=4,Lt(15),Ji(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Ji(this.i,this.l,kt,null),is(this,kt);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||E.length!=0||this.h.h||(this.m=1,Lt(16),d=!1),this.o=this.o&&d,!d)Ji(this.i,this.l,E,"[Invalid Chunked Response]"),Jn(this),di(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),cc(he),he.P=!0,Lt(11))}}else Ji(this.i,this.l,E,null),is(this,E);Fe==4&&Jn(this),this.o&&!this.K&&(Fe==4?ld(this.j,this):(this.o=!1,ts(this)))}else js(this.g),x==400&&E.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Jn(this),di(this)}}}catch{}finally{}};function Jf(d){if(!Wu(d))return d.g.la();const x=bn(d.g);if(x==="")return"";let E="";const k=x.length,H=Vi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Jn(d),di(d),"";d.h.i=new c.TextDecoder}for(let Q=0;Q<k;Q++)d.h.h=!0,E+=d.h.i.decode(x[Q],{stream:!(H&&Q==k-1)});return x.length=0,d.h.g+=E,d.C=0,d.h.g}function Wu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ju(d,x){var E=d.C,k=x.indexOf(`
`,E);return k==-1?dn:(E=Number(x.substring(E,k)),isNaN(E)?$t:(k+=1,k+E>x.length?dn:(x=x.slice(k,k+E),d.C=k+E,x)))}Ii.prototype.cancel=function(){this.K=!0,Jn(this)};function ts(d){d.T=Date.now()+d.H,bo(d,d.H)}function bo(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Wi(p(d.aa,d),x)}function ns(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Ii.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(va(this.i,this.B),this.M!=2&&(jt(),Lt(17)),Jn(this),this.m=2,di(this)):bo(this,this.T-d)};function di(d){d.j.I==0||d.K||ld(d.j,d)}function Jn(d){ns(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Ue(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function is(d,x){try{var E=d.j;if(E.I!=0&&(E.g==d||rs(E.h,d))){if(!d.L&&rs(E.h,d)&&E.I==3){try{var k=E.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)Ao(E),vr(E);else break e;Ca(E),Lt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Wi(p(E.Va,E),6e3));ss(E.h)<=1&&E.ta&&(E.ta=void 0)}else ds(E,11)}else if((d.L||E.g==d)&&Ao(E),!D(x))for(H=E.Ba.g.parse(x),x=0;x<H.length;x++){let rt=H[x];const kt=rt[0];if(!(kt<=E.K))if(E.K=kt,rt=rt[1],E.I==2)if(rt[0]=="c"){E.M=rt[1],E.ba=rt[2];const mi=rt[3];mi!=null&&(E.ka=mi,E.j.info("VER="+E.ka));const hs=rt[4];hs!=null&&(E.za=hs,E.j.info("SVER="+E.za));const Pi=rt[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(k=1.5*Pi,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Oi=d.g;if(Oi){const Na=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var Q=k.h;Q.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Zl(Q,Q.h),Q.h=null))}if(k.G){const ko=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(k.wa=ko,ct(k.J,k.G,ko))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var he=d;if(k.na=dd(k,k.L?k.ba:null,k.W),he.L){Wl(k.h,he);var Fe=he,Ft=k.O;Ft&&(Fe.H=Ft),Fe.D&&(ns(Fe),ts(Fe)),k.g=he}else ad(k);E.i.length>0&&us(E)}else rt[0]!="stop"&&rt[0]!="close"||ds(E,7);else E.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ds(E,7):oc(E):rt[0]!="noop"&&E.l&&E.l.qa(rt),E.A=0)}}jt(4)}catch{}}var Xt=class{constructor(d,x){this.g=d,this.map=x}};function Yl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ql(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ss(d){return d.h?1:d.g?d.g.size:0}function rs(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Zl(d,x){d.g?d.g.add(x):d.h=x}function Wl(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Yl.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Jl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const E of d.g.values())x=x.concat(E.G);return x}return A(d.i)}var ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(d,x){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const k=d[E].indexOf("=");let H,Q=null;k>=0?(H=d[E].substring(0,k),Q=d[E].substring(k+1)):H=d[E],x(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ei(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof ei?(this.l=d.l,hn(this,d.j),this.o=d.o,this.g=d.g,hr(this,d.u),this.h=d.h,ec(this,sd(d.i)),this.m=d.m):d&&(x=String(d).match(ed))?(this.l=!1,hn(this,x[1]||"",!0),this.o=as(x[2]||""),this.g=as(x[3]||"",!0),hr(this,x[4]),this.h=as(x[5]||"",!0),ec(this,x[6]||"",!0),this.m=as(x[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}ei.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(Ea(x,xo,!0),":");var E=this.g;return(E||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Ea(x,xo,!0),"@"),d.push(Ds(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ea(E,E.charAt(0)=="/"?tc:td,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ea(E,nd)),d.join("")},ei.prototype.resolve=function(d){const x=Yt(this);let E=!!d.j;E?hn(x,d.j):E=!!d.o,E?x.o=d.o:E=!!d.g,E?x.g=d.g:E=d.u!=null;var k=d.h;if(E)hr(x,d.u);else if(E=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var H=x.h.lastIndexOf("/");H!=-1&&(k=x.h.slice(0,H+1)+k)}if(H=k,H==".."||H==".")k="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){k=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let he=0;he<H.length;){const Fe=H[he++];Fe=="."?k&&he==H.length&&Q.push(""):Fe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),k&&he==H.length&&Q.push("")):(Q.push(Fe),k=!0)}k=Q.join("/")}else k=H}return E?x.h=k:E=d.i.toString()!=="",E?ec(x,sd(d.i)):E=!!d.m,E&&(x.m=d.m),x};function Yt(d){return new ei(d)}function hn(d,x,E){d.j=E?as(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function hr(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function ec(d,x,E){x instanceof mr?(d.i=x,wo(d.i,d.l)):(E||(x=Ea(x,fr)),d.i=new mr(x,d.l))}function ct(d,x,E){d.i.set(x,E)}function wa(d){return ct(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function as(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ea(d,x,E){return typeof d=="string"?(d=encodeURI(d).replace(x,Fn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Fn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var xo=/[#\/\?@]/g,td=/[#\?:]/g,tc=/[#\?]/g,fr=/[#\?@]/g,nd=/#/g;function mr(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function qn(d){d.g||(d.g=new Map,d.h=0,d.i&&vo(d.i,function(x,E){d.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}t=mr.prototype,t.add=function(d,x){qn(this),this.i=null,d=pr(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(x),this.h+=1,this};function id(d,x){qn(d),x=pr(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function nc(d,x){return qn(d),x=pr(d,x),d.g.has(x)}t.forEach=function(d,x){qn(this),this.g.forEach(function(E,k){E.forEach(function(H){d.call(x,H,k,this)},this)},this)};function ic(d,x){qn(d);let E=[];if(typeof x=="string")nc(d,x)&&(E=E.concat(d.g.get(pr(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)E=E.concat(d[x]);return E}t.set=function(d,x){return qn(this),this.i=null,d=pr(this,d),nc(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=ic(this,d),d.length>0?String(d[0]):x):x};function _o(d,x,E){id(d,x),E.length>0&&(d.i=null,d.g.set(pr(d,x),A(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var E=x[k];const H=Ds(E);E=ic(this,E);for(let Q=0;Q<E.length;Q++){let he=H;E[Q]!==""&&(he+="="+Ds(E[Q])),d.push(he)}}return this.i=d.join("&")};function sd(d){const x=new mr;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function pr(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function wo(d,x){x&&!d.j&&(qn(d),d.i=null,d.g.forEach(function(E,k){const H=k.toLowerCase();k!=H&&(id(this,k),_o(this,H,E))},d)),d.j=x}function Mi(d,x){const E=new Ni;if(c.Image){const k=new Image;k.onload=b(hi,E,"TestLoadImage: loaded",!0,x,k),k.onerror=b(hi,E,"TestLoadImage: error",!1,x,k),k.onabort=b(hi,E,"TestLoadImage: abort",!1,x,k),k.ontimeout=b(hi,E,"TestLoadImage: timeout",!1,x,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else x(!1)}function sc(d,x){const E=new Ni,k=new AbortController,H=setTimeout(()=>{k.abort(),hi(E,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:k.signal}).then(Q=>{clearTimeout(H),Q.ok?hi(E,"TestPingServer: ok",!0,x):hi(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(H),hi(E,"TestPingServer: error",!1,x)})}function hi(d,x,E,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(E)}catch{}}function gr(){this.g=new St}function os(d){this.i=d.Sb||null,this.h=d.ab||!1}v(os,gn),os.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(d,x){Ot.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ta,Ot),t=Ta.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,ji(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?yr(this):ji(this),this.readyState==3&&Eo(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,yr(this))},t.Na=function(d){this.g&&(this.response=d,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ji(d)}t.setRequestHeader=function(d,x){this.A.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=x.next();return d.join(`\r
`)};function ji(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function fi(d){let x="";return Ae(d,function(E,k){x+=k,x+=":",x+=E,x+=`\r
`}),x}function Sa(d,x,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=fi(E),typeof d=="string"?E!=null&&Ds(E):ct(d,x,E))}function ht(d){Ot.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ht,Ot);var ls=/^https?$/i,rc=["POST","PUT"];t=ht.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,x,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(Q){Aa(this,Q);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)E.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())E.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(rc,x,void 0)>=0)||k||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of E)this.g.setRequestHeader(Q,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Aa(this,Q)}};function Aa(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,ac(d),Ms(d)}function ac(d){d.A||(d.A=!0,Dt(d,"complete"),Dt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Dt(this,"complete"),Dt(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ka(this):this.Xa())},t.Xa=function(){ka(this)};function ka(d){if(d.h&&typeof l<"u"){if(d.v&&Vi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Dt(d,"readystatechange"),Vi(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var k;if(k=Q===0){let he=String(d.D).match(ed)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),k=!ls.test(he?he.toLowerCase():"")}E=k}if(E)Dt(d,"complete"),Dt(d,"success");else{d.o=6;try{var H=Vi(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",ac(d)}}finally{Ms(d)}}}}function Ms(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,x||Dt(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vi(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),ot(x)}};function bn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function js(d){const x={};d=(d.g&&Vi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(D(d[k]))continue;var E=Zu(d[k]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=x[H]||[];x[H]=Q,Q.push(E)}Ve(x,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(d,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||x}function br(d){this.za=0,this.i=[],this.j=new Ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cs("baseRetryDelayMs",5e3,d),this.Za=cs("retryDelaySeedMs",1e4,d),this.Ta=cs("forwardChannelMaxRetries",2,d),this.va=cs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Yl(d&&d.concurrentRequestLimit),this.Ba=new gr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=br.prototype,t.ka=8,t.I=1,t.connect=function(d,x,E,k){Lt(0),this.W=d,this.H=x||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=dd(this,null,this.W),us(this)};function oc(d){if(To(d),d.I==3){var x=d.V++,E=Yt(d.J);if(ct(E,"SID",d.M),ct(E,"RID",x),ct(E,"TYPE","terminate"),Ra(d,E),x=new Ii(d,d.j,x),x.M=2,x.A=wa(Yt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=x.A,E=!0),E||(x.g=hd(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ts(x)}ud(d)}function vr(d){d.g&&(cc(d),d.g.cancel(),d.g=null)}function To(d){vr(d),d.v&&(c.clearTimeout(d.v),d.v=null),Ao(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function us(d){if(!Ql(d.h)&&!d.m){d.m=!0;var x=d.Ea;oe||T(),ue||(oe(),ue=!0),R.add(x,d),d.D=0}}function So(d,x){return ss(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Wi(p(d.Ea,d,x),cd(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new Ii(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=L(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=rd(this,H,x),E=Yt(this.J),ct(E,"RID",d),ct(E,"CVER",22),this.G&&ct(E,"X-HTTP-Session-Id",this.G),Ra(this,E),Q&&(this.R?x="headers="+Ds(fi(Q))+"&"+x:this.u&&Sa(E,this.u,Q)),Zl(this.h,H),this.Ra&&ct(E,"TYPE","init"),this.S?(ct(E,"$req",x),ct(E,"SID","null"),H.U=!0,es(H,E,null)):es(H,E,x),this.I=2}}else this.I==3&&(d?lc(this,d):this.i.length==0||Ql(this.h)||lc(this))};function lc(d,x){var E;x?E=x.l:E=d.V++;const k=Yt(d.J);ct(k,"SID",d.M),ct(k,"RID",E),ct(k,"AID",d.K),Ra(d,k),d.u&&d.o&&Sa(k,d.u,d.o),E=new Ii(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),x&&(d.i=x.G.concat(d.i)),x=rd(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Zl(d.h,E),es(E,k,x)}function Ra(d,x){d.H&&Ae(d.H,function(E,k){ct(x,k,E)}),d.l&&Ae({},function(E,k){ct(x,k,E)})}function rd(d,x,E){E=Math.min(d.i.length,E);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var H=d.i;let Fe=-1;for(;;){const Ft=["count="+E];Fe==-1?E>0?(Fe=H[0].g,Ft.push("ofs="+Fe)):Fe=0:Ft.push("ofs="+Fe);let rt=!0;for(let kt=0;kt<E;kt++){var Q=H[kt].g;const mi=H[kt].map;if(Q-=Fe,Q<0)Fe=Math.max(0,H[kt].g-100),rt=!1;else try{Q="req"+Q+"_"||"";try{var he=mi instanceof Map?mi:Object.entries(mi);for(const[hs,Pi]of he){let Oi=Pi;h(Pi)&&(Oi=De(Pi)),Ft.push(Q+hs+"="+encodeURIComponent(Oi))}}catch(hs){throw Ft.push(Q+"type="+encodeURIComponent("_badmap")),hs}}catch{k&&k(mi)}}if(rt){he=Ft.join("&");break e}}he=void 0}return d=d.i.splice(0,E),x.G=d,he}function ad(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;oe||T(),ue||(oe(),ue=!0),R.add(x,d),d.A=0}}function Ca(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Wi(p(d.Da,d),cd(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,od(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Wi(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),vr(this),od(this))};function cc(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function od(d){d.g=new Ii(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Yt(d.na);ct(x,"RID","rpc"),ct(x,"SID",d.M),ct(x,"AID",d.K),ct(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&ct(x,"TO",d.ia),ct(x,"TYPE","xmlhttp"),Ra(d,x),d.u&&d.o&&Sa(x,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=wa(Yt(x)),E.u=null,E.R=!0,yo(E,d)}t.Va=function(){this.C!=null&&(this.C=null,vr(this),Ca(this),Lt(19))};function Ao(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ld(d,x){var E=null;if(d.g==x){Ao(d),cc(d),d.g=null;var k=2}else if(rs(d.h,x))E=x.G,Wl(d.h,x),k=1;else return;if(d.I!=0){if(x.o)if(k==1){E=x.u?x.u.length:0,x=Date.now()-x.F;var H=d.D;k=Mt(),Dt(k,new Zi(k,E)),us(d)}else ad(d);else if(H=x.m,H==3||H==0&&x.X>0||!(k==1&&So(d,x)||k==2&&Ca(d)))switch(E&&E.length>0&&(x=d.h,x.i=x.i.concat(E)),H){case 1:ds(d,5);break;case 4:ds(d,10);break;case 3:ds(d,6);break;default:ds(d,2)}}}function cd(d,x){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*x}function ds(d,x){if(d.j.info("Error code "+x),x==2){var E=p(d.bb,d),k=d.Ua;const H=!k;k=new ei(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(k,"https"),wa(k),H?Mi(k.toString(),E):sc(k.toString(),E)}else Lt(2);d.I=0,d.l&&d.l.pa(x),ud(d),To(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function ud(d){if(d.I=0,d.ja=[],d.l){const x=Jl(d.h);(x.length!=0||d.i.length!=0)&&(N(d.ja,x),N(d.ja,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.oa()}}function dd(d,x,E){var k=E instanceof ei?Yt(E):new ei(E);if(k.g!="")x&&(k.g=x+"."+k.g),hr(k,k.u);else{var H=c.location;k=H.protocol,x=x?x+"."+H.hostname:H.hostname,H=+H.port;const Q=new ei(null);k&&hn(Q,k),x&&(Q.g=x),H&&hr(Q,H),E&&(Q.h=E),k=Q}return E=d.G,x=d.wa,E&&x&&ct(k,E,x),ct(k,"VER",d.ka),Ra(d,k),k}function hd(d,x,E){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new ht(new os({ab:E})):new ht(d.ma),x.Fa(d.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fd(){}t=fd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xr(){}xr.prototype.g=function(d,x){return new Ln(d,x)};function Ln(d,x){Ot.call(this),this.g=new br(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!D(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!D(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Vs(this)}v(Ln,Ot),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){oc(this.g)},Ln.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=De(d),d=E);x.i.push(new Xt(x.Ya++,d)),x.I==3&&us(x)},Ln.prototype.N=function(){this.g.l=null,delete this.j,oc(this.g),delete this.g,Ln.Z.N.call(this)};function md(d){Se.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const E in x){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}v(md,Se);function pd(){Be.call(this),this.status=1}v(pd,Be);function Vs(d){this.g=d}v(Vs,fd),Vs.prototype.ra=function(){Dt(this.g,"a")},Vs.prototype.qa=function(d){Dt(this.g,new md(d))},Vs.prototype.pa=function(d){Dt(this.g,new pd)},Vs.prototype.oa=function(){Dt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,fS=function(){return new xr},hS=function(){return Mt()},dS=xe,Fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Uh=xa,$l.COMPLETE="complete",uS=$l,At.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,eu=At,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,cS=ht}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const Aw="@firebase/firestore",kw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new P0("@firebase/firestore");function rl(){return oo.logLevel}function ge(t,...e){if(oo.logLevel<=Ze.DEBUG){const n=e.map($0);oo.debug(`Firestore (${Vl}): ${t}`,...n)}}function or(t,...e){if(oo.logLevel<=Ze.ERROR){const n=e.map($0);oo.error(`Firestore (${Vl}): ${t}`,...n)}}function wl(t,...e){if(oo.logLevel<=Ze.WARN){const n=e.map($0);oo.warn(`Firestore (${Vl}): ${t}`,...n)}}function $0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,mS(t,s,n)}function mS(t,e,n){let s=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw or(s),new Error(s)}function lt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||mS(e,a,s)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Cn.UNAUTHENTICATED)))}shutdown(){}}class iV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sV{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let l=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ir,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ir)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt(typeof s.accessToken=="string",31837,{l:s}),new pS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class rV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new rV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=lV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function We(t,e){return t<e?-1:t>e?1:0}function qg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return lg(a)===lg(l)?We(a,l):lg(a)?1:-1}return We(t.length,e.length)}const cV=55296,uV=57343;function lg(t){const e=t.charCodeAt(0);return e>=cV&&e<=uV}function El(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="__name__";class ys{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ys.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const s=ys.isNumericId(e),a=ys.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ys.extractNumericId(e).compare(ys.extractNumericId(n)):qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class vt extends ys{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const dV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ys{construct(e,n,s){return new Sn(e,n,s)}static isValidIdentifier(e){return dV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cw}static keyField(){return new Sn([Cw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(vt.fromString(e))}static fromName(e){return new Te(vt.fromString(e).popFirst(5))}static empty(){return new Te(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hV(t,e,n,s){if(e===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nw(t){if(!Te.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iw(t){if(Te.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function ks(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(t);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uu(t,e){if(!yS(t))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-62135596800,Mw=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Mw);return new Et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dw)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:sn("string",Et._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Et(0,0))}static max(){return new Pe(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function fV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(s===1e9?new Et(n+1,0):new Et(n,s));return new ia(a,Te.empty(),e)}function mV(t){return new ia(t.readTime,t.key,xu)}class ia{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ia(Pe.min(),Te.empty(),xu)}static max(){return new ia(Pe.max(),Te.empty(),xu)}}function pV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==gV)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(f=>s(f)))})),c=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((b=>{c[p]=b,++h,h===l&&s(c)}),(b=>a(b)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function bV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ol(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-1;function jf(t){return t==null}function of(t){return t===0&&1/t==-1/0}function vV(t){return typeof t=="number"&&Number.isInteger(t)&&!of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="";function xV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jw(e)),e=_V(t.get(n),e);return jw(e)}function _V(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case bS:n+="";break;default:n+=l}}return n}function jw(t){return t+bS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Tn.RED,this.left=a??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Tn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new ci([])}unionWith(e){let n=new un(Sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new xS("Invalid base64 string: "+l):l}})(e);return new An(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const wV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=wV.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="server_timestamp",wS="__type__",ES="__previous_value__",TS="__local_write_time__";function Q0(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wS])==null?void 0:s.stringValue)===_S}function Vf(t){const e=t.mapValue.fields[ES];return Q0(e)?Vf(e):e}function _u(t){const e=sa(t.mapValue.fields[TS].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,s,a,l,c,h,f,p,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=b}}const lf="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||lf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__type__",TV="__max__",Eh={mapValue:{}},AS="__vector__",cf="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q0(t)?4:AV(t)?9007199254740991:SV(t)?10:11:Ce(28295,{value:t})}function Rs(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=sa(a.timestampValue),h=sa(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ra(a.bytesValue).isEqual(ra(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Gt(a.geoPointValue.latitude)===Gt(l.geoPointValue.latitude)&&Gt(a.geoPointValue.longitude)===Gt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Gt(a.integerValue)===Gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Gt(a.doubleValue),h=Gt(l.doubleValue);return c===h?of(c)===of(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Vw(c)!==Vw(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Rs(c[f],h[f])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find((n=>Rs(n,e)))!==void 0}function Tl(t,e){if(t===e)return 0;const n=aa(t),s=aa(e);if(n!==s)return We(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Gt(l.integerValue||l.doubleValue),f=Gt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return Ow(t.timestampValue,e.timestampValue);case 4:return Ow(_u(t),_u(e));case 5:return qg(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ra(l),f=ra(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const b=We(h[p],f[p]);if(b!==0)return b}return We(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=We(Gt(l.latitude),Gt(c.latitude));return h!==0?h:We(Gt(l.longitude),Gt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Lw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var w,A,N,O;const h=l.fields||{},f=c.fields||{},p=(w=h[cf])==null?void 0:w.arrayValue,b=(A=f[cf])==null?void 0:A.arrayValue,v=We(((N=p==null?void 0:p.values)==null?void 0:N.length)||0,((O=b==null?void 0:b.values)==null?void 0:O.length)||0);return v!==0?v:Lw(p,b)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Eh.mapValue&&c===Eh.mapValue)return 0;if(l===Eh.mapValue)return 1;if(c===Eh.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},b=Object.keys(p);f.sort(),b.sort();for(let v=0;v<f.length&&v<b.length;++v){const w=qg(f[v],b[v]);if(w!==0)return w;const A=Tl(h[f[v]],p[b[v]]);if(A!==0)return A}return We(f.length,b.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function Ow(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=sa(t),s=sa(e),a=We(n.seconds,s.seconds);return a!==0?a:We(n.nanos,s.nanos)}function Lw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Tl(n[a],s[a]);if(l)return l}return We(n.length,s.length)}function Sl(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=sa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Hg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Hg(n.fields[c])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function Bh(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vf(t);return e?16+Bh(e):16;case 5:return 2*t.stringValue.length;case 6:return ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Bh(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return fa(s.fields,((l,c)=>{a+=l.length+Bh(c)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function zw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gg(t){return!!t&&"integerValue"in t}function Z0(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function Bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fh(t){return!!t&&"mapValue"in t}function SV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SS])==null?void 0:s.stringValue)===AS}function ou(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ou(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ou(t.arrayValue.values[n]);return e}return{...t}}function AV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(n)}setAll(e){let n=Sn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=ou(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Fh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){fa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Qn(ou(this.value))}}function kS(t){const e=[];return fa(t.fields,((n,s)=>{const a=new Sn([n]);if(Fh(s)){const l=kS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Nn(e,0,Pe.min(),Pe.min(),Pe.min(),Qn.empty(),0)}static newFoundDocument(e,n,s,a){return new Nn(e,1,n,Pe.min(),s,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,Pe.min(),Pe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Pe.min(),Pe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.position=e,this.inclusive=n}}function Fw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(c.referenceValue),n.key):s=Tl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function qw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function kV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{}class nn extends RS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CV(e,n,s):n==="array-contains"?new DV(e,s):n==="in"?new MV(e,s):n==="not-in"?new jV(e,s):n==="array-contains-any"?new VV(e,s):new nn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new NV(e,s):new IV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tl(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends RS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xi(e,n)}matches(e){return CS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CS(t){return t.op==="and"}function NS(t){return RV(t)&&CS(t)}function RV(t){for(const e of t.filters)if(e instanceof Xi)return!1;return!0}function Kg(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(NS(t))return t.filters.map((e=>Kg(e))).join(",");{const e=t.filters.map((n=>Kg(n))).join(",");return`${t.op}(${e})`}}function IS(t,e){return t instanceof nn?(function(s,a){return a instanceof nn&&s.op===a.op&&s.field.isEqual(a.field)&&Rs(s.value,a.value)})(t,e):t instanceof Xi?(function(s,a){return a instanceof Xi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&IS(c,a.filters[h])),!0):!1})(t,e):void Ce(19439)}function DS(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`})(t):t instanceof Xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(DS).join(" ,")+"}"})(t):"Filter"}class CV extends nn{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class NV extends nn{constructor(e,n){super(e,"in",n),this.keys=MS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IV extends nn{constructor(e,n){super(e,"not-in",n),this.keys=MS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function MS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Te.fromName(s.referenceValue)))}class DV extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Z0(n)&&Eu(n.arrayValue,this.value)}}class MV extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class jV extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class VV extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Eu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function Hw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new PV(t,e,n,s,a,l,c)}function W0(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Kg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Sl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Sl(s))).join(",")),e.Te=n}return e.Te}function J0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qw(t.startAt,e.startAt)&&qw(t.endAt,e.endAt)}function $g(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OV(t,e,n,s,a,l,c,h){return new Ll(t,e,n,s,a,l,c,h)}function ey(t){return new Ll(t)}function Gw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jS(t){return t.collectionGroup!==null}function lu(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new un(Sn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tu(l,s))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new Tu(Sn.keyField(),s))}return e.Ie}function _s(t){const e=Le(t);return e.Ee||(e.Ee=LV(e,lu(t))),e.Ee}function LV(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tu(a.field,l)}));const n=t.endAt?new uf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new uf(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Xg(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function df(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pf(t,e){return J0(_s(t),_s(e))&&t.limitType===e.limitType}function VS(t){return`${W0(_s(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>DS(a))).join(", ")}]`),jf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Sl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Sl(a))).join(",")),`Target(${s})`})(_s(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of lu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,f){const p=Fw(c,h,f);return c.inclusive?p<=0:p<0})(s.startAt,lu(s),a)||s.endAt&&!(function(c,h,f){const p=Fw(c,h,f);return c.inclusive?p>=0:p>0})(s.endAt,lu(s),a))})(t,e)}function zV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PS(t){return(e,n)=>{let s=!1;for(const a of lu(t)){const l=UV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function UV(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?Tl(f,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Pt(Te.comparator);function lr(){return BV}const OS=new Pt(Te.comparator);function tu(...t){let e=OS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=OS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qa(){return cu()}function zS(){return cu()}function cu(){return new mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FV=new Pt(Te.comparator),qV=new un(Te.comparator);function Je(...t){let e=qV;for(const n of t)e=e.add(n);return e}const HV=new un(We);function GV(){return HV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function US(t){return{integerValue:""+t}}function KV(t,e){return vV(e)?US(e):ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this._=void 0}}function $V(t,e,n){return t instanceof hf?(function(a,l){const c={fields:{[wS]:{stringValue:_S},[TS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Q0(l)&&(l=Vf(l)),l&&(c.fields[ES]=l),{mapValue:c}})(n,e):t instanceof Su?FS(t,e):t instanceof Au?qS(t,e):(function(a,l){const c=BS(a,l),h=Kw(c)+Kw(a.Ae);return Gg(c)&&Gg(a.Ae)?US(h):ty(a.serializer,h)})(t,e)}function XV(t,e,n){return t instanceof Su?FS(t,e):t instanceof Au?qS(t,e):n}function BS(t,e){return t instanceof ff?(function(s){return Gg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class hf extends Lf{}class Su extends Lf{constructor(e){super(),this.elements=e}}function FS(t,e){const n=HS(e);for(const s of t.elements)n.some((a=>Rs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Au extends Lf{constructor(e){super(),this.elements=e}}function qS(t,e){let n=HS(e);for(const s of t.elements)n=n.filter((a=>!Rs(a,s)));return{arrayValue:{values:n}}}class ff extends Lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kw(t){return Gt(t.integerValue||t.doubleValue)}function HS(t){return Z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YV(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Su&&a instanceof Su||s instanceof Au&&a instanceof Au?El(s.elements,a.elements,Rs):s instanceof ff&&a instanceof ff?Rs(s.Ae,a.Ae):s instanceof hf&&a instanceof hf})(t.transform,e.transform)}class QV{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zf{}function GS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ny(t.key,Ki.none()):new Bu(t.key,t.data,Ki.none());{const n=t.data,s=Qn.empty();let a=new un(Sn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ma(t.key,s,new ci(a.toArray()),Ki.none())}}function ZV(t,e,n){t instanceof Bu?(function(a,l,c){const h=a.value.clone(),f=Xw(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ma?(function(a,l,c){if(!qh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=Xw(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(KS(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function uu(t,e,n,s){return t instanceof Bu?(function(l,c,h,f){if(!qh(l.precondition,c))return h;const p=l.value.clone(),b=Yw(l.fieldTransforms,f,c);return p.setAll(b),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ma?(function(l,c,h,f){if(!qh(l.precondition,c))return h;const p=Yw(l.fieldTransforms,f,c),b=c.data;return b.setAll(KS(l)),b.setAll(p),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,c,h){return qh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function WV(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=BS(s.transform,a||null);l!=null&&(n===null&&(n=Qn.empty()),n.set(s.field,l))}return n||null}function $w(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&El(s,a,((l,c)=>YV(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends zf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ma extends zf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function KS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Xw(t,e,n){const s=new Map;lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,XV(c,h,n[a]))}return s}function Yw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,$V(l,c,e))}return s}class ny extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JV extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ZV(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const f=GS(c,h);f!==null&&s.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,((n,s)=>$w(n,s)))&&El(this.baseMutations,e.baseMutations,((n,s)=>$w(n,s)))}}class iy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){lt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return FV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new iy(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,tt;function iP(t){switch(t){case ne.OK:return Ce(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function $S(t){if(t===void 0)return or("GRPC error has no .code"),ne.UNKNOWN;switch(t){case en.OK:return ne.OK;case en.CANCELLED:return ne.CANCELLED;case en.UNKNOWN:return ne.UNKNOWN;case en.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case en.INTERNAL:return ne.INTERNAL;case en.UNAVAILABLE:return ne.UNAVAILABLE;case en.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case en.NOT_FOUND:return ne.NOT_FOUND;case en.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case en.ABORTED:return ne.ABORTED;case en.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case en.DATA_LOSS:return ne.DATA_LOSS;default:return Ce(39323,{code:t})}}(tt=en||(en={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new ta([4294967295,4294967295],0);function Qw(t){const e=sP().encode(t),n=new lS;return n.update(e),new Uint8Array(n.digest())}function Zw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ta([n,s],0),new ta([a,l],0)]}class sy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ta.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ta.fromNumber(s)));return a.compare(rP)===1&&(a=new ta([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qw(e),[s,a]=Zw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new sy(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=Qw(e),[s,a]=Zw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Uf(Pe.min(),a,new Pt(We),lr(),Je())}}class Fu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fu(s,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class XS{constructor(e,n){this.targetId=e,this.Ce=n}}class YS{constructor(e,n,s=An.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ww{constructor(){this.ve=0,this.Fe=Jw(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ce(38017,{changeType:l})}})),new Fu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Jw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aP{constructor(e){this.Ge=e,this.ze=new Map,this.je=lr(),this.Je=Th(),this.He=Th(),this.Ye=new Pt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if($g(l))if(s===0){const c=new Te(l.path);this.et(n,c,Nn.newNoDocument(c,Pe.min()))}else lt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ra(s).toUint8Array()}catch(f){if(f instanceof xS)return wl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new sy(c,a,l)}catch(f){return wl(f instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&$g(h.target)){const f=new Te(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Nn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Je();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Uf(e,n,this.Ye,this.je,s);return this.je=lr(),this.Je=Th(),this.He=Th(),this.Ye=new Pt(We),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ww,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ww),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Th(){return new Pt(Te.comparator)}function Jw(){return new Pt(Te.comparator)}const oP={asc:"ASCENDING",desc:"DESCENDING"},lP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cP={and:"AND",or:"OR"};class uP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(t,e){return t.useProto3Json||jf(e)?e:{value:e}}function mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dP(t,e){return mf(t,e.toTimestamp())}function ws(t){return lt(!!t,49232),Pe.fromTimestamp((function(n){const s=sa(n);return new Et(s.seconds,s.nanos)})(t))}function ry(t,e){return Qg(t,e).canonicalString()}function Qg(t,e){const n=(function(a){return new vt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZS(t){const e=vt.fromString(t);return lt(nA(e),10190,{key:e.toString()}),e}function Zg(t,e){return ry(t.databaseId,e.path)}function cg(t,e){const n=ZS(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(JS(n))}function WS(t,e){return ry(t.databaseId,e)}function hP(t){const e=ZS(t);return e.length===4?vt.emptyPath():JS(e)}function Wg(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JS(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eE(t,e,n){return{name:Zg(t,e),fields:n.value.mapValue.fields}}function fP(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,b){return p.useProto3Json?(lt(b===void 0||typeof b=="string",58123),An.fromBase64String(b||"")):(lt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),An.fromUint8Array(b||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const b=p.code===void 0?ne.UNKNOWN:$S(p.code);return new me(b,p.message||"")})(c);n=new YS(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=cg(t,s.document.name),l=ws(s.document.updateTime),c=s.document.createTime?ws(s.document.createTime):Pe.min(),h=new Qn({mapValue:{fields:s.document.fields}}),f=Nn.newFoundDocument(a,l,c,h),p=s.targetIds||[],b=s.removedTargetIds||[];n=new Hh(p,b,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=cg(t,s.document),l=s.readTime?ws(s.readTime):Pe.min(),c=Nn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Hh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=cg(t,s.document),l=s.removedTargetIds||[];n=new Hh([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new nP(a,l),h=s.targetId;n=new XS(h,c)}}return n}function mP(t,e){let n;if(e instanceof Bu)n={update:eE(t,e.key,e.value)};else if(e instanceof ny)n={delete:Zg(t,e.key)};else if(e instanceof ma)n={update:eE(t,e.key,e.data),updateMask:EP(e.fieldMask)};else{if(!(e instanceof JV))return Ce(16599,{Vt:e.type});n={verify:Zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof hf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Su)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ff)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ce(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:dP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function pP(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ws(a.updateTime):ws(l);return c.isEqual(Pe.min())&&(c=ws(l)),new QV(c,a.transformResults||[])})(n,e)))):[]}function gP(t,e){return{documents:[WS(t,e.path)]}}function yP(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WS(t,a);const l=(function(p){if(p.length!==0)return tA(Xi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((b=>(function(w){return{field:ol(w.field),direction:xP(w.dir)}})(b)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Yg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function bP(t){let e=hP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){lt(s===1,65062);const b=n.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];n.where&&(l=(function(v){const w=eA(v);return w instanceof Xi&&NS(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((w=>(function(N){return new Tu(ll(N.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let w;return w=typeof v=="object"?v.value:v,jf(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(v){const w=!!v.before,A=v.values||[];return new uf(A,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,A=v.values||[];return new uf(A,w)})(n.endAt)),OV(e,a,c,l,h,"F",f,p)}function vP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ll(n.unaryFilter.field);return nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ll(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(ll(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xi.create(n.compositeFilter.filters.map((s=>eA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function xP(t){return oP[t]}function _P(t){return lP[t]}function wP(t){return cP[t]}function ol(t){return{fieldPath:t.canonicalString()}}function ll(t){return Sn.fromServerFormat(t.fieldPath)}function tA(t){return t instanceof nn?(function(n){if(n.op==="=="){if(Bw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:_P(n.op),value:n.value}}})(t):t instanceof Xi?(function(n){const s=n.getFilters().map((a=>tA(a)));return s.length===1?s[0]:{compositeFilter:{op:wP(n.op),filters:s}}})(t):Ce(54877,{filter:t})}function EP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,a,l=Pe.min(),c=Pe.min(),h=An.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.yt=e}}function SP(t){const e=bP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?df(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.Cn=new kP}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ia.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class kP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new un(vt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new un(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iA=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(iA,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LruGarbageCollector",RP=1048576;function iE([t,e],[n,s]){const a=We(t,n);return a===0?We(e,s):a}class CP{constructor(e){this.Ir=e,this.buffer=new un(iE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(nE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ol(n)?ge(nE,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Vr(3e5)}))}}class IP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Mf.ce);const s=new CP(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(tE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,h,f,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),rl()<=Ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-b}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function DP(t,e){return new IP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.changes=new mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&uu(s.mutation,a,ci.empty(),Et.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const a=Qa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=tu();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Qa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=lr();const c=cu(),h=(function(){return cu()})();return n.forEach(((f,p)=>{const b=s.get(p.key);a.has(p.key)&&(b===void 0||b.mutation instanceof ma)?l=l.insert(p.key,p):b!==void 0?(c.set(p.key,b.mutation.getFieldMask()),uu(b.mutation,p,b.mutation.getFieldMask(),Et.now())):c.set(p.key,ci.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,b)=>c.set(p,b))),n.forEach(((p,b)=>h.set(p,new jP(b,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=cu();let a=new Pt(((c,h)=>c-h)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let b=s.get(f)||ci.empty();b=h.applyToLocalView(p,b),s.set(f,b);const v=(a.get(h.batchId)||Je()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,b=f.value,v=zS();b.forEach((w=>{if(!l.has(w)){const A=GS(n.get(w),s.get(w));A!==null&&v.set(w,A),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Qa());let h=xu,f=l;return c.next((p=>se.forEach(p,((b,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(b)?se.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{f=f.insert(b,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Je()))).next((b=>({batchId:h,changes:LS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let a=tu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=tu();return this.indexManager.getCollectionParents(e,l).next((h=>se.forEach(h,(f=>{const p=(function(v,w){return new Ll(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((b=>{b.forEach(((v,w)=>{c=c.insert(v,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((f,p)=>{const b=p.getKey();c.get(b)===null&&(c=c.insert(b,Nn.newInvalidDocument(b)))}));let h=tu();return c.forEach(((f,p)=>{const b=l.get(f);b!==void 0&&uu(b.mutation,p,ci.empty(),Et.now()),Of(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ws(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:SP(a.bundledQuery),readTime:ws(a.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.overlays=new Pt(Te.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qa();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Qa(),l=n.length+1,c=new Te(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Pt(((p,b)=>p-b));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let b=l.get(p.largestBatchId);b===null&&(b=Qa(),l=l.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const h=Qa(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,b)=>h.set(p,b))),!(h.size()>=a)););return se.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new tP(n,s));let l=this.qr.get(n);l===void 0&&(l=Je(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.Qr=new un(mn.$r),this.Ur=new un(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Te(new vt([])),s=new mn(n,e),a=new mn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new vt([])),s=new mn(n,e),a=new mn(n,e+1);let l=Je();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new mn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(mn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eP(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new mn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Y0:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const h=this.Xr(c.Yr);l.push(h)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new un(We);return n.forEach((a=>{const l=new mn(a,0),c=new mn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{s=s.add(h.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const c=new mn(new Te(l),0);let h=new un(We);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Yr)),!0)}),c),se.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(a=>{const l=new mn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new mn(n,0),a=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.ri=e,this.docs=(function(){return new Pt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let s=lr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Nn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=lr();const c=n.path,h=new Te(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:b}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||pV(mV(b),s)<=0||(a.has(b.key)||Of(n,b))&&(l=l.insert(b.key,b.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ce(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new BP(this)}getSize(e){return se.resolve(this.size)}}class BP extends MP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.persistence=e,this.si=new mo((n=>W0(n)),J0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new ay,this.targetCount=0,this.ai=Al.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mf(0),this.li=!1,this.li=!0,this.hi=new LP,this.referenceDelegate=e(this),this.Pi=new FP(this),this.indexManager=new AP,this.remoteDocumentCache=(function(a){return new UP(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new TP(n),this.Ii=new PP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new zP(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new qP(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class qP extends yV{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Ri=new ay,this.Vi=null}static mi(e){return new oy(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const a=Te.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pf{constructor(e,n){this.persistence=e,this.pi=new mo((s=>xV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=DP(this,n)}static mi(e,n){return new pf(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(s++,l.removeEntry(c,Pe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bh(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ly(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _I()?8:bV(Mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new HP;return this.Ss(e,n,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(rl()<=Ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(rl()<=Ze.DEBUG&&ge("QueryEngine","Query:",al(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(rl()<=Ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):se.resolve())}ys(e,n){if(Gw(n))return se.resolve(null);let s=_s(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=df(n,null,"F"),s=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Je(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,c,f.readTime)?this.ys(e,df(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,s,a){return Gw(n)||a.isEqual(Pe.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?se.resolve(null):(rl()<=Ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.vs(e,c,n,fV(a,xu)).next((h=>h)))}))}Ds(e,n){let s=new un(PS(e));return n.forEach(((a,l)=>{Of(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return rl()<=Ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,ia.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LocalStore",KP=3e8;class $P{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Pt(We),this.xs=new mo((l=>W0(l)),J0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function XP(t,e,n,s){return new $P(t,e,n,s)}async function rA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let f=Je();for(const p of a){c.push(p.batchId);for(const b of p.mutations)f=f.add(b.key)}for(const p of l){h.push(p.batchId);for(const b of p.mutations)f=f.add(b.key)}return n.localDocuments.getDocuments(s,f).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function YP(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,b){const v=p.batch,w=v.keys();let A=se.resolve();return w.forEach((N=>{A=A.next((()=>b.getEntry(f,N))).next((O=>{const M=p.docVersions.get(N);lt(M!==null,48541),O.version.compareTo(M)<0&&(v.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),b.addEntry(O)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let f=Je();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function aA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function QP(t,e){const n=Le(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((b,v)=>{const w=a.get(v);if(!w)return;h.push(n.Pi.removeMatchingKeys(l,b.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,b.addedDocuments,v))));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(An.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):b.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(b.resumeToken,s)),a=a.insert(v,A),(function(O,M,B){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=KP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,A,b)&&h.push(n.Pi.updateTargetData(l,A))}));let f=lr(),p=Je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,b))})),h.push(ZP(l,c,e.documentUpdates).next((b=>{f=b.ks,p=b.qs}))),!s.isEqual(Pe.min())){const b=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(b)}return se.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function ZP(t,e,n){let s=Je(),a=Je();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=lr();return n.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ge(cy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function WP(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Y0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function JP(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Zr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jg(t,e,n){const s=Le(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ol(c))throw c;ge(cy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function sE(t,e,n){const s=Le(t);let a=Pe.min(),l=Je();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,b){const v=Le(f),w=v.xs.get(b);return w!==void 0?se.resolve(v.Ms.get(w)):v.Pi.getTargetData(p,b)})(s,c,_s(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Pe.min(),n?l:Je()))).next((h=>(eO(s,zV(e),h),{documents:h,Qs:l})))))}function eO(t,e,n){let s=t.Os.get(e)||Pe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class rE{constructor(){this.activeTargetIds=GV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tO{constructor(){this.Mo=new rE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="ConnectivityMonitor";class oE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(aE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(aE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function e0(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="RestConnection",iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===lf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=e0(),h=this.zo(e,n.toUriEncodedString());ge(ug,`Sending RPC '${e}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(h),b=Dl(p);return this.Jo(e,h,f,s,b).then((v=>(ge(ug,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw wl(ug,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=iO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class aO extends sO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=e0();return new Promise(((h,f)=>{const p=new cS;p.setWithCredentials(!0),p.listenOnce(uS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Uh.NO_ERROR:const v=p.getResponseJson();ge(Rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Uh.TIMEOUT:ge(Rn,`RPC '${e}' ${c} timed out`),f(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const w=p.getStatus();if(ge(Rn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A==null?void 0:A.error;if(N&&N.status&&N.message){const O=(function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN})(N.status);f(new me(O,N.message))}else f(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(Rn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);ge(Rn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",b,s,15)}))}T_(e,n,s){const a=e0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fS(),h=hS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const b=l.join("");ge(Rn,`Creating RPC '${e}' stream ${a}: ${b}`,f);const v=c.createWebChannel(b,f);this.I_(v);let w=!1,A=!1;const N=new rO({Yo:M=>{A?ge(Rn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(w||(ge(Rn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),ge(Rn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Zo:()=>v.close()}),O=(M,B,X)=>{M.listen(B,(q=>{try{X(q)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return O(v,eu.EventType.OPEN,(()=>{A||(ge(Rn,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),O(v,eu.EventType.CLOSE,(()=>{A||(A=!0,ge(Rn,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(v))})),O(v,eu.EventType.ERROR,(M=>{A||(A=!0,wl(Rn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),N.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),O(v,eu.EventType.MESSAGE,(M=>{var B;if(!A){const X=M.data[0];lt(!!X,16349);const q=X,ae=(q==null?void 0:q.error)||((B=q[0])==null?void 0:B.error);if(ae){ge(Rn,`RPC '${e}' stream ${a} received error:`,ae);const oe=ae.status;let ue=(function(C){const V=en[C];if(V!==void 0)return $S(V)})(oe),R=ae.message;ue===void 0&&(ue=ne.INTERNAL,R="Unknown error status: "+oe+" with message "+ae.message),A=!0,N.a_(new me(ue,R)),v.close()}else ge(Rn,`RPC '${e}' stream ${a} received:`,X),N.u_(X)}})),O(h,dS.STAT_EVENT,(M=>{M.stat===Fg.PROXY?ge(Rn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===Fg.NOPROXY&&ge(Rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){return new uP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="PersistentStream";class lA{constructor(e,n,s,a,l,c,h,f){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oO extends lA{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?ws(c.readTime):Pe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wg(this.serializer),n.addTarget=(function(l,c){let h;const f=c.target;if(h=$g(f)?{documents:gP(l,f)}:{query:yP(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=QS(l,c.resumeToken);const p=Yg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Pe.min())>0){h.readTime=mf(l,c.snapshotVersion.toTimestamp());const p=Yg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=vP(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wg(this.serializer),n.removeTarget=e,this.q_(n)}}class lO extends lA{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pP(e.writeResults,e.commitTime),s=ws(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>mP(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{}class uO extends cO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Qg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Qg(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class hO{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{po(this)&&(ge(lo,"Restarting streams for network reachability change."),await(async function(f){const p=Le(f);p.Ea.add(4),await qu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Ff(p)})(this))}))})),this.Ra=new dO(s,a)}}async function Ff(t){if(po(t))for(const e of t.da)await e(!0)}async function qu(t){for(const e of t.da)await e(!1)}function cA(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fy(n)?hy(n):zl(n).O_()&&dy(n,e))}function uy(t,e){const n=Le(t),s=zl(n);n.Ia.delete(e),s.O_()&&uA(n,e),n.Ia.size===0&&(s.O_()?s.L_():po(n)&&n.Ra.set("Unknown"))}function dy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Y_(e)}function uA(t,e){t.Va.Ue(e),zl(t).Z_(e)}function hy(t){t.Va=new aP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Ra.ua()}function fy(t){return po(t)&&!zl(t).x_()&&t.Ia.size>0}function po(t){return Le(t).Ea.size===0}function dA(t){t.Va=void 0}async function fO(t){t.Ra.set("Online")}async function mO(t){t.Ia.forEach(((e,n)=>{dy(t,e)}))}async function pO(t,e){dA(t),fy(t)?(t.Ra.ha(e),hy(t)):t.Ra.set("Unknown")}async function gO(t,e,n){if(t.Ra.set("Online"),e instanceof YS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){ge(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gf(t,s)}else if(e instanceof Hh?t.Va.Ze(e):e instanceof XS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const s=await aA(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const b=l.Ia.get(p);b&&l.Ia.set(p,b.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,p)=>{const b=l.Ia.get(f);if(!b)return;l.Ia.set(f,b.withResumeToken(An.EMPTY_BYTE_STRING,b.snapshotVersion)),uA(l,f);const v=new Zr(b.target,f,p,b.sequenceNumber);dy(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){ge(lo,"Failed to raise snapshot:",s),await gf(t,s)}}async function gf(t,e,n){if(!Ol(e))throw e;t.Ea.add(1),await qu(t),t.Ra.set("Offline"),n||(n=()=>aA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(lo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ff(t)}))}function hA(t,e){return e().catch((n=>gf(t,n,e)))}async function qf(t){const e=Le(t),n=oa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Y0;for(;yO(e);)try{const a=await WP(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,bO(e,a)}catch(a){await gf(e,a)}fA(e)&&mA(e)}function yO(t){return po(t)&&t.Ta.length<10}function bO(t,e){t.Ta.push(e);const n=oa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fA(t){return po(t)&&!oa(t).x_()&&t.Ta.length>0}function mA(t){oa(t).start()}async function vO(t){oa(t).ra()}async function xO(t){const e=oa(t);for(const n of t.Ta)e.ea(n.mutations)}async function _O(t,e,n){const s=t.Ta.shift(),a=iy.from(s,e,n);await hA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await qf(t)}async function wO(t,e){e&&oa(t).X_&&await(async function(s,a){if((function(c){return iP(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();oa(s).B_(),await hA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await qf(s)}})(t,e),fA(t)&&mA(t)}async function cE(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ge(lo,"RemoteStore received new credentials");const s=po(n);n.Ea.add(3),await qu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ff(n)}async function EO(t,e){const n=Le(t);e?(n.Ea.delete(2),await Ff(n)):e||(n.Ea.add(2),await qu(n),n.Ra.set("Unknown"))}function zl(t){return t.ma||(t.ma=(function(n,s,a){const l=Le(n);return l.sa(),new oO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:fO.bind(null,t),t_:mO.bind(null,t),r_:pO.bind(null,t),H_:gO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),fy(t)?hy(t):t.Ra.set("Unknown")):(await t.ma.stop(),dA(t))}))),t.ma}function oa(t){return t.fa||(t.fa=(function(n,s,a){const l=Le(n);return l.sa(),new lO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:vO.bind(null,t),r_:wO.bind(null,t),ta:xO.bind(null,t),na:_O.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qf(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(lo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new my(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(t,e){if(or("AsyncQueue",`${e}: ${t}`),Ol(t))return new me(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.ga=new Pt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class kl{constructor(e,n,s,a,l,c,h,f,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new kl(e,n,bl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SO{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Le(n),l=a.queries;a.queries=dE(),l.forEach(((c,h)=>{for(const f of h.Sa)f.onError(s)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function dE(){return new mo((t=>VS(t)),Pf)}async function pA(t,e){const n=Le(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new TO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=py(c,`Initialization of query '${al(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&gy(n)}async function gA(t,e){const n=Le(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function AO(t,e){const n=Le(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.Sa)h.Fa(a)&&(s=!0);c.wa=a}}s&&gy(n)}function kO(t,e,n){const s=Le(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function gy(t){t.Ca.forEach((e=>{e.next()}))}var t0,hE;(hE=t0||(t0={})).Ma="default",hE.Cache="cache";class yA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new kl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.key=e}}class vA{constructor(e){this.key=e}}class RO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=PS(e),this.tu=new bl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new uE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,v)=>{const w=a.get(b),A=Of(this.query,v)?v:null,N=!!w&&this.mutatedKeys.has(w.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;w&&A?w.data.isEqual(A.data)?N!==O&&(s.track({type:3,doc:A}),M=!0):this.su(w,A)||(s.track({type:2,doc:A}),M=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!w&&A?(s.track({type:0,doc:A}),M=!0):w&&!A&&(s.track({type:1,doc:w}),M=!0,(f||p)&&(h=!0)),M&&(A?(c=c.add(A),l=O?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),s.track({type:1,doc:b})}return{tu:c,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,v)=>(function(A,N){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:M})}};return O(A)-O(N)})(b.type,v.type)||this.eu(b.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,c.length!==0||p?{snapshot:new kl(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new vA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new bA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yy="SyncEngine";class CO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NO{constructor(e){this.key=e,this.hu=!1}}class IO{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new mo((h=>VS(h)),Pf),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Te.comparator),this.Au=new Map,this.Ru=new ay,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DO(t,e,n=!0){const s=SA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await xA(s,e,n,!0),a}async function MO(t,e){const n=SA(t);await xA(n,e,!0,!1)}async function xA(t,e,n,s){const a=await JP(t.localStore,_s(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await jO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&cA(t.remoteStore,a),h}async function jO(t,e,n,s,a){t.pu=(v,w,A)=>(async function(O,M,B,X){let q=M.view.ru(B);q.Cs&&(q=await sE(O.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,q))));const ae=X&&X.targetChanges.get(M.targetId),oe=X&&X.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(q,O.isPrimaryClient,ae,oe);return mE(O,M.targetId,ue.au),ue.snapshot})(t,v,w,A);const l=await sE(t.localStore,e,!0),c=new RO(e,l.Qs),h=c.ru(l.documents),f=Fu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,f);mE(t,n,p.au);const b=new CO(e,n,c);return t.Tu.set(e,b),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function VO(t,e,n){const s=Le(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Pf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Jg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&uy(s.remoteStore,a.targetId),n0(s,a.targetId)})).catch(Pl)):(n0(s,a.targetId),await Jg(s.localStore,a.targetId,!0))}async function PO(t,e){const n=Le(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),uy(n.remoteStore,s.targetId))}async function OO(t,e,n){const s=HO(t);try{const a=await(function(c,h){const f=Le(c),p=Et.now(),b=h.reduce(((A,N)=>A.add(N.key)),Je());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=lr(),O=Je();return f.Ns.getEntries(A,b).next((M=>{N=M,N.forEach(((B,X)=>{X.isValidDocument()||(O=O.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,N))).next((M=>{v=M;const B=[];for(const X of h){const q=WV(X,v.get(X.key).overlayedDocument);q!=null&&B.push(new ma(X.key,q,kS(q.value.mapValue),Ki.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,B,h)})).next((M=>{w=M;const B=M.applyToLocalDocumentSet(v,O);return f.documentOverlayCache.saveOverlays(A,M.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:LS(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let p=c.Vu[c.currentUser.toKey()];p||(p=new Pt(We)),p=p.insert(h,f),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Hu(s,a.changes),await qf(s.remoteStore)}catch(a){const l=py(a,"Failed to persist write");n.reject(l)}}async function _A(t,e){const n=Le(t);try{const s=await QP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?lt(c.hu,14607):a.removedDocuments.size>0&&(lt(c.hu,42227),c.hu=!1))})),await Hu(n,s,e)}catch(s){await Pl(s)}}function fE(t,e,n){const s=Le(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Le(c);f.onlineState=h;let p=!1;f.queries.forEach(((b,v)=>{for(const w of v.Sa)w.va(h)&&(p=!0)})),p&&gy(f)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function LO(t,e,n){const s=Le(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Pt(Te.comparator);c=c.insert(l,Nn.newNoDocument(l,Pe.min()));const h=Je().add(l),f=new Uf(Pe.min(),new Map,new Pt(We),c,h);await _A(s,f),s.du=s.du.remove(l),s.Au.delete(e),by(s)}else await Jg(s.localStore,e,!1).then((()=>n0(s,e,n))).catch(Pl)}async function zO(t,e){const n=Le(t),s=e.batch.batchId;try{const a=await YP(n.localStore,e);EA(n,s,null),wA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(n,a)}catch(a){await Pl(a)}}async function UO(t,e,n){const s=Le(t);try{const a=await(function(c,h){const f=Le(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return f.mutationQueue.lookupMutationBatch(p,h).next((v=>(lt(v!==null,37113),b=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,b,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>f.localDocuments.getDocuments(p,b)))}))})(s.localStore,e);EA(s,e,n),wA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Hu(s,a)}catch(a){await Pl(a)}}function wA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function EA(t,e,n){const s=Le(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function n0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||TA(t,s)}))}function TA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(uy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),by(t))}function mE(t,e,n){for(const s of n)s instanceof bA?(t.Ru.addReference(s.key,e),BO(t,s)):s instanceof vA?(ge(yy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||TA(t,s.key)):Ce(19791,{wu:s})}function BO(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ge(yy,"New document in limbo: "+n),t.Eu.add(s),by(t))}function by(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(vt.fromString(e)),s=t.fu.next();t.Au.set(s,new NO(n)),t.du=t.du.insert(n,s),cA(t.remoteStore,new Zr(_s(ey(n.path)),s,"TargetPurposeLimboResolution",Mf.ce))}}async function Hu(t,e,n){const s=Le(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,f)=>{c.push(s.pu(f,e,n).then((p=>{var b;if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:(b=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=ly.As(f.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(f,p){const b=Le(f);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(p,(w=>se.forEach(w.Es,(A=>b.persistence.referenceDelegate.addReference(v,w.targetId,A))).next((()=>se.forEach(w.ds,(A=>b.persistence.referenceDelegate.removeReference(v,w.targetId,A)))))))))}catch(v){if(!Ol(v))throw v;ge(cy,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const A=b.Ms.get(w),N=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(N);b.Ms=b.Ms.insert(w,O)}}})(s.localStore,l))}async function FO(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ge(yy,"User change. New user:",e.toKey());const s=await rA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new me(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hu(n,s.Ls)}}function qO(t,e){const n=Le(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let a=Je();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function SA(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LO.bind(null,e),e.Pu.H_=AO.bind(null,e.eventManager),e.Pu.yu=kO.bind(null,e.eventManager),e}function HO(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UO.bind(null,e),e}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XP(this.persistence,new GP,e.initialUser,this.serializer)}Cu(e){return new sA(oy.mi,this.serializer)}Du(e){return new tO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class GO extends yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof pf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NP(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new sA((s=>pf.mi(s,n)),this.serializer)}}class i0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FO.bind(null,this.syncEngine),await EO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SO})()}createDatastore(e){const n=Bf(e.databaseInfo.databaseId),s=(function(l){return new aO(l)})(e.databaseInfo);return(function(l,c,h,f){return new uO(l,c,h,f)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new hO(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>fE(this.syncEngine,n,0)),(function(){return oE.v()?new oE:new nO})())}createSyncEngine(e,n){return(function(a,l,c,h,f,p,b){const v=new IO(a,l,c,h,f,p);return b&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Le(a);ge(lo,"RemoteStore shutting down."),l.Ea.add(5),await qu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}i0.provider={build:()=>new i0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class KO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Cn.UNAUTHENTICATED,this.clientId=X0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ge(la,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ge(la,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=py(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function hg(t,e){t.asyncQueue.verifyOperationInProgress(),ge(la,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await rA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $O(t);ge(la,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>cE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>cE(e.remoteStore,a))),t._onlineComponents=e}async function $O(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(la,"Using user provided OfflineComponentProvider");try{await hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await hg(t,new yf)}}else ge(la,"Using default OfflineComponentProvider"),await hg(t,new GO(void 0));return t._offlineComponents}async function kA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(la,"Using user provided OnlineComponentProvider"),await pE(t,t._uninitializedComponentsProvider._online)):(ge(la,"Using default OnlineComponentProvider"),await pE(t,new i0))),t._onlineComponents}function XO(t){return kA(t).then((e=>e.syncEngine))}async function RA(t){const e=await kA(t),n=e.eventManager;return n.onListen=DO.bind(null,e.syncEngine),n.onUnlisten=VO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PO.bind(null,e.syncEngine),n}function YO(t,e,n={}){const s=new ir;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const b=new AA({next:w=>{b.Nu(),c.enqueueAndForget((()=>gA(l,v)));const A=w.docs.has(h);!A&&w.fromCache?p.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&f&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new yA(ey(h.path),b,{includeMetadataChanges:!0,qa:!0});return pA(l,v)})(await RA(t),t.asyncQueue,e,n,s))),s.promise}function QO(t,e,n={}){const s=new ir;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const b=new AA({next:w=>{b.Nu(),c.enqueueAndForget((()=>gA(l,v))),w.fromCache&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new yA(h,b,{includeMetadataChanges:!0,qa:!0});return pA(l,v)})(await RA(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firestore.googleapis.com",yE=!0;class bE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NA,this.ssl=yE}else this.host=e.host,this.ssl=e.ssl??yE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RP)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nV;switch(s.type){case"firstParty":return new aV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gE.get(n);s&&(ge("ComponentProvider","Removing Datastore"),gE.delete(n),s.terminate())})(this),Promise.resolve()}}function ZO(t,e,n,s={}){var p;t=ks(t,Hf);const a=Dl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(x1(`https://${h}`),_1("Firestore",!0)),l.host!==NA&&l.host!==h&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:s};if(!io(f,c)&&(t._setSettings(f),s.mockUserToken)){let b,v;if(typeof s.mockUserToken=="string")b=s.mockUserToken,v=Cn.MOCK_USER;else{b=hI(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Cn(w)}t._authCredentials=new iV(new pS(b,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Uu(n,Kt._jsonSchema))return new Kt(e,s||null,new Te(vt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:sn("string",Kt._jsonSchemaVersion),referencePath:sn("string")};class na extends pa{constructor(e,n,s){super(e,n,ey(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Te(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function vE(t,e,...n){if(t=pn(t),gS("collection","path",e),t instanceof Hf){const s=vt.fromString(e,...n);return Iw(s),new na(t,null,s)}{if(!(t instanceof Kt||t instanceof na))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return Iw(s),new na(t.firestore,null,s)}}function Za(t,e,...n){if(t=pn(t),arguments.length===1&&(e=X0.newId()),gS("doc","path",e),t instanceof Hf){const s=vt.fromString(e,...n);return Nw(s),new Kt(t,null,new Te(s))}{if(!(t instanceof Kt||t instanceof na))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return Nw(s),new Kt(t.firestore,t instanceof na?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oA(this,"async_queue_retry"),this._c=()=>{const s=dg();s&&ge(xE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ol(e))throw e;ge(xE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",wE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=my.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ul extends Hf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _E,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function WO(t,e){const n=typeof t=="object"?t:S1(),s=typeof t=="string"?t:lf,a=L0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=uI("firestore");l&&ZO(a,...l)}return a}function vy(t){if(t._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JO(t),t._firestoreClient}function JO(t){var s,a,l;const e=t._freezeSettings(),n=(function(h,f,p,b){return new EV(h,f,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,CA(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(An.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Si(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,Si._jsonSchema))return Si.fromBase64String(e.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:sn("string",Si._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Es._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,Es._jsonSchema))return new Es(e.latitude,e.longitude)}}Es._jsonSchemaVersion="firestore/geoPoint/1.0",Es._jsonSchema={type:sn("string",Es._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,Ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ts(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ts._jsonSchemaVersion="firestore/vectorValue/1.0",Ts._jsonSchema={type:sn("string",Ts._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^__.*__$/;class t4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class IA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class _y{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DA(this.Ac)&&e4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bf(e)}Cc(e,n,s,a=!1){return new _y({Ac:e,methodName:n,Dc:s,path:Sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wy(t){const e=t._freezeSettings(),n=Bf(t._databaseId);return new n4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i4(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Ey("Data must be an object, but it was:",c,s);const h=MA(s,c);let f,p;if(l.merge)f=new ci(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const v of l.mergeFields){const w=s0(e,v,n);if(!c.contains(w))throw new me(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VA(b,w)||b.push(w)}f=new ci(b),p=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=c.fieldTransforms;return new t4(new Qn(h),f,p)}class Kf extends xy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function s4(t,e,n,s){const a=t.Cc(1,e,n);Ey("Data must be an object, but it was:",a,s);const l=[],c=Qn.empty();fa(s,((f,p)=>{const b=Ty(e,f,n);p=pn(p);const v=a.yc(b);if(p instanceof Kf)l.push(b);else{const w=Gu(p,v);w!=null&&(l.push(b),c.set(b,w))}}));const h=new ci(l);return new IA(c,h,a.fieldTransforms)}function r4(t,e,n,s,a,l){const c=t.Cc(1,e,n),h=[s0(e,s,n)],f=[a];if(l.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(s0(e,l[w])),f.push(l[w+1]);const p=[],b=Qn.empty();for(let w=h.length-1;w>=0;--w)if(!VA(p,h[w])){const A=h[w];let N=f[w];N=pn(N);const O=c.yc(A);if(N instanceof Kf)p.push(A);else{const M=Gu(N,O);M!=null&&(p.push(A),b.set(A,M))}}const v=new ci(p);return new IA(b,v,c.fieldTransforms)}function a4(t,e,n,s=!1){return Gu(n,t.Cc(s?4:3,e))}function Gu(t,e){if(jA(t=pn(t)))return Ey("Unsupported field value:",e,t),MA(t,e);if(t instanceof xy)return(function(s,a){if(!DA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let f=Gu(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Et.fromDate(s);return{timestampValue:mf(a.serializer,l)}}if(s instanceof Et){const l=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mf(a.serializer,l)}}if(s instanceof Es)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Si)return{bytesValue:QS(a.serializer,s._byteString)};if(s instanceof Kt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ry(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ts)return(function(c,h){return{mapValue:{fields:{[SS]:{stringValue:AS},[cf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return ty(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Df(s)}`)})(t,e)}function MA(t,e){const n={};return vS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,((s,a)=>{const l=Gu(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function jA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof Es||t instanceof Si||t instanceof Kt||t instanceof xy||t instanceof Ts)}function Ey(t,e,n){if(!jA(n)||!yS(n)){const s=Df(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function s0(t,e,n){if((e=pn(e))instanceof Gf)return e._internalPath;if(typeof e=="string")return Ty(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const o4=new RegExp("[~\\*/\\[\\]]");function Ty(t,e,n){if(e.search(o4)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gf(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${s}`),c&&(f+=` in document ${a}`),f+=")"),new me(ne.INVALID_ARGUMENT,h+t+f)}function VA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l4 extends PA{data(){return super.data()}}function Sy(t,e){return typeof e=="string"?Ty(t,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ay{}class ky extends Ay{}function EE(t,e,...n){let s=[];e instanceof Ay&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((f=>f instanceof Cy)).length,h=l.filter((f=>f instanceof Ry)).length;if(c>1||c>0&&h>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Ry extends ky{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ry(e,n,s)}_apply(e){const n=this._parse(e);return OA(e._query,n),new pa(e.firestore,e.converter,Xg(e._query,n))}_parse(e){const n=wy(e.firestore);return(function(l,c,h,f,p,b,v){let w;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){AE(v,b);const N=[];for(const O of v)N.push(SE(f,l,O));w={arrayValue:{values:N}}}else w=SE(f,l,v)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||AE(v,b),w=a4(h,c,v,b==="in"||b==="not-in");return nn.create(p,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cy extends Ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)OA(c,f),c=Xg(c,f)})(e._query,n),new pa(e.firestore,e.converter,Xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ny extends ky{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ny(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(l,c)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Ll(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function TE(t,e="asc"){const n=e,s=Sy("orderBy",t);return Ny._create(s,n)}class Iy extends ky{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Iy(e,n,s)}_apply(e){return new pa(e.firestore,e.converter,df(e._query,this._limit,this._limitType))}}function u4(t){return Iy._create("limit",t,"F")}function SE(t,e,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(vt.fromString(n));if(!Te.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zw(t,new Te(s))}if(n instanceof Kt)return zw(t,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function AE(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class d4{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[cf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Gt(c.doubleValue)));return new Ts(n)}convertGeoPoint(e){return new Es(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=sa(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);lt(nA(s),9688,{name:e});const a=new wu(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return a.isEqual(n)||or(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends PA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Sy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:sn("string",eo._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class Gh extends eo{data(e={}){return super.data(e)}}class vl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new iu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Gh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Gh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new iu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new Gh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new iu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,b=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),b=c.indexOf(h.doc.key)),{type:f4(h.type),doc:f,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){t=ks(t,Kt);const e=ks(t.firestore,Ul);return YO(vy(e),t._key).then((n=>g4(e,t,n)))}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:sn("string",vl._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class LA extends d4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function kE(t){t=ks(t,pa);const e=ks(t.firestore,Ul),n=vy(e),s=new LA(e);return c4(t._query),QO(n,t._query).then((a=>new vl(e,s,t,a)))}function m4(t,e,n){t=ks(t,Kt);const s=ks(t.firestore,Ul),a=h4(t.converter,e);return Dy(s,[i4(wy(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ki.none())])}function Kh(t,e,n,...s){t=ks(t,Kt);const a=ks(t.firestore,Ul),l=wy(a);let c;return c=typeof(e=pn(e))=="string"||e instanceof Gf?r4(l,"updateDoc",t._key,e,n,s):s4(l,"updateDoc",t._key,e),Dy(a,[c.toMutation(t._key,Ki.exists(!0))])}function p4(t){return Dy(ks(t.firestore,Ul),[new ny(t._key,Ki.none())])}function Dy(t,e){return(function(s,a){const l=new ir;return s.asyncQueue.enqueueAndForget((async()=>OO(await XO(s),a,l))),l.promise})(vy(t),e)}function g4(t,e,n){const s=n.docs.get(e._key),a=new LA(t);return new eo(t,a,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Vl=a})(Ml),_l(new so("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new Ul(new sV(s.getProvider("auth-internal")),new oV(c,s.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(p.options.projectId,b)})(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ea(Aw,kw,e),ea(Aw,kw,"esm2020")})();const y4={apiKey:"AIzaSyCJLR0gKSrzN3VCyZ74AeAFL82WuMI0Z0k",authDomain:"zenbaki-osoak-2dbh.firebaseapp.com",projectId:"zenbaki-osoak-2dbh",storageBucket:"zenbaki-osoak-2dbh.firebasestorage.app",messagingSenderId:"402362957412",appId:"1:402362957412:web:b89a1b9e802426ae74e971"},zA=T1(y4),Ah=eV(zA),Ws=WO(zA),cn={theory_intro:50,theory_operations:50,theory_multiplication:50,theory_powers:50,theory_advanced:50,ordering_easy:100,ordering_medium:150,ordering_hard:200,addition_easy:100,addition_medium:150,addition_hard:200,subtraction_easy:100,subtraction_medium:150,subtraction_hard:200,multiplication_easy:100,multiplication_medium:150,multiplication_hard:200,division_easy:100,division_medium:150,division_hard:200,powers_easy:100,powers_medium:150,powers_hard:200,roots_easy:100,roots_medium:150,roots_hard:200,combined_easy:100,combined_medium:150,combined_hard:200,mixed_easy:150,mixed_medium:250,mixed_hard:500},UA=[{id:"first_steps",title:"Lehen Urratsak",description:"Lortu zure lehenengo 100 XP.",icon:"footprint",xpReward:50,condition:t=>t.xp>=100},{id:"streak_5",title:"Beroketa (5 Egun)",description:"Mantendu 5 eguneko erratxa.",icon:"local_fire_department",xpReward:100,condition:t=>t.streak>=5},{id:"streak_10",title:"Sutan (10 Egun)",description:"Mantendu 10 eguneko erratxa.",icon:"whatshot",xpReward:300,condition:t=>t.streak>=10},{id:"streak_20",title:"Geldiezin (20 Egun)",description:"Mantendu 20 eguneko erratxa.",icon:"volcano",xpReward:1e3,condition:t=>t.streak>=20},{id:"level_5",title:"Ikasle Aurreratua",description:"Iritsi 5. Mailara.",icon:"school",xpReward:250,condition:t=>t.level>=5},{id:"level_10",title:"Matematika Maisua",description:"Iritsi 10. Mailara.",icon:"military_tech",xpReward:1e3,condition:t=>t.level>=10},{id:"level_20",title:"Zenbakien Jainkoa",description:"Iritsi 20. Mailara.",icon:"auto_awesome",xpReward:5e3,condition:t=>t.level>=20},{id:"ord_bronze",title:"Ordenatzaile (Bronce)",description:"200 XP Ordenan.",icon:"sort",xpReward:50,condition:t=>yt(t,"ordering")>=200},{id:"ord_silver",title:"Ordenatzaile (Plata)",description:"500 XP Ordenan.",icon:"sort",xpReward:150,condition:t=>yt(t,"ordering")>=500},{id:"ord_gold",title:"Ordenatzaile (Oro)",description:"1000 XP Ordenan.",icon:"sort",xpReward:300,condition:t=>yt(t,"ordering")>=1e3},{id:"add_bronze",title:"Batzaile (Bronce)",description:"200 XP Batuketetan.",icon:"add_circle",xpReward:50,condition:t=>yt(t,"addition")>=200},{id:"add_silver",title:"Batzaile (Plata)",description:"500 XP Batuketetan.",icon:"add_circle",xpReward:150,condition:t=>yt(t,"addition")>=500},{id:"add_gold",title:"Batzaile (Oro)",description:"1000 XP Batuketetan.",icon:"add_circle",xpReward:300,condition:t=>yt(t,"addition")>=1e3},{id:"sub_bronze",title:"Kentzaile (Bronce)",description:"200 XP Kenketetan.",icon:"remove_circle",xpReward:50,condition:t=>yt(t,"subtraction")>=200},{id:"sub_silver",title:"Kentzaile (Plata)",description:"500 XP Kenketetan.",icon:"remove_circle",xpReward:150,condition:t=>yt(t,"subtraction")>=500},{id:"sub_gold",title:"Kentzaile (Oro)",description:"1000 XP Kenketetan.",icon:"remove_circle",xpReward:300,condition:t=>yt(t,"subtraction")>=1e3},{id:"mul_bronze",title:"Biderkatzaile (Bronce)",description:"200 XP Biderketetan.",icon:"close",xpReward:50,condition:t=>yt(t,"multiplication")>=200},{id:"mul_silver",title:"Biderkatzaile (Plata)",description:"500 XP Biderketetan.",icon:"close",xpReward:150,condition:t=>yt(t,"multiplication")>=500},{id:"mul_gold",title:"Biderkatzaile (Oro)",description:"1000 XP Biderketetan.",icon:"close",xpReward:300,condition:t=>yt(t,"multiplication")>=1e3},{id:"div_bronze",title:"Zatitzaile (Bronce)",description:"200 XP Zatiketetan.",icon:"percent",xpReward:50,condition:t=>yt(t,"division")>=200},{id:"div_silver",title:"Zatitzaile (Plata)",description:"500 XP Zatiketetan.",icon:"percent",xpReward:150,condition:t=>yt(t,"division")>=500},{id:"div_gold",title:"Zatitzaile (Oro)",description:"1000 XP Zatiketetan.",icon:"percent",xpReward:300,condition:t=>yt(t,"division")>=1e3},{id:"pow_bronze",title:"Potentzia (Bronce)",description:"200 XP Berreketetan.",icon:"expand_less",xpReward:50,condition:t=>yt(t,"powers")>=200},{id:"pow_silver",title:"Potentzia (Plata)",description:"500 XP Berreketetan.",icon:"expand_less",xpReward:150,condition:t=>yt(t,"powers")>=500},{id:"pow_gold",title:"Potentzia (Oro)",description:"1000 XP Berreketetan.",icon:"expand_less",xpReward:300,condition:t=>yt(t,"powers")>=1e3},{id:"roo_bronze",title:"Erro (Bronce)",description:"200 XP Erroetan.",icon:"check",xpReward:50,condition:t=>yt(t,"roots")>=200},{id:"roo_silver",title:"Erro (Plata)",description:"500 XP Erroetan.",icon:"check",xpReward:150,condition:t=>yt(t,"roots")>=500},{id:"roo_gold",title:"Erro (Oro)",description:"1000 XP Erroetan.",icon:"check",xpReward:300,condition:t=>yt(t,"roots")>=1e3},{id:"com_bronze",title:"Konbinatu (Bronce)",description:"200 XP Konbinatuetan.",icon:"function",xpReward:50,condition:t=>yt(t,"combined")>=200},{id:"com_silver",title:"Konbinatu (Plata)",description:"500 XP Konbinatuetan.",icon:"function",xpReward:150,condition:t=>yt(t,"combined")>=500},{id:"com_gold",title:"Konbinatu (Oro)",description:"1000 XP Konbinatuetan.",icon:"function",xpReward:300,condition:t=>yt(t,"combined")>=1e3},{id:"mix_bronze",title:"Expertua (Bronce)",description:"200 XP Mistoan.",icon:"psychology",xpReward:50,condition:t=>yt(t,"mixed")>=200},{id:"mix_silver",title:"Expertua (Plata)",description:"500 XP Mistoan.",icon:"psychology",xpReward:150,condition:t=>yt(t,"mixed")>=500},{id:"mix_gold",title:"Expertua (Oro)",description:"1000 XP Mistoan.",icon:"psychology",xpReward:300,condition:t=>yt(t,"mixed")>=1e3}],RE=[{id:"avatar_wolf",type:"avatar",name:"Otsoa",description:"Otsoaren indarra zure perfilerako.",price:100,icon:"pets",previewUrl:"https://ui-avatars.com/api/?name=Wolf&background=374151&color=fff"},{id:"avatar_eagle",type:"avatar",name:"Arranoa",description:"Arranoaren ikusmena.",price:150,icon:"flight",previewUrl:"https://ui-avatars.com/api/?name=Eagle&background=b91c1c&color=fff"},{id:"avatar_bear",type:"avatar",name:"Hartza",description:"Hartzaren sendotasuna.",price:200,icon:"forest",previewUrl:"https://ui-avatars.com/api/?name=Bear&background=15803d&color=fff"},{id:"frame_gold",type:"frame",name:"Urrezko Markoa",description:"Distira berezia zure abatarrentzat.",price:500,icon:"crop_square",requiresLevel:5},{id:"frame_neon",type:"frame",name:"Neon Markoa",description:"Etorkizuneko estiloa.",price:800,icon:"blur_on",requiresLevel:10},{id:"theme_dark_matrix",type:"theme",name:"Matrix Gaia",description:"Kodearen munduan sartu.",price:1e3,icon:"terminal",requiresLevel:15}],yt=(t,e)=>{let n=0;for(const s in t.gameXp)s.startsWith(e)&&(n+=t.gameXp[s]);return n},CE=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(t){return console.error("Error fetching IP",t),"unknown"}},b4=()=>{const t=[],e=[50,100,200][Math.floor(Math.random()*3)];t.push({id:`xp_${Date.now()}`,type:"xp",description:`Lortu ${e} XP gaur.`,target:e,progress:0,reward:Math.floor(e/5),completed:!1});const n=[1,3,5][Math.floor(Math.random()*3)];return t.push({id:`games_${Date.now()}`,type:"games",description:`Jolastu ${n} jolas.`,target:n,progress:0,reward:n*10+20,completed:!1}),Math.random()>.5?t.push({id:`theory_${Date.now()}`,type:"theory",description:"Osatu teoria lezio bat edo errepasatu.",target:1,progress:0,reward:50,completed:!1}):t.push({id:`xp_hard_${Date.now()}`,type:"xp",description:"Lortu 300 XP guztira.",target:300,progress:0,reward:100,completed:!1}),t},v4=t=>{const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString();(!t.lastMissionDate||new Date(t.lastMissionDate).getDate()!==e.getDate())&&(t.missions=b4(),t.lastMissionDate=n);const s=new Date(t.lastLoginDate),a=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),l=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),c=1440*60*1e3;return l>a&&(l-a===c?t.streak+=1:l-a>c&&(t.streak=1)),t.lastLoginDate=e.toISOString(),t},il={login:async(t,e)=>{const s=(await zM(Ah,t,e)).user.uid,a=Za(Ws,"users",s),l=await du(a);if(l.exists()){let c=l.data();const h=await CE(),f=c.streak;return c=v4(c),(f!==c.streak||c.lastLoginDate!==l.data().lastLoginDate||c.lastIp!==h||c.missions!==l.data().missions)&&(await Kh(a,{streak:c.streak,lastLoginDate:c.lastLoginDate,lastIp:h,missions:c.missions,lastMissionDate:c.lastMissionDate}),c.lastIp=h),c.coins===void 0&&(c.coins=0),c.inventory||(c.inventory=[]),c}else throw new Error("Erabiltzailearen datuak ez dira aurkitu.")},loginAsGuest:async()=>({uid:"guest_"+Date.now(),email:"guest@zoa.eus",displayName:"Gonbidatua",photoURL:"https://ui-avatars.com/api/?name=Guest&background=e2e8f0&color=64748b",xp:0,level:1,streak:0,lastLoginDate:new Date().toISOString(),completedLessons:[],gameXp:{},unlockedAchievements:[],coins:50,inventory:[]}),register:async(t,e,n)=>{const a=(await LM(Ah,t,e)).user.uid,l={uid:a,email:t,displayName:n,photoURL:`https://ui-avatars.com/api/?name=${n}&background=136dec&color=fff`,xp:0,level:1,streak:1,lastLoginDate:new Date().toISOString(),lastIp:await CE(),completedLessons:[],gameXp:{},unlockedAchievements:[],isAdmin:t==="admin@zoa.eus",coins:50,inventory:[]};return await m4(Za(Ws,"users",a),l),l},logout:async()=>{await qM(Ah)},onAuthStateChanged:t=>FM(Ah,t),getUserProfile:async t=>{const e=Za(Ws,"users",t),n=await du(e);if(n.exists()){const s=n.data();return{...s,coins:s.coins||0,inventory:s.inventory||[]}}return null}},co={updateUserProgress:async(t,e,n)=>{const s=Za(Ws,"users",t),a=await du(s);if(!a.exists())throw new Error("User not found");const l=a.data();l.gameXp||(l.gameXp={}),l.unlockedAchievements||(l.unlockedAchievements=[]),l.coins===void 0&&(l.coins=0);let c=0;const h=l.gameXp[n]||0;let f=0;if(e>=0){const b=cn[n]||9999,v=Math.max(0,b-h);c=Math.min(e,v),c>0&&(l.xp+=c,l.gameXp[n]=h+c,n.startsWith("theory_")&&!l.completedLessons.includes(n)&&(l.completedLessons.push(n),f+=50),f+=Math.floor(c/5))}else{const b=Math.abs(e),v=Math.min(b,h);v>0&&(l.gameXp[n]=h-v,l.xp=Math.max(0,l.xp-v)),c=-v}l.coins+=f;const p=[];return c>=0&&(l.level=Math.floor(l.xp/500)+1,UA.forEach(b=>{l.unlockedAchievements.includes(b.id)||b.condition(l)&&(l.unlockedAchievements.push(b.id),l.xp+=b.xpReward,l.coins+=100,l.level=Math.floor(l.xp/500)+1,p.push(b))})),l.missions&&l.missions.forEach(b=>{if(b.completed)return;let v=!1;b.type==="xp"&&c>0&&(b.progress+=c,v=!0),b.type==="theory"&&n.startsWith("theory_")&&c>0&&(b.progress+=1,v=!0),b.type==="games"&&!n.startsWith("theory_")&&c>0&&(b.progress+=1,v=!0),v&&b.progress>=b.target&&(b.completed=!0,l.coins+=b.reward)}),await Kh(s,{xp:l.xp,level:l.level,gameXp:l.gameXp,completedLessons:l.completedLessons,unlockedAchievements:l.unlockedAchievements,coins:l.coins,missions:l.missions}),{user:l,actualXpAdded:c,newAchievements:p}},updateProfile:async(t,e)=>{const n=Za(Ws,"users",t);return await Kh(n,e),(await du(n)).data()},getLeaderboard:async()=>{const t=EE(vE(Ws,"users"),TE("xp","desc"),u4(10)),e=await kE(t),n=[];return e.forEach(s=>{n.push(s.data())}),n},getAllUsers:async()=>{const t=EE(vE(Ws,"users"),TE("lastLoginDate","desc")),e=await kE(t),n=[];return e.forEach(s=>{n.push(s.data())}),n},kickUser:async t=>{await p4(Za(Ws,"users",t))},buyItem:async(t,e)=>{const n=Za(Ws,"users",t),s=await du(n);if(!s.exists())return{success:!1,message:"Erabiltzailea ez da aurkitu"};const a=s.data(),l=a.inventory||[],c=a.coins||0;if(l.includes(e.id))return{success:!1,message:"Dagoeneko baduzu item hau!"};if(c<e.price)return{success:!1,message:"Ez duzu txanpon nahikorik."};const h=c-e.price,f=[...l,e.id];return await Kh(n,{coins:h,inventory:f}),{success:!0,message:"Erosketa osatuta!",newUser:{...a,coins:h,inventory:f}}}},BA=I.createContext(void 0),x4=({children:t})=>{const[e,n]=I.useState([]),s=I.useCallback((l,c)=>{const h=Date.now().toString()+Math.random().toString().slice(2,8);n(f=>[...f,{id:h,type:l,message:c}]),setTimeout(()=>{n(f=>f.filter(p=>p.id!==h))},3e3)},[]),a=I.useCallback(l=>{n(c=>c.filter(h=>h.id!==l))},[]);return y.jsx(BA.Provider,{value:{addToast:s,removeToast:a,toasts:e},children:t})},Bl=()=>{const t=I.useContext(BA);if(t===void 0)throw new Error("useToast must be used within an ToastProvider");return t},FA=I.createContext(void 0),_4=({children:t})=>{const[e,n]=I.useState(null),[s,a]=I.useState(!0),[l,c]=I.useState([]),{addToast:h}=Bl();I.useEffect(()=>{const A=il.onAuthStateChanged(async N=>{if(N)try{const O=await il.getUserProfile(N.uid);n(O||null)}catch(O){console.error("Error fetching profile",O),n(null)}else n(null);a(!1)});return()=>A()},[]);const f=async(A,N)=>{const O=await il.login(A,N);n(O)},p=async()=>{const A=await il.loginAsGuest();n(A)},b=async(A,N,O)=>{const M=await il.register(A,N,O);n(M)},v=async()=>{await il.logout(),n(null)},w=async(A,N)=>{if(!e||e.uid.startsWith("guest_"))return 0;try{const{user:O,actualXpAdded:M,newAchievements:B}=await co.updateUserProgress(e.uid,A,N);return n(O),B&&B.length>0&&c(B),M}catch(O){return console.error("XP Error",O),0}};return y.jsxs(FA.Provider,{value:{user:e,loading:s,login:f,loginAsGuest:p,register:b,logout:v,addXp:w},children:[!s&&t,l.length>0&&y.jsx(tI,{achievements:l,onClose:()=>c([])})]})},Qi=()=>{const t=I.useContext(FA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},My=I.createContext({});function jy(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vy=typeof window<"u",qA=Vy?I.useLayoutEffect:I.useEffect,$f=I.createContext(null);function Py(t,e){t.indexOf(e)===-1&&t.push(e)}function Oy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const cr=(t,e,n)=>n>e?e:n<t?t:n;let Ly=()=>{};const ur={},HA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function GA(t){return typeof t=="object"&&t!==null}const KA=t=>/^0[^.\s]+$/u.test(t);function zy(t){let e;return()=>(e===void 0&&(e=t()),e)}const ki=t=>t,w4=(t,e)=>n=>e(t(n)),Ku=(...t)=>t.reduce(w4),ku=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Uy{constructor(){this.subscriptions=[]}add(e){return Py(this.subscriptions,e),()=>Oy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ss=t=>t*1e3,Ai=t=>t/1e3;function $A(t,e){return e?t*(1e3/e):0}const XA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,E4=1e-7,T4=12;function S4(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=XA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>E4&&++h<T4);return c}function $u(t,e,n,s){if(t===e&&n===s)return ki;const a=l=>S4(l,0,1,t,n);return l=>l===0||l===1?l:XA(a(l),e,s)}const YA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QA=t=>e=>1-t(1-e),ZA=$u(.33,1.53,.69,.99),By=QA(ZA),WA=YA(By),JA=t=>(t*=2)<1?.5*By(t):.5*(2-Math.pow(2,-10*(t-1))),Fy=t=>1-Math.sin(Math.acos(t)),ek=QA(Fy),tk=YA(Fy),A4=$u(.42,0,1,1),k4=$u(0,0,.58,1),nk=$u(.42,0,.58,1),R4=t=>Array.isArray(t)&&typeof t[0]!="number",ik=t=>Array.isArray(t)&&typeof t[0]=="number",C4={linear:ki,easeIn:A4,easeInOut:nk,easeOut:k4,circIn:Fy,circInOut:tk,circOut:ek,backIn:By,backInOut:WA,backOut:ZA,anticipate:JA},N4=t=>typeof t=="string",NE=t=>{if(ik(t)){Ly(t.length===4);const[e,n,s,a]=t;return $u(e,n,s,a)}else if(N4(t))return C4[t];return t},kh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function I4(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(b){c.has(b)&&(p.schedule(b),t()),b(h)}const p={schedule:(b,v=!1,w=!1)=>{const N=w&&a?n:s;return v&&c.add(b),N.has(b)||N.add(b),b},cancel:b=>{s.delete(b),c.delete(b)},process:b=>{if(h=b,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(b))}};return p}const D4=40;function sk(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=kh.reduce((q,ae)=>(q[ae]=I4(l),q),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:b,update:v,preRender:w,render:A,postRender:N}=c,O=()=>{const q=ur.useManualTiming?a.timestamp:performance.now();n=!1,ur.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,D4),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),b.process(a),v.process(a),w.process(a),A.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},M=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:kh.reduce((q,ae)=>{const oe=c[ae];return q[ae]=(ue,R=!1,T=!1)=>(n||M(),oe.schedule(ue,R,T)),q},{}),cancel:q=>{for(let ae=0;ae<kh.length;ae++)c[kh[ae]].cancel(q)},state:a,steps:c}}const{schedule:Nt,cancel:ca,state:En,steps:fg}=sk(typeof requestAnimationFrame<"u"?requestAnimationFrame:ki,!0);let $h;function M4(){$h=void 0}const Zn={now:()=>($h===void 0&&Zn.set(En.isProcessing||ur.useManualTiming?En.timestamp:performance.now()),$h),set:t=>{$h=t,queueMicrotask(M4)}},rk=t=>e=>typeof e=="string"&&e.startsWith(t),ak=rk("--"),j4=rk("var(--"),qy=t=>j4(t)?V4.test(t.split("/*")[0].trim()):!1,V4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ru={...Fl,transform:t=>cr(0,1,t)},Rh={...Fl,default:1},hu=t=>Math.round(t*1e5)/1e5,Hy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function P4(t){return t==null}const O4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gy=(t,e)=>n=>!!(typeof n=="string"&&O4.test(n)&&n.startsWith(t)||e&&!P4(n)&&Object.prototype.hasOwnProperty.call(n,e)),ok=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Hy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},L4=t=>cr(0,255,t),mg={...Fl,transform:t=>Math.round(L4(t))},Wa={test:Gy("rgb","red"),parse:ok("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+mg.transform(t)+", "+mg.transform(e)+", "+mg.transform(n)+", "+hu(Ru.transform(s))+")"};function z4(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const r0={test:Gy("#"),parse:z4,transform:Wa.transform},Xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gr=Xu("deg"),As=Xu("%"),Me=Xu("px"),U4=Xu("vh"),B4=Xu("vw"),IE={...As,parse:t=>As.parse(t)/100,transform:t=>As.transform(t*100)},ul={test:Gy("hsl","hue"),parse:ok("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+As.transform(hu(e))+", "+As.transform(hu(n))+", "+hu(Ru.transform(s))+")"},tn={test:t=>Wa.test(t)||r0.test(t)||ul.test(t),parse:t=>Wa.test(t)?Wa.parse(t):ul.test(t)?ul.parse(t):r0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wa.transform(t):ul.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},F4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Hy))==null?void 0:e.length)||0)+(((n=t.match(F4))==null?void 0:n.length)||0)>0}const lk="number",ck="color",H4="var",G4="var(",DE="${}",K4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(K4,f=>(tn.test(f)?(s.color.push(l),a.push(ck),n.push(tn.parse(f))):f.startsWith(G4)?(s.var.push(l),a.push(H4),n.push(f)):(s.number.push(l),a.push(lk),n.push(parseFloat(f))),++l,DE)).split(DE);return{values:n,split:h,indexes:s,types:a}}function uk(t){return Cu(t).values}function dk(t){const{split:e,types:n}=Cu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===lk?l+=hu(a[c]):h===ck?l+=tn.transform(a[c]):l+=a[c]}return l}}const $4=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function X4(t){const e=uk(t);return dk(t)(e.map($4))}const ua={test:q4,parse:uk,createTransformer:dk,getAnimatableNone:X4};function pg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y4({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=pg(f,h,t+1/3),l=pg(f,h,t),c=pg(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function vf(t,e){return n=>n>0?e:t}const Vt=(t,e,n)=>t+(e-t)*n,gg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},Q4=[r0,Wa,ul],Z4=t=>Q4.find(e=>e.test(t));function ME(t){const e=Z4(t);if(!e)return!1;let n=e.parse(t);return e===ul&&(n=Y4(n)),n}const jE=(t,e)=>{const n=ME(t),s=ME(e);if(!n||!s)return vf(t,e);const a={...n};return l=>(a.red=gg(n.red,s.red,l),a.green=gg(n.green,s.green,l),a.blue=gg(n.blue,s.blue,l),a.alpha=Vt(n.alpha,s.alpha,l),Wa.transform(a))},a0=new Set(["none","hidden"]);function W4(t,e){return a0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function J4(t,e){return n=>Vt(t,e,n)}function Ky(t){return typeof t=="number"?J4:typeof t=="string"?qy(t)?vf:tn.test(t)?jE:n3:Array.isArray(t)?hk:typeof t=="object"?tn.test(t)?jE:e3:vf}function hk(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Ky(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function e3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Ky(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function t3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const n3=(t,e)=>{const n=ua.createTransformer(e),s=Cu(t),a=Cu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?a0.has(t)&&!a.values.length||a0.has(e)&&!s.values.length?W4(t,e):Ku(hk(t3(s,a),a.values),n):vf(t,e)};function fk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):Ky(t)(t,e)}const i3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Nt.update(e,n),stop:()=>ca(e),now:()=>En.isProcessing?En.timestamp:Zn.now()}},mk=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},xf=2e4;function $y(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<xf;)e+=n,s=t.next(e);return e>=xf?1/0:e}function s3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min($y(s),xf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ai(a)}}const r3=5;function pk(t,e,n){const s=Math.max(e-r3,0);return $A(n-t(s),e-s)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yg=.001;function a3({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:s=Bt.mass}){let a,l,c=1-e;c=cr(Bt.minDamping,Bt.maxDamping,c),t=cr(Bt.minDuration,Bt.maxDuration,Ai(t)),c<1?(a=p=>{const b=p*c,v=b*t,w=b-n,A=o0(p,c),N=Math.exp(-v);return yg-w/A*N},l=p=>{const v=p*c*t,w=v*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-v),O=o0(Math.pow(p,2),c);return(-a(p)+yg>0?-1:1)*((w-A)*N)/O}):(a=p=>{const b=Math.exp(-p*t),v=(p-n)*t+1;return-yg+b*v},l=p=>{const b=Math.exp(-p*t),v=(n-p)*(t*t);return b*v});const h=5/t,f=l3(a,l,h);if(t=Ss(t),isNaN(f))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const o3=12;function l3(t,e,n){let s=n;for(let a=1;a<o3;a++)s=s-t(s)/e(s);return s}function o0(t,e){return t*Math.sqrt(1-e*e)}const c3=["duration","bounce"],u3=["stiffness","damping","mass"];function VE(t,e){return e.some(n=>t[n]!==void 0)}function d3(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!VE(t,u3)&&VE(t,c3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*cr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const n=a3(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function _f(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:b,duration:v,velocity:w,isResolvedFromDuration:A}=d3({...n,velocity:-Ai(n.velocity||0)}),N=w||0,O=p/(2*Math.sqrt(f*b)),M=c-l,B=Ai(Math.sqrt(f/b)),X=Math.abs(M)<5;s||(s=X?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=X?Bt.restDelta.granular:Bt.restDelta.default);let q;if(O<1){const oe=o0(B,O);q=ue=>{const R=Math.exp(-O*B*ue);return c-R*((N+O*B*M)/oe*Math.sin(oe*ue)+M*Math.cos(oe*ue))}}else if(O===1)q=oe=>c-Math.exp(-B*oe)*(M+(N+B*M)*oe);else{const oe=B*Math.sqrt(O*O-1);q=ue=>{const R=Math.exp(-O*B*ue),T=Math.min(oe*ue,300);return c-R*((N+O*B*M)*Math.sinh(T)+oe*M*Math.cosh(T))/oe}}const ae={calculatedDuration:A&&v||null,next:oe=>{const ue=q(oe);if(A)h.done=oe>=v;else{let R=oe===0?N:0;O<1&&(R=oe===0?Ss(N):pk(q,oe,ue));const T=Math.abs(R)<=s,C=Math.abs(c-ue)<=a;h.done=T&&C}return h.value=h.done?c:ue,h},toString:()=>{const oe=Math.min($y(ae),xf),ue=mk(R=>ae.next(oe*R).value,oe,30);return oe+"ms "+ue},toTransition:()=>{}};return ae}_f.applyToOptions=t=>{const e=s3(t,100,_f);return t.ease=e.ease,t.duration=Ss(e.duration),t.type="keyframes",t};function l0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:b}){const v=t[0],w={done:!1,value:v},A=T=>h!==void 0&&T<h||f!==void 0&&T>f,N=T=>h===void 0?f:f===void 0||Math.abs(h-T)<Math.abs(f-T)?h:f;let O=n*e;const M=v+O,B=c===void 0?M:c(M);B!==M&&(O=B-v);const X=T=>-O*Math.exp(-T/s),q=T=>B+X(T),ae=T=>{const C=X(T),V=q(T);w.done=Math.abs(C)<=p,w.value=w.done?B:V};let oe,ue;const R=T=>{A(w.value)&&(oe=T,ue=_f({keyframes:[w.value,N(w.value)],velocity:pk(q,T,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:b}))};return R(0),{calculatedDuration:null,next:T=>{let C=!1;return!ue&&oe===void 0&&(C=!0,ae(T),R(T)),oe!==void 0&&T>=oe?ue.next(T-oe):(!C&&ae(T),w)}}}function h3(t,e,n){const s=[],a=n||ur.mix||fk,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||ki:e;h=Ku(f,h)}s.push(h)}return s}function f3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Ly(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=h3(e,s,a),f=h.length,p=b=>{if(c&&b<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(b<t[v+1]);v++);const w=ku(t[v],t[v+1],b);return h[v](w)};return n?b=>p(cr(t[0],t[l-1],b)):p}function m3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ku(0,e,s);t.push(Vt(n,1,a))}}function p3(t){const e=[0];return m3(e,t.length-1),e}function g3(t,e){return t.map(n=>n*e)}function y3(t,e){return t.map(()=>e||nk).splice(0,t.length-1)}function fu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=R4(s)?s.map(NE):NE(s),l={done:!1,value:e[0]},c=g3(n&&n.length===e.length?n:p3(e),t),h=f3(c,e,{ease:Array.isArray(a)?a:y3(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const b3=t=>t!==null;function Xy(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(b3),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const v3={decay:l0,inertia:l0,tween:fu,keyframes:fu,spring:_f};function gk(t){typeof t.type=="string"&&(t.type=v3[t.type])}class Yy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const x3=t=>t/100;class Qy extends Yy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Zn.now()&&this.tick(Zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gk(e);const{type:n=fu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=n||fu;f!==fu&&typeof h[0]!="number"&&(this.mixKeyframes=Ku(x3,fk(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=$y(p));const{calculatedDuration:b}=p;this.calculatedDuration=b,this.resolvedDuration=b+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:b,repeat:v,repeatType:w,repeatDelay:A,type:N,onUpdate:O,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,ae=s;if(v){const T=Math.min(this.currentTime,a)/h;let C=Math.floor(T),V=T%1;!V&&T>=1&&(V=1),V===1&&C--,C=Math.min(C,v+1),!!(C%2)&&(w==="reverse"?(V=1-V,A&&(V-=A/h)):w==="mirror"&&(ae=c)),q=cr(0,1,V)*h}const oe=X?{done:!1,value:b[0]}:ae.next(q);l&&(oe.value=l(oe.value));let{done:ue}=oe;!X&&f!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return R&&N!==l0&&(oe.value=Xy(b,this.options,M,this.speed)),O&&O(oe.value),R&&this.finish(),oe}then(e,n){return this.finished.then(e,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){var n;e=Ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ai(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=i3,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function _3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ja=t=>t*180/Math.PI,c0=t=>{const e=Ja(Math.atan2(t[1],t[0]));return u0(e)},w3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:c0,rotateZ:c0,skewX:t=>Ja(Math.atan(t[1])),skewY:t=>Ja(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},u0=t=>(t=t%360,t<0&&(t+=360),t),PE=c0,OE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),E3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OE,scaleY:LE,scale:t=>(OE(t)+LE(t))/2,rotateX:t=>u0(Ja(Math.atan2(t[6],t[5]))),rotateY:t=>u0(Ja(Math.atan2(-t[2],t[0]))),rotateZ:PE,rotate:PE,skewX:t=>Ja(Math.atan(t[4])),skewY:t=>Ja(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function d0(t){return t.includes("scale")?1:0}function h0(t,e){if(!t||t==="none")return d0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=E3,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=w3,a=h}if(!a)return d0(e);const l=s[e],c=a[1].split(",").map(S3);return typeof l=="function"?l(c):c[l]}const T3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return h0(n,e)};function S3(t){return parseFloat(t.trim())}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hl=new Set(ql),zE=t=>t===Fl||t===Me,A3=new Set(["x","y","z"]),k3=ql.filter(t=>!A3.has(t));function R3(t){const e=[];return k3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const to={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>h0(e,"x"),y:(t,{transform:e})=>h0(e,"y")};to.translateX=to.x;to.translateY=to.y;const no=new Set;let f0=!1,m0=!1,p0=!1;function yk(){if(m0){const t=Array.from(no).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=R3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var h;(h=s.getValue(l))==null||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}m0=!1,f0=!1,no.forEach(t=>t.complete(p0)),no.clear()}function bk(){no.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(m0=!0)})}function C3(){p0=!0,bk(),yk(),p0=!1}class Zy{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(no.add(this),f0||(f0=!0,Nt.read(bk),Nt.resolveKeyframes(yk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}_3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),no.delete(this)}cancel(){this.state==="scheduled"&&(no.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N3=t=>t.startsWith("--");function I3(t,e,n){N3(e)?t.style.setProperty(e,n):t.style[e]=n}const D3=zy(()=>window.ScrollTimeline!==void 0),M3={};function j3(t,e){const n=zy(t);return()=>M3[e]??n()}const vk=j3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),su=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,UE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:su([0,.65,.55,1]),circOut:su([.55,0,1,.45]),backIn:su([.31,.01,.66,-.59]),backOut:su([.33,1.53,.69,.99])};function xk(t,e){if(t)return typeof t=="function"?vk()?mk(t,e):"ease-out":ik(t)?su(t):Array.isArray(t)?t.map(n=>xk(n,e)||UE.easeOut):UE[t]}function V3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},p=void 0){const b={[e]:n};f&&(b.offset=f);const v=xk(h,a);Array.isArray(v)&&(b.easing=v);const w={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(b,w)}function _k(t){return typeof t=="function"&&"applyToOptions"in t}function P3({type:t,...e}){return _k(t)&&vk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class O3 extends Yy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Ly(typeof e.type!="string");const p=P3(e);this.animation=V3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const b=Xy(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(b):I3(n,s,b),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&D3()?(this.animation.timeline=e,ki):n(this)}}const wk={anticipate:JA,backInOut:WA,circInOut:tk};function L3(t){return t in wk}function z3(t){typeof t.ease=="string"&&L3(t.ease)&&(t.ease=wk[t.ease])}const BE=10;class U3 extends O3{constructor(e){z3(e),gk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Qy({...c,autoplay:!1}),f=Ss(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-BE).value,h.sample(f).value,BE),h.stop()}}const FE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ua.test(t)||t==="0")&&!t.startsWith("url("));function B3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function F3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=FE(a,e),h=FE(l,e);return!c||!h?!1:B3(t)||(n==="spring"||_k(n))&&s}function g0(t){t.duration=0,t.type="keyframes"}const q3=new Set(["opacity","clipPath","filter","transform"]),H3=zy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G3(t){var b;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((b=e==null?void 0:e.owner)==null?void 0:b.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return H3()&&n&&q3.has(n)&&(n!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const K3=40;class $3 extends Yy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:p,element:b,...v}){var N;super(),this.stop=()=>{var O,M;this._animation&&(this._animation.stop(),(O=this.stopTimeline)==null||O.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=Zn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:b,...v},A=(b==null?void 0:b.KeyframeResolver)||Zy;this.keyframeResolver=new A(h,(O,M,B)=>this.onKeyframesResolved(O,M,w,!B),f,p,b),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:p,onUpdate:b}=s;this.resolvedAt=Zn.now(),F3(e,l,c,h)||((ur.instantAnimations||!f)&&(b==null||b(Xy(e,s,n))),e[0]=e[e.length-1],g0(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>K3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&G3(w)?new U3({...w,element:w.motionValue.owner.current}):new Qy(w);A.finished.then(()=>this.notifyFinished()).catch(ki),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),C3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const X3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y3(t){const e=X3.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Ek(t,e,n=1){const[s,a]=Y3(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return HA(c)?parseFloat(c):c}return qy(a)?Ek(a,e,n+1):a}function Wy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Tk=new Set(["width","height","top","left","right","bottom",...ql]),Q3={test:t=>t==="auto",parse:t=>t},Sk=t=>e=>e.test(t),Ak=[Fl,Me,As,Gr,B4,U4,Q3],qE=t=>Ak.find(Sk(t));function Z3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KA(t):!0}const W3=new Set(["brightness","contrast","saturate","opacity"]);function J3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Hy)||[];if(!s)return t;const a=n.replace(s,"");let l=W3.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const e5=/\b([a-z-]*)\(.*?\)/gu,y0={...ua,getAnimatableNone:t=>{const e=t.match(e5);return e?e.map(J3).join(" "):t}},HE={...Fl,transform:Math.round},t5={rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:Rh,scaleX:Rh,scaleY:Rh,scaleZ:Rh,skew:Gr,skewX:Gr,skewY:Gr,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Ru,originX:IE,originY:IE,originZ:Me},Jy={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...t5,zIndex:HE,fillOpacity:Ru,strokeOpacity:Ru,numOctaves:HE},n5={...Jy,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:y0,WebkitFilter:y0},kk=t=>n5[t];function Rk(t,e){let n=kk(t);return n!==y0&&(n=ua),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const i5=new Set(["auto","none","0"]);function s5(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!i5.has(l)&&Cu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=Rk(n,a)}class r5 extends Zy{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),qy(p))){const b=Ek(p,n.current);b!==void 0&&(e[f]=b),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Tk.has(s)||e.length!==2)return;const[a,l]=e,c=qE(a),h=qE(l);if(c!==h)if(zE(c)&&zE(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else to[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Z3(e[a]))&&s.push(a);s.length&&s5(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=to[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function a5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Ck=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Nk(t){return GA(t)&&"offsetHeight"in t}const GE=30,o5=t=>!isNaN(parseFloat(t));class l5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Uy);const s=this.events[e].add(n);return e==="change"?()=>{s(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GE);return $A(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rl(t,e){return new l5(t,e)}const{schedule:eb}=sk(queueMicrotask,!1),qi={x:!1,y:!1};function Ik(){return qi.x||qi.y}function c5(t){return t==="x"||t==="y"?qi[t]?null:(qi[t]=!0,()=>{qi[t]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}function Dk(t,e){const n=a5(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function KE(t){return!(t.pointerType==="touch"||Ik())}function u5(t,e,n={}){const[s,a,l]=Dk(t,n),c=h=>{if(!KE(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const b=v=>{KE(v)&&(p(v),f.removeEventListener("pointerleave",b))};f.addEventListener("pointerleave",b,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const Mk=(t,e)=>e?t===e?!0:Mk(t,e.parentElement):!1,tb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function h5(t){return d5.has(t.tagName)||t.tabIndex!==-1}const Xh=new WeakSet;function $E(t){return e=>{e.key==="Enter"&&t(e)}}function bg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const f5=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=$E(()=>{if(Xh.has(n))return;bg(n,"down");const a=$E(()=>{bg(n,"up")}),l=()=>bg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function XE(t){return tb(t)&&!Ik()}function m5(t,e,n={}){const[s,a,l]=Dk(t,n),c=h=>{const f=h.currentTarget;if(!XE(h))return;Xh.add(f);const p=e(f,h),b=(A,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Xh.has(f)&&Xh.delete(f),XE(A)&&typeof p=="function"&&p(A,{success:N})},v=A=>{b(A,f===window||f===document||n.useGlobalTarget||Mk(f,A.target))},w=A=>{b(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Nk(h)&&(h.addEventListener("focus",p=>f5(p,a)),!h5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function jk(t){return GA(t)&&"ownerSVGElement"in t}function p5(t){return jk(t)&&t.tagName==="svg"}const Dn=t=>!!(t&&t.getVelocity),g5=[...Ak,tn,ua],y5=t=>g5.find(Sk(t)),nb=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function YE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function b5(...t){return e=>{let n=!1;const s=t.map(a=>{const l=YE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():YE(t[a],null)}}}}function v5(...t){return I.useCallback(b5(...t),t)}class x5 extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Nk(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _5({children:t,isPresent:e,anchorX:n,root:s}){const a=I.useId(),l=I.useRef(null),c=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=I.useContext(nb),f=v5(l,t==null?void 0:t.ref);return I.useInsertionEffect(()=>{const{width:p,height:b,top:v,left:w,right:A}=c.current;if(e||!l.current||!p||!b)return;const N=n==="left"?`left: ${w}`:`right: ${A}`;l.current.dataset.motionPopId=a;const O=document.createElement("style");h&&(O.nonce=h);const M=s??document.head;return M.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${b}px !important;
            ${N}px !important;
            top: ${v}px !important;
          }
        `),()=>{M.contains(O)&&M.removeChild(O)}},[e]),y.jsx(x5,{isPresent:e,childRef:l,sizeRef:c,children:I.cloneElement(t,{ref:f})})}const w5=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:f})=>{const p=jy(E5),b=I.useId();let v=!0,w=I.useMemo(()=>(v=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const N of p.values())if(!N)return;s&&s()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,s]);return l&&v&&(w={...w}),I.useMemo(()=>{p.forEach((A,N)=>p.set(N,!1))},[n]),I.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(_5,{isPresent:n,anchorX:h,root:f,children:t})),y.jsx($f.Provider,{value:w,children:t})};function E5(){return new Map}function Vk(t=!0){const e=I.useContext($f);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const c=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Ch=t=>t.key||"";function QE(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Pk=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:f})=>{const[p,b]=Vk(c),v=I.useMemo(()=>QE(t),[t]),w=c&&!p?[]:v.map(Ch),A=I.useRef(!0),N=I.useRef(v),O=jy(()=>new Map),[M,B]=I.useState(v),[X,q]=I.useState(v);qA(()=>{A.current=!1,N.current=v;for(let ue=0;ue<X.length;ue++){const R=Ch(X[ue]);w.includes(R)?O.delete(R):O.get(R)!==!0&&O.set(R,!1)}},[X,w.length,w.join("-")]);const ae=[];if(v!==M){let ue=[...v];for(let R=0;R<X.length;R++){const T=X[R],C=Ch(T);w.includes(C)||(ue.splice(R,0,T),ae.push(T))}return l==="wait"&&ae.length&&(ue=ae),q(QE(ue)),B(v),null}const{forceRender:oe}=I.useContext(My);return y.jsx(y.Fragment,{children:X.map(ue=>{const R=Ch(ue),T=c&&!p?!1:v===X||w.includes(R),C=()=>{if(O.has(R))O.set(R,!0);else return;let V=!0;O.forEach(P=>{P||(V=!1)}),V&&(oe==null||oe(),q(N.current),c&&(b==null||b()),s&&s())};return y.jsx(w5,{isPresent:T,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:T?void 0:C,anchorX:h,children:ue},R)})})},Ok=I.createContext({strict:!1}),ZE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cl={};for(const t in ZE)Cl[t]={isEnabled:e=>ZE[t].some(n=>!!e[n])};function T5(t){for(const e in t)Cl[e]={...Cl[e],...t[e]}}const S5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||S5.has(t)}let Lk=t=>!wf(t);function A5(t){typeof t=="function"&&(Lk=e=>e.startsWith("on")?!wf(e):t(e))}try{A5(require("@emotion/is-prop-valid").default)}catch{}function k5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(Lk(a)||n===!0&&wf(a)||!e&&!wf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Xf=I.createContext({});function Yf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Nu(t){return typeof t=="string"||Array.isArray(t)}const ib=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sb=["initial",...ib];function Qf(t){return Yf(t.animate)||sb.some(e=>Nu(t[e]))}function zk(t){return!!(Qf(t)||t.variants)}function R5(t,e){if(Qf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Nu(n)?n:void 0,animate:Nu(s)?s:void 0}}return t.inherit!==!1?e:{}}function C5(t){const{initial:e,animate:n}=R5(t,I.useContext(Xf));return I.useMemo(()=>({initial:e,animate:n}),[WE(e),WE(n)])}function WE(t){return Array.isArray(t)?t.join(" "):t}function JE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=JE(t,e.target.x),s=JE(t,e.target.y);return`${n}% ${s}%`}},N5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ua.parse(t);if(a.length>5)return s;const l=ua.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const p=Vt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},b0={borderRadius:{...Qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qc,borderTopRightRadius:Qc,borderBottomLeftRadius:Qc,borderBottomRightRadius:Qc,boxShadow:N5};function Uk(t,{layout:e,layoutId:n}){return Hl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!b0[t]||t==="opacity")}const I5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D5=ql.length;function M5(t,e,n){let s="",a=!0;for(let l=0;l<D5;l++){const c=ql[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Ck(h,Jy[c]);if(!f){a=!1;const b=I5[c]||c;s+=`${b}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function rb(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const p=e[f];if(Hl.has(f)){c=!0;continue}else if(ak(f)){a[f]=p;continue}else{const b=Ck(p,Jy[f]);f.startsWith("origin")?(h=!0,l[f]=b):s[f]=b}}if(e.transform||(c||n?s.transform=M5(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:b=0}=l;s.transformOrigin=`${f} ${p} ${b}`}}const ab=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bk(t,e,n){for(const s in e)!Dn(e[s])&&!Uk(s,n)&&(t[s]=e[s])}function j5({transformTemplate:t},e){return I.useMemo(()=>{const n=ab();return rb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function V5(t,e){const n=t.style||{},s={};return Bk(s,n,t),Object.assign(s,j5(t,e)),s}function P5(t,e){const n={},s=V5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const O5={offset:"stroke-dashoffset",array:"stroke-dasharray"},L5={offset:"strokeDashoffset",array:"strokeDasharray"};function z5(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?O5:L5;t[l.offset]=Me.transform(-s);const c=Me.transform(e),h=Me.transform(n);t[l.array]=`${c} ${h}`}function Fk(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,p,b){if(rb(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(b==null?void 0:b.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&z5(v,a,l,c,!1)}const qk=()=>({...ab(),attrs:{}}),Hk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function U5(t,e,n,s){const a=I.useMemo(()=>{const l=qk();return Fk(l,e,Hk(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Bk(l,t.style,t),a.style={...l,...a.style}}return a}const B5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ob(t){return typeof t!="string"||t.includes("-")?!1:!!(B5.indexOf(t)>-1||/[A-Z]/u.test(t))}function F5(t,e,n,{latestValues:s},a,l=!1){const h=(ob(t)?U5:P5)(e,s,a,t),f=k5(e,typeof t=="string",l),p=t!==I.Fragment?{...f,...h,ref:n}:{},{children:b}=e,v=I.useMemo(()=>Dn(b)?b.get():b,[b]);return I.createElement(t,{...p,children:v})}function eT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function lb(t,e,n,s){if(typeof e=="function"){const[a,l]=eT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=eT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Yh(t){return Dn(t)?t.get():t}function q5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:H5(n,s,a,t),renderState:e()}}function H5(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Yh(l[w]);let{initial:c,animate:h}=t;const f=Qf(t),p=zk(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let b=n?n.initial===!1:!1;b=b||c===!1;const v=b?h:c;if(v&&typeof v!="boolean"&&!Yf(v)){const w=Array.isArray(v)?v:[v];for(let A=0;A<w.length;A++){const N=lb(t,w[A]);if(N){const{transitionEnd:O,transition:M,...B}=N;for(const X in B){let q=B[X];if(Array.isArray(q)){const ae=b?q.length-1:0;q=q[ae]}q!==null&&(a[X]=q)}for(const X in O)a[X]=O[X]}}}return a}const Gk=t=>(e,n)=>{const s=I.useContext(Xf),a=I.useContext($f),l=()=>q5(t,e,s,a);return n?l():jy(l)};function cb(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Dn(s[c])||e.style&&Dn(e.style[c])||Uk(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const G5=Gk({scrapeMotionValuesFromProps:cb,createRenderState:ab});function Kk(t,e,n){const s=cb(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const l=ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const K5=Gk({scrapeMotionValuesFromProps:Kk,createRenderState:qk}),$5=Symbol.for("motionComponentSymbol");function dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function X5(t,e,n){return I.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):dl(n)&&(n.current=s))},[e])}const ub=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y5="framerAppearId",$k="data-"+ub(Y5),Xk=I.createContext({});function Q5(t,e,n,s,a){var O,M;const{visualElement:l}=I.useContext(Xf),c=I.useContext(Ok),h=I.useContext($f),f=I.useContext(nb).reducedMotion,p=I.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const b=p.current,v=I.useContext(Xk);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&Z5(p.current,n,a,v);const w=I.useRef(!1);I.useInsertionEffect(()=>{b&&w.current&&b.update(n,h)});const A=n[$k],N=I.useRef(!!A&&!((O=window.MotionHandoffIsComplete)!=null&&O.call(window,A))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,A)));return qA(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),N.current&&b.animationState&&b.animationState.animateChanges())}),I.useEffect(()=>{b&&(!N.current&&b.animationState&&b.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,A)}),N.current=!1),b.enteringChildren=void 0)}),b}function Z5(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:b}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Yk(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&dl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:b,layoutScroll:f,layoutRoot:p})}function Yk(t){if(t)return t.options.allowProjection!==!1?t.projection:Yk(t.parent)}function vg(t,{forwardMotionProps:e=!1}={},n,s){n&&T5(n);const a=ob(t)?K5:G5;function l(h,f){let p;const b={...I.useContext(nb),...h,layoutId:W5(h)},{isStatic:v}=b,w=C5(h),A=a(h,v);if(!v&&Vy){J5();const N=eL(b);p=N.MeasureLayout,w.visualElement=Q5(t,A,b,s,N.ProjectionNode)}return y.jsxs(Xf.Provider,{value:w,children:[p&&w.visualElement?y.jsx(p,{visualElement:w.visualElement,...b}):null,F5(t,h,X5(A,w.visualElement,f),A,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=I.forwardRef(l);return c[$5]=t,c}function W5({layoutId:t}){const e=I.useContext(My).id;return e&&t!==void 0?e+"-"+t:t}function J5(t,e){I.useContext(Ok).strict}function eL(t){const{drag:e,layout:n}=Cl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function tL(t,e){if(typeof Proxy>"u")return vg;const n=new Map,s=(l,c)=>vg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,vg(c,void 0,t,e)),n.get(c))})}function Qk({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function nL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function xg(t){return t===void 0||t===1}function v0({scale:t,scaleX:e,scaleY:n}){return!xg(t)||!xg(e)||!xg(n)}function Ya(t){return v0(t)||Zk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Zk(t){return tT(t.x)||tT(t.y)}function tT(t){return t&&t!=="0%"}function Ef(t,e,n){const s=t-n,a=e*s;return n+a}function nT(t,e,n,s,a){return a!==void 0&&(t=Ef(t,a,s)),Ef(t,n,s)+e}function x0(t,e=0,n=1,s,a){t.min=nT(t.min,e,n,s,a),t.max=nT(t.max,e,n,s,a)}function Wk(t,{x:e,y:n}){x0(t.x,e.translate,e.scale,e.originPoint),x0(t.y,n.translate,n.scale,n.originPoint)}const iT=.999999999999,sT=1.0000000000001;function sL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Wk(t,c)),s&&Ya(l.latestValues)&&fl(t,l.latestValues))}e.x<sT&&e.x>iT&&(e.x=1),e.y<sT&&e.y>iT&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function rT(t,e,n,s,a=.5){const l=Vt(t.min,t.max,a);x0(t,e,n,l,s)}function fl(t,e){rT(t.x,e.x,e.scaleX,e.scale,e.originX),rT(t.y,e.y,e.scaleY,e.scale,e.originY)}function Jk(t,e){return Qk(iL(t.getBoundingClientRect(),e))}function rL(t,e,n){const s=Jk(t,n),{scroll:a}=e;return a&&(hl(s.x,a.offset.x),hl(s.y,a.offset.y)),s}const aT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:aT(),y:aT()}),oT=()=>({min:0,max:0}),ln=()=>({x:oT(),y:oT()}),_0={current:null},eR={current:!1};function aL(){if(eR.current=!0,!!Vy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_0.current=t.matches;t.addEventListener("change",e),e()}else _0.current=!1}const oL=new WeakMap;function lL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Dn(a))t.addValue(s,a);else if(Dn(l))t.addValue(s,Rl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Rl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const lT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Zn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Nt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Qf(n),this.isVariantNode=zk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const A=v[w];f[w]!==void 0&&Dn(A)&&A.set(f[w])}}mount(e){var n;this.current=e,oL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),eR.current||aL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ca(this.notifyUpdate),ca(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Hl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cl){const n=Cl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<lT.length;s++){const a=lT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=lL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Rl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(HA(s)||KA(s))?s=parseFloat(s):!y5(s)&&ua.test(n)&&(s=Rk(e,n)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=lb(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Uy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){eb.render(this.render)}}class tR extends cL{constructor(){super(...arguments),this.KeyframeResolver=r5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function uL(t){return window.getComputedStyle(t)}class dL extends tR{constructor(){super(...arguments),this.type="html",this.renderInstance=nR}readValueFromInstance(e,n){var s;if(Hl.has(n))return(s=this.projection)!=null&&s.isProjecting?d0(n):T3(e,n);{const a=uL(e),l=(ak(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Jk(e,n)}build(e,n,s){rb(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return cb(e,n,s)}}const iR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hL(t,e,n,s){nR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(iR.has(a)?a:ub(a),e.attrs[a])}class fL extends tR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hl.has(n)){const s=kk(n);return s&&s.default||0}return n=iR.has(n)?n:ub(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Kk(e,n,s)}build(e,n,s){Fk(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){hL(e,n,s,a)}mount(e){this.isSVGTag=Hk(e.tagName),super.mount(e)}}const mL=(t,e)=>ob(t)?new fL(e):new dL(e,{allowProjection:t!==I.Fragment});function xl(t,e,n){const s=t.getProps();return lb(s,e,n!==void 0?n:s.custom,t)}const w0=t=>Array.isArray(t);function pL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rl(n))}function gL(t){return w0(t)?t[t.length-1]||0:t}function yL(t,e){const n=xl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=gL(l[c]);pL(t,c,h)}}function bL(t){return!!(Dn(t)&&t.add)}function E0(t,e){const n=t.getValue("willChange");if(bL(n))return n.add(e);if(!n&&ur.WillChange){const s=new ur.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function sR(t){return t.props[$k]}const vL=t=>t!==null;function xL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(vL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const _L={type:"spring",stiffness:500,damping:25,restSpeed:10},wL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),EL={type:"keyframes",duration:.8},TL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SL=(t,{keyframes:e})=>e.length>2?EL:Hl.has(t)?t.startsWith("scale")?wL(e[1]):_L:TL;function AL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...b}){return!!Object.keys(b).length}const db=(t,e,n,s={},a,l)=>c=>{const h=Wy(s,t)||{},f=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Ss(f);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};AL(h)||Object.assign(b,SL(t,b)),b.duration&&(b.duration=Ss(b.duration)),b.repeatDelay&&(b.repeatDelay=Ss(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let v=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(g0(b),b.delay===0&&(v=!0)),(ur.instantAnimations||ur.skipAnimations)&&(v=!0,g0(b),b.delay=0),b.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=xL(b.keyframes,h);if(w!==void 0){Nt.update(()=>{b.onUpdate(w),b.onComplete()});return}}return h.isSync?new Qy(b):new $3(b)};function kL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function rR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const b in h){const v=t.getValue(b,t.latestValues[b]??null),w=h[b];if(w===void 0||p&&kL(p,b))continue;const A={delay:n,...Wy(l||{},b)},N=v.get();if(N!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===N&&!A.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const B=sR(t);if(B){const X=window.MotionHandoffAnimation(B,b,Nt);X!==null&&(A.startTime=X,O=!0)}}E0(t,b),v.start(db(b,v,w,t.shouldReduceMotion&&Tk.has(b)?{type:!1}:A,t,O));const M=v.animation;M&&f.push(M)}return c&&Promise.all(f).then(()=>{Nt.update(()=>{c&&yL(t,c)})}),f}function aR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,b)=>p.sortNodePosition(b)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}function T0(t,e,n={}){var f;const s=xl(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(rR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:b=0,staggerChildren:v,staggerDirection:w}=a;return RL(t,e,p,b,v,w,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,b]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>b())}else return Promise.all([l(),c(n.delay)])}function RL(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(T0(f,e,{...c,delay:n+(typeof s=="function"?0:s)+aR(t.variantChildren,f,s,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function CL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>T0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=T0(t,e,n);else{const a=typeof e=="function"?xl(t,e,n.custom):e;s=Promise.all(rR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function oR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const NL=sb.length;function lR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NL;n++){const s=sb[n],a=t.props[s];(Nu(a)||a===!1)&&(e[s]=a)}return e}const IL=[...ib].reverse(),DL=ib.length;function ML(t){return e=>Promise.all(e.map(({animation:n,options:s})=>CL(t,n,s)))}function jL(t){let e=ML(t),n=cT(),s=!0;const a=f=>(p,b)=>{var w;const v=xl(t,b,f==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:A,transitionEnd:N,...O}=v;p={...p,...O,...N}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,b=lR(t.parent)||{},v=[],w=new Set;let A={},N=1/0;for(let M=0;M<DL;M++){const B=IL[M],X=n[B],q=p[B]!==void 0?p[B]:b[B],ae=Nu(q),oe=B===f?X.isActive:null;oe===!1&&(N=M);let ue=q===b[B]&&q!==p[B]&&ae;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),X.protectedKeys={...A},!X.isActive&&oe===null||!q&&!X.prevProp||Yf(q)||typeof q=="boolean")continue;const R=VL(X.prevProp,q);let T=R||B===f&&X.isActive&&!ue&&ae||M>N&&ae,C=!1;const V=Array.isArray(q)?q:[q];let P=V.reduce(a(B),{});oe===!1&&(P={});const{prevResolvedValues:U={}}=X,D={...U,...P},Xe=re=>{T=!0,w.has(re)&&(C=!0,w.delete(re)),X.needsAnimating[re]=!0;const J=t.getValue(re);J&&(J.liveStyle=!1)};for(const re in D){const J=P[re],Ae=U[re];if(A.hasOwnProperty(re))continue;let Ve=!1;w0(J)&&w0(Ae)?Ve=!oR(J,Ae):Ve=J!==Ae,Ve?J!=null?Xe(re):w.add(re):J!==void 0&&w.has(re)?Xe(re):X.protectedKeys[re]=!0}X.prevProp=q,X.prevResolvedValues=P,X.isActive&&(A={...A,...P}),s&&t.blockInitialAnimation&&(T=!1);const je=ue&&R;T&&(!je||C)&&v.push(...V.map(re=>{const J={type:B};if(typeof re=="string"&&s&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Ve=xl(Ae,re);if(Ae.enteringChildren&&Ve){const{delayChildren:L}=Ve.transition||{};J.delay=aR(Ae.enteringChildren,t,L)}}return{animation:re,options:J}}))}if(w.size){const M={};if(typeof p.initial!="boolean"){const B=xl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(M.transition=B.transition)}w.forEach(B=>{const X=t.getBaseTarget(B),q=t.getValue(B);q&&(q.liveStyle=!0),M[B]=X??null}),v.push({animation:M})}let O=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(v):Promise.resolve()}function h(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var A;return(A=w.animationState)==null?void 0:A.setActive(f,p)}),n[f].isActive=p;const b=c(f);for(const w in n)n[w].protectedKeys={};return b}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cT()}}}function VL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oR(e,t):!1}function Ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cT(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class ga{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PL extends ga{constructor(e){super(e),e.animationState||(e.animationState=jL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let OL=0;class LL extends ga{constructor(){super(...arguments),this.id=OL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zL={animation:{Feature:PL},exit:{Feature:LL}};function Iu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Yu(t){return{point:{x:t.pageX,y:t.pageY}}}const UL=t=>e=>tb(e)&&t(e,Yu(e));function mu(t,e,n,s){return Iu(t,e,UL(n),s)}const cR=1e-4,BL=1-cR,FL=1+cR,uR=.01,qL=0-uR,HL=0+uR;function Un(t){return t.max-t.min}function GL(t,e,n){return Math.abs(t-e)<=n}function uT(t,e,n,s=.5){t.origin=s,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=BL&&t.scale<=FL||isNaN(t.scale))&&(t.scale=1),(t.translate>=qL&&t.translate<=HL||isNaN(t.translate))&&(t.translate=0)}function pu(t,e,n,s){uT(t.x,e.x,n.x,s?s.originX:void 0),uT(t.y,e.y,n.y,s?s.originY:void 0)}function dT(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function KL(t,e,n){dT(t.x,e.x,n.x),dT(t.y,e.y,n.y)}function hT(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function Tf(t,e,n){hT(t.x,e.x,n.x),hT(t.y,e.y,n.y)}function Ei(t){return[t("x"),t("y")]}const dR=({current:t})=>t?t.ownerDocument.defaultView:null,fT=(t,e)=>Math.abs(t-e);function $L(t,e){const n=fT(t.x,e.x),s=fT(t.y,e.y);return Math.sqrt(n**2+s**2)}class hR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=wg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,N=$L(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!N)return;const{point:O}=w,{timestamp:M}=En;this.history.push({...O,timestamp:M});const{onStart:B,onMove:X}=this.handlers;A||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=_g(A,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:N,onSessionEnd:O,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=wg(w.type==="pointercancel"?this.lastMoveEventInfo:_g(A,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,B),O&&O(w,B)},!tb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const h=Yu(e),f=_g(h,this.transformPagePoint),{point:p}=f,{timestamp:b}=En;this.history=[{...p,timestamp:b}];const{onSessionStart:v}=n;v&&v(e,wg(f,this.history)),this.removeListeners=Ku(mu(this.contextWindow,"pointermove",this.handlePointerMove),mu(this.contextWindow,"pointerup",this.handlePointerUp),mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ca(this.updatePoint)}}function _g(t,e){return e?{point:e(t.point)}:t}function mT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wg({point:t},e){return{point:t,delta:mT(t,fR(e)),offset:mT(t,XL(e)),velocity:YL(e,.1)}}function XL(t){return t[0]}function fR(t){return t[t.length-1]}function YL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=fR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ss(e)));)n--;if(!s)return{x:0,y:0};const l=Ai(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function QL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Vt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Vt(n,t,s.max):Math.min(t,n)),t}function pT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ZL(t,{top:e,left:n,bottom:s,right:a}){return{x:pT(t.x,n,a),y:pT(t.y,e,s)}}function gT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function WL(t,e){return{x:gT(t.x,e.x),y:gT(t.y,e.y)}}function JL(t,e){let n=.5;const s=Un(t),a=Un(e);return a>s?n=ku(e.min,e.max-s,t.min):s>a&&(n=ku(t.min,t.max-a,e.min)),cr(0,1,n)}function ez(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const S0=.35;function tz(t=S0){return t===!1?t=0:t===!0&&(t=S0),{x:yT(t,"left","right"),y:yT(t,"top","bottom")}}function yT(t,e,n){return{min:bT(t,e),max:bT(t,n)}}function bT(t,e){return typeof t=="number"?t:t[e]||0}const nz=new WeakMap;class iz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yu(v).point)},c=(v,w)=>{const{drag:A,dragPropagation:N,onDragStart:O}=this.getProps();if(A&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c5(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ei(B=>{let X=this.getAxisMotionValue(B).get()||0;if(As.test(X)){const{projection:q}=this.visualElement;if(q&&q.layout){const ae=q.layout.layoutBox[B];ae&&(X=Un(ae)*(parseFloat(X)/100))}}this.originPoint[B]=X}),O&&Nt.postRender(()=>O(v,w)),E0(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:N,onDirectionLock:O,onDrag:M}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=w;if(N&&this.currentDirection===null){this.currentDirection=sz(B),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),M&&M(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ei(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new hR(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:s,contextWindow:dR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Nt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Nh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=QL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=ZL(s.layoutBox,e):this.constraints=!1,this.elastic=tz(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ei(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ez(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=rL(s,a.root,this.visualElement.getTransformPagePoint());let c=WL(a.layout.layoutBox,l);if(n){const h=n(nL(c));this.hasMutatedConstraints=!!h,h&&(c=Qk(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Ei(b=>{if(!Nh(b,n,this.currentDirection))return;let v=f&&f[b]||{};c&&(v={min:0,max:0});const w=a?200:1e6,A=a?40:1e7,N={type:"inertia",velocity:s?e[b]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(b,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return E0(this.visualElement,e),s.start(db(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ei(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ei(n=>{const{drag:s}=this.getProps();if(!Nh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(e[n]-Vt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!dl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ei(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=JL({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ei(c=>{if(!Nh(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(Vt(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;nz.set(this.visualElement,this);const e=this.visualElement.current,n=mu(e,"pointerdown",f=>{const{drag:p,dragListener:b=!0}=this.getProps();p&&b&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();dl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Nt.read(s);const c=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ei(b=>{const v=this.getAxisMotionValue(b);v&&(this.originPoint[b]+=f[b].translate,v.set(v.get()+f[b].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=S0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Nh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rz extends ga{constructor(e){super(e),this.removeGroupControls=ki,this.removeListeners=ki,this.controls=new iz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ki}unmount(){this.removeGroupControls(),this.removeListeners()}}const vT=t=>(e,n)=>{t&&Nt.postRender(()=>t(e,n))};class az extends ga{constructor(){super(...arguments),this.removePointerDownListener=ki}onPointerDown(e){this.session=new hR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:vT(e),onStart:vT(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Nt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=mu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Eg=!1;class oz extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Eg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Eg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Nt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Eg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mR(t){const[e,n]=Vk(),s=I.useContext(My);return y.jsx(oz,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(Xk),isPresent:e,safeToRemove:n})}function lz(t,e,n){const s=Dn(t)?t:Rl(t);return s.start(db("",s,e,n)),s.animation}const cz=(t,e)=>t.depth-e.depth;class uz{constructor(){this.children=[],this.isDirty=!1}add(e){Py(this.children,e),this.isDirty=!0}remove(e){Oy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cz),this.isDirty=!1,this.children.forEach(e)}}function dz(t,e){const n=Zn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ca(s),t(l-e))};return Nt.setup(s,!0),()=>ca(s)}const pR=["TopLeft","TopRight","BottomLeft","BottomRight"],hz=pR.length,xT=t=>typeof t=="string"?parseFloat(t):t,_T=t=>typeof t=="number"||Me.test(t);function fz(t,e,n,s,a,l){a?(t.opacity=Vt(0,n.opacity??1,mz(s)),t.opacityExit=Vt(e.opacity??1,0,pz(s))):l&&(t.opacity=Vt(e.opacity??1,n.opacity??1,s));for(let c=0;c<hz;c++){const h=`border${pR[c]}Radius`;let f=wT(e,h),p=wT(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||_T(f)===_T(p)?(t[h]=Math.max(Vt(xT(f),xT(p),s),0),(As.test(p)||As.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,s))}function wT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mz=gR(0,.5,ek),pz=gR(.5,.95,ki);function gR(t,e,n){return s=>s<t?0:s>e?1:n(ku(t,e,s))}function ET(t,e){t.min=e.min,t.max=e.max}function Bi(t,e){ET(t.x,e.x),ET(t.y,e.y)}function TT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ST(t,e,n,s,a){return t-=e,t=Ef(t,1/n,s),a!==void 0&&(t=Ef(t,1/a,s)),t}function gz(t,e=0,n=1,s=.5,a,l=t,c=t){if(As.test(e)&&(e=parseFloat(e),e=Vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Vt(l.min,l.max,s);t===l&&(h-=e),t.min=ST(t.min,e,n,h,a),t.max=ST(t.max,e,n,h,a)}function AT(t,e,[n,s,a],l,c){gz(t,e[n],e[s],e[a],e.scale,l,c)}const yz=["x","scaleX","originX"],bz=["y","scaleY","originY"];function kT(t,e,n,s){AT(t.x,e,yz,n?n.x:void 0,s?s.x:void 0),AT(t.y,e,bz,n?n.y:void 0,s?s.y:void 0)}function RT(t){return t.translate===0&&t.scale===1}function yR(t){return RT(t.x)&&RT(t.y)}function CT(t,e){return t.min===e.min&&t.max===e.max}function vz(t,e){return CT(t.x,e.x)&&CT(t.y,e.y)}function NT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bR(t,e){return NT(t.x,e.x)&&NT(t.y,e.y)}function IT(t){return Un(t.x)/Un(t.y)}function DT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xz{constructor(){this.members=[]}add(e){Py(this.members,e),e.scheduleRender()}remove(e){if(Oy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _z(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:b,rotateX:v,rotateY:w,skewX:A,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),b&&(s+=`rotate(${b}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),A&&(s+=`skewX(${A}deg) `),N&&(s+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const Tg=["","X","Y","Z"],wz=1e3;let Ez=0;function Sg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function vR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&vR(s)}function xR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=Ez++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Az),this.nodes.forEach(Nz),this.nodes.forEach(Iz),this.nodes.forEach(kz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new uz)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Uy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=jk(c)&&!p5(c),this.instance=c;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let b,v=0;const w=()=>this.root.updateBlockedByResize=!1;Nt.read(()=>{v=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,b&&b(),b=dz(w,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(VT)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||Pz,{onLayoutAnimationStart:O,onLayoutAnimationComplete:M}=p.getProps(),B=!this.targetLayout||!bR(this.targetLayout,A),X=!v&&w;if(this.options.layoutRoot||this.resumeFrom||X||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Wy(N,"layout"),onPlay:O,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(b,X)}else v||VT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ca(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const v=this.path[b];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Cz),this.nodes.forEach(Tz),this.nodes.forEach(Sz)):this.nodes.forEach(jT),this.clearAllSnapshots();const h=Zn.now();En.delta=cr(0,1e3/60,h-En.timestamp),En.timestamp=h,En.isProcessing=!0,fg.update.process(En),fg.preRender.process(En),fg.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rz),this.sharedNodes.forEach(Mz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!yR(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,b=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ya(this.latestValues)||b)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),Oz(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return ln();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Lz))){const{scroll:b}=this.root;b&&(hl(h.x,b.offset.x),hl(h.y,b.offset.y))}return h}removeElementScroll(c){var f;const h=ln();if(Bi(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const b=this.path[p],{scroll:v,options:w}=b;b!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Bi(h,c),hl(h.x,v.offset.x),hl(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const f=ln();Bi(f,c);for(let p=0;p<this.path.length;p++){const b=this.path[p];!h&&b.options.layoutScroll&&b.scroll&&b!==b.root&&fl(f,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Ya(b.latestValues)&&fl(f,b.latestValues)}return Ya(this.latestValues)&&fl(f,this.latestValues),f}removeTransform(c){const h=ln();Bi(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ya(p.latestValues))continue;v0(p.latestValues)&&p.updateSnapshot();const b=ln(),v=p.measurePageBox();Bi(b,v),kT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,b)}return Ya(this.latestValues)&&kT(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:v}=this.options;if(!this.layout||!(b||v))return;this.resolvedRelativeTargetAt=En.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),Wk(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||v0(this.parent.latestValues)||Zk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Tf(this.relativeTargetOrigin,h,f),Bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var N;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===En.timestamp&&(f=!1),f)return;const{layout:p,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||b))return;Bi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;sL(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ln());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TT(this.prevProjectionDelta.x,this.projectionDelta.x),TT(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!DT(this.projectionDelta.x,this.prevProjectionDelta.x)||!DT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},b={...this.latestValues},v=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=ln(),A=f?f.source:void 0,N=this.layout?this.layout.source:void 0,O=A!==N,M=this.getStack(),B=!M||M.members.length<=1,X=!!(O&&!B&&this.options.crossfade===!0&&!this.path.some(Vz));this.animationProgress=0;let q;this.mixTargetDelta=ae=>{const oe=ae/1e3;PT(v.x,c.x,oe),PT(v.y,c.y,oe),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jz(this.relativeTarget,this.relativeTargetOrigin,w,oe),q&&vz(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ln()),Bi(q,this.relativeTarget)),O&&(this.animationValues=b,fz(b,p,this.latestValues,oe,X,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ca(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{Qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rl(0)),this.currentAnimation=lz(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),c.onUpdate&&c.onUpdate(b)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:b}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&_R(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ln();const v=Un(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const w=Un(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}Bi(h,f),fl(h,b),pu(this.projectionDeltaWithTransform,this.layoutCorrected,h,b)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xz),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Sg("z",c,p,this.animationValues);for(let b=0;b<Tg.length;b++)Sg(`rotate${Tg[b]}`,c,p,this.animationValues),Sg(`skew${Tg[b]}`,c,p,this.animationValues);c.render();for(const b in p)c.setStaticValue(b,p[b]),this.animationValues&&(this.animationValues[b]=p[b]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yh(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yh(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const b=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=_z(this.projectionDeltaWithTransform,this.treeScale,b);f&&(v=f(b,v)),c.transform=v;const{x:w,y:A}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:c.opacity=p===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const N in b0){if(b[N]===void 0)continue;const{correct:O,applyTo:M,isCSSVariable:B}=b0[N],X=v==="none"?b[N]:O(b[N],p);if(M){const q=M.length;for(let ae=0;ae<q;ae++)c[M[ae]]=X}else B?this.options.visualElement.renderState.vars[N]=X:c[N]=X}this.options.layoutId&&(c.pointerEvents=p===this?Yh(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(MT),this.root.sharedNodes.clear()}}}function Tz(t){t.updateLayout()}function Sz(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Ei(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],A=Un(w);w.min=s[v].min,w.max=w.min+A}):_R(l,e.layoutBox,s)&&Ei(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],A=Un(s[v]);w.max=w.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+A)});const h=ml();pu(h,s,e.layoutBox);const f=ml();c?pu(f,t.applyTransform(a,!0),e.measuredBox):pu(f,s,e.layoutBox);const p=!yR(h);let b=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:A}=v;if(w&&A){const N=ln();Tf(N,e.layoutBox,w.layoutBox);const O=ln();Tf(O,s,A.layoutBox),bR(N,O)||(b=!0),v.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=N,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:b})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Az(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rz(t){t.clearSnapshot()}function MT(t){t.clearMeasurements()}function jT(t){t.isLayoutDirty=!1}function Cz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Nz(t){t.resolveTargetDelta()}function Iz(t){t.calcProjection()}function Dz(t){t.resetSkewAndRotation()}function Mz(t){t.removeLeadSnapshot()}function PT(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OT(t,e,n,s){t.min=Vt(e.min,n.min,s),t.max=Vt(e.max,n.max,s)}function jz(t,e,n,s){OT(t.x,e.x,n.x,s),OT(t.y,e.y,n.y,s)}function Vz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Pz={duration:.45,ease:[.4,0,.1,1]},LT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zT=LT("applewebkit/")&&!LT("chrome/")?Math.round:ki;function UT(t){t.min=zT(t.min),t.max=zT(t.max)}function Oz(t){UT(t.x),UT(t.y)}function _R(t,e,n){return t==="position"||t==="preserve-aspect"&&!GL(IT(e),IT(n),.2)}function Lz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const zz=xR({attachResizeListener:(t,e)=>Iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ag={current:void 0},wR=xR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ag.current){const t=new zz({});t.mount(window),t.setOptions({layoutScroll:!0}),Ag.current=t}return Ag.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uz={pan:{Feature:az},drag:{Feature:rz,ProjectionNode:wR,MeasureLayout:mR}};function BT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Nt.postRender(()=>l(e,Yu(e)))}class Bz extends ga{mount(){const{current:e}=this.node;e&&(this.unmount=u5(e,(n,s)=>(BT(this.node,s,"Start"),a=>BT(this.node,a,"End"))))}unmount(){}}class Fz extends ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Nt.postRender(()=>l(e,Yu(e)))}class qz extends ga{mount(){const{current:e}=this.node;e&&(this.unmount=m5(e,(n,s)=>(FT(this.node,s,"Start"),(a,{success:l})=>FT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A0=new WeakMap,kg=new WeakMap,Hz=t=>{const e=A0.get(t.target);e&&e(t)},Gz=t=>{t.forEach(Hz)};function Kz({root:t,...e}){const n=t||document;kg.has(n)||kg.set(n,{});const s=kg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Gz,{root:t,...e})),s[a]}function $z(t,e,n){const s=Kz(e);return A0.set(t,n),s.observe(t),()=>{A0.delete(t),s.unobserve(t)}}const Xz={some:0,all:1};class Yz extends ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Xz[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:b,onViewportLeave:v}=this.node.getProps(),w=p?b:v;w&&w(f)};return $z(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Qz(e,n))&&this.startObserver()}unmount(){}}function Qz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Zz={inView:{Feature:Yz},tap:{Feature:qz},focus:{Feature:Fz},hover:{Feature:Bz}},Wz={layout:{ProjectionNode:wR,MeasureLayout:mR}},Jz={...zL,...Zz,...Uz,...Wz},In=tL(Jz,mL);function ER(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ER(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function TR(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ER(t))&&(s&&(s+=" "),s+=e);return s}const e6=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},t6=(t,e)=>({classGroupId:t,validator:e}),SR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Sf="-",qT=[],n6="arbitrary..",i6=t=>{const e=r6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return s6(c);const h=c.split(Sf),f=h[0]===""&&h.length>1?1:0;return AR(h,f,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const f=s[c],p=n[c];return f?p?e6(p,f):f:p||qT}return n[c]||qT}}},AR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=AR(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(Sf):t.slice(e).join(Sf),f=c.length;for(let p=0;p<f;p++){const b=c[p];if(b.validator(h))return b.classGroupId}},s6=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?n6+s:void 0})(),r6=t=>{const{theme:e,classGroups:n}=t;return a6(n,e)},a6=(t,e)=>{const n=SR();for(const s in t){const a=t[s];hb(a,n,s,e)}return n},hb=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];o6(c,e,n,s)}},o6=(t,e,n,s)=>{if(typeof t=="string"){l6(t,e,n);return}if(typeof t=="function"){c6(t,e,n,s);return}u6(t,e,n,s)},l6=(t,e,n)=>{const s=t===""?e:kR(e,t);s.classGroupId=n},c6=(t,e,n,s)=>{if(d6(t)){hb(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(t6(n,t))},u6=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,f]=a[c];hb(f,kR(e,h),n,s)}},kR=(t,e)=>{let n=t;const s=e.split(Sf),a=s.length;for(let l=0;l<a;l++){const c=s[l];let h=n.nextPart.get(c);h||(h=SR(),n.nextPart.set(c,h)),n=h}return n},d6=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,h6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},k0="!",HT=":",f6=[],GT=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),m6=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,h=0,f=0,p;const b=a.length;for(let O=0;O<b;O++){const M=a[O];if(c===0&&h===0){if(M===HT){l.push(a.slice(f,O)),f=O+1;continue}if(M==="/"){p=O;continue}}M==="["?c++:M==="]"?c--:M==="("?h++:M===")"&&h--}const v=l.length===0?a:a.slice(f);let w=v,A=!1;v.endsWith(k0)?(w=v.slice(0,-1),A=!0):v.startsWith(k0)&&(w=v.slice(1),A=!0);const N=p&&p>f?p-f:void 0;return GT(l,A,w,N)};if(e){const a=e+HT,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):GT(f6,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},p6=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",f=e.has(c);h||f?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},g6=t=>({cache:h6(t.cacheSize),parseClassName:m6(t),sortModifiers:p6(t),...i6(t)}),y6=/\s+/,b6=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(y6);let f="";for(let p=h.length-1;p>=0;p-=1){const b=h[p],{isExternal:v,modifiers:w,hasImportantModifier:A,baseClassName:N,maybePostfixModifierPosition:O}=n(b);if(v){f=b+(f.length>0?" "+f:f);continue}let M=!!O,B=s(M?N.substring(0,O):N);if(!B){if(!M){f=b+(f.length>0?" "+f:f);continue}if(B=s(N),!B){f=b+(f.length>0?" "+f:f);continue}M=!1}const X=w.length===0?"":w.length===1?w[0]:l(w).join(":"),q=A?X+k0:X,ae=q+B;if(c.indexOf(ae)>-1)continue;c.push(ae);const oe=a(B,M);for(let ue=0;ue<oe.length;++ue){const R=oe[ue];c.push(q+R)}f=b+(f.length>0?" "+f:f)}return f},v6=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=RR(n))&&(a&&(a+=" "),a+=s);return a},RR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=RR(t[s]))&&(n&&(n+=" "),n+=e);return n},x6=(t,...e)=>{let n,s,a,l;const c=f=>{const p=e.reduce((b,v)=>v(b),t());return n=g6(p),s=n.cache.get,a=n.cache.set,l=h,h(f)},h=f=>{const p=s(f);if(p)return p;const b=b6(f,n);return a(f,b),b};return l=c,(...f)=>l(v6(...f))},_6=[],on=t=>{const e=n=>n[t]||_6;return e.isThemeGetter=!0,e},CR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,NR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,w6=/^\d+\/\d+$/,E6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,A6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sl=t=>w6.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),Hr=t=>!!t&&Number.isInteger(Number(t)),Rg=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),Zs=t=>E6.test(t),R6=()=>!0,C6=t=>T6.test(t)&&!S6.test(t),IR=()=>!1,N6=t=>A6.test(t),I6=t=>k6.test(t),D6=t=>!be(t)&&!ve(t),M6=t=>Gl(t,jR,IR),be=t=>CR.test(t),$a=t=>Gl(t,VR,C6),Cg=t=>Gl(t,L6,Ge),KT=t=>Gl(t,DR,IR),j6=t=>Gl(t,MR,I6),Ih=t=>Gl(t,PR,N6),ve=t=>NR.test(t),Zc=t=>Kl(t,VR),V6=t=>Kl(t,z6),$T=t=>Kl(t,DR),P6=t=>Kl(t,jR),O6=t=>Kl(t,MR),Dh=t=>Kl(t,PR,!0),Gl=(t,e,n)=>{const s=CR.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Kl=(t,e,n=!1)=>{const s=NR.exec(t);return s?s[1]?e(s[1]):n:!1},DR=t=>t==="position"||t==="percentage",MR=t=>t==="image"||t==="url",jR=t=>t==="length"||t==="size"||t==="bg-size",VR=t=>t==="length",L6=t=>t==="number",z6=t=>t==="family-name",PR=t=>t==="shadow",U6=()=>{const t=on("color"),e=on("font"),n=on("text"),s=on("font-weight"),a=on("tracking"),l=on("leading"),c=on("breakpoint"),h=on("container"),f=on("spacing"),p=on("radius"),b=on("shadow"),v=on("inset-shadow"),w=on("text-shadow"),A=on("drop-shadow"),N=on("blur"),O=on("perspective"),M=on("aspect"),B=on("ease"),X=on("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...ae(),ve,be],ue=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],T=()=>[ve,be,f],C=()=>[sl,"full","auto",...T()],V=()=>[Hr,"none","subgrid",ve,be],P=()=>["auto",{span:["full",Hr,ve,be]},Hr,ve,be],U=()=>[Hr,"auto",ve,be],D=()=>["auto","min","max","fr",ve,be],Xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...T()],re=()=>[sl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],J=()=>[t,ve,be],Ae=()=>[...ae(),$T,KT,{position:[ve,be]}],Ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",P6,M6,{size:[ve,be]}],ee=()=>[Rg,Zc,$a],le=()=>["","none","full",p,ve,be],de=()=>["",Ge,Zc,$a],fe=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Ge,Rg,$T,KT],Tt=()=>["","none",N,ve,be],nt=()=>["none",Ge,ve,be],jn=()=>["none",Ge,ve,be],Vn=()=>[Ge,ve,be],Pn=()=>[sl,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zs],breakpoint:[Zs],color:[R6],container:[Zs],"drop-shadow":[Zs],ease:["in","out","in-out"],font:[D6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zs],shadow:[Zs],spacing:["px",Ge],text:[Zs],"text-shadow":[Zs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",sl,be,ve,M]}],container:["container"],columns:[{columns:[Ge,be,ve,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Hr,"auto",ve,be]}],basis:[{basis:[sl,"full","auto",h,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,sl,"auto","initial","none",be]}],grow:[{grow:["",Ge,ve,be]}],shrink:[{shrink:["",Ge,ve,be]}],order:[{order:[Hr,"first","last","none",ve,be]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...Xe(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...Xe()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":Xe()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[h,"screen",...re()]}],"min-w":[{"min-w":[h,"screen","none",...re()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Zc,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ve,Cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rg,be]}],"font-family":[{font:[V6,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,be]}],"line-clamp":[{"line-clamp":[Ge,"none",ve,Cg]}],leading:[{leading:[l,...T()]}],"list-image":[{"list-image":["none",ve,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",ve,$a]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Ge,"auto",ve,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:Ve()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hr,ve,be],radial:["",ve,be],conic:[Hr,ve,be]},O6,j6]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,ve,be]}],"outline-w":[{outline:["",Ge,Zc,$a]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",b,Dh,Ih]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",v,Dh,Ih]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Ge,$a]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",w,Dh,Ih]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Ge,ve,be]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[ve,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:Ve()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,be]}],filter:[{filter:["","none",ve,be]}],blur:[{blur:Tt()}],brightness:[{brightness:[Ge,ve,be]}],contrast:[{contrast:[Ge,ve,be]}],"drop-shadow":[{"drop-shadow":["","none",A,Dh,Ih]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Ge,ve,be]}],"hue-rotate":[{"hue-rotate":[Ge,ve,be]}],invert:[{invert:["",Ge,ve,be]}],saturate:[{saturate:[Ge,ve,be]}],sepia:[{sepia:["",Ge,ve,be]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,be]}],"backdrop-blur":[{"backdrop-blur":Tt()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,ve,be]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,ve,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,ve,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,ve,be]}],"backdrop-invert":[{"backdrop-invert":["",Ge,ve,be]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,ve,be]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,ve,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,ve,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",ve,be]}],ease:[{ease:["linear","initial",B,ve,be]}],delay:[{delay:[Ge,ve,be]}],animate:[{animate:["none",X,ve,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,ve,be]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:jn()}],"scale-x":[{"scale-x":jn()}],"scale-y":[{"scale-y":jn()}],"scale-z":[{"scale-z":jn()}],"scale-3d":["scale-3d"],skew:[{skew:Vn()}],"skew-x":[{"skew-x":Vn()}],"skew-y":[{"skew-y":Vn()}],transform:[{transform:[ve,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pn()}],"translate-x":[{"translate-x":Pn()}],"translate-y":[{"translate-y":Pn()}],"translate-z":[{"translate-z":Pn()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,be]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Ge,Zc,$a,Cg]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},OR=x6(U6);function B6(...t){return OR(TR(t))}const Hi=({className:t,variant:e="primary",size:n="md",leftIcon:s,rightIcon:a,children:l,...c})=>{const h="relative font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",f={primary:"bg-primary text-white shadow-lg shadow-blue-500/30 hover:bg-blue-600 hover:shadow-blue-500/50",secondary:"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700",ghost:"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",danger:"bg-red-500 text-white shadow-lg shadow-red-500/30 hover:bg-red-600"},p={sm:"h-8 px-3 text-xs",md:"h-11 px-6 text-sm",lg:"h-14 px-8 text-base"};return y.jsxs(In.button,{whileHover:{scale:1.02},whileTap:{scale:.95},className:B6(h,f[e],p[n],t),...c,children:[s&&y.jsx("span",{className:"text-[1.2em] flex",children:s}),l,a&&y.jsx("span",{className:"text-[1.2em] flex",children:a})]})},F6=()=>{const t=Cs(),e=ho(),{user:n,logout:s}=Qi(),[a,l]=I.useState(!1),[c,h]=I.useState(!1),[f,p]=I.useState(!1);I.useEffect(()=>{const A=()=>l(window.scrollY>20);return window.addEventListener("scroll",A),document.documentElement.classList.contains("dark")&&p(!0),()=>window.removeEventListener("scroll",A)},[]);const b=()=>{wt.click(),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),p(!1)):(document.documentElement.classList.add("dark"),p(!0))},v=async()=>{wt.click(),await s(),e("/")},w=[{label:"Hasiera",path:"/",icon:"home"},{label:"Temarioa",path:"/topics",icon:"menu_book"},{label:"Jela",path:"/games",icon:"sports_esports"},{label:"Denda",path:"/shop",icon:"storefront"}];return n!=null&&n.isAdmin&&w.push({label:"Admin",path:"/admin",icon:"admin_panel_settings"}),y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${a?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md py-3 shadow-md border-slate-200 dark:border-slate-800":"bg-transparent py-5 border-transparent"}`,children:[y.jsxs("div",{className:"layout-container px-4 md:px-8 flex items-center justify-between",children:[y.jsxs(Ct,{to:"/",className:"flex items-center gap-2 group",children:[y.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white shadow-lg group-hover:scale-105 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"calculate"})}),y.jsxs("span",{className:"font-black text-xl tracking-tight text-slate-900 dark:text-white hidden sm:block",children:["Zenbaki",y.jsx("span",{className:"text-primary",children:"Osoak"})]})]}),y.jsx("nav",{className:"hidden md:flex items-center gap-1 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-1.5 rounded-full border border-slate-200/50 dark:border-slate-700/50 shadow-sm",children:w.map(A=>{const N=t.pathname===A.path;return y.jsx(Ct,{to:A.path,className:`relative px-4 py-2 rounded-full text-sm font-bold transition-all ${N?"text-primary bg-white dark:bg-slate-900 shadow-sm":"text-slate-500 hover:text-slate-900 dark:hover:text-white"}`,children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`material-symbols-outlined text-[20px] ${N?"filled":""}`,children:A.icon}),A.label]})},A.path)})}),y.jsxs("div",{className:"flex items-center gap-3",children:[n&&y.jsxs(Ct,{to:"/shop",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-yellow-400/10 to-amber-500/10 dark:from-yellow-400/20 dark:to-amber-500/20 px-3 py-1.5 rounded-full border border-yellow-200 dark:border-yellow-900/50 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors cursor-pointer group",children:[y.jsx("span",{className:"material-symbols-outlined text-amber-500 group-hover:scale-110 transition-transform",children:"monetization_on"}),y.jsx("span",{className:"font-black text-amber-700 dark:text-amber-400 text-sm",children:n.coins||0})]}),y.jsx("button",{onClick:b,className:"size-10 rounded-full flex items-center justify-center text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:y.jsx("span",{className:"material-symbols-outlined text-xl",children:f?"light_mode":"dark_mode"})}),n?y.jsxs("div",{className:"group relative",children:[y.jsx(Ct,{to:"/profile",children:y.jsx("div",{className:"size-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white dark:border-slate-700 shadow-md cursor-pointer hover:border-primary transition-colors",children:y.jsx("img",{src:n.photoURL,alt:"User",className:"size-full object-cover"})})}),y.jsxs("div",{className:"absolute right-0 top-10 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 p-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all translate-y-2 group-hover:translate-y-0 z-50",children:[y.jsxs("div",{className:"px-3 py-2 border-b border-slate-100 dark:border-slate-700 mb-2",children:[y.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:n.displayName}),y.jsxs("p",{className:"text-xs text-primary font-mono font-bold",children:[n.xp," XP"]})]}),y.jsxs("button",{onClick:v,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 text-sm font-medium transition-colors text-left",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"})," Irten"]})]})]}):y.jsx(Ct,{to:"/login",children:y.jsx(Hi,{size:"sm",children:"Sartu"})}),y.jsx("button",{className:"md:hidden size-10 flex items-center justify-center text-slate-900 dark:text-white",onClick:()=>h(!c),children:y.jsx("span",{className:"material-symbols-outlined",children:c?"close":"menu"})})]})]}),y.jsx(Pk,{children:c&&y.jsx(In.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 overflow-hidden",children:y.jsxs("nav",{className:"flex flex-col p-4 gap-2",children:[w.map(A=>y.jsxs(Ct,{to:A.path,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl font-bold ${t.pathname===A.path?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"}`,children:[y.jsx("span",{className:"material-symbols-outlined",children:A.icon}),A.label]},A.path)),n&&y.jsxs(Ct,{to:"/shop",onClick:()=>h(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-amber-600 bg-amber-50 dark:bg-amber-900/10",children:[y.jsx("span",{className:"material-symbols-outlined",children:"monetization_on"}),n.coins||0," Z-Coin"]}),n&&y.jsxs("button",{onClick:v,className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10",children:[y.jsx("span",{className:"material-symbols-outlined",children:"logout"})," Irten"]})]})})})]}),y.jsx("div",{className:"h-[76px]"})]})},q6=()=>y.jsx("footer",{className:"w-full border-t border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark py-10 px-10",children:y.jsxs("div",{className:"max-w-[1200px] mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[y.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[y.jsx("div",{className:"size-6 text-primary",children:y.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"})})}),y.jsx("span",{className:"font-bold text-lg",children:"Zenbaki Osoen Abentura"})]}),y.jsxs("div",{className:"flex gap-8 text-sm font-medium text-slate-600 dark:text-slate-400",children:[y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Irakasleentzat"}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Laguntza"}),y.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Pribatutasuna"})]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:" 2023 DBH Matematika"})]})}),H6=()=>{const{toasts:t,removeToast:e}=Bl(),n=a=>{switch(a){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"xp":return"bg-yellow-400 text-slate-900 border-yellow-500 font-black";case"achievement":return"bg-purple-600 text-white border-purple-400 font-bold shadow-purple-500/50";default:return"bg-slate-800 text-white border-slate-900"}},s=a=>{switch(a){case"success":return"check_circle";case"error":return"error";case"xp":return"bolt";case"achievement":return"emoji_events";default:return"info"}};return y.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",children:t.map(a=>y.jsxs("div",{onClick:()=>e(a.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border-b-4 cursor-pointer animate-in slide-in-from-right fade-in duration-300 hover:scale-105 transition-transform ${n(a.type)}`,children:[y.jsx("span",{className:"material-symbols-outlined",children:s(a.type)}),y.jsx("span",{className:"text-sm font-bold",children:a.message})]},a.id))})};function G6(...t){return OR(TR(t))}const bs=({className:t,variant:e="glass",hoverEffect:n=!0,children:s,...a})=>{const l="rounded-2xl p-6 transition-all duration-300 relative overflow-hidden",c={glass:"bg-surface-light/80 dark:bg-surface-dark/70 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-xl shadow-slate-200/50 dark:shadow-black/40",solid:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg",outline:"bg-transparent border-2 border-slate-200 dark:border-slate-700"},h=n?"hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/10 hover:border-primary/30 dark:hover:border-primary/30":"";return y.jsxs(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:G6(l,c[e],h,t),...a,children:[e==="glass"&&y.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),s]})},K6=()=>{var l;const{user:t,loginAsGuest:e}=Qi(),[n,s]=I.useState(0),a=5e4;return I.useEffect(()=>{(async()=>{const f=(await co.getLeaderboard()).reduce((p,b)=>p+b.xp,0);s(f)})()},[]),t?y.jsxs("main",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-7xl mx-auto w-full",children:[y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[y.jsxs(In.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:["Kaixo, ",y.jsxs("span",{className:"text-primary bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:[t.displayName,"!"]})]}),y.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 font-medium",children:"Prest zure abentura matematikoarekin jarraitzeko?"}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx(Ct,{to:"/games",children:y.jsx(Hi,{size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),children:"Jolastu"})}),y.jsx(Ct,{to:"/progress",children:y.jsx(Hi,{variant:"secondary",size:"lg",leftIcon:y.jsx("span",{className:"material-symbols-outlined",children:"bar_chart"}),children:"Nire Aurrerapena"})})]})]}),y.jsxs(bs,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-none relative overflow-visible",children:[y.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[y.jsx("div",{className:"size-24 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-inner",children:y.jsx("div",{className:"size-20 rounded-xl bg-cover bg-center",style:{backgroundImage:`url("${t.photoURL}")`}})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-blue-100 text-sm font-bold uppercase tracking-wider mb-1",children:"Zure Maila"}),y.jsx("div",{className:"text-4xl font-black",children:t.level}),y.jsx("div",{className:"w-full h-3 bg-black/20 rounded-full mt-3 overflow-hidden",children:y.jsx(In.div,{initial:{width:0},animate:{width:`${t.xp%500/5}%`},className:"h-full bg-white rounded-full"})}),y.jsxs("div",{className:"text-right text-xs mt-1 font-mono opacity-80",children:[t.xp%500," / 500 XP"]})]})]}),y.jsx("div",{className:"absolute -top-10 -right-10 size-40 rounded-full bg-white/10 blur-3xl"}),y.jsx("div",{className:"absolute -bottom-10 -left-10 size-40 rounded-full bg-blue-400/20 blur-3xl"})]})]}),y.jsx("section",{children:y.jsx(bs,{className:"border-2 border-primary/20 bg-gradient-to-r from-slate-50 to-blue-50/50 dark:from-slate-800 dark:to-slate-800/50",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs(bs,{className:"p-6",children:[y.jsxs("h2",{className:"text-xl font-black mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"task_alt"}),"Eguneroko Misioak"]}),t?y.jsxs("div",{className:"space-y-4",children:[(l=t.missions)==null?void 0:l.map(c=>y.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:c.description}),c.completed?y.jsxs("span",{className:"text-xs font-black text-green-500 bg-green-100 px-2 py-0.5 rounded-full flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})," Egina"]}):y.jsxs("span",{className:"text-xs font-bold text-amber-500 bg-amber-100 dark:bg-amber-900/30 px-2 py-0.5 rounded-full flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"})," ",c.reward]})]}),y.jsx("div",{className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${c.completed?"bg-green-500":"bg-blue-500"} transition-all duration-500`,style:{width:`${Math.min(100,c.progress/c.target*100)}%`}})}),y.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-right",children:[c.progress," / ",c.target]})]},c.id)),!t.missions&&y.jsx("p",{className:"text-sm text-slate-500",children:"Kargatzen..."})]}):y.jsxs("div",{className:"text-center py-6 text-slate-400",children:[y.jsx("p",{children:"Sartu saioa misioak ikusteko."}),y.jsx(Ct,{to:"/login",children:y.jsx(Hi,{size:"sm",variant:"secondary",className:"mt-2",children:"Hasi Saioa"})})]})]}),y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-3xl",children:"trophy"}),"Klasearen Helburua"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Guztion artean lortu behar dugu!"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-3xl font-black text-primary",children:n.toLocaleString()}),y.jsxs("span",{className:"text-slate-400 font-bold",children:[" / ",a.toLocaleString()," XP"]})]})]}),y.jsx("div",{className:"w-full h-8 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden shadow-inner relative",children:y.jsx(In.div,{initial:{width:0},animate:{width:`${Math.min(100,n/a*100)}%`},className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 relative",children:y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,.15)_25%,transparent_25%,transparent_50%,rgba(255,255,255,.15)_50%,rgba(255,255,255,.15)_75%,transparent_75%,transparent)] bg-[length:1rem_1rem] animate-[progress-bar-stripes_1s_linear_infinite]"})})}),y.jsxs("p",{className:"text-center text-sm font-bold text-slate-500 mt-2",children:[Math.round(n/a*100),"% osatuta - Jarraitu horrela!"]})]}),y.jsxs("div",{className:"shrink-0 text-center bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm rotate-3 hover:rotate-0 transition-transform duration-300",children:[y.jsx("div",{className:"text-4xl mb-2",children:""}),y.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:"Sari Berezia"}),y.jsx("div",{className:"text-xs text-slate-400",children:"50k XP lortzean"})]})]})})}),y.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(Ct,{to:"/topics",className:"contents",children:y.jsxs(bs,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-blue-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"menu_book"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Teoria"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Ikasi eta errepasatu kontzeptuak jokoan hasi aurretik."})]})}),y.jsx(Ct,{to:"/games",className:"contents",children:y.jsxs(bs,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-green-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"joystick"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Jolastu"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Jarri zure gaitasunak proban eta irabazi XP!"})]})}),y.jsx(Ct,{to:"/progress",className:"contents",children:y.jsxs(bs,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-purple-500",children:[y.jsx("div",{className:"size-12 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"military_tech"})}),y.jsx("h3",{className:"text-xl font-bold mb-1",children:"Lorpenak"}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Begiratu zure dominak eta desblokeatu berriak."})]})})]})]}):y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-20 left-10 size-64 bg-primary/20 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-20 right-10 size-80 bg-purple-500/20 rounded-full blur-[100px] animate-pulse",style:{animationDelay:"1s"}}),y.jsxs("div",{className:"relative z-10 max-w-2xl space-y-8",children:[y.jsxs(In.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight mb-4",children:["Zenbaki ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600",children:"Osoen"}),y.jsx("br",{})," Abentura"]}),y.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium max-w-lg mx-auto",children:"Ikasi matematikak jolasten! Irabazi puntuak, igo mailaz eta bihurtu klaseko txapelduna."})]}),y.jsxs(In.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[y.jsx(Ct,{to:"/login",children:y.jsx(Hi,{size:"lg",className:"w-full sm:w-auto shadow-xl shadow-primary/30",children:"Hasi Saioa"})}),y.jsx("button",{onClick:e,children:y.jsx(Hi,{variant:"ghost",size:"lg",className:"w-full sm:w-auto",children:"Gonbidatu gisa sartu"})})]}),y.jsx(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-12",children:[{icon:"sports_esports",label:"Jolasak"},{icon:"military_tech",label:"Lorpenak"},{icon:"school",label:"Teoria"},{icon:"group",label:"Lagunak"}].map((c,h)=>y.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-slate-200 dark:border-slate-700",children:[y.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:c.icon}),y.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:c.label})]},h))})]})]})},XT=[{id:"intro",title:"1. Unitatea: Oinarriak",description:"Zenbaki osoen definizioa (Z), ordenatzea eta balio absolutua.",content:`
            <h3>Zer dira Zenbaki Osoak (Z)?</h3>
            <p>Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:</p>
            <ul>
                <li><strong>Positiboak:</strong> (+1, +2...)  "Daukadana".</li>
                <li><strong>Zero:</strong> (0)  Muga.</li>
                <li><strong>Negatiboak:</strong> (-1, -2...)  "Zor dudana" edo "Zero azpitik".</li>
            </ul>
            <br/>
            <h3>Zuzen Erreala eta Ordena</h3>
            <p>Zenbakiak lerro batean ordenatzen dira. Eskuinerantz handitzen dira.</p>
            <p><strong>Garrantzitsua:</strong> Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta <strong>txikiagoa</strong> da balioa (-100 < -1).</p>
        `,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correct:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correct:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correct:0}]},{id:"operations",title:"2. Unitatea: Batuketa eta Kenketa",description:"Parentesiak kendu eta eragiketa sinpleak.",content:`
            <h3>1. Pausoa: Parentesiak Kendu</h3>
            <p>Zenbaki baten aurrean zeinu bat badago:</p>
            <ul>
                <li><strong>Zeinu berdinak (+ + edo - -)</strong>  Positibo bihurtzen da (+).</li>
                <li><strong>Zeinu ezberdinak (+ - edo - +)</strong>  Negatibo bihurtzen da (-).</li>
            </ul>
            <br/>
            <h3>2. Pausoa: Eragiketa Egin</h3>
            <ul>
                <li><strong>Zeinu Berdina:</strong> Zenbakiak BATU eta zeinua mantendu. (+5+3=+8)</li>
                <li><strong>Zeinu Ezberdina:</strong> Zenbakiak KENDU eta handienaren zeinua jarri. (+5-3=+2)</li>
            </ul>
        `,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correct:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correct:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correct:2}]},{id:"multiplication",title:"3. Unitatea: Biderketa eta Zatiketa",description:"Zeinuen legea eta parentesi anitzak.",content:`
            <h3>Zeinuen Legea</h3>
            <p>Biderketetan eta zatiketetan arau hau betetzen da BETI:</p>
            <ul>
                <li>+  + = +</li>
                <li>-  - = +</li>
                <li>+  - = -</li>
                <li>-  + = -</li>
            </ul>
            <p><strong>Aholkua:</strong> Lagunaren araua: "Nire lagunaren (+) laguna (+) nire laguna da (+)". "Nire etsaien (-) etsaia (-) nire laguna da (+)".</p>
        `,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correct:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correct:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correct:2}]},{id:"powers",title:"4. Unitatea: Berreketak",description:"Potentziak, erro karratuak eta propietateak.",content:`
            <h3>Berreketen Propietateak</h3>
            <ul>
                <li><strong>Biderketa (Oinarri berdina):</strong> Berretzaileak BATU (a^n  a^m = a^(n+m)).</li>
                <li><strong>Zatiketa (Oinarri berdina):</strong> Berretzaileak KENDU (a^n : a^m = a^(n-m)).</li>
                <li><strong>Berreketaren Berreketa:</strong> Berretzaileak BIDERKATU ((a^n)^m = a^(nm)).</li>
            </ul>
            <br/>
            <h3>Zeinuen Araua (Oinarri Negatiboa)</h3>
            <ul>
                <li><strong>Berretzaile BIKOITIA (2, 4...):</strong> Emaitza POSITIBOA (+).</li>
                <li><strong>Berretzaile BAKOITIA (3, 5...):</strong> Oinarriaren zeinua mantendu.</li>
            </ul>
        `,quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correct:0},{question:"Zein da (-2)^2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correct:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correct:1}]},{id:"advanced",title:"5. Unitatea: Konbinatuak",description:"Eragiketen hierarkia (PEMDAS).",content:`
            <h3>Eragiketen Hierarkia (PEMDAS)</h3>
            <p>Ordena hau jarraitu behar da beti:</p>
            <ol>
                <li><strong>P</strong>arentesiak ( ) [ ]</li>
                <li><strong>E</strong>rroak eta Potentziak</li>
                <li><strong>M</strong>/<strong>D</strong>: Biderketak eta Zatiketak (Ezkerretik eskuinera)</li>
                <li><strong>A</strong>/<strong>S</strong>: Batuketak eta Kenketak (Ezkerretik eskuinera)</li>
            </ol>
        `,quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correct:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correct:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correct:1}]}],$6=()=>{const{user:t}=Qi();if(!t)return y.jsx(Qr,{to:"/",replace:!0});const e=s=>t.completedLessons.includes(s),n=s=>{if(s===0)return!1;const a=XT[s-1].id;return!e(a)};return y.jsxs("main",{className:"flex-1 p-4 md:p-8 max-w-5xl mx-auto w-full",children:[y.jsxs(In.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-blue-500",children:"menu_book"}),"Ikasketa Bidea"]}),y.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg max-w-2xl mx-auto",children:"Jarraitu bidea pauso pauso. Osatu ikasgaia hurrengoa desblokeatzeko eta bihurtu zenbakien maisu."})]}),y.jsx("div",{className:"relative space-y-8 before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent dark:before:via-slate-700",children:XT.map((s,a)=>{const l=n(a),c=e(s.id);return y.jsxs(In.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:`relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group ${l?"opacity-70 grayscale":""}`,children:[y.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-4 shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10 shadow-xl ${c?"bg-green-500 border-green-100 dark:border-green-900 text-white":l?"bg-slate-200 border-slate-100 dark:bg-slate-700 dark:border-slate-800 text-slate-400":"bg-blue-500 border-blue-100 dark:border-blue-900 text-white animate-pulse"}`,children:y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:c?"check":l?"lock":"priority_high"})}),y.jsx(Ct,{to:l?"#":`/theory/${s.id}`,className:`w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] ${l?"cursor-not-allowed pointer-events-none":""}`,children:y.jsxs(bs,{hoverEffect:!l,className:`p-6 border-l-4 ${c?"border-l-green-500":"border-l-blue-500"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase tracking-wide ${c?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":l?"bg-slate-100 text-slate-500":"bg-blue-100 text-blue-700"}`,children:["UNIT ",a+1]}),c&&y.jsxs("span",{className:"text-green-500 font-bold text-xs flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"verified"})," EGINA"]})]}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:s.title}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:s.description}),y.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-slate-500",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"school"})," Teoria"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"quiz"})," Galdetegia"]})]})]})})]},s.id)})})]})},X6=()=>{const[t,e]=I.useState(0);return y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsx("section",{children:y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border-l-4 border-primary mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Zer dira Zenbaki Osoak (Z)?"}),y.jsx("p",{children:"Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:"}),y.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Positiboak:"}),' (+1, +2...)  "Daukadana".']}),y.jsxs("li",{children:[y.jsx("strong",{children:"Zero:"})," (0)  Muga."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Negatiboak:"}),' (-1, -2...)  "Zor dudana" edo "Zero azpitik".']})]})]})}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-inner",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"linear_scale"}),"Zuzen Erreala Interaktiboa"]}),y.jsx("p",{className:"mb-6 text-sm",children:"Arrastatu zirkulua zenbakiak esploratzeko. Ikusi nola aldatzen diren balioak!"}),y.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center select-none overflow-hidden my-4 bg-slate-50 dark:bg-black/20 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("div",{className:"absolute w-[90%] h-1 bg-slate-300 dark:bg-slate-600 rounded-full"}),y.jsx("div",{className:"absolute w-[90%] flex justify-between px-4",children:[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(n=>y.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[y.jsx("div",{className:`w-0.5 ${n===0?"h-6 bg-slate-800 dark:bg-white":"h-3 bg-slate-400"}`}),y.jsx("span",{className:`text-xs font-bold ${n===0?"text-slate-900 dark:text-white":"text-slate-400"}`,children:n})]},n))}),y.jsx(In.div,{drag:"x",dragConstraints:{left:-250,right:250},dragElastic:.1,onDrag:(n,s)=>{Math.round(s.point.x/50)},className:"size-12 bg-primary text-white rounded-full flex items-center justify-center shadow-xl cursor-grab active:cursor-grabbing z-10 font-black border-4 border-white dark:border-slate-800",style:{x:0},whileHover:{scale:1.1},whileTap:{scale:.95},children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pan_tool_alt"})})]}),y.jsx("div",{className:"text-center mt-4",children:y.jsx("p",{className:"text-sm text-slate-500 italic",children:"Eskuinerantz handiago, ezkerrerantz txikiago."})}),y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-900/30 mt-6",children:[y.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 mb-2",children:"Kontuz Negatiboekin!"}),y.jsxs("p",{className:"text-sm",children:['Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta ',y.jsx("strong",{children:"txikiagoa"})," da balioa."]}),y.jsx("div",{className:"mt-2 font-mono bg-white dark:bg-slate-800 p-2 rounded text-center border border-red-200 dark:border-red-900 animate-pulse",children:"-100 < -1"})]})]})]})},Y6=()=>{const[t,e]=I.useState(0),n=()=>e(s=>(s+1)%3);return y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-6 rounded-2xl border border-yellow-200 dark:border-yellow-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-600",children:"layers_clear"}),"1. Pausoa: Parentesiak Kendu"]}),y.jsx("p",{className:"mb-4",children:"Sakatu txartela eraldaketa ikusteko:"}),y.jsx("div",{onClick:n,className:"cursor-pointer bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border-2 border-yellow-400 flex flex-col items-center justify-center min-h-[160px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:y.jsxs(Pk,{mode:"wait",children:[t===0&&y.jsxs(In.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-slate-400 mb-2",children:"+(+5)"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Ukitu sinplifikatzeko"})]},"step0"),t===1&&y.jsxs(In.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-green-500 mb-2",children:"+5"}),y.jsx("div",{className:"text-sm text-green-600 font-bold",children:"Zeinu berdinak = Positiboa"})]},"step1"),t===2&&y.jsxs(In.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[y.jsx("div",{className:"text-4xl font-mono font-black text-red-500 mb-2",children:"-(-5)"}),y.jsx("div",{className:"text-sm text-red-600 font-bold",children:"Beste adibide bat... (jarraitu sakatzen)"})]},"step2")]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 text-center font-mono font-bold",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsx("span",{className:"text-slate-400",children:"+(+a) edo -(-a)"})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-green-600 text-xl",children:" +a (Berdinak)"})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[y.jsx("span",{className:"text-slate-400",children:"+(-a) edo -(+a)"})," ",y.jsx("br",{})," ",y.jsx("span",{className:"text-red-600 text-xl",children:" -a (Ezberdinak)"})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"calculate"}),"2. Pausoa: Eragiketa Egin"]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 mb-2",children:"Zeinu Berdina"}),y.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",y.jsx("strong",{children:"BATU"})," egiten dira eta zeinua mantendu."]}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 +3 = +8"}),y.jsx("li",{children:"-5 -3 = -8"})]})]}),y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-5 rounded-xl",children:[y.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:"Zeinu Ezberdina"}),y.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",y.jsx("strong",{children:"KENDU"})," egiten dira eta balio absolutu handienaren zeinua jarri."]}),y.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[y.jsx("li",{children:"+5 -3 = +2 (5 handiago)"}),y.jsx("li",{children:"-5 +3 = -2 (5 handiago)"})]})]})]})]})]})},Q6=()=>y.jsx("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:y.jsxs("section",{className:"bg-purple-50 dark:bg-purple-900/10 p-6 rounded-2xl border border-purple-200 dark:border-purple-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-purple-600",children:"close"}),"Zeinuen Legea Interaktiboa"]}),y.jsx("p",{className:"mb-6",children:"Sakatu konbinazioak emaitza ikusteko:"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(Mh,{s1:"+",s2:"+",res:"+",color:"green"}),y.jsx(Mh,{s1:"+",s2:"-",res:"-",color:"red"}),y.jsx(Mh,{s1:"-",s2:"+",res:"-",color:"red"}),y.jsx(Mh,{s1:"-",s2:"-",res:"+",color:"green"})]}),y.jsxs("div",{className:"mt-8 p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h4",{className:"font-bold mb-2",children:"Aholkua:"}),y.jsx("p",{className:"text-sm",children:"Lagunaren araua erabil dezakezu:"}),y.jsxs("ul",{className:"text-sm list-disc pl-5 mt-1 space-y-1",children:[y.jsx("li",{children:"Nire lagunaren (+) laguna (+) = Nire laguna (+)"}),y.jsx("li",{children:"Nire etsaien (-) etsaia (-) = Nire laguna (+)"})]})]})]})}),Mh=({s1:t,s2:e,res:n,color:s})=>{const[a,l]=I.useState(!1);return y.jsxs("button",{onClick:()=>l(!a),className:`p-6 rounded-xl flex flex-col items-center justify-center gap-2 border-2 transition-all duration-300 ${a?s==="green"?"bg-green-100 border-green-400":"bg-red-100 border-red-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-primary"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 text-2xl font-black text-slate-400",children:[y.jsx("span",{className:"text-slate-900 dark:text-white",children:t}),y.jsx("span",{children:""}),y.jsx("span",{className:"text-slate-900 dark:text-white",children:e})]}),y.jsx("div",{className:"h-12 flex items-center justify-center w-full",children:a?y.jsxs(In.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:`text-4xl font-black ${s==="green"?"text-green-600":"text-red-600"}`,children:["= ",n]}):y.jsx("span",{className:"text-sm text-primary font-bold bg-primary/10 px-3 py-1 rounded-full",children:"Sakatu ikusteko"})})]})},YT={intro:{title:"1. Unitatea: Oinarriak",nextLink:"/games?mode=ordering&difficulty=easy",nextLabel:"Praktikatu: Ordena",Component:X6,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correctIdx:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correctIdx:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correctIdx:0}]},operations:{title:"2. Unitatea: Batuketa eta Kenketa",nextLink:"/games?mode=addition&difficulty=easy",nextLabel:"Praktikatu: Batuketak",Component:Y6,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correctIdx:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correctIdx:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correctIdx:2}]},multiplication:{title:"3. Unitatea: Biderketa eta Zatiketa",nextLink:"/games?mode=multiplication&difficulty=easy",nextLabel:"Praktikatu: Biderketak",Component:Q6,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correctIdx:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correctIdx:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correctIdx:2}]},powers:{title:"4. Unitatea: Berreketak eta Erroketak",nextLink:"/games?mode=powers&difficulty=easy",nextLabel:"Praktikatu: Berreketak",staticContent:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("section",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-200 dark:border-indigo-800",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-indigo-600",children:"functions"}),"Berreketen Propietateak"]}),y.jsx("p",{className:"mb-6 text-sm",children:"Hiru arau nagusi hauek buruz jakin behar dituzu eragiketak egiteko:"}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-green-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 font-bold text-lg",children:""}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Biderketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"}),"  a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n+m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-red-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 font-bold text-lg",children:":"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Zatiketa (Oinarri berdina)"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"KENDU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",y.jsx("sup",{children:"n"})," : a",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"n-m"})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-blue-500 shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 font-bold text-lg",children:"()"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Berreketaren Berreketa"}),y.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",y.jsx("strong",{children:"BIDERKATU"})," egiten dira."]}),y.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["(a",y.jsx("sup",{children:"n"}),")",y.jsx("sup",{children:"m"})," = a",y.jsx("sup",{children:"nm"})]})]})]})]})]}),y.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-500",children:"exposure"}),"Zeinuen Araua (Oinarri Negatiboa)"]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BIKOITIA (2, 4...)"}),y.jsxs("p",{className:"text-sm",children:["Emaitza ",y.jsx("span",{className:"text-green-600 font-bold",children:"POSITIBOA (+)"}),"."]}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-3)",y.jsx("sup",{children:"2"})," = +9"]})]}),y.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[y.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BAKOITIA (3, 5...)"}),y.jsx("p",{className:"text-sm",children:"Oinarriaren zeinua mantendu."}),y.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-2)",y.jsx("sup",{children:"3"})," = -8"]})]})]})]})]}),quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correctIdx:0},{question:"Zein da (-2) ber 2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correctIdx:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correctIdx:1}]},advanced:{title:"5. Unitatea: Konbinatuak (PEMDAS)",nextLink:"/games?mode=combined&difficulty=easy",nextLabel:"Praktikatu: Konbinatuak",staticContent:y.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[y.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-2xl border border-orange-200 dark:border-orange-800",children:[y.jsx("h3",{className:"text-xl font-black text-orange-700 dark:text-orange-300 mb-2",children:"Eragiketen Hierarkia"}),y.jsx("p",{children:"Dena nahastuta dagoenean, ordena hau jarraitu behar da derrigorrez:"})]}),y.jsxs("section",{className:"flex flex-col items-center w-full max-w-lg mx-auto relative",children:[y.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 h-full w-1 bg-slate-200 dark:bg-slate-700 -z-10"}),y.jsxs("div",{className:"w-full bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-purple-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-purple-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"1"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Parentesiak ( ) [ ]"})})]}),y.jsxs("div",{className:"w-[95%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-indigo-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-indigo-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"2"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Berreketak eta Erroak"})})]}),y.jsxs("div",{className:"w-[90%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-blue-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-blue-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"3"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Biderketa eta Zatiketa"})})]}),y.jsxs("div",{className:"w-[80%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-green-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[y.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-green-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"4"}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Batuketa eta Kenketa"})})]})]})]}),quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correctIdx:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correctIdx:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correctIdx:1}]}},Z6=()=>{const{topicId:t}=s2(),{user:e,addXp:n}=Qi(),{addToast:s}=Bl(),a=t||"intro",l=`theory_${a}`,c=YT[a]||YT.intro,[h,f]=I.useState(new Array(3).fill(-1)),[p,b]=I.useState(!1),[v,w]=I.useState(!1),A=R=>e&&e.gameXp[R]||0,N=A("ordering_hard")<cn.ordering_hard,M=!(A("addition_hard")>=cn.addition_hard||A("subtraction_hard")>=cn.subtraction_hard),X=!(A("multiplication_hard")>=cn.multiplication_hard||A("division_hard")>=cn.division_hard),ae=!(A("powers_hard")>=cn.powers_hard||A("roots_hard")>=cn.roots_hard);if(t==="operations"&&N)return y.jsx(Qr,{to:"/topics",replace:!0});if(t==="multiplication"&&M)return y.jsx(Qr,{to:"/topics",replace:!0});if(t==="powers"&&X)return y.jsx(Qr,{to:"/topics",replace:!0});if(t==="advanced"&&ae)return y.jsx(Qr,{to:"/topics",replace:!0});I.useEffect(()=>{e&&e.completedLessons.includes(l)?(w(!0),f(c.quiz.map(R=>R.correctIdx)),b(!0)):(f(new Array(3).fill(-1)),b(!1),w(!1))},[l,e,c.quiz]);const oe=(R,T)=>{if(v)return;const C=[...h];C[R]=T,f(C),b(!1)},ue=async()=>{if(h.some(T=>T===-1)){s("info","Erantzun galdera guztiak mesedez.");return}b(!0),h.every((T,C)=>T===c.quiz[C].correctIdx)?(wt.win(),w(!0),e&&!e.completedLessons.includes(l)&&(await n(50,l)>0?s("xp","+50 XP Teoria ikasteagatik!"):s("success","Teoria osatuta! Orain jolastu dezakezu."))):(wt.wrong(),s("error","Erantzun okerrak daude. Berrikusi teoria eta saiatu berriro."))};return y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-10 flex justify-center",children:y.jsxs("div",{className:"max-w-[900px] w-full flex flex-col gap-8",children:[y.jsxs(Ct,{to:"/topics",className:"flex items-center gap-2 text-slate-500 hover:text-primary transition-colors font-bold text-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),"Atzera"]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-slate-100 dark:border-slate-700 pb-6",children:[y.jsx("div",{className:"size-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/30",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:t==="intro"?"1. Unitatea":t==="operations"?"2. Unitatea":t==="multiplication"?"3. Unitatea":t==="powers"?"4. Unitatea":"5. Unitatea"}),y.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight",children:c.title})]})]}),c.Component?y.jsx(c.Component,{}):c.staticContent,y.jsxs("div",{className:"mt-12 pt-8 border-t-2 border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-black text-slate-900 dark:text-white flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"quiz"}),"Egiaztatu zure ezagutza"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Erantzun galdera hauek zuzen jokoa eta XP puntuak desblokeatzeko."})]}),y.jsx("div",{className:"flex flex-col gap-6",children:c.quiz.map((R,T)=>{const C=p&&h[T]===R.correctIdx,V=p&&h[T]!==R.correctIdx;return y.jsxs("div",{className:`p-5 rounded-xl border-2 transition-colors ${C?"border-green-500 bg-green-50 dark:bg-green-900/10":V?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50"}`,children:[y.jsxs("p",{className:"font-bold text-slate-900 dark:text-white mb-3",children:[T+1,". ",R.question]}),y.jsx("div",{className:"flex flex-col gap-2",children:R.options.map((P,U)=>y.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors hover:bg-white dark:hover:bg-slate-800 ${h[T]===U?"bg-white dark:bg-slate-800 shadow-sm ring-2 ring-primary":""}`,children:[y.jsx("input",{type:"radio",name:`q-${T}`,className:"size-4 text-primary focus:ring-primary",checked:h[T]===U,onChange:()=>oe(T,U),disabled:v}),y.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:P})]},U))}),V&&y.jsx("p",{className:"text-xs font-bold text-red-500 mt-2",children:"Erantzun okerra. Saiatu berriro."})]},T)})}),y.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 items-center justify-between",children:[v?y.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 font-bold bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg",children:[y.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Teoria menperatuta!"]}):y.jsx("button",{onClick:ue,className:"w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:scale-105 transition-transform",children:"Egiaztatu Erantzunak"}),y.jsxs(Ct,{to:c.nextLink,onClick:R=>!v&&R.preventDefault(),className:`w-full md:w-auto flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-bold shadow-lg transition-all 
                        ${v?"bg-primary hover:bg-blue-600 text-white hover:-translate-y-1 cursor-pointer":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed opacity-70"}`,children:[y.jsx("span",{children:c.nextLabel}),y.jsx("span",{className:"material-symbols-outlined",children:v?"sports_esports":"lock"})]})]})]})]})]})})},W6=({text:t})=>{if(!t.includes("^")&&!t.includes(""))return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-1",children:t.split(" ").map((n,s)=>y.jsx("span",{className:n==="?"?"text-slate-400 animate-pulse":["+","-","","","(",")",":",""].includes(n)?"text-slate-400 mx-1":"text-primary",children:n},s))});const e=t.split(" ");return y.jsx("div",{className:"flex items-center justify-center flex-wrap gap-2 text-4xl md:text-5xl lg:text-6xl font-black text-slate-900 dark:text-white font-display tracking-tight",children:e.map((n,s)=>{if(n==="="||n==="?"||n===""||n===":")return y.jsx("span",{className:"text-slate-400 mx-1",children:n},s);const a=n.split(/(\^)/);return y.jsx("div",{className:"flex items-start text-primary",children:a.map((l,c)=>l==="^"?null:c>0&&a[c-1]==="^"?y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-[-0.5em]",children:l.replace(/[\(\)]/g,"")},c):y.jsx("span",{children:l},c))},s)})})},J6=({text:t,type:e})=>{if(t.startsWith(""))return y.jsxs("div",{className:"flex items-center gap-1 text-5xl md:text-6xl font-black text-primary",children:[y.jsx("span",{className:"text-slate-400",children:""}),y.jsx("span",{children:t.replace("","").replace("= ?","")}),y.jsx("span",{className:"text-slate-400 ml-4",children:"= ?"})]});if(t.includes("^")){const n=t.split(" = ?")[0],s=(l,c)=>{if(l.includes(")^")){const[h,f]=l.split(")^"),p=h.replace("(",""),[b,v]=p.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:"("}),y.jsx("span",{className:"text-primary",children:b}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:v}),y.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:")"}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},c)}if(l.includes("^")){const[h,f]=l.split("^");return y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:"text-primary",children:h}),y.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},c)}return y.jsx("span",{children:l},c)},a=n.split(" ");return y.jsxs("div",{className:"flex items-center justify-center flex-wrap gap-2 text-5xl md:text-6xl font-black",children:[a.map((l,c)=>["",":"].includes(l)?y.jsx("span",{className:"text-slate-400 mx-2",children:l},c):s(l,c)),y.jsx("span",{className:"text-slate-400 ml-2",children:"= ?"})]})}return y.jsx(W6,{text:t})},e9=()=>{const{user:t,addXp:e}=Qi(),{addToast:n}=Bl(),[s]=X2(),a=ho(),[l,c]=I.useState("ordering"),[h,f]=I.useState("easy"),[p,b]=I.useState(null),[v,w]=I.useState(null),[A,N]=I.useState(1),[O,M]=I.useState(0),[B,X]=I.useState(0),[q,ae]=I.useState(""),[oe,ue]=I.useState(!1),[R,T]=I.useState(null),C=I.useRef(null),V=I.useRef(null),[P,U]=I.useState(0),[D,Xe]=I.useState({sequence:[],currentStep:0,completedIds:[]}),je=ce=>t?t.completedLessons.includes(ce):!1,Y=ce=>t&&t.gameXp[ce]||0,re=Y("ordering_hard")>=cn.ordering_hard,J=Y("addition_hard")>=cn.addition_hard||Y("subtraction_hard")>=cn.subtraction_hard,Ae=Y("multiplication_hard")>=cn.multiplication_hard||Y("division_hard")>=cn.division_hard,Ve=Y("powers_hard")>=cn.powers_hard||Y("roots_hard")>=cn.roots_hard,L=t?t.level>=5:!1,ee=ce=>{switch(ce){case"ordering":return"theory_intro";case"addition":case"subtraction":return"theory_operations";case"multiplication":case"division":return"theory_multiplication";case"powers":case"roots":return"theory_powers";case"combined":return"theory_advanced";default:return null}},le=(ce,pe)=>{if(pe==="easy")return!1;const Ie=cn[`${ce}_easy`]||100;if(pe==="medium")return Y(`${ce}_easy`)<Ie;const ze=cn[`${ce}_medium`]||150;return pe==="hard"?Y(`${ce}_medium`)<ze:!0};I.useEffect(()=>{let ce=s.get("mode");const pe=s.get("difficulty");ce==="mixed"&&!L&&(ce="ordering"),ce==="combined"&&!Ve&&(ce="ordering"),(ce==="powers"||ce==="roots")&&!Ae&&(ce="ordering"),(ce==="multiplication"||ce==="division")&&!J&&(ce="ordering"),(ce==="addition"||ce==="subtraction")&&!re&&(ce="ordering");const Ie=ee(ce||"ordering");if(Ie&&!je(Ie)){n("error","Joko hau desblokeatzeko Teoria irakurri eta testa gainditu behar duzu!"),a("/topics");return}ce||(ce="ordering"),c(ce);let ze=pe||"easy";return le(ce,ze)&&(ze="easy"),f(ze),Vn(ce,ze),()=>{C.current&&clearInterval(C.current),V.current&&clearTimeout(V.current)}},[s,L,Ve,re,J,Ae]),I.useEffect(()=>{if(h==="hard"&&!oe&&(!v||(p==null?void 0:p.type)==="ordering")){C.current&&clearInterval(C.current);const pe=l==="combined"||l==="mixed"||(p==null?void 0:p.type)==="ordering"?45:30;((p==null?void 0:p.type)!=="ordering"||D.currentStep===0)&&T(pe),C.current=window.setInterval(()=>{T(Ie=>Ie!==null&&Ie>0?Ie-1:(de(),0))},1e3)}else(p==null?void 0:p.type)!=="ordering"&&(C.current&&clearInterval(C.current),T(null));return()=>{C.current&&clearInterval(C.current)}},[A,h,oe,l,p]);const de=()=>{C.current&&clearInterval(C.current),wt.wrong(),Bn(),X(0),(p==null?void 0:p.type)!=="ordering"?(w({val:"Denbora!",isCorrect:!1}),ae("Denbora agortu da. Azkarrago hurrengoan!")):(ae("Denbora agortu da! Saiatu azkarrago."),w({val:"Denbora!",isCorrect:!1})),V.current=window.setTimeout(()=>{Is()},2e3)},fe=(ce,pe)=>{const Ie=Math.floor(Math.random()*(pe-ce+1))+ce;return Ie===0?0:Ie},Ne=()=>`${l}_${h}`,we=()=>cn[Ne()]||100,Tt=()=>(t==null?void 0:t.gameXp[Ne()])||0,nt=ce=>{let pe=ce==="easy"?4:5,Ie=ce==="easy"?10:ce==="medium"?25:100;const ze=new Set;for(;ze.size<pe;){let ot=fe(-Ie,Ie);ot!==0&&ze.add(ot)}const Ue=Array.from(ze).sort((ot,St)=>ot-St),De=Array.from(ze).sort(()=>Math.random()-.5).map(ot=>({val:ot.toString(),isCorrect:!0,id:ot}));Xe({sequence:Ue,currentStep:0,completedIds:[]}),b({text:"Ordenatu zenbakiak TXIKIENETIK HANDIERA",options:De,type:"ordering",orderingSequence:Ue}),ae("Gogoratu: Zenbaki negatiboetan, zenbat eta urrunago zerotik, orduan eta txikiagoa.")},jn=ce=>{const pe=ce==="hard"?fe(1,4):fe(1,2);let Ie=ce==="easy"?5:10,ze=fe(-Ie,Ie),Ue=fe(-Ie,Ie),De=fe(-Ie,Ie);ze===0&&(ze=2),Ue===0&&(Ue=3),De===0&&(De=-2);let ot="",St=0,gn=0;pe===1?(ot=`${ze} + ${Ue<0?`(${Ue})`:Ue}  ${De<0?`(${De})`:De}`,St=ze+Ue*De,gn=(ze+Ue)*De):pe===2?(ot=`(${ze} ${Ue<0?"-":"+"} ${Math.abs(Ue)})  ${De<0?`(${De})`:De}`,St=(ze+Ue)*De,gn=ze+Ue*De):pe===3?(De=De===0?2:De,Ue=De*fe(1,5)*(Math.random()>.5?1:-1),ot=`${ze} - ${Ue<0?`(${Ue})`:Ue} : ${De<0?`(${De})`:De}`,St=ze-Ue/De,gn=(ze-Ue)/De):(ot=`${ze<0?`(${ze})`:ze}  ${Ue<0?`(${Ue})`:Ue} - ${De<0?`(${De})`:De}`,St=ze*Ue-De,gn=ze*(Ue-De));let At=-St,On=St+fe(1,5)*(Math.random()>.5?1:-1);const Se=new Set([St,gn,At,On]);for(;Se.size<4;)Se.add(fe(-50,50));const Be=Array.from(Se).sort(()=>Math.random()-.5).map(xe=>({val:`${xe}`,isCorrect:xe===St}));b({text:ot+" = ?",options:Be,type:"quiz"}),ae("Hierarkia (PEMDAS): Parentesiak lehenengo, gero Berreketak/Erroak, gero Biderketa/Zatiketa, azkenik Batuketa/Kenketa.")},Vn=(ce,pe)=>{if(V.current&&clearTimeout(V.current),w(null),ae(""),Xe({sequence:[],currentStep:0,completedIds:[]}),ce==="ordering"){nt(pe);return}if(ce==="combined"){jn(pe);return}let Ie=ce;if(ce==="mixed"){const Se=Math.random();if(Se<.15){nt(pe);return}if(Se<.35){jn(pe);return}Ie=["addition","subtraction","multiplication","division","powers","roots"][fe(0,5)]}let ze=pe==="easy"?9:pe==="medium"?20:50,Ue=fe(-ze,ze),De=fe(-ze,ze),ot="",St="",gn="";const At=new Set;if(Ie==="powers"){const Se=fe(1,3);let Be=pe==="easy"?fe(2,9):fe(2,15),xe=fe(2,5),bt=fe(2,5),Mt=0,rn=0,jt=0,yn=0;if(Se===1)ot="",gn=`${Be}^${xe}  ${Be}^${bt} = ?`,Mt=xe+bt,rn=xe*bt,jt=Math.abs(xe-bt),yn=Mt+1,ae(`Oinarri berdineko biderketan, berretzaileak BATU egiten dira (${xe} + ${bt} = ${Mt}).`);else if(Se===2){if(bt>=xe){let Lt=xe;xe=bt+fe(1,3),bt=Lt}ot=":",gn=`${Be}^${xe} : ${Be}^${bt} = ?`,Mt=xe-bt,rn=xe+bt,jt=Math.floor(xe/bt),yn=Mt+2,ae(`Oinarri berdineko zatiketan, berretzaileak KENDU egiten dira (${xe} - ${bt} = ${Mt}).`)}else ot="()",gn=`(${Be}^${xe})^${bt} = ?`,Mt=xe*bt,rn=xe+bt,jt=Math.pow(xe,bt),yn=Mt-1,ae(`Berreketaren berreketan, berretzaileak BIDERKATU egiten dira (${xe}  ${bt} = ${Mt}).`);for(St=`${Be}^${Mt}`,At.add(St),At.add(`${Be}^${rn}`),jt!==Mt&&jt!==rn&&At.add(`${Be}^${jt}`),At.add(`${Be}^${yn}`);At.size<4;)At.add(`${Be}^${Mt+fe(1,5)*(Math.random()>.5?1:-1)}`)}else if(Ie==="roots"){let Se=pe==="easy"?fe(1,10):fe(1,15);Se===0&&(Se=2),Ue=Se*Se;let Be=Se;gn=`${Ue} = ?`,St=Be.toString(),At.add(St),At.add((Se+1).toString()),At.add((Se-1).toString()),At.add(Math.floor(Ue/2).toString()),ae(`Erantzuna: ${Se}, zeren ${Se} = ${Ue}.`)}else{let Se=Ue,Be=De;if(Ie==="division"){De===0&&(De=2);const jt=fe(-10,10);Be=De,Se=(jt===0?2:jt)*Be}let xe=0;switch(Ie){case"addition":ot="+",xe=Se+Be;break;case"subtraction":ot="-",xe=Se-Be;break;case"multiplication":ot="",xe=Se*Be;break;case"division":ot=":",xe=Se/Be;break}gn=`${Se<0?`(${Se})`:Se} ${ot} ${Be<0?`(${Be})`:Be} = ?`,St=xe>0?`+${xe}`:`${xe}`,At.add(St);const bt=Math.random()>.5?1:2,Mt=xe+(Math.random()>.5?bt:-bt);At.add(Mt>0?`+${Mt}`:`${Mt}`);let rn=0;for(ot==="+"?rn=Se-Be:ot==="-"||ot===""?rn=Se+Be:ot===":"&&(rn=Se-Be),rn!==xe&&At.add(rn>0?`+${rn}`:`${rn}`),Math.random()<.2&&xe!==0&&At.add(xe>0?`${-xe}`:`+${-xe}`);At.size<4;){const jt=Math.max(5,Math.abs(xe)*.4),yn=fe(xe-jt,xe+jt);yn!==xe&&At.add(yn>0?`+${yn}`:`${yn}`)}ae(`Erantzuna: ${St}.`)}const On=Array.from(At).sort(()=>Math.random()-.5).map(Se=>({val:Se,isCorrect:Se===St}));b({text:gn,options:On,type:"quiz"})},Pn=ce=>{const pe=h==="hard"?25:h==="medium"?15:10,Ie=ce*(h==="hard"?3:2);return pe+Ie},Ci=async ce=>{const pe=await e(ce,Ne());pe>0?(n("xp",`+${pe} XP`),U(Ie=>Ie+pe)):ce>0?n("info","Zailtasun honetako XP muga lortu duzu! Saiatu hurrengoa."):pe<0&&(n("error",`-${Math.abs(pe)} XP (Penalizazioa)`),U(Ie=>Ie+pe))},Bn=async()=>{const pe=Pn(B)*1.5;await Ci(-pe)},ya=ce=>{if(!p||!p.orderingSequence)return;const pe=p.orderingSequence[D.currentStep],Ie=parseInt(ce.val);if(Ie===pe){wt.click();const ze=[...D.completedIds,Ie];if(ze.length===p.orderingSequence.length){wt.correct(),Xe(De=>({...De,completedIds:ze})),w({val:"Zuzena!",isCorrect:!0});const Ue=Pn(B);M(De=>De+Ue),X(De=>De+1),Ci(Ue),V.current=window.setTimeout(()=>{Is()},1500)}else Xe(Ue=>({...Ue,currentStep:Ue.currentStep+1,completedIds:ze}))}else wt.wrong(),Bn(),X(0),n("error","Ordena okerra! Saiatu berriro.")},Ns=ce=>{if(!v){if((p==null?void 0:p.type)==="ordering"){ya(ce);return}if(w(ce),C.current&&clearInterval(C.current),ce.isCorrect){wt.correct();const pe=Pn(B);M(Ie=>Ie+pe),X(Ie=>Ie+1),Ci(pe)}else wt.wrong(),Bn(),X(0);V.current=window.setTimeout(()=>{Is()},1500)}},Is=()=>{wt.click(),A<5?(N(ce=>ce+1),Vn(l,h)):ba()},ba=async()=>{if(ue(!0),wt.win(),O>=(h==="hard"?50:30)){const ce=h==="hard"?50:h==="medium"?30:10;await Ci(ce),n("success",`Jokoa amaituta! Bonus: ${ce} XP`)}else n("success","Jokoa amaituta!")},Ot=()=>{wt.click(),ue(!1),N(1),M(0),X(0),U(0),Vn(l,h)};if(oe){const ce=O>(h==="hard"?100:50)?3:O>(h==="hard"?50:30)?2:1;return y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[ce===3&&y.jsx(f1,{}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full border border-slate-200 dark:border-slate-700 animate-in zoom-in-95 duration-300 relative z-10",children:[y.jsx("div",{className:"mb-6 flex justify-center gap-2",children:[1,2,3].map(pe=>y.jsx("span",{className:`material-symbols-outlined text-6xl ${pe<=ce?"text-yellow-400 fill-current animate-bounce":"text-slate-200 dark:text-slate-700"}`,style:{animationDelay:`${pe*100}ms`},children:"star"},pe))}),y.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:ce===3?"Bikain!":ce===2?"Oso Ondo!":"Ondo!"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:[O," puntu lortu dituzu.",P!==0&&y.jsxs("span",{className:`block mt-2 font-bold ${P>0?"text-yellow-500":"text-red-500"}`,children:[P>0?`+${P}`:P," XP saio honetan"]}),P===0&&y.jsx("span",{className:"block mt-2 text-xs text-slate-400 uppercase font-bold",children:"XP Muga Lortuta"})]}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:Ot,className:"w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"replay"}),"Jolastu Berriro"]}),y.jsx(Ct,{to:"/topics",className:"w-full py-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-bold",children:"Itzuli Gaietara"})]})]})]})}const Dt=we(),ui=Tt(),go=ui>=Dt;return y.jsx("main",{className:"layout-container flex h-full grow flex-col",children:y.jsx("div",{className:"w-full flex flex-1 justify-center py-5 px-4 md:px-8",children:y.jsxs("div",{className:"layout-content-container flex flex-col max-w-[1200px] flex-1 gap-8",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:[go&&y.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 flex items-center justify-center font-black text-yellow-600 dark:text-yellow-400 opacity-20 -rotate-12 text-3xl",children:"MAX"}),y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-500",children:"stars"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:["XP (",h,")"]})]}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:ui}),y.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-1",children:["/ ",Dt]})]}),y.jsx("div",{className:"w-full h-1 bg-slate-100 dark:bg-slate-700 rounded-full mt-1",children:y.jsx("div",{className:`h-full rounded-full transition-all ${go?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,ui/Dt*100)}%`}})})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-primary",children:"school"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Maila"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:t?t.level:1})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"local_fire_department"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Bolada"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:B})]}),y.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-blue-400",children:"score"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Puntuazioa"})]}),y.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:O})]})]}),y.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[y.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6 order-2 lg:order-1",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1 bg-white dark:bg-[#1a2634] rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"tune"}),y.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-bold",children:"Zailtasuna"})]}),y.jsx("div",{className:"flex gap-1",children:["easy","medium","hard"].map(ce=>{const pe=le(l,ce);return y.jsxs("button",{disabled:pe,onClick:()=>{wt.click(),f(ce),Vn(l,ce),N(1),M(0),U(0)},className:`px-3 py-1 text-xs font-bold rounded-full capitalize border flex items-center gap-1 transition-all
                                ${h===ce?"bg-primary text-white border-primary":pe?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-transparent cursor-not-allowed opacity-70":"bg-transparent text-slate-500 border-slate-200 dark:border-slate-700 hover:border-primary/50"}`,children:[pe&&y.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"lock"}),ce]},ce)})})]}),R!==null&&y.jsxs("div",{className:`w-20 bg-white dark:bg-[#1a2634] rounded-xl p-2 shadow-sm border flex items-center justify-center font-mono text-xl font-bold ${R<10?"text-red-500 border-red-500 animate-pulse":"text-slate-900 dark:text-white border-slate-200 dark:border-slate-800"}`,children:[R,"s"]})]}),y.jsxs("div",{className:"flex flex-col bg-white dark:bg-[#1a2634] rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 overflow-hidden relative",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-slate-400 text-sm",children:"quiz"}),y.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Galdera ",A,"/5"]})]}),y.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ce,pe)=>y.jsx("div",{className:`h-1.5 w-6 rounded-full ${pe<A-1?"bg-green-500":pe===A-1?"bg-blue-500 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`},pe))})]}),y.jsx("div",{className:"p-8 md:p-12 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:p&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center w-full",children:[y.jsx("p",{className:"text-slate-400 text-sm font-medium mb-4 uppercase tracking-wider",children:p.type==="ordering"?"Ordenatu Zenbakiak":l==="combined"?"Kalkulatu (Kontuz Hierarkiarekin!)":l==="powers"?"Sinplifikatu":"Kalkulatu emaitza"}),p.type!=="ordering"?y.jsx(J6,{text:p.text,type:p.type}):y.jsx("div",{className:"flex flex-col items-center gap-6 w-full",children:y.jsxs("div",{className:"flex gap-2 items-center justify-center flex-wrap min-h-[60px] p-4 bg-slate-100 dark:bg-slate-900 rounded-xl w-full",children:[D.completedIds.map(ce=>y.jsx("div",{className:"size-12 rounded-lg bg-green-500 text-white flex items-center justify-center font-bold text-lg animate-in zoom-in",children:ce},ce)),D.completedIds.length===0&&y.jsx("span",{className:"text-slate-400 italic",children:"Hautatu zenbaki txikiena..."})]})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md mt-4",children:p.options.map((ce,pe)=>p.type==="ordering"&&D.completedIds.includes(ce.id)?y.jsx("div",{className:"h-[76px]"},pe):y.jsx("button",{onClick:()=>Ns(ce),disabled:!!v&&p.type!=="ordering",className:`group relative flex items-center justify-center py-6 px-4 rounded-xl border-2 transition-all 
                                    ${v===ce&&p.type!=="ordering"?ce.isCorrect?"border-green-500 bg-green-500/10":"border-red-500 bg-red-500/10":"border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-primary/5 active:bg-primary/10"}`,children:y.jsx("div",{className:`text-2xl font-bold transition-colors ${v===ce&&p.type!=="ordering"?ce.isCorrect?"text-green-600":"text-red-600":"text-slate-700 dark:text-slate-200 group-hover:text-primary"}`,children:ce.val.includes("^")?y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{children:ce.val.split("^")[0]}),y.jsx("sup",{className:"text-sm mt-1",children:ce.val.split("^")[1]})]}):ce.val})},pe))})]})}),v&&y.jsxs("div",{className:`border-t p-4 md:px-8 md:py-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-bottom-2 fade-in duration-300 ${v.isCorrect||(p==null?void 0:p.type)==="ordering"?"bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800/30":"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800/30"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${v.isCorrect||(p==null?void 0:p.type)==="ordering"?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-300"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:v.isCorrect||(p==null?void 0:p.type)==="ordering"?"celebration":"help"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:`font-bold text-lg leading-tight ${v.isCorrect||(p==null?void 0:p.type)==="ordering"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:v.isCorrect||(p==null?void 0:p.type)==="ordering"?(p==null?void 0:p.type)==="ordering"?"Ondo ordenatuta!":"Primeran!":"Saiatu berriro!"}),(p==null?void 0:p.type)!=="ordering"&&y.jsx("p",{className:`${v.isCorrect?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"} text-sm`,children:v.isCorrect?"Erantzun zuzena.":q})]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold opacity-60 text-slate-600 dark:text-slate-300",children:["Hurrengoa kargatzen...",y.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"progress_activity"})]})]})]})]}),y.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6 order-1 lg:order-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-lg",children:"Joko Moduak"}),y.jsx(Ct,{className:"text-primary text-sm font-medium hover:underline",to:"/topics",children:"Teoria"})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[y.jsxs("button",{disabled:!L,onClick:()=>{L&&(wt.click(),c("mixed"),f("easy"),N(1),M(0),U(0))},className:`relative p-5 rounded-2xl border-2 shadow-sm flex flex-col items-center gap-3 transition-all text-center group ${L?l==="mixed"?"bg-primary border-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:border-primary/50":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 cursor-not-allowed"}`,children:[!L&&y.jsx("div",{className:"absolute top-2 right-2 text-slate-400",children:y.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),y.jsx("div",{className:`size-14 rounded-full flex items-center justify-center border-4 border-white/20 shrink-0 ${l==="mixed"?"bg-white/20 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"}`,children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shuffle"})}),y.jsxs("div",{children:[y.jsx("h4",{className:`font-black text-xl leading-none ${l==="mixed"?"text-white":"text-slate-900 dark:text-white"}`,children:"Nahastuta"}),y.jsx("p",{className:`text-xs mt-1 font-bold uppercase tracking-wide opacity-80 ${l==="mixed"?"text-blue-100":"text-slate-500"}`,children:"Azterketa Orokorra"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("button",{disabled:!je("theory_intro"),onClick:()=>{je("theory_intro")&&(wt.click(),c("ordering"),f("easy"),N(1),M(0),U(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${je("theory_intro")?l==="ordering"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/20 ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-amber-50 dark:hover:bg-amber-900/10 hover:border-amber-500/50":"opacity-50 grayscale cursor-not-allowed"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${l==="ordering"?"bg-white/20 text-white":"bg-amber-100 dark:bg-amber-900/30 text-amber-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"sort"})}),y.jsx("span",{className:`text-sm font-bold ${l==="ordering"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Ordena"})]}),y.jsxs("button",{disabled:!Ve||!je("theory_advanced"),onClick:()=>{Ve&&je("theory_advanced")&&(wt.click(),c("combined"),f("easy"),N(1),M(0),U(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${!Ve||!je("theory_advanced")?"bg-slate-50 dark:bg-slate-800 opacity-50 cursor-not-allowed border-slate-200":l==="combined"?"bg-purple-600 border-purple-600 text-white shadow-lg shadow-purple-600/20 ring-2 ring-purple-600 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-purple-50 dark:hover:bg-purple-900/10 hover:border-purple-600/50"}`,children:[y.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${l==="combined"?"bg-white/20 text-white":"bg-purple-100 dark:bg-purple-900/30 text-purple-600"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:"function"})}),y.jsx("span",{className:`text-sm font-bold ${l==="combined"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Konbinatuak"}),(!Ve||!je("theory_advanced"))&&y.jsx("span",{className:"material-symbols-outlined text-xs absolute top-2 right-2 text-slate-400",children:"lock"})]})]})]}),y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-2"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"2. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!re||!je("theory_operations")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!re,onClick:()=>{c("addition"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="addition"?"bg-green-600 border-green-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-green-50 dark:hover:bg-green-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center font-black text-lg",children:"+"}),y.jsx("span",{className:`text-sm font-bold ${l==="addition"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Batuketa"}),(!re||!je("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!re,onClick:()=>{c("subtraction"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="subtraction"?"bg-red-500 border-red-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-red-50 dark:hover:bg-red-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center font-black text-lg",children:"-"}),y.jsx("span",{className:`text-sm font-bold ${l==="subtraction"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Kenketa"}),(!re||!je("theory_operations"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"3. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!J||!je("theory_multiplication")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!J,onClick:()=>{c("multiplication"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="multiplication"?"bg-orange-500 border-orange-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-orange-50 dark:hover:bg-orange-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${l==="multiplication"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Biderketa"}),(!J||!je("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!J,onClick:()=>{c("division"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="division"?"bg-teal-500 border-teal-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:":"}),y.jsx("span",{className:`text-sm font-bold ${l==="division"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Zatiketa"}),(!J||!je("theory_multiplication"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),y.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"4. Unitatea"}),y.jsxs("div",{className:`grid grid-cols-2 gap-3 ${!Ae||!je("theory_powers")?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("button",{disabled:!Ae,onClick:()=>{c("powers"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="powers"?"bg-indigo-500 border-indigo-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-black text-xs",children:"x"}),y.jsx("span",{className:`text-sm font-bold ${l==="powers"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Berreketak"}),(!Ae||!je("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),y.jsxs("button",{disabled:!Ae,onClick:()=>{c("roots"),f("easy"),N(1),M(0),U(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${l==="roots"?"bg-teal-600 border-teal-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[y.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:""}),y.jsx("span",{className:`text-sm font-bold ${l==="roots"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Erroketak"}),(!Ae||!je("theory_powers"))&&y.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]})]})]})]})]})]})})})},t9=()=>{var h;const{user:t}=Qi(),[e,n]=I.useState([]);if(I.useEffect(()=>{(async()=>{const p=await co.getLeaderboard();n(p)})()},[t==null?void 0:t.xp]),!t)return y.jsx(Qr,{to:"/",replace:!0});const s=Math.min(100,Math.floor(t.xp/9e3*100)),a=f=>f==="theory_intro"?"Teoria: Oinarriak":f==="theory_operations"?"Teoria: Batuketa/Kenketa":f==="theory_multiplication"?"Teoria: Biderketa/Zatiketa":f==="theory_powers"?"Teoria: Berreketak":f==="theory_advanced"?"Teoria: Konbinatuak":{ordering_easy:"Ordena (Erraza)",ordering_medium:"Ordena (Ertaina)",ordering_hard:"Ordena (Zaila)",combined_easy:"Konbinatuak (Erraza)",combined_medium:"Konbinatuak (Ertaina)",combined_hard:"Konbinatuak (Zaila)",mixed_easy:"Nahastuta (Erraza)",mixed_medium:"Nahastuta (Ertaina)",mixed_hard:"Nahastuta (Zaila)",addition_easy:"Batuketa (Erraza)",addition_medium:"Batuketa (Ertaina)",addition_hard:"Batuketa (Zaila)",subtraction_easy:"Kenketa (Erraza)",subtraction_medium:"Kenketa (Ertaina)",subtraction_hard:"Kenketa (Zaila)",multiplication_easy:"Biderketa (Erraza)",multiplication_medium:"Biderketa (Ertaina)",multiplication_hard:"Biderketa (Zaila)",division_easy:"Zatiketa (Erraza)",division_medium:"Zatiketa (Ertaina)",division_hard:"Zatiketa (Zaila)",powers_easy:"Berreketak (Erraza)",powers_medium:"Berreketak (Ertaina)",powers_hard:"Berreketak (Zaila)",roots_easy:"Erroketak (Erraza)",roots_medium:"Erroketak (Ertaina)",roots_hard:"Erroketak (Zaila)"}[f]||f,l=Object.entries(cn).reduce((f,[p,b])=>{let v="other";return p.includes("theory")?v="Teoria":p.includes("ordering")?v="Ordena":p.includes("combined")?v="Konbinatuak":p.includes("mixed")?v="Nahastuta":p.includes("addition")||p.includes("subtraction")?v="Batuketa eta Kenketa":p.includes("multiplication")||p.includes("division")?v="Biderketa eta Zatiketa":p.includes("powers")||p.includes("roots")?v="Berreketak eta Erroketak":v="Oinarrizkoak",f[v]||(f[v]=[]),f[v].push({key:p,limit:b,current:t.gameXp[p]||0}),f},{}),c=UA||[];return y.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-8",children:y.jsxs("div",{className:"mx-auto max-w-[1100px] flex flex-col gap-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("h1",{className:"text-slate-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]",children:["Kaixo, ",t.displayName.split(" ")[0],"!"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base font-normal leading-normal",children:"Hemen duzu zure zenbaki osoen abenturaren laburpena."})]}),y.jsxs(Ct,{to:"/games",className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-all shadow-lg shadow-blue-500/20",children:[y.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),y.jsx("span",{children:"Jarraitu jolasten"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[t.xp," XP"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Puntuazioa"})]}),y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-primary mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"donut_large"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:["%",s]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Ikastaroa osatuta"})]}),y.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[y.jsx("div",{className:"size-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-1",children:y.jsx("span",{className:"material-symbols-outlined",children:"emoji_events"})}),y.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[((h=t.achievements)==null?void 0:h.length)||0,"/",c.length]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Lorpenak"})]})]}),y.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm",children:y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"flex gap-6 justify-between items-end",children:[y.jsx("p",{className:"text-slate-900 dark:text-white text-base font-bold leading-normal",children:"Ikastaroaren Aurrerapen Orokorra"}),y.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-xs font-bold",children:["%",s]})]}),y.jsx("div",{className:"w-full rounded-full bg-slate-100 dark:bg-slate-700 h-3 overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500 ease-out",style:{width:`${s}%`}})}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-normal leading-normal",children:s<30?"Hasiera ona! Jarraitu ikasten.":s<70?"Oso ondo zoaz! Berreketak menperatzea falta zaizu.":"Ia amaitu duzu! Txapelduna zara."})]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Dominak eta Lorpenak"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.map(f=>{var b;const p=(b=t.achievements)==null?void 0:b.includes(f.id);return y.jsxs("div",{className:`flex gap-4 p-4 rounded-xl border transition-all ${p?"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 shadow-sm":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 opacity-60 grayscale"}`,children:[y.jsx("div",{className:`size-12 rounded-full flex items-center justify-center shrink-0 ${p?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-slate-200 dark:bg-slate-700 text-slate-400"}`,children:y.jsx("span",{className:"material-symbols-outlined",children:f.icon})}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("h4",{className:`font-bold ${p?"text-slate-900 dark:text-white":"text-slate-500"}`,children:f.title}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:f.description}),p&&y.jsxs("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mt-1",children:["+",f.xpReward," XP Lortuta"]})]})]},f.id)})})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Jokoen Xehetasunak"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.entries(l).map(([f,p])=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm",children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:f}),y.jsx("div",{className:"flex flex-col gap-4",children:p.map(b=>y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[y.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:a(b.key)}),y.jsxs("span",{className:`${b.current>=b.limit?"text-green-500 font-bold":"text-slate-400"}`,children:[b.current," / ",b.limit," XP"]})]}),y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 h-2 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full transition-all ${b.current>=b.limit?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,b.current/b.limit*100)}%`}})})]},b.key))})]},f))})]})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 flex flex-col gap-4",children:[y.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Zure Maila"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"size-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-2xl font-black text-primary border-4 border-primary/20",children:t.level}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("p",{className:"text-slate-900 dark:text-white font-bold mb-1",children:["Ikaslea (Lvl ",t.level,")"]}),y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Hurrengo mailara: ",500-t.xp%500," XP"]}),y.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2 mt-2",children:y.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${t.xp%500/5}%`}})})]})]})]}),y.jsxs("div",{className:"rounded-xl bg-gradient-to-b from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 p-5 text-white flex flex-col gap-4 shadow-lg",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 pb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-yellow-400",children:"trophy"}),y.jsx("h3",{className:"font-bold text-lg",children:"Sailkapena"})]}),y.jsx("span",{className:"text-xs bg-white/10 px-2 py-1 rounded",children:"Aste hau"})]}),y.jsx("div",{className:"flex flex-col gap-2",children:e.map((f,p)=>y.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${f.uid===t.uid?"bg-primary/20 border border-primary/50":"hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:`text-sm font-bold w-4 ${p===0?"text-yellow-400":p===1?"text-slate-300":p===2?"text-amber-600":"text-slate-500"}`,children:p+1}),y.jsx("div",{className:"size-8 rounded-full bg-slate-700 bg-cover bg-center",style:{backgroundImage:`url("${f.photoURL}")`}}),y.jsxs("span",{className:`text-sm font-medium ${f.uid===t.uid?"text-white font-bold":"text-slate-300"}`,children:[f.displayName," ",f.uid===t.uid&&"(Zu)"]})]}),y.jsx("span",{className:"text-sm font-bold text-white",children:f.xp})]},f.uid))})]})]})]})]})})},n9=()=>{const[t,e]=I.useState(""),[n,s]=I.useState(""),[a,l]=I.useState(""),{login:c,loginAsGuest:h}=Qi(),f=ho(),p=async v=>{v.preventDefault(),l("");try{await c(t,n),f("/progress")}catch{l("Errorea saioa hastean. Egiaztatu datuak.")}},b=async()=>{try{await h(),f("/progress")}catch{l("Arazo bat egon da gonbidatu gisa sartzean.")}};return y.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:"Ongi Etorri!"}),y.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Sartu zure kontuan jolasten jarraitzeko."}),a&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:a}),y.jsxs("form",{onSubmit:p,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),y.jsx("input",{type:"email",required:!0,value:t,onChange:v=>e(v.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"zure@emaila.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),y.jsx("input",{type:"password",required:!0,value:n,onChange:v=>s(v.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:""})]}),y.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:"Hasi Saioa"})]}),y.jsxs("div",{className:"flex items-center gap-4 my-6",children:[y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"}),y.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:"edo"}),y.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"})]}),y.jsxs("button",{onClick:b,className:"w-full py-3.5 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-white font-bold transition-all border border-slate-200 dark:border-slate-600 flex items-center justify-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined",children:"person"}),"Jarraitu Gonbidatu gisa"]}),y.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Ez daukazu konturik? ",y.jsx(Ct,{to:"/register",className:"text-primary font-bold hover:underline",children:"Erregistratu hemen"})]})]})})},i9=()=>{const[t,e]=I.useState(""),[n,s]=I.useState(""),[a,l]=I.useState(""),[c,h]=I.useState(""),{register:f}=Qi(),p=ho(),b=async v=>{v.preventDefault(),h("");try{await f(n,a,t),p("/progress")}catch{h("Errorea erregistratzean. Saiatu berriro.")}};return y.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:"Sortu Kontua"}),y.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Bat egin Zenbaki Osoen Abenturarekin!"}),c&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:c}),y.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Izena"}),y.jsx("input",{type:"text",required:!0,value:t,onChange:v=>e(v.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"Jon Agirre"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),y.jsx("input",{type:"email",required:!0,value:n,onChange:v=>s(v.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"zure@emaila.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),y.jsx("input",{type:"password",required:!0,value:a,onChange:v=>l(v.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:""})]}),y.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:"Erregistratu"})]}),y.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Dagoeneko kontua daukazu? ",y.jsx(Ct,{to:"/login",className:"text-primary font-bold hover:underline",children:"Hasi Saioa"})]})]})})},QT=["https://ui-avatars.com/api/?name=User&background=136dec&color=fff","https://ui-avatars.com/api/?name=User&background=0d9488&color=fff","https://ui-avatars.com/api/?name=User&background=7c3aed&color=fff","https://ui-avatars.com/api/?name=User&background=db2777&color=fff","https://ui-avatars.com/api/?name=User&background=ea580c&color=fff"],s9=()=>{const{user:t}=Qi(),[e,n]=I.useState((t==null?void 0:t.displayName)||""),[s,a]=I.useState((t==null?void 0:t.photoURL)||QT[0]),[l,c]=I.useState(!1),[h,f]=I.useState("");if(!t)return y.jsx(Qr,{to:"/",replace:!0});const p=async v=>{v.preventDefault(),c(!0),f(""),wt.click();try{await co.updateProfile(t.uid,{displayName:e,photoURL:s}),f("Aldaketak ondo gorde dira!"),wt.correct(),setTimeout(()=>window.location.reload(),1e3)}catch{f("Errorea gertatu da."),wt.wrong()}finally{c(!1)}},b=async()=>{window.confirm("Ziur zaude zure kontua ezabatu nahi duzula? Ekintza hau ezin da desegin.")&&alert("Mesedez, jarri harremanetan irakaslearekin kontua ezabatzeko.")};return y.jsx("main",{className:"flex-1 flex flex-col items-center py-10 px-4",children:y.jsxs("div",{className:"w-full max-w-lg p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 border-b border-slate-100 dark:border-slate-700 pb-4",children:"Nire Profila"}),h&&y.jsx("div",{className:"mb-6 p-4 rounded-xl bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 font-bold text-center",children:h}),y.jsxs("form",{onSubmit:p,className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Avatarra Aukeratu"}),y.jsx("div",{className:"flex gap-3 justify-center flex-wrap",children:QT.map((v,w)=>y.jsx("button",{type:"button",onClick:()=>{a(v),wt.click()},className:`size-14 rounded-full border-4 transition-transform hover:scale-110 ${s===v?"border-primary":"border-transparent"}`,style:{backgroundImage:`url("${v}")`,backgroundSize:"cover"}},w))})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Erabiltzaile Izena"}),y.jsx("input",{type:"text",value:e,onChange:v=>n(v.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),y.jsxs("div",{className:"flex flex-col gap-2 opacity-60",children:[y.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Emaila (Ezin da aldatu)"}),y.jsx("input",{type:"email",value:t.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 cursor-not-allowed"})]}),y.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full py-4 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Gordetzen...":"Gorde Aldaketak"})]}),y.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm uppercase tracking-wide mb-3",children:"Arrisku Eremua"}),y.jsxs("button",{type:"button",onClick:b,className:"text-red-500 hover:text-red-700 text-sm font-bold flex items-center gap-2 hover:underline",children:[y.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"}),"Ezabatu Kontua"]})]})]})})},r9=()=>{const{user:t}=Qi(),{addToast:e}=Bl(),[n,s]=I.useState([]),[a,l]=I.useState(!0),[c,h]=I.useState(null);I.useEffect(()=>{f()},[t]);const f=async()=>{if(t!=null&&t.isAdmin){const b=await co.getAllUsers();s(b),l(!1)}},p=async b=>{try{await co.kickUser(b),e("success","Erabiltzailea kanporatua izan da."),h(null),f()}catch{e("error","Arazoa egon da erabiltzailea kanporatzean.")}};return!t||!t.isAdmin?y.jsx(Qr,{to:"/",replace:!0}):y.jsxs("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:[y.jsxs("div",{className:"w-full max-w-7xl",children:[y.jsxs("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-red-500",children:"admin_panel_settings"}),"Administrazio Panela"]}),a?y.jsx("div",{className:"flex justify-center p-12",children:y.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-primary",children:"loader"})}):y.jsx(bs,{className:"p-0 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:"Erabiltzailea"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:"Emaila"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"XP"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"Maila"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"Azken Saioa"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"IP"}),y.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-right",children:"Ekintzak"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.map(b=>y.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[y.jsxs("td",{className:"p-4 flex items-center gap-3",children:[y.jsx("div",{className:"size-10 rounded-full bg-cover bg-center bg-slate-200 shadow-sm border border-slate-200 dark:border-slate-700",style:{backgroundImage:`url("${b.photoURL}")`}}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:b.displayName}),b.isAdmin&&y.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-wider",children:"Admin"})]})]}),y.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400 font-mono text-xs",children:b.email}),y.jsx("td",{className:"p-4 text-center font-bold text-primary",children:b.xp}),y.jsx("td",{className:"p-4 text-center",children:y.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300",children:b.level})}),y.jsx("td",{className:"p-4 text-center text-xs text-slate-500",children:new Date(b.lastLoginDate).toLocaleDateString()}),y.jsx("td",{className:"p-4 text-center text-xs font-mono text-slate-400",children:b.lastIp||"-"}),y.jsx("td",{className:"p-4 text-right",children:!b.isAdmin&&y.jsx(Hi,{variant:"danger",size:"sm",leftIcon:y.jsx("span",{className:"material-symbols-outlined text-lg",children:"person_remove"}),onClick:()=>h(b.uid),children:"Kanporatu"})})]},b.uid))})]})})})]}),c&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs(bs,{className:"max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[y.jsx("div",{className:"size-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center mb-4 mx-auto",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"warning"})}),y.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:"Ziur zaude?"}),y.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-center text-sm",children:["Ekintza honek erabiltzailea eta bere datu guztiak ",y.jsx("strong",{children:"betiko"})," ezabatuko ditu."]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(Hi,{variant:"ghost",className:"flex-1",onClick:()=>h(null),children:"Ezeztatu"}),y.jsx(Hi,{variant:"danger",className:"flex-1",onClick:()=>p(c),children:"Kanporatu"})]})]})})]})},a9=()=>{const{user:t,login:e}=Qi(),{addToast:n}=Bl(),[s,a]=I.useState(null),l=RE.filter(f=>f.type==="avatar"),c=RE.filter(f=>f.type==="frame"),h=async f=>{if(t){a(f.id),wt.click();try{const p=await co.buyItem(t.uid,f);p.success?(n("success",p.message),wt.correct(),setTimeout(()=>window.location.reload(),1e3)):(n("error",p.message),wt.wrong())}catch{n("error","Errorea erosketan.")}finally{a(null)}}};return t?y.jsx("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:y.jsxs("div",{className:"w-full max-w-6xl",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 gap-6",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined text-4xl text-purple-500",children:"storefront"}),"Denda"]}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 text-lg",children:"Erabili zure Z-Coinak pertsonalizazioak lortzeko."})]}),y.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-white px-8 py-4 rounded-2xl shadow-lg shadow-amber-500/30 flex items-center gap-4 transform hover:scale-105 transition-transform",children:[y.jsx("div",{className:"size-12 rounded-full bg-white/20 flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"monetization_on"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-bold uppercase text-yellow-100 tracking-wider",children:"Saldoa"}),y.jsx("p",{className:"text-3xl font-black",children:t.coins||0})]})]})]}),y.jsxs("div",{className:"flex flex-col gap-12",children:[y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6 flex items-center gap-2 border-b border-slate-200 dark:border-slate-800 pb-2",children:[y.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"face"}),"Avatar Bereziak"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(f=>y.jsx(ZT,{item:f,user:t,onBuy:h,buying:s===f.id},f.id))})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6 flex items-center gap-2 border-b border-slate-200 dark:border-slate-800 pb-2",children:[y.jsx("span",{className:"material-symbols-outlined text-green-500",children:"crop_square"}),"Markoak"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(f=>y.jsx(ZT,{item:f,user:t,onBuy:h,buying:s===f.id},f.id))})]})]})]})}):null},ZT=({item:t,user:e,onBuy:n,buying:s})=>{var h;const a=(h=e.inventory)==null?void 0:h.includes(t.id),l=e.coins>=t.price,c=t.requiresLevel?e.level<t.requiresLevel:!1;return y.jsxs(bs,{className:`relative flex flex-col p-0 overflow-hidden group ${c?"opacity-60 grayscale":""}`,children:[y.jsxs("div",{className:"h-40 bg-slate-100 dark:bg-slate-800 flex items-center justify-center relative overflow-hidden",children:[t.previewUrl?y.jsx("img",{src:t.previewUrl,alt:t.name,className:"size-24 rounded-full shadow-lg group-hover:scale-110 transition-transform duration-300"}):y.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-400",children:t.icon}),a&&y.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-sm",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"}),"Lortuta"]})]}),y.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-black text-lg text-slate-900 dark:text-white leading-tight",children:t.name}),y.jsxs("div",{className:"text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded-lg flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"}),t.price]})]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 flex-1",children:t.description}),c?y.jsxs("div",{className:"w-full py-2 bg-slate-100 text-slate-500 rounded-lg text-xs font-bold text-center flex items-center justify-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"}),"Maila ",t.requiresLevel," beharrezkoa"]}):a?y.jsx(Hi,{variant:"secondary",className:"w-full opacity-50 cursor-default",disabled:!0,children:"Erosita"}):y.jsx(Hi,{variant:l?"primary":"secondary",className:"w-full",onClick:()=>n(t),disabled:!l||s,children:s?"Erosketan...":l?"Erosi":"Ez duzu nahikoa"})]})]})},o9=()=>y.jsx(x4,{children:y.jsx(_4,{children:y.jsx(q2,{children:y.jsxs("div",{className:"relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 transition-colors duration-200 font-body",children:[y.jsx(F6,{}),y.jsxs(v2,{children:[y.jsx(Fi,{path:"/",element:y.jsx(K6,{})}),y.jsx(Fi,{path:"/topics",element:y.jsx($6,{})}),y.jsx(Fi,{path:"/theory/:topicId",element:y.jsx(Z6,{})}),y.jsx(Fi,{path:"/games",element:y.jsx(e9,{})}),y.jsx(Fi,{path:"/progress",element:y.jsx(t9,{})}),y.jsx(Fi,{path:"/login",element:y.jsx(n9,{})}),y.jsx(Fi,{path:"/register",element:y.jsx(i9,{})}),y.jsx(Fi,{path:"/profile",element:y.jsx(s9,{})}),y.jsx(Fi,{path:"/shop",element:y.jsx(a9,{})}),y.jsx(Fi,{path:"/admin",element:y.jsx(r9,{})})]}),y.jsx(q6,{}),y.jsx(H6,{})]})})})}),LR=document.getElementById("root");if(!LR)throw new Error("Could not find root element to mount to");const l9=AN.createRoot(LR);l9.render(y.jsx(bN.StrictMode,{children:y.jsx(o9,{})}));
