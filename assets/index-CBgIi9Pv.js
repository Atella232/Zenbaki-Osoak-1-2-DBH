(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Ix(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var um={exports:{}},Xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function Jw(){if(jb)return Xo;jb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:i,key:d,ref:l!==void 0?l:null,props:c}}return Xo.Fragment=e,Xo.jsx=n,Xo.jsxs=n,Xo}var Db;function Ww(){return Db||(Db=1,um.exports=Jw()),um.exports}var m=Ww(),dm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function eT(){if(Ob)return Ce;Ob=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,U={};function te(O,J,le){this.props=O,this.context=J,this.refs=U,this.updater=le||H}te.prototype.isReactComponent={},te.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},te.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ae(){}ae.prototype=te.prototype;function ne(O,J,le){this.props=O,this.context=J,this.refs=U,this.updater=le||H}var me=ne.prototype=new ae;me.constructor=ne,K(me,te.prototype),me.isPureReactComponent=!0;var ke=Array.isArray;function Se(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(O,J,le){var de=le.ref;return{$$typeof:a,type:O,key:J,ref:de!==void 0?de:null,props:le}}function D(O,J){return k(O.type,J,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function V(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return J[le]})}var R=/\/+/g;function it(O,J){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):J.toString(36)}function ze(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Se,Se):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,J,le,de,ue){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var He=!1;if(O===null)He=!0;else switch(Ne){case"bigint":case"string":case"number":He=!0;break;case"object":switch(O.$$typeof){case a:case e:He=!0;break;case v:return He=O._init,Q(He(O._payload),J,le,de,ue)}}if(He)return ue=ue(O),He=de===""?"."+it(O,0):de,ke(ue)?(le="",He!=null&&(le=He.replace(R,"$&/")+"/"),Q(ue,J,le,"",function(Sr){return Sr})):ue!=null&&(I(ue)&&(ue=D(ue,le+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(R,"$&/")+"/")+He)),J.push(ue)),1;He=0;var Mt=de===""?".":de+":";if(ke(O))for(var ft=0;ft<O.length;ft++)de=O[ft],Ne=Mt+it(de,ft),He+=Q(de,J,le,Ne,ue);else if(ft=j(O),typeof ft=="function")for(O=ft.call(O),ft=0;!(de=O.next()).done;)de=de.value,Ne=Mt+it(de,ft++),He+=Q(de,J,le,Ne,ue);else if(Ne==="object"){if(typeof O.then=="function")return Q(ze(O),J,le,de,ue);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return He}function ie(O,J,le){if(O==null)return O;var de=[],ue=0;return Q(O,de,"","",function(Ne){return J.call(le,Ne,ue++)}),de}function pe(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var Pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qe={map:ie,forEach:function(O,J,le){ie(O,function(){J.apply(this,arguments)},le)},count:function(O){var J=0;return ie(O,function(){J++}),J},toArray:function(O){return ie(O,function(J){return J})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=E,Ce.Children=qe,Ce.Component=te,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=ne,Ce.StrictMode=i,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,J,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=K({},O.props),ue=O.key;if(J!=null)for(Ne in J.key!==void 0&&(ue=""+J.key),J)!S.call(J,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&J.ref===void 0||(de[Ne]=J[Ne]);var Ne=arguments.length-2;if(Ne===1)de.children=le;else if(1<Ne){for(var He=Array(Ne),Mt=0;Mt<Ne;Mt++)He[Mt]=arguments[Mt+2];de.children=He}return k(O.type,ue,de)},Ce.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ce.createElement=function(O,J,le){var de,ue={},Ne=null;if(J!=null)for(de in J.key!==void 0&&(Ne=""+J.key),J)S.call(J,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ue[de]=J[de]);var He=arguments.length-2;if(He===1)ue.children=le;else if(1<He){for(var Mt=Array(He),ft=0;ft<He;ft++)Mt[ft]=arguments[ft+2];ue.children=Mt}if(O&&O.defaultProps)for(de in He=O.defaultProps,He)ue[de]===void 0&&(ue[de]=He[de]);return k(O,Ne,ue)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:p,render:O}},Ce.isValidElement=I,Ce.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:pe}},Ce.memo=function(O,J){return{$$typeof:g,type:O,compare:J===void 0?null:J}},Ce.startTransition=function(O){var J=N.T,le={};N.T=le;try{var de=O(),ue=N.S;ue!==null&&ue(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Se,Pe)}catch(Ne){Pe(Ne)}finally{J!==null&&le.types!==null&&(J.types=le.types),N.T=J}},Ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ce.use=function(O){return N.H.use(O)},Ce.useActionState=function(O,J,le){return N.H.useActionState(O,J,le)},Ce.useCallback=function(O,J){return N.H.useCallback(O,J)},Ce.useContext=function(O){return N.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,J){return N.H.useDeferredValue(O,J)},Ce.useEffect=function(O,J){return N.H.useEffect(O,J)},Ce.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Ce.useId=function(){return N.H.useId()},Ce.useImperativeHandle=function(O,J,le){return N.H.useImperativeHandle(O,J,le)},Ce.useInsertionEffect=function(O,J){return N.H.useInsertionEffect(O,J)},Ce.useLayoutEffect=function(O,J){return N.H.useLayoutEffect(O,J)},Ce.useMemo=function(O,J){return N.H.useMemo(O,J)},Ce.useOptimistic=function(O,J){return N.H.useOptimistic(O,J)},Ce.useReducer=function(O,J,le){return N.H.useReducer(O,J,le)},Ce.useRef=function(O){return N.H.useRef(O)},Ce.useState=function(O){return N.H.useState(O)},Ce.useSyncExternalStore=function(O,J,le){return N.H.useSyncExternalStore(O,J,le)},Ce.useTransition=function(){return N.H.useTransition()},Ce.version="19.2.3",Ce}var Mb;function lp(){return Mb||(Mb=1,dm.exports=eT()),dm.exports}var L=lp();const tT=Ix(L);var hm={exports:{}},Ko={},fm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function nT(){return Vb||(Vb=1,(function(a){function e(Q,ie){var pe=Q.length;Q.push(ie);e:for(;0<pe;){var Pe=pe-1>>>1,qe=Q[Pe];if(0<l(qe,ie))Q[Pe]=ie,Q[pe]=qe,pe=Pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ie=Q[0],pe=Q.pop();if(pe!==ie){Q[0]=pe;e:for(var Pe=0,qe=Q.length,O=qe>>>1;Pe<O;){var J=2*(Pe+1)-1,le=Q[J],de=J+1,ue=Q[de];if(0>l(le,pe))de<qe&&0>l(ue,le)?(Q[Pe]=ue,Q[de]=pe,Pe=de):(Q[Pe]=le,Q[J]=pe,Pe=J);else if(de<qe&&0>l(ue,pe))Q[Pe]=ue,Q[de]=pe,Pe=de;else break e}}return ie}function l(Q,ie){var pe=Q.sortIndex-ie.sortIndex;return pe!==0?pe:Q.id-ie.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],g=[],v=1,E=null,A=3,j=!1,H=!1,K=!1,U=!1,te=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function me(Q){for(var ie=n(g);ie!==null;){if(ie.callback===null)i(g);else if(ie.startTime<=Q)i(g),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=n(g)}}function ke(Q){if(K=!1,me(Q),!H)if(n(y)!==null)H=!0,Se||(Se=!0,V());else{var ie=n(g);ie!==null&&ze(ke,ie.startTime-Q)}}var Se=!1,N=-1,S=5,k=-1;function D(){return U?!0:!(a.unstable_now()-k<S)}function I(){if(U=!1,Se){var Q=a.unstable_now();k=Q;var ie=!0;try{e:{H=!1,K&&(K=!1,ae(N),N=-1),j=!0;var pe=A;try{t:{for(me(Q),E=n(y);E!==null&&!(E.expirationTime>Q&&D());){var Pe=E.callback;if(typeof Pe=="function"){E.callback=null,A=E.priorityLevel;var qe=Pe(E.expirationTime<=Q);if(Q=a.unstable_now(),typeof qe=="function"){E.callback=qe,me(Q),ie=!0;break t}E===n(y)&&i(y),me(Q)}else i(y);E=n(y)}if(E!==null)ie=!0;else{var O=n(g);O!==null&&ze(ke,O.startTime-Q),ie=!1}}break e}finally{E=null,A=pe,j=!1}ie=void 0}}finally{ie?V():Se=!1}}}var V;if(typeof ne=="function")V=function(){ne(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,it=R.port2;R.port1.onmessage=I,V=function(){it.postMessage(null)}}else V=function(){te(I,0)};function ze(Q,ie){N=te(function(){Q(a.unstable_now())},ie)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var pe=A;A=ie;try{return Q()}finally{A=pe}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=A;A=Q;try{return ie()}finally{A=pe}},a.unstable_scheduleCallback=function(Q,ie,pe){var Pe=a.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,Q){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=pe+qe,Q={id:v++,callback:ie,priorityLevel:Q,startTime:pe,expirationTime:qe,sortIndex:-1},pe>Pe?(Q.sortIndex=pe,e(g,Q),n(y)===null&&Q===n(g)&&(K?(ae(N),N=-1):K=!0,ze(ke,pe-Pe))):(Q.sortIndex=qe,e(y,Q),H||j||(H=!0,Se||(Se=!0,V()))),Q},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(Q){var ie=A;return function(){var pe=A;A=ie;try{return Q.apply(this,arguments)}finally{A=pe}}}})(mm)),mm}var Pb;function rT(){return Pb||(Pb=1,fm.exports=nT()),fm.exports}var pm={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function aT(){if(Lb)return gn;Lb=1;var a=lp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:g,implementation:v}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,v)},gn.flushSync=function(y){var g=d.T,v=i.p;try{if(d.T=null,i.p=2,y)return y()}finally{d.T=g,i.p=v,i.d.f()}},gn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(y,g))},gn.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},gn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:j}):v==="script"&&i.d.X(y,{crossOrigin:E,integrity:A,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);i.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(y)},gn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin);i.d.L(y,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gn.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=p(g.as,g.crossOrigin);i.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(y)},gn.requestFormReset=function(y){i.d.r(y)},gn.unstable_batchedUpdates=function(y,g){return y(g)},gn.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},gn.version="19.2.3",gn}var zb;function iT(){if(zb)return pm.exports;zb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),pm.exports=aT(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function sT(){if(Ub)return Ko;Ub=1;var a=rT(),e=lp(),n=iT();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(i(188))}function g(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,o=r;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),r;f=f.sibling}throw Error(i(188))}if(s.return!==o.return)s=h,o=f;else{for(var _=!1,w=h.child;w;){if(w===s){_=!0,s=h,o=f;break}if(w===o){_=!0,o=h,s=f;break}w=w.sibling}if(!_){for(w=f.child;w;){if(w===s){_=!0,s=f,o=h;break}if(w===o){_=!0,o=f,s=h;break}w=w.sibling}if(!_)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case te:return"Profiler";case U:return"StrictMode";case ke:return"Suspense";case Se:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ne:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case me:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:it(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return it(t(r))}catch{}}return null}var ze=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Pe=[],qe=-1;function O(t){return{current:t}}function J(t){0>qe||(t.current=Pe[qe],Pe[qe]=null,qe--)}function le(t,r){qe++,Pe[qe]=t.current,t.current=r}var de=O(null),ue=O(null),Ne=O(null),He=O(null);function Mt(t,r){switch(le(Ne,r),le(ue,t),le(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?tb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=tb(r),t=nb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(de),le(de,t)}function ft(){J(de),J(ue),J(Ne)}function Sr(t){t.memoizedState!==null&&le(He,t);var r=de.current,s=nb(r,t.type);r!==s&&(le(ue,t),le(de,s))}function or(t){ue.current===t&&(J(de),J(ue)),He.current===t&&(J(He),qo._currentValue=pe)}var kr,cr;function Tn(t){if(kr===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);kr=r&&r[1]||"",cr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+cr}var Li=!1;function sa(t,r){if(!t||Li)return"";Li=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(X){var F=X}Reflect.construct(t,[],W)}else{try{W.call()}catch(X){F=X}t.call(W.prototype)}}else{try{throw Error()}catch(X){F=X}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],w=f[1];if(_&&w){var C=_.split(`
`),q=w.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===q.length)for(o=C.length-1,h=q.length-1;1<=o&&0<=h&&C[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==q[h]){var $=`
`+C[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{Li=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Tn(s):""}function la(t,r){switch(t.tag){case 26:case 27:case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return t.child!==r&&r!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Tn("Activity");default:return""}}function zi(t){try{var r="",s=null;do r+=la(t,s),s=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var It=Object.prototype.hasOwnProperty,kt=a.unstable_scheduleCallback,Xn=a.unstable_cancelCallback,ks=a.unstable_shouldYield,re=a.unstable_requestPaint,ce=a.unstable_now,Te=a.unstable_getCurrentPriorityLevel,je=a.unstable_ImmediatePriority,De=a.unstable_UserBlockingPriority,Ae=a.unstable_NormalPriority,nt=a.unstable_LowPriority,vt=a.unstable_IdlePriority,sn=a.log,Et=a.unstable_setDisableYieldValue,vn=null,xe=null;function Oe(t){if(typeof sn=="function"&&Et(t),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(vn,t)}catch{}}var ge=Math.clz32?Math.clz32:Zt,gt=Math.log,Nt=Math.LN2;function Zt(t){return t>>>=0,t===0?32:31-(gt(t)/Nt|0)|0}var Rt=256,ln=262144,jt=4194304;function Nr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rr(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~f,o!==0?h=Nr(o):(_&=w,_!==0?h=Nr(_):s||(s=w&~t,s!==0&&(h=Nr(s))))):(w=o&~f,w!==0?h=Nr(w):_!==0?h=Nr(_):s||(s=o&~t,s!==0&&(h=Nr(s)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,s=r&-r,f>=s||f===32&&(s&4194048)!==0)?r:h}function ur(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function fh(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mc(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function Cr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Ui(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mh(t,r,s,o,h,f){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(s=_&~s;0<s;){var $=31-ge(s),W=1<<$;w[$]=0,C[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var X=F[$];X!==null&&(X.lane&=-536870913)}s&=~W}o!==0&&Bi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~r))}function Bi(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-ge(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Xl(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-ge(s),h=1<<o;h&r|t[o]&r&&(t[o]|=r),s&=~h}}function Kl(t,r){var s=r&-r;return s=(s&42)!==0?1:qi(s),(s&(t.suspendedLanes|r))!==0?0:s}function qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Ab(t.type))}function dr(t,r){var s=ie.p;try{return ie.p=t,r()}finally{ie.p=s}}var hr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+hr,en="__reactProps$"+hr,Ir="__reactContainer$"+hr,Ns="__reactEvents$"+hr,ph="__reactListeners$"+hr,Pc="__reactHandles$"+hr,Lc="__reactResources$"+hr,jr="__reactMarker$"+hr;function Rs(t){delete t[Bt],delete t[en],delete t[Ns],delete t[ph],delete t[Pc]}function Dr(t){var r=t[Bt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ir]||s[Bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=cb(t);t!==null;){if(s=t[Bt])return s;t=cb(t)}return r}t=s,s=t.parentNode}return null}function Kn(t){if(t=t[Bt]||t[Ir]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Mn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Or(t){var r=t[Lc];return r||(r=t[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function qt(t){t[jr]=!0}var Ql=new Set,$l={};function Mr(t,r){Vr(t,r),Vr(t+"Capture",r)}function Vr(t,r){for($l[t]=r,t=0;t<r.length;t++)Ql.add(r[t])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},Jl={};function zc(t){return It.call(Jl,t)?!0:It.call(Zl,t)?!1:Yl.test(t)?Jl[t]=!0:(Zl[t]=!0,!1)}function Cs(t,r,s){if(zc(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Vn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Ht(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function La(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wl(t,r,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function st(t){if(!t._valueTracker){var r=La(t)?"checked":"value";t._valueTracker=Wl(t,r,""+t[r])}}function Hi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=La(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function Pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fi=/[\n"\\]/g;function An(t){return t.replace(Fi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Is(t,r,s,o,h,f,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?eo(t,_,tn(r)):s!=null?eo(t,_,tn(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+tn(w):t.removeAttribute("name")}function Uc(t,r,s,o,h,f,_,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){st(t);return}s=s!=null?""+tn(s):"",r=r!=null?""+tn(r):s,w||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),st(t)}function eo(t,r,s){r==="number"&&Pr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function za(t,r,s,o){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+tn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Bc(t,r,s){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+tn(s):""}function Ua(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(i(92));if(ze(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=tn(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),st(t)}function Sn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||qc.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function no(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&s[h]!==o&&to(t,h,o)}else for(var f in r)r.hasOwnProperty(f)&&to(t,f,r[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(t){return Ba.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fr(){}var ro=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qa=null,Lr=null;function Gi(t){var r=Kn(t);if(r&&(t=r.stateNode)){var s=t[en]||null;e:switch(t=r.stateNode,r.type){case"input":if(Is(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var h=o[en]||null;if(!h)throw Error(i(90));Is(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Hi(o)}break e;case"textarea":Bc(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&za(t,!!s.multiple,r,!1)}}}var Os=!1;function Ha(t,r,s){if(Os)return t(r,s);Os=!0;try{var o=t(r);return o}finally{if(Os=!1,(qa!==null||Lr!==null)&&(Vu(),qa&&(r=qa,t=Lr,Lr=qa=null,Gi(r),t)))for(r=0;r<t.length;r++)Gi(t[r])}}function mr(t,r){var s=t.stateNode;if(s===null)return null;var o=s[en]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xi=!1;if($n)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Xi=!1}var zr=null,ao=null,Ki=null;function io(){if(Ki)return Ki;var t,r=ao,s=r.length,o,h="value"in zr?zr.value:zr.textContent,f=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(o=1;o<=_&&r[s-o]===h[f-o];o++);return Ki=h.slice(t,1<o?1-o:void 0)}function Qi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ca(){return!0}function pr(){return!1}function on(t){function r(s,o,h,f,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ca:pr,this.isPropagationStopped=pr,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),r}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=on(ua),Fa=E({},ua,{view:0,detail:0}),so=on(Fa),Ga,Ms,Br,Vs=E({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Ga=t.screenX-Br.screenX,Ms=t.screenY-Br.screenY):Ms=Ga=0,Br=t),Ga)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),lo=on(Vs),$i=E({},Vs,{dataTransfer:0}),Fc=on($i),Gc=E({},Fa,{relatedTarget:0}),Yi=on(Gc),oo=E({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=on(oo),Ps=E({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kc=on(Ps),Qc=E({},ua,{data:0}),qr=on(Qc),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Zc[t])?!!r[t]:!1}function Xa(){return Jc}var En=E({},Fa,{key:function(t){if(t.key){var r=$c[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(t){return t.type==="keypress"?Qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wc=on(En),eu=E({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),da=on(eu),u=E({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),b=on(u),x=E({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=on(x),z=E({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=on(z),se=E({},ua,{newState:0,oldState:0}),Me=on(se),Vt=[9,13,27,32],et=$n&&"CompositionEvent"in window,wt=null;$n&&"documentMode"in document&&(wt=document.documentMode);var Yn=$n&&"TextEvent"in window&&!wt,Hr=$n&&(!et||wt&&8<wt&&11>=wt),gr=" ",yr=!1;function Zi(t,r){switch(t){case"keyup":return Vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ls(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function EE(t,r){switch(t){case"compositionend":return Ls(r);case"keypress":return r.which!==32?null:(yr=!0,gr);case"textInput":return t=r.data,t===gr&&yr?null:t;default:return null}}function wE(t,r){if(zs)return t==="compositionend"||!et&&Zi(t,r)?(t=io(),Ki=ao=zr=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hr&&r.locale!=="ko"?null:r.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!TE[t.type]:r==="textarea"}function fg(t,r,s,o){qa?Lr?Lr.push(o):Lr=[o]:qa=o,r=Hu(r,"onChange"),0<r.length&&(s=new Ur("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var co=null,uo=null;function AE(t){$y(t,0)}function tu(t){var r=Mn(t);if(Hi(r))return t}function mg(t,r){if(t==="change")return r}var pg=!1;if($n){var gh;if($n){var yh="oninput"in document;if(!yh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),yh=typeof gg.oninput=="function"}gh=yh}else gh=!1;pg=gh&&(!document.documentMode||9<document.documentMode)}function yg(){co&&(co.detachEvent("onpropertychange",bg),uo=co=null)}function bg(t){if(t.propertyName==="value"&&tu(uo)){var r=[];fg(r,uo,t,Qn(t)),Ha(AE,r)}}function SE(t,r,s){t==="focusin"?(yg(),co=r,uo=s,co.attachEvent("onpropertychange",bg)):t==="focusout"&&yg()}function kE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(uo)}function NE(t,r){if(t==="click")return tu(r)}function RE(t,r){if(t==="input"||t==="change")return tu(r)}function CE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:CE;function ho(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!It.call(r,h)||!Pn(t[h],r[h]))return!1}return!0}function _g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,r){var s=_g(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_g(s)}}function vg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?vg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Pr(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Pr(t.document)}return r}function bh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var IE=$n&&"documentMode"in document&&11>=document.documentMode,Us=null,_h=null,fo=null,xh=!1;function wg(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||Us==null||Us!==Pr(o)||(o=Us,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fo&&ho(fo,o)||(fo=o,o=Hu(_h,"onSelect"),0<o.length&&(r=new Ur("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=Us)))}function Ji(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Bs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},vh={},Tg={};$n&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Wi(t){if(vh[t])return vh[t];if(!Bs[t])return t;var r=Bs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Tg)return vh[t]=r[s];return t}var Ag=Wi("animationend"),Sg=Wi("animationiteration"),kg=Wi("animationstart"),jE=Wi("transitionrun"),DE=Wi("transitionstart"),OE=Wi("transitioncancel"),Ng=Wi("transitionend"),Rg=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eh.push("scrollEnd");function br(t,r){Rg.set(t,r),Mr(r,[t])}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],qs=0,wh=0;function ru(){for(var t=qs,r=wh=qs=0;r<t;){var s=Zn[r];Zn[r++]=null;var o=Zn[r];Zn[r++]=null;var h=Zn[r];Zn[r++]=null;var f=Zn[r];if(Zn[r++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Cg(s,h,f)}}function au(t,r,s,o){Zn[qs++]=t,Zn[qs++]=r,Zn[qs++]=s,Zn[qs++]=o,wh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Th(t,r,s,o){return au(t,r,s,o),iu(t)}function es(t,r){return au(t,null,null,r),iu(t)}function Cg(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-ge(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=s|536870912),f):null}function iu(t){if(50<Mo)throw Mo=0,Of=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Hs={};function ME(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,r,s,o){return new ME(t,r,s,o)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ha(t,r){var s=t.alternate;return s===null?(s=Ln(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ig(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function su(t,r,s,o,h,f){var _=0;if(o=t,typeof t=="function")Ah(t)&&(_=1);else if(typeof t=="string")_=Uw(t,s,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Ln(31,s,r,h),t.elementType=k,t.lanes=f,t;case K:return ts(s.children,h,f,r);case U:_=8,h|=24;break;case te:return t=Ln(12,s,r,h|2),t.elementType=te,t.lanes=f,t;case ke:return t=Ln(13,s,r,h),t.elementType=ke,t.lanes=f,t;case Se:return t=Ln(19,s,r,h),t.elementType=Se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case ae:_=9;break e;case me:_=11;break e;case N:_=14;break e;case S:_=16,o=null;break e}_=29,s=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=Ln(_,s,r,h),r.elementType=t,r.type=o,r.lanes=f,r}function ts(t,r,s,o){return t=Ln(7,t,o,r),t.lanes=s,t}function Sh(t,r,s){return t=Ln(6,t,null,r),t.lanes=s,t}function jg(t){var r=Ln(18,null,null,0);return r.stateNode=t,r}function kh(t,r,s){return r=Ln(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Dg=new WeakMap;function Jn(t,r){if(typeof t=="object"&&t!==null){var s=Dg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:zi(r)},Dg.set(t,r),r)}return{value:t,source:r,stack:zi(r)}}var Fs=[],Gs=0,lu=null,mo=0,Wn=[],er=0,Ka=null,Fr=1,Gr="";function fa(t,r){Fs[Gs++]=mo,Fs[Gs++]=lu,lu=t,mo=r}function Og(t,r,s){Wn[er++]=Fr,Wn[er++]=Gr,Wn[er++]=Ka,Ka=t;var o=Fr;t=Gr;var h=32-ge(o)-1;o&=~(1<<h),s+=1;var f=32-ge(r)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Fr=1<<32-ge(r)+h|s<<h|o,Gr=f+t}else Fr=1<<f|s<<h|o,Gr=t}function Nh(t){t.return!==null&&(fa(t,1),Og(t,1,0))}function Rh(t){for(;t===lu;)lu=Fs[--Gs],Fs[Gs]=null,mo=Fs[--Gs],Fs[Gs]=null;for(;t===Ka;)Ka=Wn[--er],Wn[er]=null,Gr=Wn[--er],Wn[er]=null,Fr=Wn[--er],Wn[er]=null}function Mg(t,r){Wn[er++]=Fr,Wn[er++]=Gr,Wn[er++]=Ka,Fr=r.id,Gr=r.overflow,Ka=t}var cn=null,bt=null,$e=!1,Qa=null,tr=!1,Ch=Error(i(519));function $a(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Jn(r,t)),Ch}function Vg(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[Bt]=t,r[en]=o,s){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Po.length;s++)Be(Po[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Uc(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Ua(r,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||Wy(r.textContent,s)?(o.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),o.onScroll!=null&&Be("scroll",r),o.onScrollEnd!=null&&Be("scrollend",r),o.onClick!=null&&(r.onclick=fr),r=!0):r=!1,r||$a(t,!0)}function Pg(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:cn=cn.return}}function Xs(t){if(t!==cn)return!1;if(!$e)return Pg(t),$e=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$f(t.type,t.memoizedProps)),s=!s),s&&bt&&$a(t),Pg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));bt=ob(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));bt=ob(t)}else r===27?(r=bt,ci(t.type)?(t=em,em=null,bt=t):bt=r):bt=cn?rr(t.stateNode.nextSibling):null;return!0}function ns(){bt=cn=null,$e=!1}function Ih(){var t=Qa;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Qa=null),t}function po(t){Qa===null?Qa=[t]:Qa.push(t)}var jh=O(null),rs=null,ma=null;function Ya(t,r,s){le(jh,r._currentValue),r._currentValue=s}function pa(t){t._currentValue=jh.current,J(jh)}function Dh(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function Oh(t,r,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var C=0;C<r.length;C++)if(w.context===r[C]){f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),Dh(f.return,s,t),o||(_=null);break e}f=w.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),Dh(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ks(t,r,s,o){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var w=h.type;Pn(h.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(h===He.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}h=h.return}t!==null&&Oh(r,t,s,o),r.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){rs=t,ma=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return Lg(rs,t)}function cu(t,r){return rs===null&&as(t),Lg(t,r)}function Lg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ma===null){if(t===null)throw Error(i(308));ma=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ma=ma.next=r;return s}var VE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},PE=a.unstable_scheduleCallback,LE=a.unstable_NormalPriority,Ft={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new VE,data:new Map,refCount:0}}function go(t){t.refCount--,t.refCount===0&&PE(LE,function(){t.controller.abort()})}var yo=null,Vh=0,Qs=0,$s=null;function zE(t,r){if(yo===null){var s=yo=[];Vh=0,Qs=Uf(),$s={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Vh++,r.then(zg,zg),r}function zg(){if(--Vh===0&&yo!==null){$s!==null&&($s.status="fulfilled");var t=yo;yo=null,Qs=0,$s=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function UE(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ug=Q.S;Q.S=function(t,r){wy=ce(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zE(t,r),Ug!==null&&Ug(t,r)};var is=O(null);function Ph(){var t=is.current;return t!==null?t:mt.pooledCache}function uu(t,r){r===null?le(is,is.current):le(is,r.pool)}function Bg(){var t=Ph();return t===null?null:{parent:Ft._currentValue,pool:t}}var Ys=Error(i(460)),Lh=Error(i(474)),du=Error(i(542)),hu={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(fr,fr),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gg(t),t;default:if(typeof r.status=="string")r.then(fr,fr);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gg(t),t}throw ls=r,Ys}}function ss(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ls=s,Ys):s}}var ls=null;function Fg(){if(ls===null)throw Error(i(459));var t=ls;return ls=null,t}function Gg(t){if(t===Ys||t===du)throw Error(i(483))}var Zs=null,bo=0;function fu(t){var r=bo;return bo+=1,Zs===null&&(Zs=[]),Hg(Zs,t,r)}function _o(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function mu(t,r){throw r.$$typeof===A?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Xg(t){function r(P,M){if(t){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function s(P,M){if(!t)return null;for(;M!==null;)r(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=ha(P,M),P.index=0,P.sibling=null,P}function f(P,M,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function w(P,M,B,Y){return M===null||M.tag!==6?(M=Sh(B,P.mode,Y),M.return=P,M):(M=h(M,B),M.return=P,M)}function C(P,M,B,Y){var be=B.type;return be===K?$(P,M,B.props.children,Y,B.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===S&&ss(be)===M.type)?(M=h(M,B.props),_o(M,B),M.return=P,M):(M=su(B.type,B.key,B.props,null,P.mode,Y),_o(M,B),M.return=P,M)}function q(P,M,B,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=kh(B,P.mode,Y),M.return=P,M):(M=h(M,B.children||[]),M.return=P,M)}function $(P,M,B,Y,be){return M===null||M.tag!==7?(M=ts(B,P.mode,Y,be),M.return=P,M):(M=h(M,B),M.return=P,M)}function W(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sh(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return B=su(M.type,M.key,M.props,null,P.mode,B),_o(B,M),B.return=P,B;case H:return M=kh(M,P.mode,B),M.return=P,M;case S:return M=ss(M),W(P,M,B)}if(ze(M)||V(M))return M=ts(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return W(P,fu(M),B);if(M.$$typeof===ne)return W(P,cu(P,M),B);mu(P,M)}return null}function F(P,M,B,Y){var be=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return be!==null?null:w(P,M,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===be?C(P,M,B,Y):null;case H:return B.key===be?q(P,M,B,Y):null;case S:return B=ss(B),F(P,M,B,Y)}if(ze(B)||V(B))return be!==null?null:$(P,M,B,Y,null);if(typeof B.then=="function")return F(P,M,fu(B),Y);if(B.$$typeof===ne)return F(P,M,cu(P,B),Y);mu(P,B)}return null}function X(P,M,B,Y,be){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(B)||null,w(M,P,""+Y,be);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return P=P.get(Y.key===null?B:Y.key)||null,C(M,P,Y,be);case H:return P=P.get(Y.key===null?B:Y.key)||null,q(M,P,Y,be);case S:return Y=ss(Y),X(P,M,B,Y,be)}if(ze(Y)||V(Y))return P=P.get(B)||null,$(M,P,Y,be,null);if(typeof Y.then=="function")return X(P,M,B,fu(Y),be);if(Y.$$typeof===ne)return X(P,M,B,cu(M,Y),be);mu(M,Y)}return null}function fe(P,M,B,Y){for(var be=null,Je=null,ye=M,Le=M=0,Ge=null;ye!==null&&Le<B.length;Le++){ye.index>Le?(Ge=ye,ye=null):Ge=ye.sibling;var We=F(P,ye,B[Le],Y);if(We===null){ye===null&&(ye=Ge);break}t&&ye&&We.alternate===null&&r(P,ye),M=f(We,M,Le),Je===null?be=We:Je.sibling=We,Je=We,ye=Ge}if(Le===B.length)return s(P,ye),$e&&fa(P,Le),be;if(ye===null){for(;Le<B.length;Le++)ye=W(P,B[Le],Y),ye!==null&&(M=f(ye,M,Le),Je===null?be=ye:Je.sibling=ye,Je=ye);return $e&&fa(P,Le),be}for(ye=o(ye);Le<B.length;Le++)Ge=X(ye,P,Le,B[Le],Y),Ge!==null&&(t&&Ge.alternate!==null&&ye.delete(Ge.key===null?Le:Ge.key),M=f(Ge,M,Le),Je===null?be=Ge:Je.sibling=Ge,Je=Ge);return t&&ye.forEach(function(mi){return r(P,mi)}),$e&&fa(P,Le),be}function ve(P,M,B,Y){if(B==null)throw Error(i(151));for(var be=null,Je=null,ye=M,Le=M=0,Ge=null,We=B.next();ye!==null&&!We.done;Le++,We=B.next()){ye.index>Le?(Ge=ye,ye=null):Ge=ye.sibling;var mi=F(P,ye,We.value,Y);if(mi===null){ye===null&&(ye=Ge);break}t&&ye&&mi.alternate===null&&r(P,ye),M=f(mi,M,Le),Je===null?be=mi:Je.sibling=mi,Je=mi,ye=Ge}if(We.done)return s(P,ye),$e&&fa(P,Le),be;if(ye===null){for(;!We.done;Le++,We=B.next())We=W(P,We.value,Y),We!==null&&(M=f(We,M,Le),Je===null?be=We:Je.sibling=We,Je=We);return $e&&fa(P,Le),be}for(ye=o(ye);!We.done;Le++,We=B.next())We=X(ye,P,Le,We.value,Y),We!==null&&(t&&We.alternate!==null&&ye.delete(We.key===null?Le:We.key),M=f(We,M,Le),Je===null?be=We:Je.sibling=We,Je=We);return t&&ye.forEach(function(Zw){return r(P,Zw)}),$e&&fa(P,Le),be}function ht(P,M,B,Y){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var be=B.key;M!==null;){if(M.key===be){if(be=B.type,be===K){if(M.tag===7){s(P,M.sibling),Y=h(M,B.props.children),Y.return=P,P=Y;break e}}else if(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===S&&ss(be)===M.type){s(P,M.sibling),Y=h(M,B.props),_o(Y,B),Y.return=P,P=Y;break e}s(P,M);break}else r(P,M);M=M.sibling}B.type===K?(Y=ts(B.props.children,P.mode,Y,B.key),Y.return=P,P=Y):(Y=su(B.type,B.key,B.props,null,P.mode,Y),_o(Y,B),Y.return=P,P=Y)}return _(P);case H:e:{for(be=B.key;M!==null;){if(M.key===be)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){s(P,M.sibling),Y=h(M,B.children||[]),Y.return=P,P=Y;break e}else{s(P,M);break}else r(P,M);M=M.sibling}Y=kh(B,P.mode,Y),Y.return=P,P=Y}return _(P);case S:return B=ss(B),ht(P,M,B,Y)}if(ze(B))return fe(P,M,B,Y);if(V(B)){if(be=V(B),typeof be!="function")throw Error(i(150));return B=be.call(B),ve(P,M,B,Y)}if(typeof B.then=="function")return ht(P,M,fu(B),Y);if(B.$$typeof===ne)return ht(P,M,cu(P,B),Y);mu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(s(P,M.sibling),Y=h(M,B),Y.return=P,P=Y):(s(P,M),Y=Sh(B,P.mode,Y),Y.return=P,P=Y),_(P)):s(P,M)}return function(P,M,B,Y){try{bo=0;var be=ht(P,M,B,Y);return Zs=null,be}catch(ye){if(ye===Ys||ye===du)throw ye;var Je=Ln(29,ye,null,P.mode);return Je.lanes=Y,Je.return=P,Je}finally{}}}var os=Xg(!0),Kg=Xg(!1),Za=!1;function zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ja(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wa(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(tt&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=iu(t),Cg(t,null,s),r}return au(t,o,r,s),iu(t)}function xo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Xl(t,s)}}function Bh(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=r:f=f.next=r}else h=f=r;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var qh=!1;function vo(){if(qh){var t=$s;if(t!==null)throw t}}function Eo(t,r,s,o){qh=!1;var h=t.updateQueue;Za=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,q=C.next;C.next=null,_===null?f=q:_.next=q,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==_&&(w===null?$.firstBaseUpdate=q:w.next=q,$.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;_=0,$=q=C=null,w=f;do{var F=w.lane&-536870913,X=F!==w.lane;if(X?(Fe&F)===F:(o&F)===F){F!==0&&F===Qs&&(qh=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,ve=w;F=r;var ht=s;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){W=fe.call(ht,W,F);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,F=typeof fe=="function"?fe.call(ht,W,F):fe,F==null)break e;W=E({},W,F);break e;case 2:Za=!0}}F=w.callback,F!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[F]:X.push(F))}else X={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(q=$=X,C=W):$=$.next=X,_|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;X=w,w=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);$===null&&(C=W),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),ai|=_,t.lanes=_,t.memoizedState=W}}function Qg(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function $g(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Qg(s[t],r)}var Js=O(null),pu=O(0);function Yg(t,r){t=Ta,le(pu,t),le(Js,r),Ta=t|r.baseLanes}function Hh(){le(pu,Ta),le(Js,Js.current)}function Fh(){Ta=pu.current,J(Js),J(pu)}var zn=O(null),nr=null;function ei(t){var r=t.alternate;le(Pt,Pt.current&1),le(zn,t),nr===null&&(r===null||Js.current!==null||r.memoizedState!==null)&&(nr=t)}function Gh(t){le(Pt,Pt.current),le(zn,t),nr===null&&(nr=t)}function Zg(t){t.tag===22?(le(Pt,Pt.current),le(zn,t),nr===null&&(nr=t)):ti()}function ti(){le(Pt,Pt.current),le(zn,zn.current)}function Un(t){J(zn),nr===t&&(nr=null),J(Pt)}var Pt=O(0);function gu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Jf(s)||Wf(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ga=0,Ve=null,ut=null,Gt=null,yu=!1,Ws=!1,cs=!1,bu=0,wo=0,el=null,BE=0;function Dt(){throw Error(i(321))}function Xh(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Pn(t[s],r[s]))return!1;return!0}function Kh(t,r,s,o,h,f){return ga=f,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?O0:cf,cs=!1,f=s(o,h),cs=!1,Ws&&(f=Wg(r,s,o,h)),Jg(t),f}function Jg(t){Q.H=So;var r=ut!==null&&ut.next!==null;if(ga=0,Gt=ut=Ve=null,yu=!1,wo=0,el=null,r)throw Error(i(300));t===null||Xt||(t=t.dependencies,t!==null&&ou(t)&&(Xt=!0))}function Wg(t,r,s,o){Ve=t;var h=0;do{if(Ws&&(el=null),wo=0,Ws=!1,25<=h)throw Error(i(301));if(h+=1,Gt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=M0,f=r(s,o)}while(Ws);return f}function qE(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?To(r):r,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Ve.flags|=1024),r}function Qh(){var t=bu!==0;return bu=0,t}function $h(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Yh(t){if(yu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}yu=!1}ga=0,Gt=ut=Ve=null,Ws=!1,wo=bu=0,el=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ve.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Lt(){if(ut===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var r=Gt===null?Ve.memoizedState:Gt.next;if(r!==null)Gt=r,ut=t;else{if(t===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Gt===null?Ve.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(t){var r=wo;return wo+=1,el===null&&(el=[]),t=Hg(el,t,r),r=Ve,(Gt===null?r.memoizedState:Gt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?O0:cf),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return To(t);if(t.$$typeof===ne)return un(t)}throw Error(i(438,String(t)))}function Zh(t){var r=null,s=Ve.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=Ve.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=_u(),Ve.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=D;return r.index++,s}function ya(t,r){return typeof r=="function"?r(t):r}function vu(t){var r=Lt();return Jh(r,ut,t)}function Jh(t,r,s){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}r.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var w=_=null,C=null,q=r,$=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Fe&W)===W:(ga&W)===W){var F=q.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Qs&&($=!0);else if((ga&F)===F){q=q.next,F===Qs&&($=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(w=C=W,_=f):C=C.next=W,Ve.lanes|=F,ai|=F;W=q.action,cs&&s(f,W),f=q.hasEagerState?q.eagerState:s(f,W)}else F={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(w=C=F,_=f):C=C.next=F,Ve.lanes|=W,ai|=W;q=q.next}while(q!==null&&q!==r);if(C===null?_=f:C.next=w,!Pn(f,t.memoizedState)&&(Xt=!0,$&&(s=$s,s!==null)))throw s;t.memoizedState=f,t.baseState=_,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Wh(t){var r=Lt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Pn(f,r.memoizedState)||(Xt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),s.lastRenderedState=f}return[f,o]}function e0(t,r,s){var o=Ve,h=Lt(),f=$e;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=r();var _=!Pn((ut||h).memoizedState,s);if(_&&(h.memoizedState=s,Xt=!0),h=h.queue,nf(r0.bind(null,o,h,t),[t]),h.getSnapshot!==r||_||Gt!==null&&Gt.memoizedState.tag&1){if(o.flags|=2048,tl(9,{destroy:void 0},n0.bind(null,o,h,s,r),null),mt===null)throw Error(i(349));f||(ga&127)!==0||t0(o,r,s)}return s}function t0(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ve.updateQueue,r===null?(r=_u(),Ve.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function n0(t,r,s,o){r.value=s,r.getSnapshot=o,a0(r)&&i0(t)}function r0(t,r,s){return s(function(){a0(r)&&i0(t)})}function a0(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Pn(t,s)}catch{return!0}}function i0(t){var r=es(t,2);r!==null&&In(r,t,2)}function ef(t){var r=wn();if(typeof t=="function"){var s=t;if(t=s(),cs){Oe(!0);try{s()}finally{Oe(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},r}function s0(t,r,s,o){return t.baseState=s,Jh(t,ut,typeof o=="function"?o:ya)}function HE(t,r,s,o,h){if(Tu(t))throw Error(i(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?s(!0):f.isTransition=!1,o(f),s=r.pending,s===null?(f.next=r.pending=f,l0(r,f)):(f.next=s.next,r.pending=s.next=f)}}function l0(t,r){var s=r.action,o=r.payload,h=t.state;if(r.isTransition){var f=Q.T,_={};Q.T=_;try{var w=s(h,o),C=Q.S;C!==null&&C(_,w),o0(t,r,w)}catch(q){tf(t,r,q)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=s(h,o),o0(t,r,f)}catch(q){tf(t,r,q)}}function o0(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){c0(t,r,o)},function(o){return tf(t,r,o)}):c0(t,r,s)}function c0(t,r,s){r.status="fulfilled",r.value=s,u0(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,l0(t,s)))}function tf(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,u0(r),r=r.next;while(r!==o)}t.action=null}function u0(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function d0(t,r){return r}function h0(t,r){if($e){var s=mt.formState;if(s!==null){e:{var o=Ve;if($e){if(bt){t:{for(var h=bt,f=tr;h.nodeType!==8;){if(!f){h=null;break t}if(h=rr(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=rr(h.nextSibling),o=h.data==="F!";break e}}$a(o)}o=!1}o&&(r=s[0])}}return s=wn(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:r},s.queue=o,s=I0.bind(null,Ve,o),o.dispatch=s,o=ef(!1),f=of.bind(null,Ve,!1,o.queue),o=wn(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,s=HE.bind(null,Ve,h,f,s),h.dispatch=s,o.memoizedState=t,[r,s,!1]}function f0(t){var r=Lt();return m0(r,ut,t)}function m0(t,r,s){if(r=Jh(t,r,d0)[0],t=vu(ya)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=To(r)}catch(_){throw _===Ys?du:_}else o=r;r=Lt();var h=r.queue,f=h.dispatch;return s!==r.memoizedState&&(Ve.flags|=2048,tl(9,{destroy:void 0},FE.bind(null,h,s),null)),[o,f,t]}function FE(t,r){t.action=r}function p0(t){var r=Lt(),s=ut;if(s!==null)return m0(r,s,t);Lt(),r=r.memoizedState,s=Lt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function tl(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=_u(),Ve.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function g0(){return Lt().memoizedState}function Eu(t,r,s,o){var h=wn();Ve.flags|=t,h.memoizedState=tl(1|r,{destroy:void 0},s,o===void 0?null:o)}function wu(t,r,s,o){var h=Lt();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&Xh(o,ut.memoizedState.deps)?h.memoizedState=tl(r,f,s,o):(Ve.flags|=t,h.memoizedState=tl(1|r,f,s,o))}function y0(t,r){Eu(8390656,8,t,r)}function nf(t,r){wu(2048,8,t,r)}function GE(t){Ve.flags|=4;var r=Ve.updateQueue;if(r===null)r=_u(),Ve.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function b0(t){var r=Lt().memoizedState;return GE({ref:r,nextImpl:t}),function(){if((tt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function _0(t,r){return wu(4,2,t,r)}function x0(t,r){return wu(4,4,t,r)}function v0(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function E0(t,r,s){s=s!=null?s.concat([t]):null,wu(4,4,v0.bind(null,r,t),s)}function rf(){}function w0(t,r){var s=Lt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&Xh(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function T0(t,r){var s=Lt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&Xh(r,o[1]))return o[0];if(o=t(),cs){Oe(!0);try{t()}finally{Oe(!1)}}return s.memoizedState=[o,r],o}function af(t,r,s){return s===void 0||(ga&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=Ay(),Ve.lanes|=t,ai|=t,s)}function A0(t,r,s,o){return Pn(s,r)?s:Js.current!==null?(t=af(t,s,o),Pn(t,r)||(Xt=!0),t):(ga&42)===0||(ga&1073741824)!==0&&(Fe&261930)===0?(Xt=!0,t.memoizedState=s):(t=Ay(),Ve.lanes|=t,ai|=t,r)}function S0(t,r,s,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=Q.T,w={};Q.T=w,of(t,!1,r,s);try{var C=h(),q=Q.S;if(q!==null&&q(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=UE(C,o);Ao(t,r,$,Hn(t))}else Ao(t,r,o,Hn(t))}catch(W){Ao(t,r,{then:function(){},status:"rejected",reason:W},Hn())}finally{ie.p=f,_!==null&&w.types!==null&&(_.types=w.types),Q.T=_}}function XE(){}function sf(t,r,s,o){if(t.tag!==5)throw Error(i(476));var h=k0(t).queue;S0(t,h,r,pe,s===null?XE:function(){return N0(t),s(o)})}function k0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:pe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function N0(t){var r=k0(t);r.next===null&&(r=t.alternate.memoizedState),Ao(t,r.next.queue,{},Hn())}function lf(){return un(qo)}function R0(){return Lt().memoizedState}function C0(){return Lt().memoizedState}function KE(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Hn();t=Ja(s);var o=Wa(r,t,s);o!==null&&(In(o,r,s),xo(o,r,s)),r={cache:Mh()},t.payload=r;return}r=r.return}}function QE(t,r,s){var o=Hn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Tu(t)?j0(r,s):(s=Th(t,r,s,o),s!==null&&(In(s,t,o),D0(s,r,o)))}function I0(t,r,s){var o=Hn();Ao(t,r,s,o)}function Ao(t,r,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))j0(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,w=f(_,s);if(h.hasEagerState=!0,h.eagerState=w,Pn(w,_))return au(t,r,h,0),mt===null&&ru(),!1}catch{}finally{}if(s=Th(t,r,h,o),s!==null)return In(s,t,o),D0(s,r,o),!0}return!1}function of(t,r,s,o){if(o={lane:2,revertLane:Uf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(r)throw Error(i(479))}else r=Th(t,s,o,2),r!==null&&In(r,t,2)}function Tu(t){var r=t.alternate;return t===Ve||r!==null&&r===Ve}function j0(t,r){Ws=yu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function D0(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Xl(t,s)}}var So={readContext:un,use:xu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};So.useEffectEvent=Dt;var O0={readContext:un,use:xu,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:un,useEffect:y0,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Eu(4194308,4,v0.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Eu(4194308,4,t,r)},useInsertionEffect:function(t,r){Eu(4,2,t,r)},useMemo:function(t,r){var s=wn();r=r===void 0?null:r;var o=t();if(cs){Oe(!0);try{t()}finally{Oe(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=wn();if(s!==void 0){var h=s(r);if(cs){Oe(!0);try{s(r)}finally{Oe(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=QE.bind(null,Ve,t),[o.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:function(t){t=ef(t);var r=t.queue,s=I0.bind(null,Ve,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:rf,useDeferredValue:function(t,r){var s=wn();return af(s,t,r)},useTransition:function(){var t=ef(!1);return t=S0.bind(null,Ve,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=Ve,h=wn();if($e){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),mt===null)throw Error(i(349));(Fe&127)!==0||t0(o,r,s)}h.memoizedState=s;var f={value:s,getSnapshot:r};return h.queue=f,y0(r0.bind(null,o,f,t),[t]),o.flags|=2048,tl(9,{destroy:void 0},n0.bind(null,o,f,s,r),null),s},useId:function(){var t=wn(),r=mt.identifierPrefix;if($e){var s=Gr,o=Fr;s=(o&~(1<<32-ge(o)-1)).toString(32)+s,r="_"+r+"R_"+s,s=bu++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=BE++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:lf,useFormState:h0,useActionState:h0,useOptimistic:function(t){var r=wn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=of.bind(null,Ve,!0,s),s.dispatch=r,[t,r]},useMemoCache:Zh,useCacheRefresh:function(){return wn().memoizedState=KE.bind(null,Ve)},useEffectEvent:function(t){var r=wn(),s={impl:t};return r.memoizedState=s,function(){if((tt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},cf={readContext:un,use:xu,useCallback:w0,useContext:un,useEffect:nf,useImperativeHandle:E0,useInsertionEffect:_0,useLayoutEffect:x0,useMemo:T0,useReducer:vu,useRef:g0,useState:function(){return vu(ya)},useDebugValue:rf,useDeferredValue:function(t,r){var s=Lt();return A0(s,ut.memoizedState,t,r)},useTransition:function(){var t=vu(ya)[0],r=Lt().memoizedState;return[typeof t=="boolean"?t:To(t),r]},useSyncExternalStore:e0,useId:R0,useHostTransitionStatus:lf,useFormState:f0,useActionState:f0,useOptimistic:function(t,r){var s=Lt();return s0(s,ut,t,r)},useMemoCache:Zh,useCacheRefresh:C0};cf.useEffectEvent=b0;var M0={readContext:un,use:xu,useCallback:w0,useContext:un,useEffect:nf,useImperativeHandle:E0,useInsertionEffect:_0,useLayoutEffect:x0,useMemo:T0,useReducer:Wh,useRef:g0,useState:function(){return Wh(ya)},useDebugValue:rf,useDeferredValue:function(t,r){var s=Lt();return ut===null?af(s,t,r):A0(s,ut.memoizedState,t,r)},useTransition:function(){var t=Wh(ya)[0],r=Lt().memoizedState;return[typeof t=="boolean"?t:To(t),r]},useSyncExternalStore:e0,useId:R0,useHostTransitionStatus:lf,useFormState:p0,useActionState:p0,useOptimistic:function(t,r){var s=Lt();return ut!==null?s0(s,ut,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:C0};M0.useEffectEvent=b0;function uf(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var df={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=Hn(),h=Ja(o);h.payload=r,s!=null&&(h.callback=s),r=Wa(t,h,o),r!==null&&(In(r,t,o),xo(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=Hn(),h=Ja(o);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Wa(t,h,o),r!==null&&(In(r,t,o),xo(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Hn(),o=Ja(s);o.tag=2,r!=null&&(o.callback=r),r=Wa(t,o,s),r!==null&&(In(r,t,s),xo(r,t,s))}};function V0(t,r,s,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):r.prototype&&r.prototype.isPureReactComponent?!ho(s,o)||!ho(h,f):!0}function P0(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&df.enqueueReplaceState(r,r.state,null)}function us(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function L0(t){nu(t)}function z0(t){console.error(t)}function U0(t){nu(t)}function Au(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function B0(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(t,r,s){return s=Ja(s),s.tag=3,s.payload={element:null},s.callback=function(){Au(t,r)},s}function q0(t){return t=Ja(t),t.tag=3,t}function H0(t,r,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){B0(r,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){B0(r,s,o),typeof h!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function $E(t,r,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&Ks(r,s,h,!0),s=zn.current,s!==null){switch(s.tag){case 31:case 13:return nr===null?Pu():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===hu?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),Pf(t,o,h)),!1;case 22:return s.flags|=65536,o===hu?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),Pf(t,o,h)),!1}throw Error(i(435,s.tag))}return Pf(t,o,h),Pu(),!1}if($e)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==Ch&&(t=Error(i(422),{cause:o}),po(Jn(t,s)))):(o!==Ch&&(r=Error(i(423),{cause:o}),po(Jn(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Jn(o,s),h=hf(t.stateNode,o,h),Bh(t,h),Ot!==4&&(Ot=2)),!1;var f=Error(i(520),{cause:o});if(f=Jn(f,s),Oo===null?Oo=[f]:Oo.push(f),Ot!==4&&(Ot=2),r===null)return!0;o=Jn(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=hf(s.stateNode,o,t),Bh(s,t),!1;case 1:if(r=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ii===null||!ii.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=q0(h),H0(h,t,s,o),Bh(s,h),!1}s=s.return}while(s!==null);return!1}var ff=Error(i(461)),Xt=!1;function dn(t,r,s,o){r.child=t===null?Kg(r,null,s,o):os(r,t.child,s,o)}function F0(t,r,s,o,h){s=s.render;var f=r.ref;if("ref"in o){var _={};for(var w in o)w!=="ref"&&(_[w]=o[w])}else _=o;return as(r),o=Kh(t,r,s,_,f,h),w=Qh(),t!==null&&!Xt?($h(t,r,h),ba(t,r,h)):($e&&w&&Nh(r),r.flags|=1,dn(t,r,o,h),r.child)}function G0(t,r,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=f,X0(t,r,f,o,h)):(t=su(s.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!vf(t,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:ho,s(_,o)&&t.ref===r.ref)return ba(t,r,h)}return r.flags|=1,t=ha(f,o),t.ref=r.ref,t.return=r,r.child=t}function X0(t,r,s,o,h){if(t!==null){var f=t.memoizedProps;if(ho(f,o)&&t.ref===r.ref)if(Xt=!1,r.pendingProps=o=f,vf(t,h))(t.flags&131072)!==0&&(Xt=!0);else return r.lanes=t.lanes,ba(t,r,h)}return mf(t,r,s,o,h)}function K0(t,r,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=r.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,r.child=null;return Q0(t,r,f,s,o)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&uu(r,f!==null?f.cachePool:null),f!==null?Yg(r,f):Hh(),Zg(r);else return o=r.lanes=536870912,Q0(t,r,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(uu(r,f.cachePool),Yg(r,f),ti(),r.memoizedState=null):(t!==null&&uu(r,null),Hh(),ti());return dn(t,r,h,s),r.child}function ko(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Q0(t,r,s,o,h){var f=Ph();return f=f===null?null:{parent:Ft._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},t!==null&&uu(r,null),Hh(),Zg(r),t!==null&&Ks(t,r,o,!0),r.childLanes=h,null}function Su(t,r){return r=Nu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function $0(t,r,s){return os(r,t.child,null,s),t=Su(r,r.pendingProps),t.flags|=2,Un(r),r.memoizedState=null,t}function YE(t,r,s){var o=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=Su(r,o),r.lanes=536870912,ko(null,t);if(Gh(r),(t=bt)?(t=lb(t,tr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ka!==null?{id:Fr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=r,r.child=s,cn=r,bt=null)):t=null,t===null)throw $a(r);return r.lanes=536870912,null}return Su(r,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Gh(r),h)if(r.flags&256)r.flags&=-257,r=$0(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Xt||Ks(t,r,s,!1),h=(s&t.childLanes)!==0,Xt||h){if(o=mt,o!==null&&(_=Kl(o,s),_!==0&&_!==f.retryLane))throw f.retryLane=_,es(t,_),In(o,t,_),ff;Pu(),r=$0(t,r,s)}else t=f.treeContext,bt=rr(_.nextSibling),cn=r,$e=!0,Qa=null,tr=!1,t!==null&&Mg(r,t),r=Su(r,o),r.flags|=4096;return r}return t=ha(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function ku(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function mf(t,r,s,o,h){return as(r),s=Kh(t,r,s,o,void 0,h),o=Qh(),t!==null&&!Xt?($h(t,r,h),ba(t,r,h)):($e&&o&&Nh(r),r.flags|=1,dn(t,r,s,h),r.child)}function Y0(t,r,s,o,h,f){return as(r),r.updateQueue=null,s=Wg(r,o,s,h),Jg(t),o=Qh(),t!==null&&!Xt?($h(t,r,f),ba(t,r,f)):($e&&o&&Nh(r),r.flags|=1,dn(t,r,s,f),r.child)}function Z0(t,r,s,o,h){if(as(r),r.stateNode===null){var f=Hs,_=s.contextType;typeof _=="object"&&_!==null&&(f=un(_)),f=new s(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},zh(r),_=s.contextType,f.context=typeof _=="object"&&_!==null?un(_):Hs,f.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(uf(r,s,_,o),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&df.enqueueReplaceState(f,f.state,null),Eo(r,o,f,h),vo(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var w=r.memoizedProps,C=us(s,w);f.props=C;var q=f.context,$=s.contextType;_=Hs,typeof $=="object"&&$!==null&&(_=un($));var W=s.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||q!==_)&&P0(r,f,o,_),Za=!1;var F=r.memoizedState;f.state=F,Eo(r,o,f,h),vo(),q=r.memoizedState,w||F!==q||Za?(typeof W=="function"&&(uf(r,s,W,o),q=r.memoizedState),(C=Za||V0(r,s,C,o,F,q,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=q),f.props=o,f.state=q,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,Uh(t,r),_=r.memoizedProps,$=us(s,_),f.props=$,W=r.pendingProps,F=f.context,q=s.contextType,C=Hs,typeof q=="object"&&q!==null&&(C=un(q)),w=s.getDerivedStateFromProps,(q=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||F!==C)&&P0(r,f,o,C),Za=!1,F=r.memoizedState,f.state=F,Eo(r,o,f,h),vo();var X=r.memoizedState;_!==W||F!==X||Za||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof w=="function"&&(uf(r,s,w,o),X=r.memoizedState),($=Za||V0(r,s,$,o,F,X,C)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,X,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,X,C)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=X),f.props=o,f.state=X,f.context=C,o=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,ku(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=os(r,t.child,null,h),r.child=os(r,null,s,h)):dn(t,r,s,h),r.memoizedState=f.state,t=r.child):t=ba(t,r,h),t}function J0(t,r,s,o){return ns(),r.flags|=256,dn(t,r,s,o),r.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(t){return{baseLanes:t,cachePool:Bg()}}function yf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=qn),t}function W0(t,r,s){var o=r.pendingProps,h=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if($e){if(h?ei(r):ti(),(t=bt)?(t=lb(t,tr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ka!==null?{id:Fr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=r,r.child=s,cn=r,bt=null)):t=null,t===null)throw $a(r);return Wf(t)?r.lanes=32:r.lanes=536870912,null}var w=o.children;return o=o.fallback,h?(ti(),h=r.mode,w=Nu({mode:"hidden",children:w},h),o=ts(o,h,s,null),w.return=r,o.return=r,w.sibling=o,r.child=w,o=r.child,o.memoizedState=gf(s),o.childLanes=yf(t,_,s),r.memoizedState=pf,ko(null,o)):(ei(r),bf(r,w))}var C=t.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(f)r.flags&256?(ei(r),r.flags&=-257,r=_f(t,r,s)):r.memoizedState!==null?(ti(),r.child=t.child,r.flags|=128,r=null):(ti(),w=o.fallback,h=r.mode,o=Nu({mode:"visible",children:o.children},h),w=ts(w,h,s,null),w.flags|=2,o.return=r,w.return=r,o.sibling=w,r.child=o,os(r,t.child,null,s),o=r.child,o.memoizedState=gf(s),o.childLanes=yf(t,_,s),r.memoizedState=pf,r=ko(null,o));else if(ei(r),Wf(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,o=Error(i(419)),o.stack="",o.digest=_,po({value:o,source:null,stack:null}),r=_f(t,r,s)}else if(Xt||Ks(t,r,s,!1),_=(s&t.childLanes)!==0,Xt||_){if(_=mt,_!==null&&(o=Kl(_,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,es(t,o),In(_,t,o),ff;Jf(w)||Pu(),r=_f(t,r,s)}else Jf(w)?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,bt=rr(w.nextSibling),cn=r,$e=!0,Qa=null,tr=!1,t!==null&&Mg(r,t),r=bf(r,o.children),r.flags|=4096);return r}return h?(ti(),w=o.fallback,h=r.mode,C=t.child,q=C.sibling,o=ha(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,q!==null?w=ha(q,w):(w=ts(w,h,s,null),w.flags|=2),w.return=r,o.return=r,o.sibling=w,r.child=o,ko(null,o),o=r.child,w=t.child.memoizedState,w===null?w=gf(s):(h=w.cachePool,h!==null?(C=Ft._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Bg(),w={baseLanes:w.baseLanes|s,cachePool:h}),o.memoizedState=w,o.childLanes=yf(t,_,s),r.memoizedState=pf,ko(t.child,o)):(ei(r),s=t.child,t=s.sibling,s=ha(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function bf(t,r){return r=Nu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Nu(t,r){return t=Ln(22,t,null,r),t.lanes=0,t}function _f(t,r,s){return os(r,t.child,null,s),t=bf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ey(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Dh(t.return,r,s)}function xf(t,r,s,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=s,_.tailMode=h,_.treeForkCount=f)}function ty(t,r,s){var o=r.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Pt.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,le(Pt,_),dn(t,r,o,s),o=$e?mo:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ey(t,s,r);else if(t.tag===19)ey(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&gu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),xf(r,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&gu(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}xf(r,!0,s,null,f,o);break;case"together":xf(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function ba(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ai|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Ks(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=ha(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ha(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function vf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function ZE(t,r,s){switch(r.tag){case 3:Mt(r,r.stateNode.containerInfo),Ya(r,Ft,t.memoizedState.cache),ns();break;case 27:case 5:Sr(r);break;case 4:Mt(r,r.stateNode.containerInfo);break;case 10:Ya(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gh(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(ei(r),r.flags|=128,null):(s&r.child.childLanes)!==0?W0(t,r,s):(ei(r),t=ba(t,r,s),t!==null?t.sibling:null);ei(r);break;case 19:var h=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(Ks(t,r,s,!1),o=(s&r.childLanes)!==0),h){if(o)return ty(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Pt,Pt.current),o)break;return null;case 22:return r.lanes=0,K0(t,r,s,r.pendingProps);case 24:Ya(r,Ft,t.memoizedState.cache)}return ba(t,r,s)}function ny(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Xt=!0;else{if(!vf(t,s)&&(r.flags&128)===0)return Xt=!1,ZE(t,r,s);Xt=(t.flags&131072)!==0}else Xt=!1,$e&&(r.flags&1048576)!==0&&Og(r,mo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=ss(r.elementType),r.type=t,typeof t=="function")Ah(t)?(o=us(t,o),r.tag=1,r=Z0(null,r,t,o,s)):(r.tag=0,r=mf(null,r,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===me){r.tag=11,r=F0(null,r,t,o,s);break e}else if(h===N){r.tag=14,r=G0(null,r,t,o,s);break e}}throw r=it(t)||t,Error(i(306,r,""))}}return r;case 0:return mf(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,h=us(o,r.pendingProps),Z0(t,r,o,h,s);case 3:e:{if(Mt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var f=r.memoizedState;h=f.element,Uh(t,r),Eo(r,o,null,s);var _=r.memoizedState;if(o=_.cache,Ya(r,Ft,o),o!==f.cache&&Oh(r,[Ft],s,!0),vo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=J0(t,r,o,s);break e}else if(o!==h){h=Jn(Error(i(424)),r),po(h),r=J0(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=rr(t.firstChild),cn=r,$e=!0,Qa=null,tr=!0,s=Kg(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ns(),o===h){r=ba(t,r,s);break e}dn(t,r,o,s)}r=r.child}return r;case 26:return ku(t,r),t===null?(s=fb(r.type,null,r.pendingProps,null))?r.memoizedState=s:$e||(s=r.type,t=r.pendingProps,o=Fu(Ne.current).createElement(s),o[Bt]=r,o[en]=t,hn(o,s,t),qt(o),r.stateNode=o):r.memoizedState=fb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Sr(r),t===null&&$e&&(o=r.stateNode=ub(r.type,r.pendingProps,Ne.current),cn=r,tr=!0,h=bt,ci(r.type)?(em=h,bt=rr(o.firstChild)):bt=h),dn(t,r,r.pendingProps.children,s),ku(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&$e&&((h=o=bt)&&(o=kw(o,r.type,r.pendingProps,tr),o!==null?(r.stateNode=o,cn=r,bt=rr(o.firstChild),tr=!1,h=!0):h=!1),h||$a(r)),Sr(r),h=r.type,f=r.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,$f(h,f)?o=null:_!==null&&$f(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Kh(t,r,qE,null,null,s),qo._currentValue=h),ku(t,r),dn(t,r,o,s),r.child;case 6:return t===null&&$e&&((t=s=bt)&&(s=Nw(s,r.pendingProps,tr),s!==null?(r.stateNode=s,cn=r,bt=null,t=!0):t=!1),t||$a(r)),null;case 13:return W0(t,r,s);case 4:return Mt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=os(r,null,o,s):dn(t,r,o,s),r.child;case 11:return F0(t,r,r.type,r.pendingProps,s);case 7:return dn(t,r,r.pendingProps,s),r.child;case 8:return dn(t,r,r.pendingProps.children,s),r.child;case 12:return dn(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Ya(r,r.type,o.value),dn(t,r,o.children,s),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,as(r),h=un(h),o=o(h),r.flags|=1,dn(t,r,o,s),r.child;case 14:return G0(t,r,r.type,r.pendingProps,s);case 15:return X0(t,r,r.type,r.pendingProps,s);case 19:return ty(t,r,s);case 31:return YE(t,r,s);case 22:return K0(t,r,s,r.pendingProps);case 24:return as(r),o=un(Ft),t===null?(h=Ph(),h===null&&(h=mt,f=Mh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),r.memoizedState={parent:o,cache:h},zh(r),Ya(r,Ft,h)):((t.lanes&s)!==0&&(Uh(t,r),Eo(r,null,null,s),vo()),h=t.memoizedState,f=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ya(r,Ft,o)):(o=f.cache,Ya(r,Ft,o),o!==h.cache&&Oh(r,[Ft],s,!0))),dn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _a(t){t.flags|=4}function Ef(t,r,s,o,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ry())t.flags|=8192;else throw ls=hu,Lh}else t.flags&=-16777217}function ry(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bb(r))if(Ry())t.flags|=8192;else throw ls=hu,Lh}function Ru(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Mc():536870912,t.lanes|=r,il|=r)}function No(t,r){if(!$e)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function _t(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function JE(t,r,s){var o=r.pendingProps;switch(Rh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(r),null;case 1:return _t(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),pa(Ft),ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xs(r)?_a(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ih())),_t(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(_a(r),f!==null?(_t(r),ry(r,f)):(_t(r),Ef(r,h,null,o,s))):f?f!==t.memoizedState?(_a(r),_t(r),ry(r,f)):(_t(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&_a(r),_t(r),Ef(r,h,t,o,s)),null;case 27:if(or(r),s=Ne.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&_a(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return _t(r),null}t=de.current,Xs(r)?Vg(r):(t=ub(h,o,s),r.stateNode=t,_a(r))}return _t(r),null;case 5:if(or(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&_a(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return _t(r),null}if(f=de.current,Xs(r))Vg(r);else{var _=Fu(Ne.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Bt]=r,f[en]=o;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch(hn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&_a(r)}}return _t(r),Ef(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&_a(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=Ne.current,Xs(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,h=cn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Bt]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(t.nodeValue,s)),t||$a(r,!0)}else t=Fu(t).createTextNode(o),t[Bt]=r,r.stateNode=t}return _t(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(o=Xs(r),s!==null){if(t===null){if(!o)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Bt]=r}else ns(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),t=!1}else s=Ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(Un(r),r):(Un(r),null);if((r.flags&128)!==0)throw Error(i(558))}return _t(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xs(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Bt]=r}else ns(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),h=!1}else h=Ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Un(r),r):(Un(r),null)}return Un(r),(r.flags&128)!==0?(r.lanes=s,r):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),Ru(r,r.updateQueue),_t(r),null);case 4:return ft(),t===null&&Ff(r.stateNode.containerInfo),_t(r),null;case 10:return pa(r.type),_t(r),null;case 19:if(J(Pt),o=r.memoizedState,o===null)return _t(r),null;if(h=(r.flags&128)!==0,f=o.rendering,f===null)if(h)No(o,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=gu(t),f!==null){for(r.flags|=128,No(o,!1),t=f.updateQueue,r.updateQueue=t,Ru(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Ig(s,t),s=s.sibling;return le(Pt,Pt.current&1|2),$e&&fa(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&ce()>Ou&&(r.flags|=128,h=!0,No(o,!1),r.lanes=4194304)}else{if(!h)if(t=gu(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Ru(r,t),No(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return _t(r),null}else 2*ce()-o.renderingStartTime>Ou&&s!==536870912&&(r.flags|=128,h=!0,No(o,!1),r.lanes=4194304);o.isBackwards?(f.sibling=r.child,r.child=f):(t=o.last,t!==null?t.sibling=f:r.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ce(),t.sibling=null,s=Pt.current,le(Pt,h?s&1|2:s&1),$e&&fa(r,o.treeForkCount),t):(_t(r),null);case 22:case 23:return Un(r),Fh(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(_t(r),r.subtreeFlags&6&&(r.flags|=8192)):_t(r),s=r.updateQueue,s!==null&&Ru(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&J(is),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),pa(Ft),_t(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function WE(t,r){switch(Rh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return pa(Ft),ft(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return or(r),null;case 31:if(r.memoizedState!==null){if(Un(r),r.alternate===null)throw Error(i(340));ns()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Un(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ns()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(Pt),null;case 4:return ft(),null;case 10:return pa(r.type),null;case 22:case 23:return Un(r),Fh(),t!==null&&J(is),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return pa(Ft),null;case 25:return null;default:return null}}function ay(t,r){switch(Rh(r),r.tag){case 3:pa(Ft),ft();break;case 26:case 27:case 5:or(r);break;case 4:ft();break;case 31:r.memoizedState!==null&&Un(r);break;case 13:Un(r);break;case 19:J(Pt);break;case 10:pa(r.type);break;case 22:case 23:Un(r),Fh(),t!==null&&J(is);break;case 24:pa(Ft)}}function Ro(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,_=s.inst;o=f(),_.destroy=o}s=s.next}while(s!==h)}}catch(w){ot(r,r.return,w)}}function ni(t,r,s){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,h=r;var C=s,q=w;try{q()}catch($){ot(h,C,$)}}}o=o.next}while(o!==f)}}catch($){ot(r,r.return,$)}}function iy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{$g(r,s)}catch(o){ot(t,t.return,o)}}}function sy(t,r,s){s.props=us(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ot(t,r,o)}}function Co(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){ot(t,r,h)}}function Xr(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ot(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ot(t,r,h)}else s.current=null}function ly(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ot(t,t.return,h)}}function wf(t,r,s){try{var o=t.stateNode;vw(o,t.type,s,r),o[en]=r}catch(h){ot(t,t.return,h)}}function oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ci(t.type)||t.tag===4}function Tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=fr));else if(o!==4&&(o===27&&ci(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Af(t,r,s),t=t.sibling;t!==null;)Af(t,r,s),t=t.sibling}function Cu(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&ci(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Cu(t,r,s),t=t.sibling;t!==null;)Cu(t,r,s),t=t.sibling}function cy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);hn(r,o,s),r[Bt]=t,r[en]=s}catch(f){ot(t,t.return,f)}}var xa=!1,Kt=!1,Sf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function ew(t,r){if(t=t.containerInfo,Kf=Zu,t=Eg(t),bh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var _=0,w=-1,C=-1,q=0,$=0,W=t,F=null;t:for(;;){for(var X;W!==s||h!==0&&W.nodeType!==3||(w=_+h),W!==f||o!==0&&W.nodeType!==3||(C=_+o),W.nodeType===3&&(_+=W.nodeValue.length),(X=W.firstChild)!==null;)F=W,W=X;for(;;){if(W===t)break t;if(F===s&&++q===h&&(w=_),F===f&&++$===o&&(C=_),(X=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=X}s=w===-1||C===-1?null:{start:w,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qf={focusedElem:t,selectionRange:s},Zu=!1,nn=r;nn!==null;)if(r=nn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,nn=t;else for(;nn!==null;){switch(r=nn,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=r,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var fe=us(s.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){ot(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Zf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,nn=t;break}nn=r.return}}function dy(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ea(t,s),o&4&&Ro(5,s);break;case 1:if(Ea(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){ot(s,s.return,_)}else{var h=us(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ot(s,s.return,_)}}o&64&&iy(s),o&512&&Co(s,s.return);break;case 3:if(Ea(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{$g(t,r)}catch(_){ot(s,s.return,_)}}break;case 27:r===null&&o&4&&cy(s);case 26:case 5:Ea(t,s),r===null&&o&4&&ly(s),o&512&&Co(s,s.return);break;case 12:Ea(t,s);break;case 31:Ea(t,s),o&4&&my(t,s);break;case 13:Ea(t,s),o&4&&py(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=cw.bind(null,s),Rw(t,s))));break;case 22:if(o=s.memoizedState!==null||xa,!o){r=r!==null&&r.memoizedState!==null||Kt,h=xa;var f=Kt;xa=o,(Kt=r)&&!f?wa(t,s,(s.subtreeFlags&8772)!==0):Ea(t,s),xa=h,Kt=f}break;case 30:break;default:Ea(t,s)}}function hy(t){var r=t.alternate;r!==null&&(t.alternate=null,hy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Rs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,kn=!1;function va(t,r,s){for(s=s.child;s!==null;)fy(t,r,s),s=s.sibling}function fy(t,r,s){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(vn,s)}catch{}switch(s.tag){case 26:Kt||Xr(s,r),va(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Kt||Xr(s,r);var o=Tt,h=kn;ci(s.type)&&(Tt=s.stateNode,kn=!1),va(t,r,s),zo(s.stateNode),Tt=o,kn=h;break;case 5:Kt||Xr(s,r);case 6:if(o=Tt,h=kn,Tt=null,va(t,r,s),Tt=o,kn=h,Tt!==null)if(kn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(s.stateNode)}catch(f){ot(s,r,f)}else try{Tt.removeChild(s.stateNode)}catch(f){ot(s,r,f)}break;case 18:Tt!==null&&(kn?(t=Tt,ib(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),fl(t)):ib(Tt,s.stateNode));break;case 4:o=Tt,h=kn,Tt=s.stateNode.containerInfo,kn=!0,va(t,r,s),Tt=o,kn=h;break;case 0:case 11:case 14:case 15:ni(2,s,r),Kt||ni(4,s,r),va(t,r,s);break;case 1:Kt||(Xr(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&sy(s,r,o)),va(t,r,s);break;case 21:va(t,r,s);break;case 22:Kt=(o=Kt)||s.memoizedState!==null,va(t,r,s),Kt=o;break;default:va(t,r,s)}}function my(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fl(t)}catch(s){ot(r,r.return,s)}}}function py(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fl(t)}catch(s){ot(r,r.return,s)}}function tw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new uy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new uy),r;default:throw Error(i(435,t.tag))}}function Iu(t,r){var s=tw(t);r.forEach(function(o){if(!s.has(o)){s.add(o);var h=uw.bind(null,t,o);o.then(h,h)}})}function Nn(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(ci(w.type)){Tt=w.stateNode,kn=!1;break e}break;case 5:Tt=w.stateNode,kn=!1;break e;case 3:case 4:Tt=w.stateNode.containerInfo,kn=!0;break e}w=w.return}if(Tt===null)throw Error(i(160));fy(f,_,h),Tt=null,kn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)gy(r,t),r=r.sibling}var _r=null;function gy(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(r,t),Rn(t),o&4&&(ni(3,t,t.return),Ro(3,t),ni(5,t,t.return));break;case 1:Nn(r,t),Rn(t),o&512&&(Kt||s===null||Xr(s,s.return)),o&64&&xa&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=_r;if(Nn(r,t),Rn(t),o&512&&(Kt||s===null||Xr(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[jr]||f[Bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),hn(f,o,s),f[Bt]=t,qt(f),o=f;break e;case"link":var _=gb("link","href",h).get(o+(s.href||""));if(_){for(var w=0;w<_.length;w++)if(f=_[w],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(w,1);break t}}f=h.createElement(o),hn(f,o,s),h.head.appendChild(f);break;case"meta":if(_=gb("meta","content",h).get(o+(s.content||""))){for(w=0;w<_.length;w++)if(f=_[w],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(w,1);break t}}f=h.createElement(o),hn(f,o,s),h.head.appendChild(f);break;default:throw Error(i(468,o))}f[Bt]=t,qt(f),o=f}t.stateNode=o}else yb(h,t.type,t.stateNode);else t.stateNode=pb(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?yb(h,t.type,t.stateNode):pb(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&wf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Nn(r,t),Rn(t),o&512&&(Kt||s===null||Xr(s,s.return)),s!==null&&o&4&&wf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Nn(r,t),Rn(t),o&512&&(Kt||s===null||Xr(s,s.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(fe){ot(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,wf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Sf=!0);break;case 6:if(Nn(r,t),Rn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(fe){ot(t,t.return,fe)}}break;case 3:if(Ku=null,h=_r,_r=Gu(r.containerInfo),Nn(r,t),_r=h,Rn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{fl(r.containerInfo)}catch(fe){ot(t,t.return,fe)}Sf&&(Sf=!1,yy(t));break;case 4:o=_r,_r=Gu(t.stateNode.containerInfo),Nn(r,t),Rn(t),_r=o;break;case 12:Nn(r,t),Rn(t);break;case 31:Nn(r,t),Rn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 13:Nn(r,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Du=ce()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,q=xa,$=Kt;if(xa=q||h,Kt=$||C,Nn(r,t),Kt=$,xa=q,Rn(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||C||xa||Kt||ds(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){C=s=r;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=C.stateNode;var W=C.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){ot(C,C.return,fe)}}}else if(r.tag===6){if(s===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){ot(C,C.return,fe)}}}else if(r.tag===18){if(s===null){C=r;try{var X=C.stateNode;h?sb(X,!0):sb(C.stateNode,!1)}catch(fe){ot(C,C.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Iu(t,s))));break;case 19:Nn(r,t),Rn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 30:break;case 21:break;default:Nn(r,t),Rn(t)}}function Rn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(oy(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,f=Tf(t);Cu(t,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(Sn(_,""),s.flags&=-33);var w=Tf(t);Cu(t,w,_);break;case 3:case 4:var C=s.stateNode.containerInfo,q=Tf(t);Af(t,q,C);break;default:throw Error(i(161))}}catch($){ot(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ea(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)dy(t,r.alternate,r),r=r.sibling}function ds(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ni(4,r,r.return),ds(r);break;case 1:Xr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&sy(r,r.return,s),ds(r);break;case 27:zo(r.stateNode);case 26:case 5:Xr(r,r.return),ds(r);break;case 22:r.memoizedState===null&&ds(r);break;case 30:ds(r);break;default:ds(r)}t=t.sibling}}function wa(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:wa(h,f,s),Ro(4,f);break;case 1:if(wa(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ot(o,o.return,q)}if(o=f,h=o.updateQueue,h!==null){var w=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Qg(C[h],w)}catch(q){ot(o,o.return,q)}}s&&_&64&&iy(f),Co(f,f.return);break;case 27:cy(f);case 26:case 5:wa(h,f,s),s&&o===null&&_&4&&ly(f),Co(f,f.return);break;case 12:wa(h,f,s);break;case 31:wa(h,f,s),s&&_&4&&my(h,f);break;case 13:wa(h,f,s),s&&_&4&&py(h,f);break;case 22:f.memoizedState===null&&wa(h,f,s),Co(f,f.return);break;case 30:break;default:wa(h,f,s)}r=r.sibling}}function kf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&go(s))}function Nf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&go(t))}function xr(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)by(t,r,s,o),r=r.sibling}function by(t,r,s,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:xr(t,r,s,o),h&2048&&Ro(9,r);break;case 1:xr(t,r,s,o);break;case 3:xr(t,r,s,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&go(t)));break;case 12:if(h&2048){xr(t,r,s,o),t=r.stateNode;try{var f=r.memoizedProps,_=f.id,w=f.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ot(r,r.return,C)}}else xr(t,r,s,o);break;case 31:xr(t,r,s,o);break;case 13:xr(t,r,s,o);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?xr(t,r,s,o):Io(t,r):f._visibility&2?xr(t,r,s,o):(f._visibility|=2,nl(t,r,s,o,(r.subtreeFlags&10256)!==0||!1)),h&2048&&kf(_,r);break;case 24:xr(t,r,s,o),h&2048&&Nf(r.alternate,r);break;default:xr(t,r,s,o)}}function nl(t,r,s,o,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,_=r,w=s,C=o,q=_.flags;switch(_.tag){case 0:case 11:case 15:nl(f,_,w,C,h),Ro(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?nl(f,_,w,C,h):Io(f,_):($._visibility|=2,nl(f,_,w,C,h)),h&&q&2048&&kf(_.alternate,_);break;case 24:nl(f,_,w,C,h),h&&q&2048&&Nf(_.alternate,_);break;default:nl(f,_,w,C,h)}r=r.sibling}}function Io(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,h=o.flags;switch(o.tag){case 22:Io(s,o),h&2048&&kf(o.alternate,o);break;case 24:Io(s,o),h&2048&&Nf(o.alternate,o);break;default:Io(s,o)}r=r.sibling}}var jo=8192;function rl(t,r,s){if(t.subtreeFlags&jo)for(t=t.child;t!==null;)_y(t,r,s),t=t.sibling}function _y(t,r,s){switch(t.tag){case 26:rl(t,r,s),t.flags&jo&&t.memoizedState!==null&&Bw(s,_r,t.memoizedState,t.memoizedProps);break;case 5:rl(t,r,s);break;case 3:case 4:var o=_r;_r=Gu(t.stateNode.containerInfo),rl(t,r,s),_r=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=jo,jo=16777216,rl(t,r,s),jo=o):rl(t,r,s));break;default:rl(t,r,s)}}function xy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Do(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];nn=o,Ey(o,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 0:case 11:case 15:Do(t),t.flags&2048&&ni(9,t,t.return);break;case 3:Do(t);break;case 12:Do(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,ju(t)):Do(t);break;default:Do(t)}}function ju(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];nn=o,Ey(o,t)}xy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ni(8,r,r.return),ju(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,ju(r));break;default:ju(r)}t=t.sibling}}function Ey(t,r){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:ni(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:go(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,nn=o;else e:for(s=t;nn!==null;){o=nn;var h=o.sibling,f=o.return;if(hy(o),o===s){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var nw={getCacheForType:function(t){var r=un(Ft),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return un(Ft).controller.signal}},rw=typeof WeakMap=="function"?WeakMap:Map,tt=0,mt=null,Ue=null,Fe=0,lt=0,Bn=null,ri=!1,al=!1,Rf=!1,Ta=0,Ot=0,ai=0,hs=0,Cf=0,qn=0,il=0,Oo=null,Cn=null,If=!1,Du=0,wy=0,Ou=1/0,Mu=null,ii=null,Jt=0,si=null,sl=null,Aa=0,jf=0,Df=null,Ty=null,Mo=0,Of=null;function Hn(){return(tt&2)!==0&&Fe!==0?Fe&-Fe:Q.T!==null?Uf():Vc()}function Ay(){if(qn===0)if((Fe&536870912)===0||$e){var t=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),qn=t}else qn=536870912;return t=zn.current,t!==null&&(t.flags|=32),qn}function In(t,r,s){(t===mt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(ll(t,0),li(t,Fe,qn,!1)),Ui(t,s),((tt&2)===0||t!==mt)&&(t===mt&&((tt&2)===0&&(hs|=s),Ot===4&&li(t,Fe,qn,!1)),Kr(t))}function Sy(t,r,s){if((tt&6)!==0)throw Error(i(327));var o=!s&&(r&127)===0&&(r&t.expiredLanes)===0||ur(t,r),h=o?sw(t,r):Vf(t,r,!0),f=o;do{if(h===0){al&&!o&&li(t,r,0,!1);break}else{if(s=t.current.alternate,f&&!aw(s)){h=Vf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var w=t;h=Oo;var C=w.current.memoizedState.isDehydrated;if(C&&(ll(w,_).flags|=256),_=Vf(w,_,!1),_!==2){if(Rf&&!C){w.errorRecoveryDisabledLanes|=f,hs|=f,h=4;break e}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ll(t,0),li(t,r,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:li(o,r,qn,!ri);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Du+300-ce(),10<h)){if(li(o,r,qn,!ri),Rr(o,0,!0)!==0)break e;Aa=r,o.timeoutHandle=rb(ky.bind(null,o,s,Cn,Mu,If,r,qn,hs,il,ri,f,"Throttled",-0,0),h);break e}ky(o,s,Cn,Mu,If,r,qn,hs,il,ri,f,null,-0,0)}}break}while(!0);Kr(t)}function ky(t,r,s,o,h,f,_,w,C,q,$,W,F,X){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fr},_y(r,f,W);var fe=(f&62914560)===f?Du-ce():(f&4194048)===f?wy-ce():0;if(fe=qw(W,fe),fe!==null){Aa=f,t.cancelPendingCommit=fe(My.bind(null,t,r,f,s,o,h,_,w,C,$,W,null,F,X)),li(t,f,_,!q);return}}My(t,r,f,s,o,h,_,w,C)}function aw(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Pn(f(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function li(t,r,s,o){r&=~Cf,r&=~hs,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var f=31-ge(h),_=1<<f;o[f]=-1,h&=~_}s!==0&&Bi(t,s,r)}function Vu(){return(tt&6)===0?(Vo(0),!1):!0}function Mf(){if(Ue!==null){if(lt===0)var t=Ue.return;else t=Ue,ma=rs=null,Yh(t),Zs=null,bo=0,t=Ue;for(;t!==null;)ay(t.alternate,t),t=t.return;Ue=null}}function ll(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Tw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Aa=0,Mf(),mt=t,Ue=s=ha(t.current,null),Fe=r,lt=0,Bn=null,ri=!1,al=ur(t,r),Rf=!1,il=qn=Cf=hs=ai=Ot=0,Cn=Oo=null,If=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-ge(o),f=1<<h;r|=t[h],o&=~f}return Ta=r,ru(),s}function Ny(t,r){Ve=null,Q.H=So,r===Ys||r===du?(r=Fg(),lt=3):r===Lh?(r=Fg(),lt=4):lt=r===ff?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Ue===null&&(Ot=1,Au(t,Jn(r,t.current)))}function Ry(){var t=zn.current;return t===null?!0:(Fe&4194048)===Fe?nr===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===nr:!1}function Cy(){var t=Q.H;return Q.H=So,t===null?So:t}function Iy(){var t=Q.A;return Q.A=nw,t}function Pu(){Ot=4,ri||(Fe&4194048)!==Fe&&zn.current!==null||(al=!0),(ai&134217727)===0&&(hs&134217727)===0||mt===null||li(mt,Fe,qn,!1)}function Vf(t,r,s){var o=tt;tt|=2;var h=Cy(),f=Iy();(mt!==t||Fe!==r)&&(Mu=null,ll(t,r)),r=!1;var _=Ot;e:do try{if(lt!==0&&Ue!==null){var w=Ue,C=Bn;switch(lt){case 8:Mf(),_=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var q=lt;if(lt=0,Bn=null,ol(t,w,C,q),s&&al){_=0;break e}break;default:q=lt,lt=0,Bn=null,ol(t,w,C,q)}}iw(),_=Ot;break}catch($){Ny(t,$)}while(!0);return r&&t.shellSuspendCounter++,ma=rs=null,tt=o,Q.H=h,Q.A=f,Ue===null&&(mt=null,Fe=0,ru()),_}function iw(){for(;Ue!==null;)jy(Ue)}function sw(t,r){var s=tt;tt|=2;var o=Cy(),h=Iy();mt!==t||Fe!==r?(Mu=null,Ou=ce()+500,ll(t,r)):al=ur(t,r);e:do try{if(lt!==0&&Ue!==null){r=Ue;var f=Bn;t:switch(lt){case 1:lt=0,Bn=null,ol(t,r,f,1);break;case 2:case 9:if(qg(f)){lt=0,Bn=null,Dy(r);break}r=function(){lt!==2&&lt!==9||mt!==t||(lt=7),Kr(t)},f.then(r,r);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:qg(f)?(lt=0,Bn=null,Dy(r)):(lt=0,Bn=null,ol(t,r,f,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var w=Ue;if(_?bb(_):w.stateNode.complete){lt=0,Bn=null;var C=w.sibling;if(C!==null)Ue=C;else{var q=w.return;q!==null?(Ue=q,Lu(q)):Ue=null}break t}}lt=0,Bn=null,ol(t,r,f,5);break;case 6:lt=0,Bn=null,ol(t,r,f,6);break;case 8:Mf(),Ot=6;break e;default:throw Error(i(462))}}lw();break}catch($){Ny(t,$)}while(!0);return ma=rs=null,Q.H=o,Q.A=h,tt=s,Ue!==null?0:(mt=null,Fe=0,ru(),Ot)}function lw(){for(;Ue!==null&&!ks();)jy(Ue)}function jy(t){var r=ny(t.alternate,t,Ta);t.memoizedProps=t.pendingProps,r===null?Lu(t):Ue=r}function Dy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Y0(s,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Y0(s,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Yh(r);default:ay(s,r),r=Ue=Ig(r,Ta),r=ny(s,r,Ta)}t.memoizedProps=t.pendingProps,r===null?Lu(t):Ue=r}function ol(t,r,s,o){ma=rs=null,Yh(r),Zs=null,bo=0;var h=r.return;try{if($E(t,h,r,s,Fe)){Ot=1,Au(t,Jn(s,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;Ot=1,Au(t,Jn(s,t.current)),Ue=null;return}r.flags&32768?($e||o===1?t=!0:al||(Fe&536870912)!==0?t=!1:(ri=t=!0,(o===2||o===9||o===3||o===6)&&(o=zn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(r,t)):Lu(r)}function Lu(t){var r=t;do{if((r.flags&32768)!==0){Oy(r,ri);return}t=r.return;var s=JE(r.alternate,r,Ta);if(s!==null){Ue=s;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=t}while(r!==null);Ot===0&&(Ot=5)}function Oy(t,r){do{var s=WE(t.alternate,t);if(s!==null){s.flags&=32767,Ue=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=s}while(t!==null);Ot=6,Ue=null}function My(t,r,s,o,h,f,_,w,C){t.cancelPendingCommit=null;do zu();while(Jt!==0);if((tt&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=wh,mh(t,s,f,_,w,C),t===mt&&(Ue=mt=null,Fe=0),sl=r,si=t,Aa=s,jf=f,Df=h,Ty=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dw(Ae,function(){return Uy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ie.p,ie.p=2,_=tt,tt|=4;try{ew(t,r,s)}finally{tt=_,ie.p=h,Q.T=o}}Jt=1,Vy(),Py(),Ly()}}function Vy(){if(Jt===1){Jt=0;var t=si,r=sl,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=tt;tt|=4;try{gy(r,t);var f=Qf,_=Eg(t.containerInfo),w=f.focusedElem,C=f.selectionRange;if(_!==w&&w&&w.ownerDocument&&vg(w.ownerDocument.documentElement,w)){if(C!==null&&bh(w)){var q=C.start,$=C.end;if($===void 0&&($=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min($,w.value.length);else{var W=w.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var X=F.getSelection(),fe=w.textContent.length,ve=Math.min(C.start,fe),ht=C.end===void 0?ve:Math.min(C.end,fe);!X.extend&&ve>ht&&(_=ht,ht=ve,ve=_);var P=xg(w,ve),M=xg(w,ht);if(P&&M&&(X.rangeCount!==1||X.anchorNode!==P.node||X.anchorOffset!==P.offset||X.focusNode!==M.node||X.focusOffset!==M.offset)){var B=W.createRange();B.setStart(P.node,P.offset),X.removeAllRanges(),ve>ht?(X.addRange(B),X.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),X.addRange(B))}}}}for(W=[],X=w;X=X.parentNode;)X.nodeType===1&&W.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var Y=W[w];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Zu=!!Kf,Qf=Kf=null}finally{tt=h,ie.p=o,Q.T=s}}t.current=r,Jt=2}}function Py(){if(Jt===2){Jt=0;var t=si,r=sl,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=tt;tt|=4;try{dy(t,r.alternate,r)}finally{tt=h,ie.p=o,Q.T=s}}Jt=3}}function Ly(){if(Jt===4||Jt===3){Jt=0,re();var t=si,r=sl,s=Aa,o=Ty;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jt=5:(Jt=0,sl=si=null,zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ii=null),oa(s),r=r.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(vn,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var w=o[_];f(w.value,{componentStack:w.stack})}}finally{Q.T=r,ie.p=h}}(Aa&3)!==0&&zu(),Kr(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Of?Mo++:(Mo=0,Of=t):Mo=0,Vo(0)}}function zy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,go(r)))}function zu(){return Vy(),Py(),Ly(),Uy()}function Uy(){if(Jt!==5)return!1;var t=si,r=jf;jf=0;var s=oa(Aa),o=Q.T,h=ie.p;try{ie.p=32>s?32:s,Q.T=null,s=Df,Df=null;var f=si,_=Aa;if(Jt=0,sl=si=null,Aa=0,(tt&6)!==0)throw Error(i(331));var w=tt;if(tt|=4,vy(f.current),by(f,f.current,_,s),tt=w,Vo(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(vn,f)}catch{}return!0}finally{ie.p=h,Q.T=o,zy(t,r)}}function By(t,r,s){r=Jn(s,r),r=hf(t.stateNode,r,2),t=Wa(t,r,2),t!==null&&(Ui(t,2),Kr(t))}function ot(t,r,s){if(t.tag===3)By(t,t,s);else for(;r!==null;){if(r.tag===3){By(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ii===null||!ii.has(o))){t=Jn(s,t),s=q0(2),o=Wa(r,s,2),o!==null&&(H0(s,o,r,t),Ui(o,2),Kr(o));break}}r=r.return}}function Pf(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new rw;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(s)||(Rf=!0,h.add(s),t=ow.bind(null,t,r,s),r.then(t,t))}function ow(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,mt===t&&(Fe&s)===s&&(Ot===4||Ot===3&&(Fe&62914560)===Fe&&300>ce()-Du?(tt&2)===0&&ll(t,0):Cf|=s,il===Fe&&(il=0)),Kr(t)}function qy(t,r){r===0&&(r=Mc()),t=es(t,r),t!==null&&(Ui(t,r),Kr(t))}function cw(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),qy(t,s)}function uw(t,r){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),qy(t,s)}function dw(t,r){return kt(t,r)}var Uu=null,cl=null,Lf=!1,Bu=!1,zf=!1,oi=0;function Kr(t){t!==cl&&t.next===null&&(cl===null?Uu=cl=t:cl=cl.next=t),Bu=!0,Lf||(Lf=!0,fw())}function Vo(t,r){if(!zf&&Bu){zf=!0;do for(var s=!1,o=Uu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,w=o.pingedLanes;f=(1<<31-ge(42|t)+1)-1,f&=h&~(_&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Xy(o,f))}else f=Fe,f=Rr(o,o===mt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ur(o,f)||(s=!0,Xy(o,f));o=o.next}while(s);zf=!1}}function hw(){Hy()}function Hy(){Bu=Lf=!1;var t=0;oi!==0&&ww()&&(t=oi);for(var r=ce(),s=null,o=Uu;o!==null;){var h=o.next,f=Fy(o,r);f===0?(o.next=null,s===null?Uu=h:s.next=h,h===null&&(cl=s)):(s=o,(t!==0||(f&3)!==0)&&(Bu=!0)),o=h}Jt!==0&&Jt!==5||Vo(t),oi!==0&&(oi=0)}function Fy(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-ge(f),w=1<<_,C=h[_];C===-1?((w&s)===0||(w&o)!==0)&&(h[_]=fh(w,r)):C<=r&&(t.expiredLanes|=w),f&=~w}if(r=mt,s=Fe,s=Rr(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ur(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&Xn(o),oa(s)){case 2:case 8:s=De;break;case 32:s=Ae;break;case 268435456:s=vt;break;default:s=Ae}return o=Gy.bind(null,t),s=kt(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&Xn(o),t.callbackPriority=2,t.callbackNode=null,2}function Gy(t,r){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(zu()&&t.callbackNode!==s)return null;var o=Fe;return o=Rr(t,t===mt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sy(t,o,r),Fy(t,ce()),t.callbackNode!=null&&t.callbackNode===s?Gy.bind(null,t):null)}function Xy(t,r){if(zu())return null;Sy(t,r,!0)}function fw(){Aw(function(){(tt&6)!==0?kt(je,hw):Hy()})}function Uf(){if(oi===0){var t=Qs;t===0&&(t=Rt,Rt<<=1,(Rt&261888)===0&&(Rt=256)),oi=t}return oi}function Ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ds(""+t)}function Qy(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function mw(t,r,s,o,h){if(r==="submit"&&s&&s.stateNode===h){var f=Ky((h[en]||null).action),_=o.submitter;_&&(r=(r=_[en]||null)?Ky(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var w=new Ur("action","action",null,o,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(oi!==0){var C=_?Qy(h,_):new FormData(h);sf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(w.preventDefault(),C=_?Qy(h,_):new FormData(h),sf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Bf=0;Bf<Eh.length;Bf++){var qf=Eh[Bf],pw=qf.toLowerCase(),gw=qf[0].toUpperCase()+qf.slice(1);br(pw,"on"+gw)}br(Ag,"onAnimationEnd"),br(Sg,"onAnimationIteration"),br(kg,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(jE,"onTransitionRun"),br(DE,"onTransitionStart"),br(OE,"onTransitionCancel"),br(Ng,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function $y(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(r)for(var _=o.length-1;0<=_;_--){var w=o[_],C=w.instance,q=w.currentTarget;if(w=w.listener,C!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=q;try{f(h)}catch($){nu($)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(w=o[_],C=w.instance,q=w.currentTarget,w=w.listener,C!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=q;try{f(h)}catch($){nu($)}h.currentTarget=null,f=C}}}}function Be(t,r){var s=r[Ns];s===void 0&&(s=r[Ns]=new Set);var o=t+"__bubble";s.has(o)||(Yy(r,t,2,!1),s.add(o))}function Hf(t,r,s){var o=0;r&&(o|=4),Yy(s,t,o,r)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[qu]){t[qu]=!0,Ql.forEach(function(s){s!=="selectionchange"&&(yw.has(s)||Hf(s,!1,t),Hf(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qu]||(r[qu]=!0,Hf("selectionchange",!1,r))}}function Yy(t,r,s,o){switch(Ab(r)){case 2:var h=Gw;break;case 8:h=Xw;break;default:h=im}s=h.bind(null,r,s,t),h=void 0,!Xi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function Gf(t,r,s,o,h){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var w=o.stateNode.containerInfo;if(w===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;w!==null;){if(_=Dr(w),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue e}w=w.parentNode}}o=o.return}Ha(function(){var q=f,$=Qn(s),W=[];e:{var F=Rg.get(t);if(F!==void 0){var X=Ur,fe=t;switch(t){case"keypress":if(Qi(s)===0)break e;case"keydown":case"keyup":X=Wc;break;case"focusin":fe="focus",X=Yi;break;case"focusout":fe="blur",X=Yi;break;case"beforeblur":case"afterblur":X=Yi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=b;break;case Ag:case Sg:case kg:X=Xc;break;case Ng:X=T;break;case"scroll":case"scrollend":X=so;break;case"wheel":X=G;break;case"copy":case"cut":case"paste":X=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=da;break;case"toggle":case"beforetoggle":X=Me}var ve=(r&4)!==0,ht=!ve&&(t==="scroll"||t==="scrollend"),P=ve?F!==null?F+"Capture":null:F;ve=[];for(var M=q,B;M!==null;){var Y=M;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||P===null||(Y=mr(M,P),Y!=null&&ve.push(Lo(M,Y,B))),ht)break;M=M.return}0<ve.length&&(F=new X(F,fe,null,s,$),W.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",F&&s!==ro&&(fe=s.relatedTarget||s.fromElement)&&(Dr(fe)||fe[Ir]))break e;if((X||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,X?(fe=s.relatedTarget||s.toElement,X=q,fe=fe?Dr(fe):null,fe!==null&&(ht=c(fe),ve=fe.tag,fe!==ht||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(X=null,fe=q),X!==fe)){if(ve=lo,Y="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=da,Y="onPointerLeave",P="onPointerEnter",M="pointer"),ht=X==null?F:Mn(X),B=fe==null?F:Mn(fe),F=new ve(Y,M+"leave",X,s,$),F.target=ht,F.relatedTarget=B,Y=null,Dr($)===q&&(ve=new ve(P,M+"enter",fe,s,$),ve.target=B,ve.relatedTarget=ht,Y=ve),ht=Y,X&&fe)t:{for(ve=bw,P=X,M=fe,B=0,Y=P;Y;Y=ve(Y))B++;Y=0;for(var be=M;be;be=ve(be))Y++;for(;0<B-Y;)P=ve(P),B--;for(;0<Y-B;)M=ve(M),Y--;for(;B--;){if(P===M||M!==null&&P===M.alternate){ve=P;break t}P=ve(P),M=ve(M)}ve=null}else ve=null;X!==null&&Zy(W,F,X,ve,!1),fe!==null&&ht!==null&&Zy(W,ht,fe,ve,!0)}}e:{if(F=q?Mn(q):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var Je=mg;else if(hg(F))if(pg)Je=RE;else{Je=kE;var ye=SE}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&js(q.elementType)&&(Je=mg):Je=NE;if(Je&&(Je=Je(t,q))){fg(W,Je,s,$);break e}ye&&ye(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&eo(F,"number",F.value)}switch(ye=q?Mn(q):window,t){case"focusin":(hg(ye)||ye.contentEditable==="true")&&(Us=ye,_h=q,fo=null);break;case"focusout":fo=_h=Us=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,wg(W,s,$);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":wg(W,s,$)}var Le;if(et)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else zs?Zi(t,s)&&(Ge="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ge="onCompositionStart");Ge&&(Hr&&s.locale!=="ko"&&(zs||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&zs&&(Le=io()):(zr=$,ao="value"in zr?zr.value:zr.textContent,zs=!0)),ye=Hu(q,Ge),0<ye.length&&(Ge=new qr(Ge,t,null,s,$),W.push({event:Ge,listeners:ye}),Le?Ge.data=Le:(Le=Ls(s),Le!==null&&(Ge.data=Le)))),(Le=Yn?EE(t,s):wE(t,s))&&(Ge=Hu(q,"onBeforeInput"),0<Ge.length&&(ye=new qr("onBeforeInput","beforeinput",null,s,$),W.push({event:ye,listeners:Ge}),ye.data=Le)),mw(W,t,q,s,$)}$y(W,r)})}function Lo(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Hu(t,r){for(var s=r+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=mr(t,s),h!=null&&o.unshift(Lo(t,h,f)),h=mr(t,r),h!=null&&o.push(Lo(t,h,f))),t.tag===3)return o;t=t.return}return[]}function bw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,r,s,o,h){for(var f=r._reactName,_=[];s!==null&&s!==o;){var w=s,C=w.alternate,q=w.stateNode;if(w=w.tag,C!==null&&C===o)break;w!==5&&w!==26&&w!==27||q===null||(C=q,h?(q=mr(s,f),q!=null&&_.unshift(Lo(s,q,C))):h||(q=mr(s,f),q!=null&&_.push(Lo(s,q,C)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var _w=/\r\n?/g,xw=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(_w,`
`).replace(xw,"")}function Wy(t,r){return r=Jy(r),Jy(t)===r}function dt(t,r,s,o,h,f){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Sn(t,""+o);break;case"className":Vn(t,"class",o);break;case"tabIndex":Vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,s,o);break;case"style":no(t,o,f);break;case"data":if(r!=="object"){Vn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ds(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(r!=="input"&&dt(t,r,"name",h.name,h,null),dt(t,r,"formEncType",h.formEncType,h,null),dt(t,r,"formMethod",h.formMethod,h,null),dt(t,r,"formTarget",h.formTarget,h,null)):(dt(t,r,"encType",h.encType,h,null),dt(t,r,"method",h.method,h,null),dt(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ds(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=fr);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Ds(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Cs(t,"popover",o);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Cs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hc.get(s)||s,Cs(t,s,o))}}function Xf(t,r,s,o,h,f){switch(s){case"style":no(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&Sn(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$l.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),f=t[en]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Cs(t,s,o)}}}function hn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:dt(t,r,f,_,s,null)}}h&&dt(t,r,"srcSet",s.srcSet,s,null),o&&dt(t,r,"src",s.src,s,null);return;case"input":Be("invalid",t);var w=f=_=h=null,C=null,q=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":h=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":q=$;break;case"value":f=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:dt(t,r,o,$,s,null)}}Uc(t,f,w,C,q,_,h,!1);return;case"select":Be("invalid",t),o=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(w=s[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":_=w;break;case"multiple":o=w;default:dt(t,r,h,w,s,null)}r=f,s=_,t.multiple=!!o,r!=null?za(t,!!o,r,!1):s!=null&&za(t,!!o,s,!0);return;case"textarea":Be("invalid",t),f=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(w=s[_],w!=null))switch(_){case"value":o=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:dt(t,r,_,w,s,null)}Ua(t,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:dt(t,r,C,o,s,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<Po.length;o++)Be(Po[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(o=s[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:dt(t,r,q,o,s,null)}return;default:if(js(r)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&Xf(t,r,$,o,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(o=s[w],o!=null&&dt(t,r,w,o,s,null))}function vw(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,w=null,C=null,q=null,$=null;for(X in s){var W=s[X];if(s.hasOwnProperty(X)&&W!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=W;default:o.hasOwnProperty(X)||dt(t,r,X,null,o,W)}}for(var F in o){var X=o[F];if(W=s[F],o.hasOwnProperty(F)&&(X!=null||W!=null))switch(F){case"type":f=X;break;case"name":h=X;break;case"checked":q=X;break;case"defaultChecked":$=X;break;case"value":_=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==W&&dt(t,r,F,X,o,W)}}Is(t,_,w,C,q,$,f,h);return;case"select":X=_=w=F=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":X=C;default:o.hasOwnProperty(f)||dt(t,r,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":F=f;break;case"defaultValue":w=f;break;case"multiple":_=f;default:f!==C&&dt(t,r,h,f,o,C)}r=w,s=_,o=X,F!=null?za(t,!!s,F,!1):!!o!=!!s&&(r!=null?za(t,!!s,r,!0):za(t,!!s,s?[]:"",!1));return;case"textarea":X=F=null;for(w in s)if(h=s[w],s.hasOwnProperty(w)&&h!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:dt(t,r,w,null,o,h)}for(_ in o)if(h=o[_],f=s[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&dt(t,r,_,h,o,f)}Bc(t,F,X);return;case"option":for(var fe in s)if(F=s[fe],s.hasOwnProperty(fe)&&F!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:dt(t,r,fe,null,o,F)}for(C in o)if(F=o[C],X=s[C],o.hasOwnProperty(C)&&F!==X&&(F!=null||X!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:dt(t,r,C,F,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)F=s[ve],s.hasOwnProperty(ve)&&F!=null&&!o.hasOwnProperty(ve)&&dt(t,r,ve,null,o,F);for(q in o)if(F=o[q],X=s[q],o.hasOwnProperty(q)&&F!==X&&(F!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:dt(t,r,q,F,o,X)}return;default:if(js(r)){for(var ht in s)F=s[ht],s.hasOwnProperty(ht)&&F!==void 0&&!o.hasOwnProperty(ht)&&Xf(t,r,ht,void 0,o,F);for($ in o)F=o[$],X=s[$],!o.hasOwnProperty($)||F===X||F===void 0&&X===void 0||Xf(t,r,$,F,o,X);return}}for(var P in s)F=s[P],s.hasOwnProperty(P)&&F!=null&&!o.hasOwnProperty(P)&&dt(t,r,P,null,o,F);for(W in o)F=o[W],X=s[W],!o.hasOwnProperty(W)||F===X||F==null&&X==null||dt(t,r,W,F,o,X)}function eb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ew(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,_=h.initiatorType,w=h.duration;if(f&&w&&eb(_)){for(_=0,w=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],q=C.startTime;if(q>w)break;var $=C.transferSize,W=C.initiatorType;$&&eb(W)&&(C=C.responseEnd,_+=$*(C<w?1:(w-q)/(C-q)))}if(--o,r+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kf=null,Qf=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function tb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function $f(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yf=null;function ww(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var rb=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(t){return ab.resolve(null).then(t).catch(Sw)}:rb;function Sw(t){setTimeout(function(){throw t})}function ci(t){return t==="head"}function ib(t,r){var s=r,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),fl(r);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")zo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,zo(s);for(var f=s.firstChild;f;){var _=f.nextSibling,w=f.nodeName;f[jr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=_}}else s==="body"&&zo(t.ownerDocument.body);s=h}while(s);fl(r)}function sb(t,r){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Zf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zf(s),Rs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function kw(t,r,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[jr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=rr(t.nextSibling),t===null)break}return null}function Nw(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=rr(t.nextSibling),t===null))return null;return t}function lb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=rr(t.nextSibling),t===null))return null;return t}function Jf(t){return t.data==="$?"||t.data==="$~"}function Wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Rw(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function rr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var em=null;function ob(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return rr(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function cb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function ub(t,r,s){switch(r=Fu(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function zo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Rs(t)}var ar=new Map,db=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sa=ie.d;ie.d={f:Cw,r:Iw,D:jw,C:Dw,L:Ow,m:Mw,X:Pw,S:Vw,M:Lw};function Cw(){var t=Sa.f(),r=Vu();return t||r}function Iw(t){var r=Kn(t);r!==null&&r.tag===5&&r.type==="form"?N0(r):Sa.r(t)}var ul=typeof document>"u"?null:document;function hb(t,r,s){var o=ul;if(o&&typeof r=="string"&&r){var h=An(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),db.has(h)||(db.add(h),t={rel:t,crossOrigin:s,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),hn(r,"link",t),qt(r),o.head.appendChild(r)))}}function jw(t){Sa.D(t),hb("dns-prefetch",t,null)}function Dw(t,r){Sa.C(t,r),hb("preconnect",t,r)}function Ow(t,r,s){Sa.L(t,r,s);var o=ul;if(o&&t&&r){var h='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+An(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+An(s.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(r){case"style":f=dl(t);break;case"script":f=hl(t)}ar.has(f)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),ar.set(f,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(Uo(f))||r==="script"&&o.querySelector(Bo(f))||(r=o.createElement("link"),hn(r,"link",t),qt(r),o.head.appendChild(r)))}}function Mw(t,r){Sa.m(t,r);var s=ul;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+An(o)+'"][href="'+An(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hl(t)}if(!ar.has(f)&&(t=E({rel:"modulepreload",href:t},r),ar.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bo(f)))return}o=s.createElement("link"),hn(o,"link",t),qt(o),s.head.appendChild(o)}}}function Vw(t,r,s){Sa.S(t,r,s);var o=ul;if(o&&t){var h=Or(o).hoistableStyles,f=dl(t);r=r||"default";var _=h.get(f);if(!_){var w={loading:0,preload:null};if(_=o.querySelector(Uo(f)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=ar.get(f))&&tm(t,s);var C=_=o.createElement("link");qt(C),hn(C,"link",t),C._p=new Promise(function(q,$){C.onload=q,C.onerror=$}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Xu(_,r,o)}_={type:"stylesheet",instance:_,count:1,state:w},h.set(f,_)}}}function Pw(t,r){Sa.X(t,r);var s=ul;if(s&&t){var o=Or(s).hoistableScripts,h=hl(t),f=o.get(h);f||(f=s.querySelector(Bo(h)),f||(t=E({src:t,async:!0},r),(r=ar.get(h))&&nm(t,r),f=s.createElement("script"),qt(f),hn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Lw(t,r){Sa.M(t,r);var s=ul;if(s&&t){var o=Or(s).hoistableScripts,h=hl(t),f=o.get(h);f||(f=s.querySelector(Bo(h)),f||(t=E({src:t,async:!0,type:"module"},r),(r=ar.get(h))&&nm(t,r),f=s.createElement("script"),qt(f),hn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fb(t,r,s,o){var h=(h=Ne.current)?Gu(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=dl(s.href),s=Or(h).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=dl(s.href);var f=Or(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Uo(t)))&&!f._p&&(_.instance=f,_.state.loading=5),ar.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ar.set(t,s),f||zw(h,t,s,_.state))),r&&o===null)throw Error(i(528,""));return _}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hl(s),s=Or(h).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function dl(t){return'href="'+An(t)+'"'}function Uo(t){return'link[rel="stylesheet"]['+t+"]"}function mb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function zw(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),hn(r,"link",s),qt(r),t.head.appendChild(r))}function hl(t){return'[src="'+An(t)+'"]'}function Bo(t){return"script[async]"+t}function pb(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+An(s.href)+'"]');if(o)return r.instance=o,qt(o),o;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),qt(o),hn(o,"style",h),Xu(o,s.precedence,t),r.instance=o;case"stylesheet":h=dl(s.href);var f=t.querySelector(Uo(h));if(f)return r.state.loading|=4,r.instance=f,qt(f),f;o=mb(s),(h=ar.get(h))&&tm(o,h),f=(t.ownerDocument||t).createElement("link"),qt(f);var _=f;return _._p=new Promise(function(w,C){_.onload=w,_.onerror=C}),hn(f,"link",o),r.state.loading|=4,Xu(f,s.precedence,t),r.instance=f;case"script":return f=hl(s.src),(h=t.querySelector(Bo(f)))?(r.instance=h,qt(h),h):(o=s,(h=ar.get(f))&&(o=E({},s),nm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),qt(h),hn(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Xu(o,s.precedence,t));return r.instance}function Xu(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var w=o[_];if(w.dataset.precedence===r)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ku=null;function gb(t,r,s){if(Ku===null){var o=new Map,h=Ku=new Map;h.set(s,o)}else h=Ku,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[jr]||f[Bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=t+_;var w=o.get(_);w?w.push(f):o.set(_,[f])}}return o}function yb(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function Uw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Bw(t,r,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=dl(o.href),f=r.querySelector(Uo(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Qu.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=f,qt(f);return}f=r.ownerDocument||r,o=mb(o),(h=ar.get(h))&&tm(o,h),f=f.createElement("link"),qt(f);var _=f;_._p=new Promise(function(w,C){_.onload=w,_.onerror=C}),hn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Qu.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var rm=0;function qw(t,r){return t.stylesheets&&t.count===0&&Yu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&rm===0&&(rm=62500*Ew());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>rm?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function Yu(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,r.forEach(Hw,t),$u=null,Qu.call(t))}function Hw(t,r){if(!(r.state.loading&4)){var s=$u.get(t);if(s)var o=s.get(null);else{s=new Map,$u.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=r.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||o,f===o&&s.set(null,h),s.set(_,h),this.count++,o=Qu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var qo={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Fw(t,r,s,o,h,f,_,w,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function _b(t,r,s,o,h,f,_,w,C,q,$,W){return t=new Fw(t,r,s,_,C,q,$,W,w),r=1,f===!0&&(r|=24),f=Ln(3,null,null,r),t.current=f,f.stateNode=t,r=Mh(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:r},zh(f),t}function xb(t){return t?(t=Hs,t):Hs}function vb(t,r,s,o,h,f){h=xb(h),o.context===null?o.context=h:o.pendingContext=h,o=Ja(r),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Wa(t,o,r),s!==null&&(In(s,t,r),xo(s,t,r))}function Eb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function am(t,r){Eb(t,r),(t=t.alternate)&&Eb(t,r)}function wb(t){if(t.tag===13||t.tag===31){var r=es(t,67108864);r!==null&&In(r,t,67108864),am(t,67108864)}}function Tb(t){if(t.tag===13||t.tag===31){var r=Hn();r=qi(r);var s=es(t,r);s!==null&&In(s,t,r),am(t,r)}}var Zu=!0;function Gw(t,r,s,o){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=2,im(t,r,s,o)}finally{ie.p=f,Q.T=h}}function Xw(t,r,s,o){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=8,im(t,r,s,o)}finally{ie.p=f,Q.T=h}}function im(t,r,s,o){if(Zu){var h=sm(o);if(h===null)Gf(t,r,o,Ju,s),Sb(t,o);else if(Qw(h,t,r,s,o))o.stopPropagation();else if(Sb(t,o),r&4&&-1<Kw.indexOf(t)){for(;h!==null;){var f=Kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Nr(f.pendingLanes);if(_!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var C=1<<31-ge(_);w.entanglements[1]|=C,_&=~C}Kr(f),(tt&6)===0&&(Ou=ce()+500,Vo(0))}}break;case 31:case 13:w=es(f,2),w!==null&&In(w,f,2),Vu(),am(f,2)}if(f=sm(o),f===null&&Gf(t,r,o,Ju,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Gf(t,r,o,null,s)}}function sm(t){return t=Qn(t),lm(t)}var Ju=null;function lm(t){if(Ju=null,t=Dr(t),t!==null){var r=c(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=d(r),t!==null)return t;t=null}else if(s===31){if(t=p(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Ju=t,null}function Ab(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case je:return 2;case De:return 8;case Ae:case nt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var om=!1,ui=null,di=null,hi=null,Ho=new Map,Fo=new Map,fi=[],Kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(t,r){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Ho.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(r.pointerId)}}function Go(t,r,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Kn(r),r!==null&&wb(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Qw(t,r,s,o,h){switch(r){case"focusin":return ui=Go(ui,t,r,s,o,h),!0;case"dragenter":return di=Go(di,t,r,s,o,h),!0;case"mouseover":return hi=Go(hi,t,r,s,o,h),!0;case"pointerover":var f=h.pointerId;return Ho.set(f,Go(Ho.get(f)||null,t,r,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Fo.set(f,Go(Fo.get(f)||null,t,r,s,o,h)),!0}return!1}function kb(t){var r=Dr(t.target);if(r!==null){var s=c(r);if(s!==null){if(r=s.tag,r===13){if(r=d(s),r!==null){t.blockedOn=r,dr(t.priority,function(){Tb(s)});return}}else if(r===31){if(r=p(s),r!==null){t.blockedOn=r,dr(t.priority,function(){Tb(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=sm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);ro=o,s.target.dispatchEvent(o),ro=null}else return r=Kn(s),r!==null&&wb(r),t.blockedOn=s,!1;r.shift()}return!0}function Nb(t,r,s){Wu(t)&&s.delete(r)}function $w(){om=!1,ui!==null&&Wu(ui)&&(ui=null),di!==null&&Wu(di)&&(di=null),hi!==null&&Wu(hi)&&(hi=null),Ho.forEach(Nb),Fo.forEach(Nb)}function ed(t,r){t.blockedOn===r&&(t.blockedOn=null,om||(om=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$w)))}var td=null;function Rb(t){td!==t&&(td=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){td===t&&(td=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(lm(o||s)===null)continue;break}var f=Kn(s);f!==null&&(t.splice(r,3),r-=3,sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function fl(t){function r(C){return ed(C,t)}ui!==null&&ed(ui,t),di!==null&&ed(di,t),hi!==null&&ed(hi,t),Ho.forEach(r),Fo.forEach(r);for(var s=0;s<fi.length;s++){var o=fi[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<fi.length&&(s=fi[0],s.blockedOn===null);)kb(s),s.blockedOn===null&&fi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],_=h[en]||null;if(typeof f=="function")_||Rb(s);else if(_){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[en]||null)w=_.formAction;else if(lm(h)!==null)continue}else w=_.action;typeof w=="function"?s[o+1]=w:(s.splice(o,3),o-=3),Rb(s)}}}function Cb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}nd.prototype.render=cm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,o=Hn();vb(s,o,t,r,null,null)},nd.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;vb(t.current,2,null,t,null,null),Vu(),r[Ir]=null}};function nd(t){this._internalRoot=t}nd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Vc();t={blockedOn:null,target:t,priority:r};for(var s=0;s<fi.length&&r!==0&&r<fi[s].priority;s++);fi.splice(s,0,t),s===0&&kb(t)}};var Ib=e.version;if(Ib!=="19.2.3")throw Error(i(527,Ib,"19.2.3"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Yw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{vn=rd.inject(Yw),xe=rd}catch{}}return Ko.createRoot=function(t,r){if(!l(t))throw Error(i(299));var s=!1,o="",h=L0,f=z0,_=U0;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=_b(t,1,!1,null,null,s,o,null,h,f,_,Cb),t[Ir]=r.current,Ff(t),new cm(r)},Ko.hydrateRoot=function(t,r,s){if(!l(t))throw Error(i(299));var o=!1,h="",f=L0,_=z0,w=U0,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),r=_b(t,1,!0,r,s??null,o,h,C,f,_,w,Cb),r.context=xb(null),s=r.current,o=Hn(),o=qi(o),h=Ja(o),h.callback=null,Wa(s,h,o),s=o,r.current.lanes=s,Ui(r,s),Kr(r),t[Ir]=r.current,Ff(t),new nd(r)},Ko.version="19.2.3",Ko}var Bb;function lT(){if(Bb)return hm.exports;Bb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),hm.exports=sT(),hm.exports}var oT=lT();const cT=Ix(oT);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qb="popstate";function uT(a={}){function e(l,c){let{pathname:d="/",search:p="",hash:y=""}=Es(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Cm("",{pathname:d,search:p,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){let d=l.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let y=l.location.href,g=y.indexOf("#");p=g===-1?y:y.slice(0,g)}return p+"#"+(typeof c=="string"?c:oc(c))}function i(l,c){On(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return hT(e,n,i,a)}function St(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function On(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dT(){return Math.random().toString(36).substring(2,10)}function Hb(a,e){return{usr:a.state,key:a.key,idx:e}}function Cm(a,e,n=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Es(e):e,state:n,key:e&&e.key||i||dT()}}function oc({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Es(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function hT(a,e,n,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,d=l.history,p="POP",y=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function E(){p="POP";let U=v(),te=U==null?null:U-g;g=U,y&&y({action:p,location:K.location,delta:te})}function A(U,te){p="PUSH";let ae=Cm(K.location,U,te);n&&n(ae,U),g=v()+1;let ne=Hb(ae,g),me=K.createHref(ae);try{d.pushState(ne,"",me)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;l.location.assign(me)}c&&y&&y({action:p,location:K.location,delta:1})}function j(U,te){p="REPLACE";let ae=Cm(K.location,U,te);n&&n(ae,U),g=v();let ne=Hb(ae,g),me=K.createHref(ae);d.replaceState(ne,"",me),c&&y&&y({action:p,location:K.location,delta:0})}function H(U){return fT(U)}let K={get action(){return p},get location(){return a(l,d)},listen(U){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(qb,E),y=U,()=>{l.removeEventListener(qb,E),y=null}},createHref(U){return e(l,U)},createURL:H,encodeLocation(U){let te=H(U);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:A,replace:j,go(U){return d.go(U)}};return K}function fT(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:oc(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function jx(a,e,n="/"){return mT(a,e,n,!1)}function mT(a,e,n,i){let l=typeof e=="string"?Es(e):e,c=ja(l.pathname||"/",n);if(c==null)return null;let d=Dx(a);pT(d);let p=null;for(let y=0;p==null&&y<d.length;++y){let g=ST(c);p=TT(d[y],g,i)}return p}function Dx(a,e=[],n=[],i="",l=!1){let c=(d,p,y=l,g)=>{let v={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&y)return;St(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=Ra([i,v.relativePath]),A=n.concat(v);d.children&&d.children.length>0&&(St(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Dx(d.children,e,A,E,y)),!(d.path==null&&!d.index)&&e.push({path:E,score:ET(E,d.index),routesMeta:A})};return a.forEach((d,p)=>{var y;if(d.path===""||!((y=d.path)!=null&&y.includes("?")))c(d,p);else for(let g of Ox(d.path))c(d,p,!0,g)}),e}function Ox(a){let e=a.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let d=Ox(i.join("/")),p=[];return p.push(...d.map(y=>y===""?c:[c,y].join("/"))),l&&p.push(...d),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function pT(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:wT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var gT=/^:[\w-]+$/,yT=3,bT=2,_T=1,xT=10,vT=-2,Fb=a=>a==="*";function ET(a,e){let n=a.split("/"),i=n.length;return n.some(Fb)&&(i+=vT),e&&(i+=bT),n.filter(l=>!Fb(l)).reduce((l,c)=>l+(gT.test(c)?yT:c===""?_T:xT),i)}function wT(a,e){return a.length===e.length&&a.slice(0,-1).every((i,l)=>i===e[l])?a[a.length-1]-e[e.length-1]:0}function TT(a,e,n=!1){let{routesMeta:i}=a,l={},c="/",d=[];for(let p=0;p<i.length;++p){let y=i[p],g=p===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",E=Td({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},v),A=y.route;if(!E&&g&&n&&!i[i.length-1].route.index&&(E=Td({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:Ra([c,E.pathname]),pathnameBase:IT(Ra([c,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(c=Ra([c,E.pathnameBase]))}return d}function Td(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=AT(a.path,a.caseSensitive,a.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:E},A)=>{if(v==="*"){let H=p[A]||"";d=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const j=p[A];return E&&!j?g[v]=void 0:g[v]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:a}}function AT(a,e=!1,n=!0){On(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,y)=>(i.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function ST(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ja(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NT=a=>kT.test(a);function RT(a,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof a=="string"?Es(a):a,c;if(n)if(NT(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=Gb(n.substring(1),"/"):c=Gb(n,e)}else c=e;return{pathname:c,search:jT(i),hash:DT(l)}}function Gb(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function gm(a,e,n,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CT(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function op(a){let e=CT(a);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function cp(a,e,n,i=!1){let l;typeof a=="string"?l=Es(a):(l={...a},St(!l.pathname||!l.pathname.includes("?"),gm("?","pathname","search",l)),St(!l.pathname||!l.pathname.includes("#"),gm("#","pathname","hash",l)),St(!l.search||!l.search.includes("#"),gm("#","search","hash",l)));let c=a===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!i&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),E-=1;l.pathname=A.join("/")}p=E>=0?e[E]:"/"}let y=RT(l,p),g=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||v)&&(y.pathname+="/"),y}var Ra=a=>a.join("/").replace(/\/\/+/g,"/"),IT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),jT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,DT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function OT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function MT(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mx=["POST","PUT","PATCH","DELETE"];new Set(Mx);var VT=["GET",...Mx];new Set(VT);var Ml=L.createContext(null);Ml.displayName="DataRouter";var Xd=L.createContext(null);Xd.displayName="DataRouterState";L.createContext(!1);var Vx=L.createContext({isTransitioning:!1});Vx.displayName="ViewTransition";var PT=L.createContext(new Map);PT.displayName="Fetchers";var LT=L.createContext(null);LT.displayName="Await";var lr=L.createContext(null);lr.displayName="Navigation";var xc=L.createContext(null);xc.displayName="Location";var Ar=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var up=L.createContext(null);up.displayName="RouteError";function zT(a,{relative:e}={}){St(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(lr),{hash:l,pathname:c,search:d}=vc(a,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Ra([n,c])),i.createHref({pathname:p,search:d,hash:l})}function Vl(){return L.useContext(xc)!=null}function aa(){return St(Vl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(xc).location}var Px="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lx(a){L.useContext(lr).static||L.useLayoutEffect(a)}function ws(){let{isDataRoute:a}=L.useContext(Ar);return a?WT():UT()}function UT(){St(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext(Ml),{basename:e,navigator:n}=L.useContext(lr),{matches:i}=L.useContext(Ar),{pathname:l}=aa(),c=JSON.stringify(op(i)),d=L.useRef(!1);return Lx(()=>{d.current=!0}),L.useCallback((y,g={})=>{if(On(d.current,Px),!d.current)return;if(typeof y=="number"){n.go(y);return}let v=cp(y,JSON.parse(c),l,g.relative==="path");a==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ra([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,c,l,a])}L.createContext(null);function BT(){let{matches:a}=L.useContext(Ar),e=a[a.length-1];return e?e.params:{}}function vc(a,{relative:e}={}){let{matches:n}=L.useContext(Ar),{pathname:i}=aa(),l=JSON.stringify(op(n));return L.useMemo(()=>cp(a,JSON.parse(l),i,e==="path"),[a,l,i,e])}function qT(a,e){return zx(a,e)}function zx(a,e,n,i,l){var ae;St(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(lr),{matches:d}=L.useContext(Ar),p=d[d.length-1],y=p?p.params:{},g=p?p.pathname:"/",v=p?p.pathnameBase:"/",E=p&&p.route;{let ne=E&&E.path||"";Ux(g,!E||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=aa(),j;if(e){let ne=typeof e=="string"?Es(e):e;St(v==="/"||((ae=ne.pathname)==null?void 0:ae.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),j=ne}else j=A;let H=j.pathname||"/",K=H;if(v!=="/"){let ne=v.replace(/^\//,"").split("/");K="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let U=jx(a,{pathname:K});On(E||U!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),On(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=KT(U&&U.map(ne=>Object.assign({},ne,{params:Object.assign({},y,ne.params),pathname:Ra([v,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?v:Ra([v,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),d,n,i,l);return e&&te?L.createElement(xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},te):te}function HT(){let a=JT(),e=OT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:l},n):null,d)}var FT=L.createElement(HT,null),GT=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?L.createElement(Ar.Provider,{value:this.props.routeContext},L.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XT({routeContext:a,match:e,children:n}){let i=L.useContext(Ml);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ar.Provider,{value:a},n)}function KT(a,e=[],n=null,i=null,l=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let c=a,d=n==null?void 0:n.errors;if(d!=null){let v=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);St(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,y=-1;if(n)for(let v=0;v<c.length;v++){let E=c[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=v),E.route.id){let{loaderData:A,errors:j}=n,H=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!j||j[E.route.id]===void 0);if(E.route.lazy||H){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let g=n&&i?(v,E)=>{var A,j;i(v,{location:n.location,params:((j=(A=n.matches)==null?void 0:A[0])==null?void 0:j.params)??{},unstable_pattern:MT(n.matches),errorInfo:E})}:void 0;return c.reduceRight((v,E,A)=>{let j,H=!1,K=null,U=null;n&&(j=d&&E.route.id?d[E.route.id]:void 0,K=E.route.errorElement||FT,p&&(y<0&&A===0?(Ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,U=null):y===A&&(H=!0,U=E.route.hydrateFallbackElement||null)));let te=e.concat(c.slice(0,A+1)),ae=()=>{let ne;return j?ne=K:H?ne=U:E.route.Component?ne=L.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=v,L.createElement(XT,{match:E,routeContext:{outlet:v,matches:te,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?L.createElement(GT,{location:n.location,revalidation:n.revalidation,component:K,error:j,children:ae(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ae()},null)}function dp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(a){let e=L.useContext(Ml);return St(e,dp(a)),e}function $T(a){let e=L.useContext(Xd);return St(e,dp(a)),e}function YT(a){let e=L.useContext(Ar);return St(e,dp(a)),e}function hp(a){let e=YT(a),n=e.matches[e.matches.length-1];return St(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function ZT(){return hp("useRouteId")}function JT(){var i;let a=L.useContext(up),e=$T("useRouteError"),n=hp("useRouteError");return a!==void 0?a:(i=e.errors)==null?void 0:i[n]}function WT(){let{router:a}=QT("useNavigate"),e=hp("useNavigate"),n=L.useRef(!1);return Lx(()=>{n.current=!0}),L.useCallback(async(l,c={})=>{On(n.current,Px),n.current&&(typeof l=="number"?await a.navigate(l):await a.navigate(l,{fromRouteId:e,...c}))},[a,e])}var Xb={};function Ux(a,e,n){!e&&!Xb[a]&&(Xb[a]=!0,On(!1,n))}L.memo(eA);function eA({routes:a,future:e,state:n,unstable_onError:i}){return zx(a,void 0,n,i,e)}function _l({to:a,replace:e,state:n,relative:i}){St(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(lr);On(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(Ar),{pathname:d}=aa(),p=ws(),y=cp(a,op(c),d,i==="path"),g=JSON.stringify(y);return L.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:i})},[p,g,i,e,n]),null}function Qr(a){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tA({basename:a="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){St(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),y=L.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[p,l,c,d]);typeof n=="string"&&(n=Es(n));let{pathname:g="/",search:v="",hash:E="",state:A=null,key:j="default"}=n,H=L.useMemo(()=>{let K=ja(g,p);return K==null?null:{location:{pathname:K,search:v,hash:E,state:A,key:j},navigationType:i}},[p,g,v,E,A,j,i]);return On(H!=null,`<Router basename="${p}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:L.createElement(lr.Provider,{value:y},L.createElement(xc.Provider,{children:e,value:H}))}function nA({children:a,location:e}){return qT(Im(a),e)}function Im(a,e=[]){let n=[];return L.Children.forEach(a,(i,l)=>{if(!L.isValidElement(i))return;let c=[...e,l];if(i.type===L.Fragment){n.push.apply(n,Im(i.props.children,c));return}St(i.type===Qr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Im(i.props.children,c)),n.push(d)}),n}var hd="get",fd="application/x-www-form-urlencoded";function Kd(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function rA(a){return Kd(a)&&a.tagName.toLowerCase()==="button"}function aA(a){return Kd(a)&&a.tagName.toLowerCase()==="form"}function iA(a){return Kd(a)&&a.tagName.toLowerCase()==="input"}function sA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function lA(a,e){return a.button===0&&(!e||e==="_self")&&!sA(a)}function jm(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,n)=>{let i=a[n];return e.concat(Array.isArray(i)?i.map(l=>[n,l]):[[n,i]])},[]))}function oA(a,e){let n=jm(a);return e&&e.forEach((i,l)=>{n.has(l)||e.getAll(l).forEach(c=>{n.append(l,c)})}),n}var ad=null;function cA(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var uA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(a){return a!=null&&!uA.has(a)?(On(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fd}"`),null):a}function dA(a,e){let n,i,l,c,d;if(aA(a)){let p=a.getAttribute("action");i=p?ja(p,e):null,n=a.getAttribute("method")||hd,l=ym(a.getAttribute("enctype"))||fd,c=new FormData(a)}else if(rA(a)||iA(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(i=y?ja(y,e):null,n=a.getAttribute("formmethod")||p.getAttribute("method")||hd,l=ym(a.getAttribute("formenctype"))||ym(p.getAttribute("enctype"))||fd,c=new FormData(p,a),!cA()){let{name:g,type:v,value:E}=a;if(v==="image"){let A=g?`${g}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else g&&c.append(g,E)}}else{if(Kd(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hd,i=null,l=fd,d=a}return c&&l==="text/plain"&&(d=c,c=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fp(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function hA(a,e,n){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&ja(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function fA(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function pA(a,e,n){let i=await Promise.all(a.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await fA(c,n);return d.links?d.links():[]}return[]}));return _A(i.flat(1).filter(mA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Kb(a,e,n,i,l,c){let d=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,p=(y,g)=>{var v;return n[g].pathname!==y.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==y.params["*"]};return c==="assets"?e.filter((y,g)=>d(y,g)||p(y,g)):c==="data"?e.filter((y,g)=>{var E;let v=i.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(d(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function gA(a,e,{includeHydrateFallback:n}={}){return yA(a.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function yA(a){return[...new Set(a)]}function bA(a){let e={},n=Object.keys(a).sort();for(let i of n)e[i]=a[i];return e}function _A(a,e){let n=new Set;return new Set(e),a.reduce((i,l)=>{let c=JSON.stringify(bA(l));return n.has(c)||(n.add(c),i.push({key:c,link:l})),i},[])}function Bx(){let a=L.useContext(Ml);return fp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function xA(){let a=L.useContext(Xd);return fp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var mp=L.createContext(void 0);mp.displayName="FrameworkContext";function qx(){let a=L.useContext(mp);return fp(a,"You must render this element inside a <HydratedRouter> element"),a}function vA(a,e){let n=L.useContext(mp),[i,l]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,A=L.useRef(null);L.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=te=>{te.forEach(ae=>{d(ae.isIntersecting)})},U=new IntersectionObserver(K,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[a]),L.useEffect(()=>{if(i){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[i]);let j=()=>{l(!0)},H=()=>{l(!1),d(!1)};return n?a!=="intent"?[c,A,{}]:[c,A,{onFocus:Qo(p,j),onBlur:Qo(y,H),onMouseEnter:Qo(g,j),onMouseLeave:Qo(v,H),onTouchStart:Qo(E,j)}]:[!1,A,{}]}function Qo(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function EA({page:a,...e}){let{router:n}=Bx(),i=L.useMemo(()=>jx(n.routes,a,n.basename),[n.routes,a,n.basename]);return i?L.createElement(TA,{page:a,matches:i,...e}):null}function wA(a){let{manifest:e,routeModules:n}=qx(),[i,l]=L.useState([]);return L.useEffect(()=>{let c=!1;return pA(a,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[a,e,n]),i}function TA({page:a,matches:e,...n}){let i=aa(),{manifest:l,routeModules:c}=qx(),{basename:d}=Bx(),{loaderData:p,matches:y}=xA(),g=L.useMemo(()=>Kb(a,e,y,l,i,"data"),[a,e,y,l,i]),v=L.useMemo(()=>Kb(a,e,y,l,i,"assets"),[a,e,y,l,i]),E=L.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let H=new Set,K=!1;if(e.forEach(te=>{var ne;let ae=l.routes[te.route.id];!ae||!ae.hasLoader||(!g.some(me=>me.route.id===te.route.id)&&te.route.id in p&&((ne=c[te.route.id])!=null&&ne.shouldRevalidate)||ae.hasClientLoader?K=!0:H.add(te.route.id))}),H.size===0)return[];let U=hA(a,d,"data");return K&&H.size>0&&U.searchParams.set("_routes",e.filter(te=>H.has(te.route.id)).map(te=>te.route.id).join(",")),[U.pathname+U.search]},[d,p,i,l,g,e,a,c]),A=L.useMemo(()=>gA(v,l),[v,l]),j=wA(v);return L.createElement(L.Fragment,null,E.map(H=>L.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),A.map(H=>L.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),j.map(({key:H,link:K})=>L.createElement("link",{key:H,nonce:n.nonce,...K})))}function AA(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hx&&(window.__reactRouterVersion="7.10.1")}catch{}function SA({basename:a,children:e,unstable_useTransitions:n,window:i}){let l=L.useRef();l.current==null&&(l.current=uT({window:i,v5Compat:!0}));let c=l.current,[d,p]=L.useState({action:c.action,location:c.location}),y=L.useCallback(g=>{n===!1?p(g):L.startTransition(()=>p(g))},[n]);return L.useLayoutEffect(()=>c.listen(y),[c,y]),L.createElement(tA,{basename:a,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var Fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:p,target:y,to:g,preventScrollReset:v,viewTransition:E,...A},j){let{basename:H,unstable_useTransitions:K}=L.useContext(lr),U=typeof g=="string"&&Fx.test(g),te,ae=!1;if(typeof g=="string"&&U&&(te=g,Hx))try{let D=new URL(window.location.href),I=g.startsWith("//")?new URL(D.protocol+g):new URL(g),V=ja(I.pathname,H);I.origin===D.origin&&V!=null?g=V+I.search+I.hash:ae=!0}catch{On(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=zT(g,{relative:l}),[me,ke,Se]=vA(i,A),N=CA(g,{replace:d,state:p,target:y,preventScrollReset:v,relative:l,viewTransition:E,unstable_useTransitions:K});function S(D){e&&e(D),D.defaultPrevented||N(D)}let k=L.createElement("a",{...A,...Se,href:te||ne,onClick:ae||c?e:S,ref:AA(j,ke),target:y,"data-discover":!U&&n==="render"?"true":void 0});return me&&!U?L.createElement(L.Fragment,null,k,L.createElement(EA,{page:ne})):k});Ye.displayName="Link";var kA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:c,to:d,viewTransition:p,children:y,...g},v){let E=vc(d,{relative:g.relative}),A=aa(),j=L.useContext(Xd),{navigator:H,basename:K}=L.useContext(lr),U=j!=null&&VA(E)&&p===!0,te=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,ae=A.pathname,ne=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ae=ae.toLowerCase(),ne=ne?ne.toLowerCase():null,te=te.toLowerCase()),ne&&K&&(ne=ja(ne,K)||ne);const me=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let ke=ae===te||!l&&ae.startsWith(te)&&ae.charAt(me)==="/",Se=ne!=null&&(ne===te||!l&&ne.startsWith(te)&&ne.charAt(te.length)==="/"),N={isActive:ke,isPending:Se,isTransitioning:U},S=ke?e:void 0,k;typeof i=="function"?k=i(N):k=[i,ke?"active":null,Se?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(N):c;return L.createElement(Ye,{...g,"aria-current":S,className:k,ref:v,style:D,to:d,viewTransition:p},typeof y=="function"?y(N):y)});kA.displayName="NavLink";var NA=L.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:c,method:d=hd,action:p,onSubmit:y,relative:g,preventScrollReset:v,viewTransition:E,...A},j)=>{let{unstable_useTransitions:H}=L.useContext(lr),K=OA(),U=MA(p,{relative:g}),te=d.toLowerCase()==="get"?"get":"post",ae=typeof p=="string"&&Fx.test(p),ne=me=>{if(y&&y(me),me.defaultPrevented)return;me.preventDefault();let ke=me.nativeEvent.submitter,Se=(ke==null?void 0:ke.getAttribute("formmethod"))||d,N=()=>K(ke||me.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:l,state:c,relative:g,preventScrollReset:v,viewTransition:E});H&&n!==!1?L.startTransition(()=>N()):N()};return L.createElement("form",{ref:j,method:te,action:U,onSubmit:i?y:ne,...A,"data-discover":!ae&&a==="render"?"true":void 0})});NA.displayName="Form";function RA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(a){let e=L.useContext(Ml);return St(e,RA(a)),e}function CA(a,{target:e,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:d,unstable_useTransitions:p}={}){let y=ws(),g=aa(),v=vc(a,{relative:c});return L.useCallback(E=>{if(lA(E,e)){E.preventDefault();let A=n!==void 0?n:oc(g)===oc(v),j=()=>y(a,{replace:A,state:i,preventScrollReset:l,relative:c,viewTransition:d});p?L.startTransition(()=>j()):j()}},[g,y,v,n,i,e,a,l,c,d,p])}function IA(a){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(jm(a)),n=L.useRef(!1),i=aa(),l=L.useMemo(()=>oA(i.search,n.current?null:e.current),[i.search]),c=ws(),d=L.useCallback((p,y)=>{const g=jm(typeof p=="function"?p(new URLSearchParams(l)):p);n.current=!0,c("?"+g,y)},[c,l]);return[l,d]}var jA=0,DA=()=>`__${String(++jA)}__`;function OA(){let{router:a}=Gx("useSubmit"),{basename:e}=L.useContext(lr),n=ZT(),i=a.fetch,l=a.navigate;return L.useCallback(async(c,d={})=>{let{action:p,method:y,encType:g,formData:v,body:E}=dA(c,e);if(d.navigate===!1){let A=d.fetcherKey||DA();await i(A,n,d.action||p,{preventScrollReset:d.preventScrollReset,formData:v,body:E,formMethod:d.method||y,formEncType:d.encType||g,flushSync:d.flushSync})}else await l(d.action||p,{preventScrollReset:d.preventScrollReset,formData:v,body:E,formMethod:d.method||y,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,l,e,n])}function MA(a,{relative:e}={}){let{basename:n}=L.useContext(lr),i=L.useContext(Ar);St(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...vc(a||".",{relative:e})},d=aa();if(a==null){c.search=d.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let v=p.toString();c.search=v?`?${v}`:""}}return(!a||a===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ra([n,c.pathname])),oc(c)}function VA(a,{relative:e}={}){let n=L.useContext(Vx);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Gx("useViewTransitionState"),l=vc(a,{relative:e});if(!n.isTransitioning)return!1;let c=ja(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=ja(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Td(l.pathname,d)!=null||Td(l.pathname,c)!=null}let $o=null,xl=!1;const PA=()=>xl?null:($o||($o=new(window.AudioContext||window.webkitAudioContext)),$o.state==="suspended"&&$o.resume(),$o),Fn=(a,e,n,i=0,l=.1)=>{if(xl)return;const c=PA();if(!c)return;const d=c.createOscillator(),p=c.createGain();d.type=e,d.frequency.setValueAtTime(a,c.currentTime+i),p.gain.setValueAtTime(l,c.currentTime+i),p.gain.exponentialRampToValueAtTime(.01,c.currentTime+i+n),d.connect(p),p.connect(c.destination),d.start(c.currentTime+i),d.stop(c.currentTime+i+n)},Qb={toggleMute:()=>(xl=!xl,xl),isMuted:()=>xl},At={correct:()=>{Fn(600,"sine",.1,0),Fn(800,"sine",.2,.1)},wrong:()=>{Fn(150,"sawtooth",.3,0)},click:()=>{Fn(400,"triangle",.05,0,.05)},win:()=>{Fn(400,"sine",.1,0),Fn(500,"sine",.1,.1),Fn(600,"sine",.1,.2),Fn(800,"square",.4,.3)},levelUp:()=>{Fn(400,"sine",.1,0),Fn(500,"sine",.1,.1),Fn(600,"sine",.1,.2),Fn(800,"sine",.1,.3),Fn(1e3,"square",.4,.4)}},Xx=()=>{const a=L.useRef(null);return L.useEffect(()=>{const e=a.current;if(!e)return;const n=e.getContext("2d");if(!n)return;e.width=window.innerWidth,e.height=window.innerHeight;const i=[],l=["#136dec","#fbbf24","#10b981","#ef4444","#8b5cf6"];for(let d=0;d<150;d++)i.push({x:e.width/2,y:e.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20-5,color:l[Math.floor(Math.random()*l.length)],size:Math.random()*8+4,life:100});const c=()=>{if(!n||!e)return;n.clearRect(0,0,e.width,e.height);let d=!1;i.forEach(p=>{p.life>0&&(d=!0,p.x+=p.vx,p.y+=p.vy,p.vy+=.5,p.life--,n.fillStyle=p.color,n.fillRect(p.x,p.y,p.size,p.size))}),d&&requestAnimationFrame(c)};c()},[]),m.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-50"})},LA=({achievements:a,onClose:e})=>(L.useEffect(()=>{At.win()},[]),m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-300",children:[m.jsx(Xx,{}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-8 border-2 border-primary/50 text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-[shimmer_2s_infinite]"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-wide",children:"Lorpen Berria!"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-medium",children:"Bikain egina!"}),m.jsx("div",{className:"flex flex-col gap-4",children:a.map(n=>m.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700/50",children:[m.jsx("div",{className:"p-4 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 shadow-lg shadow-orange-500/30 text-white mb-2 animate-bounce",children:m.jsx("span",{className:"material-symbols-outlined text-4xl",children:n.icon})}),m.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:n.title}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:n.description}),m.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-black px-2 py-0.5 rounded shadow-sm",children:["+",n.xpReward," XP"]})]},n.id))}),m.jsx("button",{onClick:e,className:"mt-8 w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold transition-all hover:scale-105 shadow-xl shadow-blue-500/30",children:"Jarraitu"})]})]})]})),zA=()=>{};var $b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=function(a){const e=[];let n=0;for(let i=0;i<a.length;i++){let l=a.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},UA=function(a){const e=[];let n=0,i=0;for(;n<a.length;){const l=a[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[n++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[n++],d=a[n++],p=a[n++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const c=a[n++],d=a[n++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Qx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,y=l+2<a.length,g=y?a[l+2]:0,v=c>>2,E=(c&3)<<4|p>>4;let A=(p&15)<<2|g>>6,j=g&63;y||(j=64,d||(A=64)),i.push(n[v],n[E],n[A],n[j])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Kx(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):UA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<a.length;){const c=n[a.charAt(l++)],p=l<a.length?n[a.charAt(l)]:0;++l;const g=l<a.length?n[a.charAt(l)]:64;++l;const E=l<a.length?n[a.charAt(l)]:64;if(++l,c==null||p==null||g==null||E==null)throw new BA;const A=c<<2|p>>4;if(i.push(A),g!==64){const j=p<<4&240|g>>2;if(i.push(j),E!==64){const H=g<<6&192|E;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(a){const e=Kx(a);return Qx.encodeByteArray(e,!0)},Ad=function(a){return qA(a).replace(/\./g,"")},$x=function(a){try{return Qx.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof $b>"u")return;const a=$b.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},XA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&$x(a[1]);return e&&JSON.parse(e)},Qd=()=>{try{return zA()||FA()||GA()||XA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Yx=a=>{var e,n;return(n=(e=Qd())==null?void 0:e.emulatorHosts)==null?void 0:n[a]},KA=a=>{const e=Yx(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Zx=()=>{var a;return(a=Qd())==null?void 0:a.config},Jx=a=>{var e;return(e=Qd())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wx(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ad(JSON.stringify(n)),Ad(JSON.stringify(d)),""].join(".")}const nc={};function YA(){const a={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?a.emulator.push(e):a.prod.push(e);return a}function ZA(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let Yb=!1;function ev(a,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||nc[a]===e||nc[a]||Yb)return;nc[a]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=YA().prod.length>0;function d(){const A=document.getElementById(i);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Yb=!0,d()},A}function v(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=ZA(i),j=n("text"),H=document.getElementById(j)||document.createElement("span"),K=n("learnmore"),U=document.getElementById(K)||document.createElement("a"),te=n("preprendIcon"),ae=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;p(ne),v(U,K);const me=g();y(ae,te),ne.append(ae,H,U,me),document.body.appendChild(ne)}c?(H.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function WA(){var e;const a=(e=Qd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rS(){const a=xn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function aS(){return!WA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((a,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="FirebaseError";class Pa extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=lS,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?oS(c,i):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Pa(l,p,i)}}function oS(a,e){return a.replace(cS,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const cS=/\{\$([^}]+)}/g;function uS(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function gs(a,e){if(a===e)return!0;const n=Object.keys(a),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const c=a[l],d=e[l];if(Zb(c)&&Zb(d)){if(!gs(c,d))return!1}else if(c!==d)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Zb(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(a){const e=[];for(const[n,i]of Object.entries(a))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yo(a){const e={};return a.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,c]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Zo(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function dS(a,e){const n=new hS(a,e);return n.subscribe.bind(n)}class hS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fS(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(a){return a&&a._delegate?a._delegate:a}class ys{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new QA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gS(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&d.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(a){return a===fs?void 0:a}function gS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Xe||(Xe={}));const bS={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},_S=Xe.INFO,xS={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},vS=(a,e,...n)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),l=xS[e];if(l)console[l](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=_S,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const ES=(a,e)=>e.some(n=>a instanceof n);let Jb,Wb;function wS(){return Jb||(Jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,Dm=new WeakMap,nv=new WeakMap,_m=new WeakMap,gp=new WeakMap;function AS(a){const e=new Promise((n,i)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{n(Ei(a.result)),l()},d=()=>{i(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&tv.set(n,a)}).catch(()=>{}),gp.set(e,a),e}function SS(a){if(Dm.has(a))return;const e=new Promise((n,i)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{i(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Dm.set(a,e)}let Om={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Dm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||nv.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function kS(a){Om=a(Om)}function NS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=a.call(xm(this),e,...n);return nv.set(i,e.sort?e.sort():[e]),Ei(i)}:TS().includes(a)?function(...e){return a.apply(xm(this),e),Ei(tv.get(this))}:function(...e){return Ei(a.apply(xm(this),e))}}function RS(a){return typeof a=="function"?NS(a):(a instanceof IDBTransaction&&SS(a),ES(a,wS())?new Proxy(a,Om):a)}function Ei(a){if(a instanceof IDBRequest)return AS(a);if(_m.has(a))return _m.get(a);const e=RS(a);return e!==a&&(_m.set(a,e),gp.set(e,a)),e}const xm=a=>gp.get(a);function CS(a,e,{blocked:n,upgrade:i,blocking:l,terminated:c}={}){const d=indexedDB.open(a,e),p=Ei(d);return i&&d.addEventListener("upgradeneeded",y=>{i(Ei(d.result),y.oldVersion,y.newVersion,Ei(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const IS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],vm=new Map;function e_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=jS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||IS.includes(n)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return i&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),l&&y.done]))[0]};return vm.set(e,c),c}kS(a=>({...a,get:(e,n,i)=>e_(e,n)||a.get(e,n,i),has:(e,n)=>!!e_(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function OS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",t_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new pp("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",PS="@firebase/analytics",LS="@firebase/app-check-compat",zS="@firebase/app-check",US="@firebase/auth",BS="@firebase/auth-compat",qS="@firebase/database",HS="@firebase/data-connect",FS="@firebase/database-compat",GS="@firebase/functions",XS="@firebase/functions-compat",KS="@firebase/installations",QS="@firebase/installations-compat",$S="@firebase/messaging",YS="@firebase/messaging-compat",ZS="@firebase/performance",JS="@firebase/performance-compat",WS="@firebase/remote-config",e2="@firebase/remote-config-compat",t2="@firebase/storage",n2="@firebase/storage-compat",r2="@firebase/firestore",a2="@firebase/ai",i2="@firebase/firestore-compat",s2="firebase",l2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",o2={[Mm]:"fire-core",[MS]:"fire-core-compat",[PS]:"fire-analytics",[VS]:"fire-analytics-compat",[zS]:"fire-app-check",[LS]:"fire-app-check-compat",[US]:"fire-auth",[BS]:"fire-auth-compat",[qS]:"fire-rtdb",[HS]:"fire-data-connect",[FS]:"fire-rtdb-compat",[GS]:"fire-fn",[XS]:"fire-fn-compat",[KS]:"fire-iid",[QS]:"fire-iid-compat",[$S]:"fire-fcm",[YS]:"fire-fcm-compat",[ZS]:"fire-perf",[JS]:"fire-perf-compat",[WS]:"fire-rc",[e2]:"fire-rc-compat",[t2]:"fire-gcs",[n2]:"fire-gcs-compat",[r2]:"fire-fst",[i2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,c2=new Map,Pm=new Map;function n_(a,e){try{a.container.addComponent(e)}catch(n){Da.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function Nl(a){const e=a.name;if(Pm.has(e))return Da.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,a);for(const n of Sd.values())n_(n,a);for(const n of c2.values())n_(n,a);return!0}function yp(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function ir(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Ec("app","Firebase",u2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=l2;function rv(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const i={name:Vm,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw wi.create("bad-app-name",{appName:String(l)});if(n||(n=Zx()),!n)throw wi.create("no-options");const c=Sd.get(l);if(c){if(gs(n,c.options)&&gs(i,c.config))return c;throw wi.create("duplicate-app",{appName:l})}const d=new yS(l);for(const y of Pm.values())d.addComponent(y);const p=new d2(n,i,d);return Sd.set(l,p),p}function av(a=Vm){const e=Sd.get(a);if(!e&&a===Vm&&Zx())return rv();if(!e)throw wi.create("no-app",{appName:a});return e}function Ti(a,e,n){let i=o2[a]??a;n&&(i+=`-${n}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${i}" with version "${e}":`];l&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Da.warn(d.join(" "));return}Nl(new ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-heartbeat-database",f2=1,cc="firebase-heartbeat-store";let Em=null;function iv(){return Em||(Em=CS(h2,f2,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(a=>{throw wi.create("idb-open",{originalErrorMessage:a.message})})),Em}async function m2(a){try{const n=(await iv()).transaction(cc),i=await n.objectStore(cc).get(sv(a));return await n.done,i}catch(e){if(e instanceof Pa)Da.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Da.warn(n.message)}}}async function r_(a,e){try{const i=(await iv()).transaction(cc,"readwrite");await i.objectStore(cc).put(e,sv(a)),await i.done}catch(n){if(n instanceof Pa)Da.warn(n.message);else{const i=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Da.warn(i.message)}}}function sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=1024,g2=30;class y2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=a_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>g2){const d=x2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Da.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a_(),{heartbeatsToSend:i,unsentEntries:l}=b2(this._heartbeatsCache.heartbeats),c=Ad(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Da.warn(n),""}}}function a_(){return new Date().toISOString().substring(0,10)}function b2(a,e=p2){const n=[];let i=a.slice();for(const l of a){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),i_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function i_(a){return Ad(JSON.stringify({version:2,heartbeats:a})).length}function x2(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(a){Nl(new ys("platform-logger",e=>new DS(e),"PRIVATE")),Nl(new ys("heartbeat",e=>new y2(e),"PRIVATE")),Ti(Mm,t_,a),Ti(Mm,t_,"esm2020"),Ti("fire-js","")}v2("");var E2="firebase",w2="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(E2,w2,"app");function lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T2=lv,ov=new Ec("auth","Firebase",lv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new pp("@firebase/auth");function A2(a,...e){kd.logLevel<=Xe.WARN&&kd.warn(`Auth (${Ll}): ${a}`,...e)}function md(a,...e){kd.logLevel<=Xe.ERROR&&kd.error(`Auth (${Ll}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(a,...e){throw bp(a,...e)}function Yr(a,...e){return bp(a,...e)}function cv(a,e,n){const i={...T2(),[e]:n};return new Ec("auth","Firebase",i).create(e,{appName:a.name})}function Ca(a){return cv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(a,...e){if(typeof a!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=a.name),a._errorFactory.create(n,...i)}return ov.create(a,...e)}function Ee(a,e,...n){if(!a)throw bp(e,...n)}function ka(a){const e="INTERNAL ASSERTION FAILED: "+a;throw md(e),new Error(e)}function Oa(a,e){a||ka(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function S2(){return s_()==="http:"||s_()==="https:"}function s_(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S2()||tS()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oa(n>e,"Short delay should be less than long delay!"),this.isMobile=JA()||nS()}get(){return k2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(a,e){Oa(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I2=new Tc(3e4,6e4);function Di(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Oi(a,e,n,i,l={}){return dv(a,l,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const p=wc({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const g={method:e,headers:y,...c};return eS()||(g.referrerPolicy="no-referrer"),a.emulatorConfig&&Pl(a.emulatorConfig.host)&&(g.credentials="include"),uv.fetch()(await hv(a,a.config.apiHost,n,p),g)})}async function dv(a,e,n){a._canInitEmulator=!1;const i={...R2,...e};try{const l=new D2(a),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw id(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw id(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw id(a,"user-disabled",d);const v=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cv(a,v,g);wr(a,v)}}catch(l){if(l instanceof Pa)throw l;wr(a,"network-request-failed",{message:String(l)})}}async function Ac(a,e,n,i,l={}){const c=await Oi(a,e,n,i,l);return"mfaPendingCredential"in c&&wr(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function hv(a,e,n,i){const l=`${e}${n}?${i}`,c=a,d=c.config.emulator?_p(a.config,l):`${a.config.apiScheme}://${l}`;return C2.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function j2(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Yr(this.auth,"network-request-failed")),I2.get())})}}function id(a,e,n){const i={appName:a.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=Yr(a,e,i);return l.customData._tokenResponse=n,l}function l_(a){return a!==void 0&&a.enterprise!==void 0}class O2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M2(a,e){return Oi(a,"GET","/v2/recaptchaConfig",Di(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(a,e){return Oi(a,"POST","/v1/accounts:delete",e)}async function Nd(a,e){return Oi(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(a,e=!1){const n=an(a),i=await n.getIdToken(e),l=xp(i);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:i,authTime:rc(wm(l.auth_time)),issuedAtTime:rc(wm(l.iat)),expirationTime:rc(wm(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function wm(a){return Number(a)*1e3}function xp(a){const[e,n,i]=a.split(".");if(e===void 0||n===void 0||i===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const l=$x(n);return l?JSON.parse(l):(md("Failed to decode base64 JWT payload"),null)}catch(l){return md("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function o_(a){const e=xp(a);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(a,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Pa&&L2(i)&&a.auth.currentUser===a&&await a.auth.signOut(),i}}function L2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(a){var E;const e=a.auth,n=await a.getIdToken(),i=await uc(a,Nd(e,{idToken:n}));Ee(i==null?void 0:i.users.length,e,"internal-error");const l=i.users[0];a._notifyReloadListener(l);const c=(E=l.providerUserInfo)!=null&&E.length?fv(l.providerUserInfo):[],d=B2(a.providerData,c),p=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!(d!=null&&d.length),g=p?y:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(a,v)}async function U2(a){const e=an(a);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B2(a,e){return[...a.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function fv(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(a,e){const n=await dv(a,{},async()=>{const i=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await hv(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:i};return a.emulatorConfig&&Pl(a.emulatorConfig.host)&&(y.credentials="include"),uv.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H2(a,e){return Oi(a,"POST","/v2/accounts:revokeToken",Di(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=o_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:c}=await q2(e,n);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:c}=n,d=new El;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(a,e){Ee(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:n,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P2(this,e)}reload(){return U2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await uc(this,V2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:j,providerData:H,stsTokenManager:K}=n;Ee(E&&K,e,"internal-error");const U=El.fromJSON(this.name,K);Ee(typeof E=="string",e,"internal-error"),pi(i,e.name),pi(l,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof j=="boolean",e,"internal-error"),pi(c,e.name),pi(d,e.name),pi(p,e.name),pi(y,e.name),pi(g,e.name),pi(v,e.name);const te=new vr({uid:E,auth:e,email:l,emailVerified:A,displayName:i,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:U,createdAt:g,lastLoginAt:v});return H&&Array.isArray(H)&&(te.providerData=H.map(ae=>({...ae}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,n,i=!1){const l=new El;l.updateFromServerResponse(n);const c=new vr({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Rd(c),c}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?fv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new El;p.updateFromIdToken(i);const y=new vr({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;function Na(a){Oa(a instanceof Function,"Expected a class definition");let e=c_.get(a);return e?(Oa(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,c_.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mv.type="NONE";const u_=mv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(a,e,n){return`firebase:${a}:${e}:${n}`}class wl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=pd(this.userKey,l.apiKey,c),this.fullPersistenceKey=pd("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nd(this.auth,{idToken:e}).catch(()=>{});return n?vr._fromGetAccountInfoResponse(this.auth,n,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new wl(Na(u_),e,i);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||Na(u_);const d=pd(i,e.config.apiKey,e.name);let p=null;for(const g of n)try{const v=await g._get(d);if(v){let E;if(typeof v=="string"){const A=await Nd(e,{idToken:v}).catch(()=>{});if(!A)break;E=await vr._fromGetAccountInfoResponse(e,A,v)}else E=vr._fromJSON(e,v);g!==c&&(p=E),c=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new wl(c,e,i):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new wl(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xv(e))return"Blackberry";if(vv(e))return"Webos";if(gv(e))return"Safari";if((e.includes("chrome/")||yv(e))&&!e.includes("edge/"))return"Chrome";if(_v(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=a.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pv(a=xn()){return/firefox\//i.test(a)}function gv(a=xn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yv(a=xn()){return/crios\//i.test(a)}function bv(a=xn()){return/iemobile/i.test(a)}function _v(a=xn()){return/android/i.test(a)}function xv(a=xn()){return/blackberry/i.test(a)}function vv(a=xn()){return/webos/i.test(a)}function vp(a=xn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function F2(a=xn()){var e;return vp(a)&&!!((e=window.navigator)!=null&&e.standalone)}function G2(){return rS()&&document.documentMode===10}function Ev(a=xn()){return vp(a)||_v(a)||vv(a)||xv(a)||/windows phone/i.test(a)||bv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(a,e=[]){let n;switch(a){case"Browser":n=d_(xn());break;case"Worker":n=`${d_(xn())}-${a}`;break;default:n=a}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(a,e={}){return Oi(a,"GET","/v2/passwordPolicy",Di(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=6;class $2{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new X2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ov,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Na(n)),this._initializationPromise=this.queue(async()=>{var i,l,c;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nd(this,{idToken:e}),i=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(ir(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=i==null?void 0:i._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(i=y.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(d){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Ca(this));const n=e?an(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K2(this),n=new $2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await H2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Na(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[Na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,i,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&A2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ts(a){return an(a)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=dS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z2(a){$d=a}function Tv(a){return $d.loadJS(a)}function J2(){return $d.recaptchaEnterpriseScript}function W2(){return $d.gapiScript}function ek(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class tk{constructor(){this.enterprise=new nk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rk="recaptcha-enterprise",Av="NO_RECAPTCHA";class ak{constructor(e){this.type=rk,this.auth=Ts(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{M2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new O2(y);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;l_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(Av)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tk().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{i(this.auth).then(p=>{if(!n&&l_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=J2();y.length!==0&&(y+=p),Tv(y).then(()=>{l(p,c,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function f_(a,e,n,i=!1,l=!1){const c=new ak(a);let d;if(l)d=Av;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Um(a,e,n,i,l){var c;if((c=a._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await f_(a,e,n,n==="getOobCode");return i(a,d)}else return i(a,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await f_(a,e,n,n==="getOobCode");return i(a,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(a,e){const n=yp(a,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(gs(c,e??{}))return l;wr(l,"already-initialized")}return n.initialize({options:e})}function sk(a,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Na);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lk(a,e,n){const i=Ts(a);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=Sv(e),{host:d,port:p}=ok(e),y=p===null?"":`:${p}`,g={url:`${c}//${d}${y}/`},v=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(gs(g,i.config.emulator)&&gs(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Pl(d)?(Wx(`${c}//${d}${y}`),ev("Auth",!0)):ck()}function Sv(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function ok(a){const e=Sv(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:m_(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:m_(d)}}}function m_(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function ck(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ka("not implemented")}_getIdTokenResponse(e){return ka("not implemented")}_linkToIdToken(e,n){return ka("not implemented")}_getReauthenticationResolver(e){return ka("not implemented")}}async function uk(a,e){return Oi(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(a,e){return Ac(a,"POST","/v1/accounts:signInWithPassword",Di(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(a,e){return Ac(a,"POST","/v1/accounts:signInWithEmailLink",Di(a,e))}async function fk(a,e){return Ac(a,"POST","/v1/accounts:signInWithEmailLink",Di(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Ep{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new dc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,n,"signInWithPassword",dk);case"emailLink":return hk(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,i,"signUpPassword",uk);case"emailLink":return fk(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(a,e){return Ac(a,"POST","/v1/accounts:signInWithIdp",Di(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="http://localhost";class bs extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...c}=n;if(!i||!l)return null;const d=new bs(i,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Tl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:mk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gk(a){const e=Yo(Zo(a)).link,n=e?Yo(Zo(e)).deep_link_id:null,i=Yo(Zo(a)).deep_link_id;return(i?Yo(Zo(i)).link:null)||i||n||e||a}class wp{constructor(e){const n=Yo(Zo(e)),i=n.apiKey??null,l=n.oobCode??null,c=pk(n.mode??null);Ee(i&&l&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gk(e);try{return new wp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=wp.parseLink(n);return Ee(i,"argument-error"),dc._fromEmailAndCode(e,i.code,i.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Sc{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return yi.credential(n,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Sc{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Sc{constructor(){super("twitter.com")}static credential(e,n){return bs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return _i.credential(n,i)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(a,e){return Ac(a,"POST","/v1/accounts:signUp",Di(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const c=await vr._fromIdTokenResponse(e,i,l),d=p_(i);return new _s({user:c,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=p_(i);return new _s({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function p_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Pa{constructor(e,n,i,l){super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new Cd(e,n,i,l)}}function Nv(a,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(a,c,e,i):c})}async function bk(a,e,n=!1){const i=await uc(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return _s._forOperation(a,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(a,e,n=!1){const{auth:i}=a;if(ir(i.app))return Promise.reject(Ca(i));const l="reauthenticate";try{const c=await uc(a,Nv(i,l,e,a),n);Ee(c.idToken,i,"internal-error");const d=xp(c.idToken);Ee(d,i,"internal-error");const{sub:p}=d;return Ee(a.uid===p,i,"user-mismatch"),_s._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&wr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(a,e,n=!1){if(ir(a.app))return Promise.reject(Ca(a));const i="signIn",l=await Nv(a,i,e),c=await _s._fromIdTokenResponse(a,i,l);return n||await a._updateCurrentUser(c.user),c}async function xk(a,e){return Rv(Ts(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cv(a){const e=Ts(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vk(a,e,n){if(ir(a.app))return Promise.reject(Ca(a));const i=Ts(a),d=await Um(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yk).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Cv(a),y}),p=await _s._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function Ek(a,e,n){return ir(a.app)?Promise.reject(Ca(a)):xk(an(a),zl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Cv(a),i})}function wk(a,e,n,i){return an(a).onIdTokenChanged(e,n,i)}function Tk(a,e,n){return an(a).beforeAuthStateChanged(e,n)}function Ak(a,e,n,i){return an(a).onAuthStateChanged(e,n,i)}function Sk(a){return an(a).signOut()}const Id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=1e3,Nk=10;class jv extends Iv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ev(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);G2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Nk):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jv.type="LOCAL";const Rk=jv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends Iv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Dv.type="SESSION";const Ov=Dv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new Yd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const p=Array.from(d).map(async g=>g(n.origin,c)),y=await Ck(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(a="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const g=Tp("",20);l.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},i);d={messageChannel:l,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(v),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function jk(a){Zr().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function Dk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ok(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function Mk(){return Mv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="firebaseLocalStorageDb",Vk=1,jd="firebaseLocalStorage",Pv="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(a,e){return a.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function Pk(){const a=indexedDB.deleteDatabase(Vv);return new kc(a).toPromise()}function Bm(){const a=indexedDB.open(Vv,Vk);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const i=a.result;try{i.createObjectStore(jd,{keyPath:Pv})}catch(l){n(l)}}),a.addEventListener("success",async()=>{const i=a.result;i.objectStoreNames.contains(jd)?e(i):(i.close(),await Pk(),e(await Bm()))})})}async function g_(a,e,n){const i=Zd(a,!0).put({[Pv]:e,value:n});return new kc(i).toPromise()}async function Lk(a,e){const n=Zd(a,!1).get(e),i=await new kc(n).toPromise();return i===void 0?null:i.value}function y_(a,e){const n=Zd(a,!0).delete(e);return new kc(n).toPromise()}const zk=800,Uk=3;class Lv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Uk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(Mk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Dk(),!this.activeServiceWorker)return;this.sender=new Ik(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await g_(e,Id,"1"),await y_(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>g_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Lk(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Zd(l,!1).getAll();return new kc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lv.type="LOCAL";const Bk=Lv;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(a,e){return e?Na(e):(Ee(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hk(a){return Rv(a.auth,new Ap(a),a.bypassAuthState)}function Fk(a){const{auth:e,user:n}=a;return Ee(n,e,"internal-error"),_k(n,new Ap(a),a.bypassAuthState)}async function Gk(a){const{auth:e,user:n}=a;return Ee(n,e,"internal-error"),bk(n,new Ap(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hk;case"linkViaPopup":case"linkViaRedirect":return Gk;case"reauthViaPopup":case"reauthViaRedirect":return Fk;default:wr(this.auth,"internal-error")}}resolve(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Tc(2e3,1e4);class vl extends zv{constructor(e,n,i,l,c){super(e,n,l,c),this.provider=i,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Oa(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xk.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="pendingRedirect",gd=new Map;class Qk extends zv{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const i=await $k(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $k(a,e){const n=Jk(e),i=Zk(a);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function Yk(a,e){gd.set(a._key(),e)}function Zk(a){return Na(a._redirectPersistence)}function Jk(a){return pd(Kk,a.config.apiKey,a.name)}async function Wk(a,e,n=!1){if(ir(a.app))return Promise.reject(Ca(a));const i=Ts(a),l=qk(i,e),d=await new Qk(i,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=600*1e3;class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Uv(e)){const l=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function Uv({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nN(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uv(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(a,e={}){return Oi(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function sN(a){if(a.config.emulator)return;const{authorizedDomains:e}=await rN(a);for(const n of e)try{if(lN(n))return}catch{}wr(a,"unauthorized-domain")}function lN(a){const e=Lm(),{protocol:n,hostname:i}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&i===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!iN.test(n))return!1;if(aN.test(a))return i===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new Tc(3e4,6e4);function __(){const a=Zr().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function cN(a){return new Promise((e,n)=>{var l,c,d;function i(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),n(Yr(a,"network-request-failed"))},timeout:oN.get()})}if((c=(l=Zr().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Zr().gapi)!=null&&d.load)i();else{const p=ek("iframefcb");return Zr()[p]=()=>{gapi.load?i():n(Yr(a,"network-request-failed"))},Tv(`${W2()}?onload=${p}`).catch(y=>n(y))}}).catch(e=>{throw yd=null,e})}let yd=null;function uN(a){return yd=yd||cN(a),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Tc(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",mN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(a){const e=a.config;Ee(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?_p(e,fN):`https://${a.config.authDomain}/${hN}`,i={apiKey:e.apiKey,appName:a.name,v:Ll},l=pN.get(a.config.apiHost);l&&(i.eid=l);const c=a._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${wc(i).slice(1)}`}async function yN(a){const e=await uN(a),n=Zr().gapi;return Ee(n,a,"internal-error"),e.open({where:document.body,url:gN(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mN,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const d=Yr(a,"network-request-failed"),p=Zr().setTimeout(()=>{c(d)},dN.get());function y(){Zr().clearTimeout(p),l(i)}i.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,xN=600,vN="_blank",EN="http://localhost";class x_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wN(a,e,n,i=_N,l=xN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const y={...bN,width:i.toString(),height:l.toString(),top:c,left:d},g=xn().toLowerCase();n&&(p=yv(g)?vN:n),pv(g)&&(e=e||EN,y.scrollbars="yes");const v=Object.entries(y).reduce((A,[j,H])=>`${A}${j}=${H},`,"");if(F2(g)&&p!=="_self")return TN(e||"",p),new x_(null);const E=window.open(e||"",p,v);Ee(E,a,"popup-blocked");try{E.focus()}catch{}return new x_(E)}function TN(a,e){const n=document.createElement("a");n.href=a,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__/auth/handler",SN="emulator/auth/handler",kN=encodeURIComponent("fac");async function v_(a,e,n,i,l,c){Ee(a.config.authDomain,a,"auth-domain-config-required"),Ee(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:i,v:Ll,eventId:l};if(e instanceof kv){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",uS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))d[v]=E}if(e instanceof Sc){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(d.scopes=v.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const y=await a._getAppCheckToken(),g=y?`#${kN}=${encodeURIComponent(y)}`:"";return`${NN(a)}?${wc(p).slice(1)}${g}`}function NN({config:a}){return a.emulator?_p(a,SN):`https://${a.authDomain}/${AN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ov,this._completeRedirectFn=Wk,this._overrideRedirectResult=Yk}async _openPopup(e,n,i,l){var d;Oa((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await v_(e,n,i,Lm(),l);return wN(e,c,Tp())}async _openRedirect(e,n,i,l){await this._originValidation(e);const c=await v_(e,n,i,Lm(),l);return jk(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Oa(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await yN(e),i=new tN(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Tm];c!==void 0&&n(!!c),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ev()||gv()||vp()}}const CN=RN;var E_="@firebase/auth",w_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DN(a){Nl(new ys("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wv(a)},g=new Y2(i,l,c,y);return sk(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Nl(new ys("auth-internal",e=>{const n=Ts(e.getProvider("auth").getImmediate());return(i=>new IN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(E_,w_,jN(a)),Ti(E_,w_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=300,MN=Jx("authIdTokenMaxAge")||ON;let T_=null;const VN=a=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>MN)return;const l=n==null?void 0:n.token;T_!==l&&(T_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PN(a=av()){const e=yp(a,"auth");if(e.isInitialized())return e.getImmediate();const n=ik(a,{popupRedirectResolver:CN,persistence:[Bk,Rk,Ov]}),i=Jx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=VN(c.toString());Tk(n,d,()=>d(n.currentUser)),wk(n,p=>d(p))}}const l=Yx("auth");return l&&lk(n,`http://${l}`),n}function LN(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}Z2({loadJS(a){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",a),i.onload=e,i.onerror=l=>{const c=Yr("internal-error");c.customData=l,n(c)},i.type="text/javascript",i.charset="UTF-8",LN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DN("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,Bv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function k(){}k.prototype=S.prototype,N.F=S.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(D,I,V){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return S.prototype[I].apply(D,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,k){k||(k=0);const D=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)D[I]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(I=0;I<16;++I)D[I]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=N.g[0],k=N.g[1],I=N.g[2];let V=N.g[3],R;R=S+(V^k&(I^V))+D[0]+3614090360&4294967295,S=k+(R<<7&4294967295|R>>>25),R=V+(I^S&(k^I))+D[1]+3905402710&4294967295,V=S+(R<<12&4294967295|R>>>20),R=I+(k^V&(S^k))+D[2]+606105819&4294967295,I=V+(R<<17&4294967295|R>>>15),R=k+(S^I&(V^S))+D[3]+3250441966&4294967295,k=I+(R<<22&4294967295|R>>>10),R=S+(V^k&(I^V))+D[4]+4118548399&4294967295,S=k+(R<<7&4294967295|R>>>25),R=V+(I^S&(k^I))+D[5]+1200080426&4294967295,V=S+(R<<12&4294967295|R>>>20),R=I+(k^V&(S^k))+D[6]+2821735955&4294967295,I=V+(R<<17&4294967295|R>>>15),R=k+(S^I&(V^S))+D[7]+4249261313&4294967295,k=I+(R<<22&4294967295|R>>>10),R=S+(V^k&(I^V))+D[8]+1770035416&4294967295,S=k+(R<<7&4294967295|R>>>25),R=V+(I^S&(k^I))+D[9]+2336552879&4294967295,V=S+(R<<12&4294967295|R>>>20),R=I+(k^V&(S^k))+D[10]+4294925233&4294967295,I=V+(R<<17&4294967295|R>>>15),R=k+(S^I&(V^S))+D[11]+2304563134&4294967295,k=I+(R<<22&4294967295|R>>>10),R=S+(V^k&(I^V))+D[12]+1804603682&4294967295,S=k+(R<<7&4294967295|R>>>25),R=V+(I^S&(k^I))+D[13]+4254626195&4294967295,V=S+(R<<12&4294967295|R>>>20),R=I+(k^V&(S^k))+D[14]+2792965006&4294967295,I=V+(R<<17&4294967295|R>>>15),R=k+(S^I&(V^S))+D[15]+1236535329&4294967295,k=I+(R<<22&4294967295|R>>>10),R=S+(I^V&(k^I))+D[1]+4129170786&4294967295,S=k+(R<<5&4294967295|R>>>27),R=V+(k^I&(S^k))+D[6]+3225465664&4294967295,V=S+(R<<9&4294967295|R>>>23),R=I+(S^k&(V^S))+D[11]+643717713&4294967295,I=V+(R<<14&4294967295|R>>>18),R=k+(V^S&(I^V))+D[0]+3921069994&4294967295,k=I+(R<<20&4294967295|R>>>12),R=S+(I^V&(k^I))+D[5]+3593408605&4294967295,S=k+(R<<5&4294967295|R>>>27),R=V+(k^I&(S^k))+D[10]+38016083&4294967295,V=S+(R<<9&4294967295|R>>>23),R=I+(S^k&(V^S))+D[15]+3634488961&4294967295,I=V+(R<<14&4294967295|R>>>18),R=k+(V^S&(I^V))+D[4]+3889429448&4294967295,k=I+(R<<20&4294967295|R>>>12),R=S+(I^V&(k^I))+D[9]+568446438&4294967295,S=k+(R<<5&4294967295|R>>>27),R=V+(k^I&(S^k))+D[14]+3275163606&4294967295,V=S+(R<<9&4294967295|R>>>23),R=I+(S^k&(V^S))+D[3]+4107603335&4294967295,I=V+(R<<14&4294967295|R>>>18),R=k+(V^S&(I^V))+D[8]+1163531501&4294967295,k=I+(R<<20&4294967295|R>>>12),R=S+(I^V&(k^I))+D[13]+2850285829&4294967295,S=k+(R<<5&4294967295|R>>>27),R=V+(k^I&(S^k))+D[2]+4243563512&4294967295,V=S+(R<<9&4294967295|R>>>23),R=I+(S^k&(V^S))+D[7]+1735328473&4294967295,I=V+(R<<14&4294967295|R>>>18),R=k+(V^S&(I^V))+D[12]+2368359562&4294967295,k=I+(R<<20&4294967295|R>>>12),R=S+(k^I^V)+D[5]+4294588738&4294967295,S=k+(R<<4&4294967295|R>>>28),R=V+(S^k^I)+D[8]+2272392833&4294967295,V=S+(R<<11&4294967295|R>>>21),R=I+(V^S^k)+D[11]+1839030562&4294967295,I=V+(R<<16&4294967295|R>>>16),R=k+(I^V^S)+D[14]+4259657740&4294967295,k=I+(R<<23&4294967295|R>>>9),R=S+(k^I^V)+D[1]+2763975236&4294967295,S=k+(R<<4&4294967295|R>>>28),R=V+(S^k^I)+D[4]+1272893353&4294967295,V=S+(R<<11&4294967295|R>>>21),R=I+(V^S^k)+D[7]+4139469664&4294967295,I=V+(R<<16&4294967295|R>>>16),R=k+(I^V^S)+D[10]+3200236656&4294967295,k=I+(R<<23&4294967295|R>>>9),R=S+(k^I^V)+D[13]+681279174&4294967295,S=k+(R<<4&4294967295|R>>>28),R=V+(S^k^I)+D[0]+3936430074&4294967295,V=S+(R<<11&4294967295|R>>>21),R=I+(V^S^k)+D[3]+3572445317&4294967295,I=V+(R<<16&4294967295|R>>>16),R=k+(I^V^S)+D[6]+76029189&4294967295,k=I+(R<<23&4294967295|R>>>9),R=S+(k^I^V)+D[9]+3654602809&4294967295,S=k+(R<<4&4294967295|R>>>28),R=V+(S^k^I)+D[12]+3873151461&4294967295,V=S+(R<<11&4294967295|R>>>21),R=I+(V^S^k)+D[15]+530742520&4294967295,I=V+(R<<16&4294967295|R>>>16),R=k+(I^V^S)+D[2]+3299628645&4294967295,k=I+(R<<23&4294967295|R>>>9),R=S+(I^(k|~V))+D[0]+4096336452&4294967295,S=k+(R<<6&4294967295|R>>>26),R=V+(k^(S|~I))+D[7]+1126891415&4294967295,V=S+(R<<10&4294967295|R>>>22),R=I+(S^(V|~k))+D[14]+2878612391&4294967295,I=V+(R<<15&4294967295|R>>>17),R=k+(V^(I|~S))+D[5]+4237533241&4294967295,k=I+(R<<21&4294967295|R>>>11),R=S+(I^(k|~V))+D[12]+1700485571&4294967295,S=k+(R<<6&4294967295|R>>>26),R=V+(k^(S|~I))+D[3]+2399980690&4294967295,V=S+(R<<10&4294967295|R>>>22),R=I+(S^(V|~k))+D[10]+4293915773&4294967295,I=V+(R<<15&4294967295|R>>>17),R=k+(V^(I|~S))+D[1]+2240044497&4294967295,k=I+(R<<21&4294967295|R>>>11),R=S+(I^(k|~V))+D[8]+1873313359&4294967295,S=k+(R<<6&4294967295|R>>>26),R=V+(k^(S|~I))+D[15]+4264355552&4294967295,V=S+(R<<10&4294967295|R>>>22),R=I+(S^(V|~k))+D[6]+2734768916&4294967295,I=V+(R<<15&4294967295|R>>>17),R=k+(V^(I|~S))+D[13]+1309151649&4294967295,k=I+(R<<21&4294967295|R>>>11),R=S+(I^(k|~V))+D[4]+4149444226&4294967295,S=k+(R<<6&4294967295|R>>>26),R=V+(k^(S|~I))+D[11]+3174756917&4294967295,V=S+(R<<10&4294967295|R>>>22),R=I+(S^(V|~k))+D[2]+718787259&4294967295,I=V+(R<<15&4294967295|R>>>17),R=k+(V^(I|~S))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+V&4294967295}i.prototype.v=function(N,S){S===void 0&&(S=N.length);const k=S-this.blockSize,D=this.C;let I=this.h,V=0;for(;V<S;){if(I==0)for(;V<=k;)l(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(D[I++]=N.charCodeAt(V++),I==this.blockSize){l(this,D),I=0;break}}else for(;V<S;)if(D[I++]=N[V++],I==this.blockSize){l(this,D),I=0;break}}this.h=I,this.o+=S},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,k=0;k<4;++k)for(let D=0;D<32;D+=8)N[S++]=this.g[k]>>>D&255;return N};function c(N,S){var k=p;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=S(N)}function d(N,S){this.h=S;const k=[];let D=!0;for(let I=N.length-1;I>=0;I--){const V=N[I]|0;D&&V==S||(k[I]=V,D=!1)}this.g=k}var p={};function y(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return U(g(-N));const S=[];let k=1;for(let D=0;N>=k;D++)S[D]=N/k|0,k*=4294967296;return new d(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return U(v(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=g(Math.pow(S,8));let D=E;for(let V=0;V<N.length;V+=8){var I=Math.min(8,N.length-V);const R=parseInt(N.substring(V,V+I),S);I<8?(I=g(Math.pow(S,I)),D=D.j(I).add(g(R))):(D=D.j(k),D=D.add(g(R)))}return D}var E=y(0),A=y(1),j=y(16777216);a=d.prototype,a.m=function(){if(K(this))return-U(this).m();let N=0,S=1;for(let k=0;k<this.g.length;k++){const D=this.i(k);N+=(D>=0?D:4294967296+D)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(K(this))return"-"+U(this).toString(N);const S=g(Math.pow(N,6));var k=this;let D="";for(;;){const I=me(k,S).g;k=te(k,I.j(S));let V=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=I,H(k))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function K(N){return N.h==-1}a.l=function(N){return N=te(this,N),K(N)?-1:H(N)?0:1};function U(N){const S=N.g.length,k=[];for(let D=0;D<S;D++)k[D]=~N.g[D];return new d(k,~N.h).add(A)}a.abs=function(){return K(this)?U(this):this},a.add=function(N){const S=Math.max(this.g.length,N.g.length),k=[];let D=0;for(let I=0;I<=S;I++){let V=D+(this.i(I)&65535)+(N.i(I)&65535),R=(V>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);D=R>>>16,V&=65535,R&=65535,k[I]=R<<16|V}return new d(k,k[k.length-1]&-2147483648?-1:0)};function te(N,S){return N.add(U(S))}a.j=function(N){if(H(this)||H(N))return E;if(K(this))return K(N)?U(this).j(U(N)):U(U(this).j(N));if(K(N))return U(this.j(U(N)));if(this.l(j)<0&&N.l(j)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,k=[];for(var D=0;D<2*S;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<N.g.length;I++){const V=this.i(D)>>>16,R=this.i(D)&65535,it=N.i(I)>>>16,ze=N.i(I)&65535;k[2*D+2*I]+=R*ze,ae(k,2*D+2*I),k[2*D+2*I+1]+=V*ze,ae(k,2*D+2*I+1),k[2*D+2*I+1]+=R*it,ae(k,2*D+2*I+1),k[2*D+2*I+2]+=V*it,ae(k,2*D+2*I+2)}for(N=0;N<S;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=S;N<2*S;N++)k[N]=0;return new d(k,0)};function ae(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ne(N,S){this.g=N,this.h=S}function me(N,S){if(H(S))throw Error("division by zero");if(H(N))return new ne(E,E);if(K(N))return S=me(U(N),S),new ne(U(S.g),U(S.h));if(K(S))return S=me(N,U(S)),new ne(U(S.g),S.h);if(N.g.length>30){if(K(N)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var k=A,D=S;D.l(N)<=0;)k=ke(k),D=ke(D);var I=Se(k,1),V=Se(D,1);for(D=Se(D,2),k=Se(k,2);!H(D);){var R=V.add(D);R.l(N)<=0&&(I=I.add(k),V=R),D=Se(D,1),k=Se(k,1)}return S=te(N,I.j(S)),new ne(I,S)}for(I=E;N.l(S)>=0;){for(k=Math.max(1,Math.floor(N.m()/S.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=g(k),R=V.j(S);K(R)||R.l(N)>0;)k-=D,V=g(k),R=V.j(S);H(V)&&(V=A),I=I.add(V),N=te(N,R)}return new ne(I,N)}a.B=function(N){return me(this,N).h},a.and=function(N){const S=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)&N.i(D);return new d(k,this.h&N.h)},a.or=function(N){const S=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)|N.i(D);return new d(k,this.h|N.h)},a.xor=function(N){const S=Math.max(this.g.length,N.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)^N.i(D);return new d(k,this.h^N.h)};function ke(N){const S=N.g.length+1,k=[];for(let D=0;D<S;D++)k[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(k,N.h)}function Se(N,S){const k=S>>5;S%=32;const D=N.g.length-k,I=[];for(let V=0;V<D;V++)I[V]=S>0?N.i(V+k)>>>S|N.i(V+k+1)<<32-S:N.i(V+k);return new d(I,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Bv=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=v,Ai=d}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qv,Jo,Hv,bd,qm,Fv,Gv,Xv;(function(){var a,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var b=0;b<u.length;++b){var x=u[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function l(u,b){if(b)e:{var x=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in x))break e;x=x[z]}u=u[u.length-1],T=x[u],b=b(T),b!=T&&b!=null&&e(x,u,{configurable:!0,writable:!0,value:b})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(b){var x=[],T;for(T in b)Object.prototype.hasOwnProperty.call(b,T)&&x.push([T,b[T]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function y(u,b,x){return u.call.apply(u.bind,arguments)}function g(u,b,x){return g=y,g.apply(null,arguments)}function v(u,b){var x=Array.prototype.slice.call(arguments,1);return function(){var T=x.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,b){function x(){}x.prototype=b.prototype,u.Z=b.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(T,z,G){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return b.prototype[z].apply(T,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const b=u.length;if(b>0){const x=Array(b);for(let T=0;T<b;T++)x[T]=u[T];return x}return[]}function H(u,b){for(let T=1;T<arguments.length;T++){const z=arguments[T];var x=typeof z;if(x=x!="object"?x:z?Array.isArray(z)?"array":x:"null",x=="array"||x=="object"&&typeof z.length=="number"){x=u.length||0;const G=z.length||0;u.length=x+G;for(let se=0;se<G;se++)u[x+se]=z[se]}else u.push(z)}}class K{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function U(u){d.setTimeout(()=>{throw u},0)}function te(){var u=N;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class ae{constructor(){this.h=this.g=null}add(b,x){const T=ne.get();T.set(b,x),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new K(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,Se=!1,N=new ae,S=()=>{const u=Promise.resolve(void 0);ke=()=>{u.then(k)}};function k(){for(var u;u=te();){try{u.h.call(u.g)}catch(x){U(x)}var b=ne;b.j(u),b.h<100&&(b.h++,u.next=b.g,b.g=u)}Se=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};d.addEventListener("test",x,b),d.removeEventListener("test",x,b)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function it(u,b){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,b)}E(it,I),it.prototype.init=function(u,b){const x=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget,b||(x=="mouseover"?b=u.fromElement:x=="mouseout"&&(b=u.toElement)),this.relatedTarget=b,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(u,b,x,T,z){this.listener=u,this.proxy=null,this.src=b,this.type=x,this.capture=!!T,this.ha=z,this.key=++Q,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,b,x){for(const T in u)b.call(x,u[T],T,u)}function qe(u,b){for(const x in u)b.call(void 0,u[x],x,u)}function O(u){const b={};for(const x in u)b[x]=u[x];return b}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,b){let x,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(x in T)u[x]=T[x];for(let G=0;G<J.length;G++)x=J[G],Object.prototype.hasOwnProperty.call(T,x)&&(u[x]=T[x])}}function de(u){this.src=u,this.g={},this.h=0}de.prototype.add=function(u,b,x,T,z){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const se=Ne(u,b,T,z);return se>-1?(b=u[se],x||(b.fa=!1)):(b=new ie(b,this.src,G,!!T,z),b.fa=x,u.push(b)),b};function ue(u,b){const x=b.type;if(x in u.g){var T=u.g[x],z=Array.prototype.indexOf.call(T,b,void 0),G;(G=z>=0)&&Array.prototype.splice.call(T,z,1),G&&(pe(b),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Ne(u,b,x,T){for(let z=0;z<u.length;++z){const G=u[z];if(!G.da&&G.listener==b&&G.capture==!!x&&G.ha==T)return z}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Mt={};function ft(u,b,x,T,z){if(Array.isArray(b)){for(let G=0;G<b.length;G++)ft(u,b[G],x,T,z);return null}return x=zi(x),u&&u[ze]?u.J(b,x,p(T)?!!T.capture:!1,z):Sr(u,b,x,!1,T,z)}function Sr(u,b,x,T,z,G){if(!b)throw Error("Invalid event type");const se=p(z)?!!z.capture:!!z;let Me=sa(u);if(Me||(u[He]=Me=new de(u)),x=Me.add(b,x,T,se,G),x.proxy)return x;if(T=or(),x.proxy=T,T.src=u,T.listener=x,u.addEventListener)V||(z=se),z===void 0&&(z=!1),u.addEventListener(b.toString(),T,z);else if(u.attachEvent)u.attachEvent(Tn(b.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return x}function or(){function u(x){return b.call(u.src,u.listener,x)}const b=Li;return u}function kr(u,b,x,T,z){if(Array.isArray(b))for(var G=0;G<b.length;G++)kr(u,b[G],x,T,z);else T=p(T)?!!T.capture:!!T,x=zi(x),u&&u[ze]?(u=u.i,G=String(b).toString(),G in u.g&&(b=u.g[G],x=Ne(b,x,T,z),x>-1&&(pe(b[x]),Array.prototype.splice.call(b,x,1),b.length==0&&(delete u.g[G],u.h--)))):u&&(u=sa(u))&&(b=u.g[b.toString()],u=-1,b&&(u=Ne(b,x,T,z)),(x=u>-1?b[u]:null)&&cr(x))}function cr(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[ze])ue(b.i,u);else{var x=u.type,T=u.proxy;b.removeEventListener?b.removeEventListener(x,T,u.capture):b.detachEvent?b.detachEvent(Tn(x),T):b.addListener&&b.removeListener&&b.removeListener(T),(x=sa(b))?(ue(x,u),x.h==0&&(x.src=null,b[He]=null)):pe(u)}}}function Tn(u){return u in Mt?Mt[u]:Mt[u]="on"+u}function Li(u,b){if(u.da)u=!0;else{b=new it(b,this);const x=u.listener,T=u.ha||u.src;u.fa&&cr(u),u=x.call(T,b)}return u}function sa(u){return u=u[He],u instanceof de?u:null}var la="__closure_events_fn_"+(Math.random()*1e9>>>0);function zi(u){return typeof u=="function"?u:(u[la]||(u[la]=function(b){return u.handleEvent(b)}),u[la])}function It(){D.call(this),this.i=new de(this),this.M=this,this.G=null}E(It,D),It.prototype[ze]=!0,It.prototype.removeEventListener=function(u,b,x,T){kr(this,u,b,x,T)};function kt(u,b){var x,T=u.G;if(T)for(x=[];T;T=T.G)x.push(T);if(u=u.M,T=b.type||b,typeof b=="string")b=new I(b,u);else if(b instanceof I)b.target=b.target||u;else{var z=b;b=new I(T,u),le(b,z)}z=!0;let G,se;if(x)for(se=x.length-1;se>=0;se--)G=b.g=x[se],z=Xn(G,T,!0,b)&&z;if(G=b.g=u,z=Xn(G,T,!0,b)&&z,z=Xn(G,T,!1,b)&&z,x)for(se=0;se<x.length;se++)G=b.g=x[se],z=Xn(G,T,!1,b)&&z}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var u=this.i;for(const b in u.g){const x=u.g[b];for(let T=0;T<x.length;T++)pe(x[T]);delete u.g[b],u.h--}}this.G=null},It.prototype.J=function(u,b,x,T){return this.i.add(String(u),b,!1,x,T)},It.prototype.K=function(u,b,x,T){return this.i.add(String(u),b,!0,x,T)};function Xn(u,b,x,T){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();let z=!0;for(let G=0;G<b.length;++G){const se=b[G];if(se&&!se.da&&se.capture==x){const Me=se.listener,Vt=se.ha||se.src;se.fa&&ue(u.i,se),z=Me.call(Vt,T)!==!1&&z}}return z&&!T.defaultPrevented}function ks(u,b){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:d.setTimeout(u,b||0)}function re(u){u.g=ks(()=>{u.g=null,u.i&&(u.i=!1,re(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class ce extends D{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Te(u){D.call(this),this.h=u,this.g={}}E(Te,D);var je=[];function De(u){Pe(u.g,function(b,x){this.g.hasOwnProperty(x)&&cr(b)},u),u.g={}}Te.prototype.N=function(){Te.Z.N.call(this),De(this)},Te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=d.JSON.stringify,nt=d.JSON.parse,vt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function sn(){}function Et(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){I.call(this,"d")}E(xe,I);function Oe(){I.call(this,"c")}E(Oe,I);var ge={},gt=null;function Nt(){return gt=gt||new It}ge.Ia="serverreachability";function Zt(u){I.call(this,ge.Ia,u)}E(Zt,I);function Rt(u){const b=Nt();kt(b,new Zt(b))}ge.STAT_EVENT="statevent";function ln(u,b){I.call(this,ge.STAT_EVENT,u),this.stat=b}E(ln,I);function jt(u){const b=Nt();kt(b,new ln(b,u))}ge.Ja="timingevent";function Nr(u,b){I.call(this,ge.Ja,u),this.size=b}E(Nr,I);function Rr(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},b)}function ur(){this.g=!0}ur.prototype.ua=function(){this.g=!1};function fh(u,b,x,T,z,G){u.info(function(){if(u.g)if(G){var se="",Me=G.split("&");for(let et=0;et<Me.length;et++){var Vt=Me[et].split("=");if(Vt.length>1){const wt=Vt[0];Vt=Vt[1];const Yn=wt.split("_");se=Yn.length>=2&&Yn[1]=="type"?se+(wt+"="+Vt+"&"):se+(wt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+b+`
`+x+`
`+se})}function Mc(u,b,x,T,z,G,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+b+`
`+x+`
`+G+" "+se})}function Cr(u,b,x,T){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+mh(u,x)+(T?" "+T:"")})}function Ui(u,b){u.info(function(){return"TIMEOUT: "+b})}ur.prototype.info=function(){};function mh(u,b){if(!u.g)return b;if(!b)return null;try{const G=JSON.parse(b);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var x=G[u];if(!(x.length<2)){var T=x[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Ae(G)}catch{return b}}var Bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kl;function qi(){}E(qi,sn),qi.prototype.g=function(){return new XMLHttpRequest},Kl=new qi;function oa(u){return encodeURIComponent(String(u))}function Vc(u){var b=1;u=u.split(":");const x=[];for(;b>0&&u.length;)x.push(u.shift()),b--;return u.length&&x.push(u.join(":")),x}function dr(u,b,x,T){this.j=u,this.i=b,this.l=x,this.S=T||1,this.V=new Te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hr}function hr(){this.i=null,this.g="",this.h=!1}var Bt={},en={};function Ir(u,b,x){u.M=1,u.A=Hi(Ht(b)),u.u=x,u.R=!0,Ns(u,null)}function Ns(u,b){u.F=Date.now(),jr(u),u.B=Ht(u.A);var x=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),js(x.i,"t",T),u.C=0,x=u.j.L,u.h=new hr,u.g=Zc(u.j,x?b:null,!u.u),u.P>0&&(u.O=new ce(g(u.Y,u,u.g),u.P)),b=u.V,x=u.g,T=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(je[0]=z.toString()),z=je);for(let G=0;G<z.length;G++){const se=ft(x,z[G],T||b.handleEvent,!1,b.h||b);if(!se)break;b.g[se.key]=se}b=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,b)):(u.v="GET",u.g.ea(u.B,u.v,null,b)),Rt(),fh(u.i,u.v,u.B,u.l,u.S,u.u)}dr.prototype.ba=function(u){u=u.target;const b=this.O;b&&pr(u)==3?b.j():this.Y(u)},dr.prototype.Y=function(u){try{if(u==this.g)e:{const Me=pr(this.g),Vt=this.g.ya(),et=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Me!=4||Vt==7||(Vt==8||et<=0?Rt(3):Rt(2)),Dr(this);var b=this.g.ca();this.X=b;var x=ph(this);if(this.o=b==200,Mc(this.i,this.v,this.B,this.l,this.S,Me,b),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var G=T;break t}}G=null}if(u=G)Cr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Or(this,u);else{this.o=!1,this.m=3,jt(12),Mn(this),Kn(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<x.length;)if(wt=Lc(this,x),wt==en){Me==4&&(this.m=4,jt(14),u=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Bt){this.m=4,jt(15),Cr(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Cr(this.i,this.l,wt,null),Or(this,wt);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||x.length!=0||this.h.h||(this.m=1,jt(16),u=!1),this.o=this.o&&u,!u)Cr(this.i,this.l,x,"[Invalid Chunked Response]"),Mn(this),Kn(this);else if(x.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),oo(se),se.P=!0,jt(11))}}else Cr(this.i,this.l,x,null),Or(this,x);Me==4&&Mn(this),this.o&&!this.K&&(Me==4?Kc(this.j,this):(this.o=!1,jr(this)))}else ua(this.g),b==400&&x.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Mn(this),Kn(this)}}}catch{}finally{}};function ph(u){if(!Pc(u))return u.g.la();const b=on(u.g);if(b==="")return"";let x="";const T=b.length,z=pr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Kn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<T;G++)u.h.h=!0,x+=u.h.i.decode(b[G],{stream:!(z&&G==T-1)});return b.length=0,u.h.g+=x,u.C=0,u.h.g}function Pc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Lc(u,b){var x=u.C,T=b.indexOf(`
`,x);return T==-1?en:(x=Number(b.substring(x,T)),isNaN(x)?Bt:(T+=1,T+x>b.length?en:(b=b.slice(T,T+x),u.C=T+x,b)))}dr.prototype.cancel=function(){this.K=!0,Mn(this)};function jr(u){u.T=Date.now()+u.H,Rs(u,u.H)}function Rs(u,b){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Rr(g(u.aa,u),b)}function Dr(u){u.D&&(d.clearTimeout(u.D),u.D=null)}dr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ui(this.i,this.B),this.M!=2&&(Rt(),jt(17)),Mn(this),this.m=2,Kn(this)):Rs(this,this.T-u)};function Kn(u){u.j.I==0||u.K||Kc(u.j,u)}function Mn(u){Dr(u);var b=u.O;b&&typeof b.dispose=="function"&&b.dispose(),u.O=null,De(u.V),u.g&&(b=u.g,u.g=null,b.abort(),b.dispose())}function Or(u,b){try{var x=u.j;if(x.I!=0&&(x.g==u||Vr(x.h,u))){if(!u.L&&Vr(x.h,u)&&x.I==3){try{var T=x.Ba.g.parse(b)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Ps(x),Ga(x);else break e;Yi(x),jt(18)}}else x.xa=z[1],0<x.xa-x.K&&z[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Rr(g(x.Va,x),6e3));Mr(x.h)<=1&&x.ta&&(x.ta=void 0)}else qr(x,11)}else if((u.L||x.g==u)&&Ps(x),!R(b))for(z=x.Ba.g.parse(b),b=0;b<z.length;b++){let et=z[b];const wt=et[0];if(!(wt<=x.K))if(x.K=wt,et=et[1],x.I==2)if(et[0]=="c"){x.M=et[1],x.ba=et[2];const Yn=et[3];Yn!=null&&(x.ka=Yn,x.j.info("VER="+x.ka));const Hr=et[4];Hr!=null&&(x.za=Hr,x.j.info("SVER="+x.za));const gr=et[5];gr!=null&&typeof gr=="number"&&gr>0&&(T=1.5*gr,x.O=T,x.j.info("backChannelRequestTimeoutMs_="+T)),T=x;const yr=u.g;if(yr){const Zi=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var G=T.h;G.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Yl(G,G.h),G.h=null))}if(T.G){const Ls=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ls&&(T.wa=Ls,st(T.J,T.G,Ls))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),T=x;var se=u;if(T.na=Yc(T,T.L?T.ba:null,T.W),se.L){Zl(T.h,se);var Me=se,Vt=T.O;Vt&&(Me.H=Vt),Me.D&&(Dr(Me),jr(Me)),T.g=se}else Gc(T);x.i.length>0&&Br(x)}else et[0]!="stop"&&et[0]!="close"||qr(x,7);else x.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?qr(x,7):so(x):et[0]!="noop"&&x.l&&x.l.qa(et),x.A=0)}}Rt(4)}catch{}}var qt=class{constructor(u,b){this.g=u,this.map=b}};function Ql(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mr(u){return u.h?1:u.g?u.g.size:0}function Vr(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function Yl(u,b){u.g?u.g.add(b):u.h=b}function Zl(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Ql.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const x of u.g.values())b=b.concat(x.G);return b}return j(u.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(u,b){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const T=u[x].indexOf("=");let z,G=null;T>=0?(z=u[x].substring(0,T),G=u[x].substring(T+1)):z=u[x],b(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;u instanceof Vn?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,La(this,u.u),this.h=u.h,Wl(this,Hc(u.i)),this.m=u.m):u&&(b=String(u).match(zc))?(this.l=!1,tn(this,b[1]||"",!0),this.o=Pr(b[2]||""),this.g=Pr(b[3]||"",!0),La(this,b[4]),this.h=Pr(b[5]||"",!0),Wl(this,b[6]||"",!0),this.m=Pr(b[7]||"")):(this.l=!1,this.i=new Ua(null,this.l))}Vn.prototype.toString=function(){const u=[];var b=this.j;b&&u.push(Fi(b,Is,!0),":");var x=this.g;return(x||b=="file")&&(u.push("//"),(b=this.o)&&u.push(Fi(b,Is,!0),"@"),u.push(oa(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Fi(x,x.charAt(0)=="/"?eo:Uc,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Fi(x,Bc)),u.join("")},Vn.prototype.resolve=function(u){const b=Ht(this);let x=!!u.j;x?tn(b,u.j):x=!!u.o,x?b.o=u.o:x=!!u.g,x?b.g=u.g:x=u.u!=null;var T=u.h;if(x)La(b,u.u);else if(x=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=b.h.lastIndexOf("/");z!=-1&&(T=b.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let se=0;se<z.length;){const Me=z[se++];Me=="."?T&&se==z.length&&G.push(""):Me==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),T&&se==z.length&&G.push("")):(G.push(Me),T=!0)}T=G.join("/")}else T=z}return x?b.h=T:x=u.i.toString()!=="",x?Wl(b,Hc(u.i)):x=!!u.m,x&&(b.m=u.m),b};function Ht(u){return new Vn(u)}function tn(u,b,x){u.j=x?Pr(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function La(u,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);u.u=b}else u.u=null}function Wl(u,b,x){b instanceof Ua?(u.i=b,Ds(u.i,u.l)):(x||(b=Fi(b,za)),u.i=new Ua(b,u.l))}function st(u,b,x){u.i.set(b,x)}function Hi(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Pr(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fi(u,b,x){return typeof u=="string"?(u=encodeURI(u).replace(b,An),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Is=/[#\/\?@]/g,Uc=/[#\?:]/g,eo=/[#\?]/g,za=/[#\?@]/g,Bc=/#/g;function Ua(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Cs(u.i,function(b,x){u.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}a=Ua.prototype,a.add=function(u,b){Sn(this),this.i=null,u=Ba(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(b),this.h+=1,this};function qc(u,b){Sn(u),b=Ba(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function to(u,b){return Sn(u),b=Ba(u,b),u.g.has(b)}a.forEach=function(u,b){Sn(this),this.g.forEach(function(x,T){x.forEach(function(z){u.call(b,z,T,this)},this)},this)};function no(u,b){Sn(u);let x=[];if(typeof b=="string")to(u,b)&&(x=x.concat(u.g.get(Ba(u,b))));else for(u=Array.from(u.g.values()),b=0;b<u.length;b++)x=x.concat(u[b]);return x}a.set=function(u,b){return Sn(this),this.i=null,u=Ba(this,u),to(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},a.get=function(u,b){return u?(u=no(this,u),u.length>0?String(u[0]):b):b};function js(u,b,x){qc(u,b),x.length>0&&(u.i=null,u.g.set(Ba(u,b),j(x)),u.h+=x.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(let T=0;T<b.length;T++){var x=b[T];const z=oa(x);x=no(this,x);for(let G=0;G<x.length;G++){let se=z;x[G]!==""&&(se+="="+oa(x[G])),u.push(se)}}return this.i=u.join("&")};function Hc(u){const b=new Ua;return b.i=u.i,u.g&&(b.g=new Map(u.g),b.h=u.h),b}function Ba(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function Ds(u,b){b&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(x,T){const z=T.toLowerCase();T!=z&&(qc(this,T),js(this,z,x))},u)),u.j=b}function fr(u,b){const x=new ur;if(d.Image){const T=new Image;T.onload=v(Qn,x,"TestLoadImage: loaded",!0,b,T),T.onerror=v(Qn,x,"TestLoadImage: error",!1,b,T),T.onabort=v(Qn,x,"TestLoadImage: abort",!1,b,T),T.ontimeout=v(Qn,x,"TestLoadImage: timeout",!1,b,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else b(!1)}function ro(u,b){const x=new ur,T=new AbortController,z=setTimeout(()=>{T.abort(),Qn(x,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(z),G.ok?Qn(x,"TestPingServer: ok",!0,b):Qn(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(z),Qn(x,"TestPingServer: error",!1,b)})}function Qn(u,b,x,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(x)}catch{}}function qa(){this.g=new vt}function Lr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Lr,sn),Lr.prototype.g=function(){return new Gi(this.i,this.h)};function Gi(u,b){It.call(this),this.H=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Gi,It),a=Gi.prototype,a.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=b,this.readyState=1,mr(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(b.body=u),(this.H||d).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Os(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Os(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?Ha(this):mr(this),this.readyState==3&&Os(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ha(this))},a.Na=function(u){this.g&&(this.response=u,Ha(this))},a.ga=function(){this.g&&Ha(this)};function Ha(u){u.readyState=4,u.l=null,u.j=null,u.B=null,mr(u)}a.setRequestHeader=function(u,b){this.A.append(u,b)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=b.next();return u.join(`\r
`)};function mr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $n(u){let b="";return Pe(u,function(x,T){b+=T,b+=":",b+=x,b+=`\r
`}),b}function Xi(u,b,x){e:{for(T in x){var T=!1;break e}T=!0}T||(x=$n(x),typeof u=="string"?x!=null&&oa(x):st(u,b,x))}function ct(u){It.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ct,It);var zr=/^https?$/i,ao=["POST","PUT"];a=ct.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,b,x,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kl.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch(G){Ki(this,G);return}if(u=x||"",x=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)x.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())x.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ao,b,void 0)>=0)||T||z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of x)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Ki(this,G)}};function Ki(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.o=5,io(u),ca(u)}function io(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,kt(this,"complete"),kt(this,"abort"),ca(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ca(this,!0)),ct.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Qi(this):this.Xa())},a.Xa=function(){Qi(this)};function Qi(u){if(u.h&&typeof c<"u"){if(u.v&&pr(u)==4)setTimeout(u.Ca.bind(u),0);else if(kt(u,"readystatechange"),pr(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var T;if(T=G===0){let se=String(u.D).match(zc)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!zr.test(se?se.toLowerCase():"")}x=T}if(x)kt(u,"complete"),kt(u,"success");else{u.o=6;try{var z=pr(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",io(u)}}finally{ca(u)}}}}function ca(u,b){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,b||kt(u,"ready");try{x.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function pr(u){return u.g?u.g.readyState:0}a.ca=function(){try{return pr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),nt(b)}};function on(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(u){const b={};u=(u.g&&pr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var x=Vc(u[T]);const z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=b[z]||[];b[z]=G,G.push(x)}qe(b,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(u,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||b}function Fa(u){this.za=0,this.i=[],this.j=new ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ur("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ur("baseRetryDelayMs",5e3,u),this.Za=Ur("retryDelaySeedMs",1e4,u),this.Ta=Ur("forwardChannelMaxRetries",2,u),this.va=Ur("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ql(u&&u.concurrentRequestLimit),this.Ba=new qa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Fa.prototype,a.ka=8,a.I=1,a.connect=function(u,b,x,T){jt(0),this.W=u,this.H=b||{},x&&T!==void 0&&(this.H.OSID=x,this.H.OAID=T),this.F=this.X,this.J=Yc(this,null,this.W),Br(this)};function so(u){if(Ms(u),u.I==3){var b=u.V++,x=Ht(u.J);if(st(x,"SID",u.M),st(x,"RID",b),st(x,"TYPE","terminate"),$i(u,x),b=new dr(u,u.j,b),b.M=2,b.A=Hi(Ht(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(b.A.toString(),"")}catch{}!x&&d.Image&&(new Image().src=b.A,x=!0),x||(b.g=Zc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),jr(b)}$c(u)}function Ga(u){u.g&&(oo(u),u.g.cancel(),u.g=null)}function Ms(u){Ga(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ps(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Br(u){if(!$l(u.h)&&!u.m){u.m=!0;var b=u.Ea;ke||S(),Se||(ke(),Se=!0),N.add(b,u),u.D=0}}function Vs(u,b){return Mr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=b.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Rr(g(u.Ea,u,b),Qc(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new dr(this,this.j,u);let G=this.o;if(this.U&&(G?(G=O(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var T=this.i[x];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(b+=T,b>4096){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Fc(this,z,b),x=Ht(this.J),st(x,"RID",u),st(x,"CVER",22),this.G&&st(x,"X-HTTP-Session-Id",this.G),$i(this,x),G&&(this.R?b="headers="+oa($n(G))+"&"+b:this.u&&Xi(x,this.u,G)),Yl(this.h,z),this.Ra&&st(x,"TYPE","init"),this.S?(st(x,"$req",b),st(x,"SID","null"),z.U=!0,Ir(z,x,null)):Ir(z,x,b),this.I=2}}else this.I==3&&(u?lo(this,u):this.i.length==0||$l(this.h)||lo(this))};function lo(u,b){var x;b?x=b.l:x=u.V++;const T=Ht(u.J);st(T,"SID",u.M),st(T,"RID",x),st(T,"AID",u.K),$i(u,T),u.u&&u.o&&Xi(T,u.u,u.o),x=new dr(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),b&&(u.i=b.G.concat(u.i)),b=Fc(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Yl(u.h,x),Ir(x,T,b)}function $i(u,b){u.H&&Pe(u.H,function(x,T){st(b,T,x)}),u.l&&Pe({},function(x,T){st(b,T,x)})}function Fc(u,b,x){x=Math.min(u.i.length,x);const T=u.l?g(u.l.Ka,u.l,u):null;e:{var z=u.i;let Me=-1;for(;;){const Vt=["count="+x];Me==-1?x>0?(Me=z[0].g,Vt.push("ofs="+Me)):Me=0:Vt.push("ofs="+Me);let et=!0;for(let wt=0;wt<x;wt++){var G=z[wt].g;const Yn=z[wt].map;if(G-=Me,G<0)Me=Math.max(0,z[wt].g-100),et=!1;else try{G="req"+G+"_"||"";try{var se=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Hr,gr]of se){let yr=gr;p(gr)&&(yr=Ae(gr)),Vt.push(G+Hr+"="+encodeURIComponent(yr))}}catch(Hr){throw Vt.push(G+"type="+encodeURIComponent("_badmap")),Hr}}catch{T&&T(Yn)}}if(et){se=Vt.join("&");break e}}se=void 0}return u=u.i.splice(0,x),b.G=u,se}function Gc(u){if(!u.g&&!u.v){u.Y=1;var b=u.Da;ke||S(),Se||(ke(),Se=!0),N.add(b,u),u.A=0}}function Yi(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Rr(g(u.Da,u),Qc(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Rr(g(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Ga(this),Xc(this))};function oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Xc(u){u.g=new dr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var b=Ht(u.na);st(b,"RID","rpc"),st(b,"SID",u.M),st(b,"AID",u.K),st(b,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(b,"TO",u.ia),st(b,"TYPE","xmlhttp"),$i(u,b),u.u&&u.o&&Xi(b,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Hi(Ht(b)),x.u=null,x.R=!0,Ns(x,u)}a.Va=function(){this.C!=null&&(this.C=null,Ga(this),Yi(this),jt(19))};function Ps(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Kc(u,b){var x=null;if(u.g==b){Ps(u),oo(u),u.g=null;var T=2}else if(Vr(u.h,b))x=b.G,Zl(u.h,b),T=1;else return;if(u.I!=0){if(b.o)if(T==1){x=b.u?b.u.length:0,b=Date.now()-b.F;var z=u.D;T=Nt(),kt(T,new Nr(T,x)),Br(u)}else Gc(u);else if(z=b.m,z==3||z==0&&b.X>0||!(T==1&&Vs(u,b)||T==2&&Yi(u)))switch(x&&x.length>0&&(b=u.h,b.i=b.i.concat(x)),z){case 1:qr(u,5);break;case 4:qr(u,10);break;case 3:qr(u,6);break;default:qr(u,2)}}}function Qc(u,b){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*b}function qr(u,b){if(u.j.info("Error code "+b),b==2){var x=g(u.bb,u),T=u.Ua;const z=!T;T=new Vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(T,"https"),Hi(T),z?fr(T.toString(),x):ro(T.toString(),x)}else jt(2);u.I=0,u.l&&u.l.pa(b),$c(u),Ms(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function $c(u){if(u.I=0,u.ja=[],u.l){const b=Jl(u.h);(b.length!=0||u.i.length!=0)&&(H(u.ja,b),H(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Yc(u,b,x){var T=x instanceof Vn?Ht(x):new Vn(x);if(T.g!="")b&&(T.g=b+"."+T.g),La(T,T.u);else{var z=d.location;T=z.protocol,b=b?b+"."+z.hostname:z.hostname,z=+z.port;const G=new Vn(null);T&&tn(G,T),b&&(G.g=b),z&&La(G,z),x&&(G.h=x),T=G}return x=u.G,b=u.wa,x&&b&&st(T,x,b),st(T,"VER",u.ka),$i(u,T),T}function Zc(u,b,x){if(b&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Aa&&!u.ma?new ct(new Lr({ab:x})):new ct(u.ma),b.Fa(u.L),b}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}a=Jc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Xa(){}Xa.prototype.g=function(u,b){return new En(u,b)};function En(u,b){It.call(this),this.g=new Fa(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(u?u["X-WebChannel-Client-Profile"]=b.sa:u={"X-WebChannel-Client-Profile":b.sa}),this.g.U=u,(u=b&&b.Qb)&&!R(u)&&(this.g.u=u),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!R(b)&&(this.g.G=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new da(this)}E(En,It),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){so(this.g)},En.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=Ae(u),u=x);b.i.push(new qt(b.Ya++,u)),b.I==3&&Br(b)},En.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,En.Z.N.call(this)};function Wc(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const x in b){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}E(Wc,xe);function eu(){Oe.call(this),this.status=1}E(eu,Oe);function da(u){this.g=u}E(da,Jc),da.prototype.ra=function(){kt(this.g,"a")},da.prototype.qa=function(u){kt(this.g,new Wc(u))},da.prototype.pa=function(u){kt(this.g,new eu)},da.prototype.oa=function(){kt(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Xv=function(){return new Xa},Gv=function(){return Nt()},Fv=ge,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,bd=Bi,Xl.COMPLETE="complete",Hv=Xl,Et.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",It.prototype.listen=It.prototype.J,Jo=Et,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,qv=ct}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",k_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new pp("@firebase/firestore");function pl(){return xs.logLevel}function he(a,...e){if(xs.logLevel<=Xe.DEBUG){const n=e.map(Sp);xs.debug(`Firestore (${Ul}): ${a}`,...n)}}function Ma(a,...e){if(xs.logLevel<=Xe.ERROR){const n=e.map(Sp);xs.error(`Firestore (${Ul}): ${a}`,...n)}}function Rl(a,...e){if(xs.logLevel<=Xe.WARN){const n=e.map(Sp);xs.warn(`Firestore (${Ul}): ${a}`,...n)}}function Sp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Kv(a,i,n)}function Kv(a,e,n){let i=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ma(i),new Error(i)}function at(a,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,a||Kv(e,l,i)}function Ie(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Pa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class UN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BN{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let i=this.i;const l=y=>this.i!==i?(i=this.i,n(y)):Promise.resolve();let c=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ia,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ia)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string",31837,{l:i}),new Qv(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class qN{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HN{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new qN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const i=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const l=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=GN(40);for(let c=0;c<l.length;++c)i.length<20&&l[c]<n&&(i+=e.charAt(l[c]%62))}return i}}function Ke(a,e){return a<e?-1:a>e?1:0}function Hm(a,e){const n=Math.min(a.length,e.length);for(let i=0;i<n;i++){const l=a.charAt(i),c=e.charAt(i);if(l!==c)return Am(l)===Am(c)?Ke(l,c):Am(l)?1:-1}return Ke(a.length,e.length)}const XN=55296,KN=57343;function Am(a){const e=a.charCodeAt(0);return e>=XN&&e<=KN}function Cl(a,e,n){return a.length===e.length&&a.every(((i,l)=>n(i,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="__name__";class $r{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const c=$r.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ke(e.length,n.length)}static compareSegments(e,n){const i=$r.isNumericId(e),l=$r.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?$r.extractNumericId(e).compare($r.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}}class yt extends $r{construct(e,n,i){return new yt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((l=>l.length>0)))}return new yt(n)}static emptyPath(){return new yt([])}}const QN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends $r{construct(e,n,i){return new mn(e,n,i)}static isValidIdentifier(e){return QN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R_}static keyField(){return new mn([R_])}static fromServerFormat(e){const n=[];let i="",l=0;const c=()=>{if(i.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(i+=p,l++):(c(),l++)}if(c(),d)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(yt.fromString(e))}static fromName(e){return new _e(yt.fromString(e).popFirst(5))}static empty(){return new _e(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(a,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function $N(a,e,n,i){if(e===!0&&i===!0)throw new oe(Z.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function C_(a){if(!_e.isDocumentKey(a))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function I_(a){if(_e.isDocumentKey(a))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Yv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Jd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":we(12329,{type:typeof a})}function na(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(a);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(a,e){const n={typeString:a};return e&&(n.value=e),n}function Nc(a,e){if(!Yv(a))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in a)){n=`JSON missing required field: '${i}'`;break}const d=a[i];if(l&&typeof d!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,D_=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*D_);return new xt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j_)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Yt("string",xt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new xt(0,0))}static max(){return new Re(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function YN(a,e){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(i===1e9?new xt(n+1,0):new xt(n,i));return new ki(l,_e.empty(),e)}function ZN(a){return new ki(a.readTime,a.key,hc)}class ki{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ki(Re.min(),_e.empty(),hc)}static max(){return new ki(Re.max(),_e.empty(),hc)}}function JN(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(a.documentKey,e.documentKey),n!==0?n:Ke(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==WN)throw a;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((i,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,i)=>{n(e)}))}static reject(e){return new ee(((n,i)=>{i(e)}))}static waitFor(e){return new ee(((n,i)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(y=>i(y)))})),d=!0,c===l&&n()}))}static or(e){let n=ee.resolve(!1);for(const i of e)n=n.next((l=>l?ee.resolve(l):i()));return n}static forEach(e,n){const i=[];return e.forEach(((l,c)=>{i.push(n.call(this,l,c))})),this.waitFor(i)}static mapArray(e,n){return new ee(((i,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const g=y;n(e[g]).next((v=>{d[g]=v,++p,p===c&&i(d)}),(v=>l(v)))}}))}static doWhile(e,n){return new ee(((i,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):i()};c()}))}}function tR(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function eh(a){return a==null}function Dd(a){return a===0&&1/a==-1/0}function nR(a){return typeof a=="number"&&Number.isInteger(a)&&!Dd(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="";function rR(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=O_(e)),e=aR(a.get(n),e);return O_(e)}function aR(a,e){let n=e;const i=a.length;for(let l=0;l<i;l++){const c=a.charAt(l);switch(c){case"\0":n+="";break;case Zv:n+="";break;default:n+=c}}return n}function O_(a){return a+Zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Mi(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function Jv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,i,l,c){this.key=e,this.value=n,this.color=i??fn.RED,this.left=l??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,c){return new fn(e??this.key,n??this.value,i??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const c=i(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,i),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return fn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,l,c){return this}insert(e,n,i){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Wt(mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Wv("Invalid base64 string: "+c):c}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(a){if(at(!!a,39018),typeof a=="string"){let e=0;const n=iR.exec(a);if(at(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(a.seconds),nanos:zt(a.nanos)}}function zt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ri(a){return typeof a=="string"?pn.fromBase64String(a):pn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="server_timestamp",t1="__type__",n1="__previous_value__",r1="__local_write_time__";function Rp(a){var n,i;return((i=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[t1])==null?void 0:i.stringValue)===e1}function th(a){const e=a.mapValue.fields[n1];return Rp(e)?th(e):e}function fc(a){const e=Ni(a.mapValue.fields[r1].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,i,l,c,d,p,y,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=v}}const Od="(default)";class mc{constructor(e,n){this.projectId=e,this.database=n||Od}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Od}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="__type__",lR="__max__",od={mapValue:{}},i1="__vector__",Md="value";function Ci(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Rp(a)?4:cR(a)?9007199254740991:oR(a)?10:11:we(28295,{value:a})}function ra(a,e){if(a===e)return!0;const n=Ci(a);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return fc(a).isEqual(fc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ni(l.timestampValue),p=Ni(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,c){return Ri(l.bytesValue).isEqual(Ri(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,c){return zt(l.geoPointValue.latitude)===zt(c.geoPointValue.latitude)&&zt(l.geoPointValue.longitude)===zt(c.geoPointValue.longitude)})(a,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return zt(l.integerValue)===zt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=zt(l.doubleValue),p=zt(c.doubleValue);return d===p?Dd(d)===Dd(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return Cl(a.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(M_(d)!==M_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ra(d[y],p[y])))return!1;return!0})(a,e);default:return we(52216,{left:a})}}function pc(a,e){return(a.values||[]).find((n=>ra(n,e)))!==void 0}function Il(a,e){if(a===e)return 0;const n=Ci(a),i=Ci(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=zt(c.integerValue||c.doubleValue),y=zt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,e);case 3:return P_(a.timestampValue,e.timestampValue);case 4:return P_(fc(a),fc(e));case 5:return Hm(a.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ri(c),y=Ri(d);return p.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const v=Ke(p[g],y[g]);if(v!==0)return v}return Ke(p.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ke(zt(c.latitude),zt(d.latitude));return p!==0?p:Ke(zt(c.longitude),zt(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return L_(a.arrayValue,e.arrayValue);case 10:return(function(c,d){var A,j,H,K;const p=c.fields||{},y=d.fields||{},g=(A=p[Md])==null?void 0:A.arrayValue,v=(j=y[Md])==null?void 0:j.arrayValue,E=Ke(((H=g==null?void 0:g.values)==null?void 0:H.length)||0,((K=v==null?void 0:v.values)==null?void 0:K.length)||0);return E!==0?E:L_(g,v)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===od.mapValue&&d===od.mapValue)return 0;if(c===od.mapValue)return 1;if(d===od.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),g=d.fields||{},v=Object.keys(g);y.sort(),v.sort();for(let E=0;E<y.length&&E<v.length;++E){const A=Hm(y[E],v[E]);if(A!==0)return A;const j=Il(p[y[E]],g[v[E]]);if(j!==0)return j}return Ke(y.length,v.length)})(a.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function P_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ke(a,e);const n=Ni(a),i=Ni(e),l=Ke(n.seconds,i.seconds);return l!==0?l:Ke(n.nanos,i.nanos)}function L_(a,e){const n=a.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const c=Il(n[l],i[l]);if(c)return c}return Ke(n.length,i.length)}function jl(a){return Fm(a)}function Fm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const i=Ni(n);return`time(${i.seconds},${i.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Ri(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return _e.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let i="[",l=!0;for(const c of n.values||[])l?l=!1:i+=",",i+=Fm(c);return i+"]"})(a.arrayValue):"mapValue"in a?(function(n){const i=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of i)c?c=!1:l+=",",l+=`${d}:${Fm(n.fields[d])}`;return l+"}"})(a.mapValue):we(61005,{value:a})}function _d(a){switch(Ci(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=th(a);return e?16+_d(e):16;case 5:return 2*a.stringValue.length;case 6:return Ri(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((l,c)=>l+_d(c)),0)})(a.arrayValue);case 10:case 11:return(function(i){let l=0;return Mi(i.fields,((c,d)=>{l+=c.length+_d(d)})),l})(a.mapValue);default:throw we(13486,{value:a})}}function z_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Gm(a){return!!a&&"integerValue"in a}function Cp(a){return!!a&&"arrayValue"in a}function U_(a){return!!a&&"nullValue"in a}function B_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xd(a){return!!a&&"mapValue"in a}function oR(a){var n,i;return((i=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[a1])==null?void 0:i.stringValue)===i1}function ac(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Mi(a.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ac(i))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(a.arrayValue.values[n]);return e}return{...a}}function cR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=mn.emptyPath(),i={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,i,l),i={},l=[],n=p.popLast()}d?i[p.lastSegment()]=ac(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,l)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];xd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){Mi(n,((l,c)=>e[l]=c));for(const l of i)delete e[l]}clone(){return new Dn(ac(this.value))}}function s1(a){const e=[];return Mi(a.fields,((n,i)=>{const l=new mn([n]);if(xd(i)){const c=s1(i.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,i,l,c,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new _n(e,0,Re.min(),Re.min(),Re.min(),Dn.empty(),0)}static newFoundDocument(e,n,i,l){return new _n(e,1,n,Re.min(),i,l,0)}static newNoDocument(e,n){return new _n(e,2,n,Re.min(),Re.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Re.min(),Re.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.position=e,this.inclusive=n}}function q_(a,e,n){let i=0;for(let l=0;l<a.position.length;l++){const c=e[l],d=a.position[l];if(c.field.isKeyField()?i=_e.comparator(_e.fromName(d.referenceValue),n.key):i=Il(d,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function H_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ra(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function uR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{}class $t extends l1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new hR(e,n,i):n==="array-contains"?new pR(e,i):n==="in"?new gR(e,i):n==="not-in"?new yR(e,i):n==="array-contains-any"?new bR(e,i):new $t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new fR(e,i):new mR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends l1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Tr(e,n)}matches(e){return o1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o1(a){return a.op==="and"}function c1(a){return dR(a)&&o1(a)}function dR(a){for(const e of a.filters)if(e instanceof Tr)return!1;return!0}function Xm(a){if(a instanceof $t)return a.field.canonicalString()+a.op.toString()+jl(a.value);if(c1(a))return a.filters.map((e=>Xm(e))).join(",");{const e=a.filters.map((n=>Xm(n))).join(",");return`${a.op}(${e})`}}function u1(a,e){return a instanceof $t?(function(i,l){return l instanceof $t&&i.op===l.op&&i.field.isEqual(l.field)&&ra(i.value,l.value)})(a,e):a instanceof Tr?(function(i,l){return l instanceof Tr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce(((c,d,p)=>c&&u1(d,l.filters[p])),!0):!1})(a,e):void we(19439)}function d1(a){return a instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`})(a):a instanceof Tr?(function(n){return n.op.toString()+" {"+n.getFilters().map(d1).join(" ,")+"}"})(a):"Filter"}class hR extends $t{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class fR extends $t{constructor(e,n){super(e,"in",n),this.keys=h1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mR extends $t{constructor(e,n){super(e,"not-in",n),this.keys=h1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function h1(a,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>_e.fromName(i.referenceValue)))}class pR extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&pc(n.arrayValue,this.value)}}class gR extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class yR extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class bR extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>pc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n=null,i=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function F_(a,e=null,n=[],i=[],l=null,c=null,d=null){return new _R(a,e,n,i,l,c,d)}function Ip(a){const e=Ie(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Xm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>jl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>jl(i))).join(",")),e.Te=n}return e.Te}function jp(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!uR(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!u1(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!H_(a.startAt,e.startAt)&&H_(a.endAt,e.endAt)}function Km(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n=null,i=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xR(a,e,n,i,l,c,d,p){return new Hl(a,e,n,i,l,c,d,p)}function Dp(a){return new Hl(a)}function G_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function f1(a){return a.collectionGroup!==null}function ic(a){const e=Ie(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Wt(mn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gc(c,i))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new gc(mn.keyField(),i))}return e.Ie}function Jr(a){const e=Ie(a);return e.Ee||(e.Ee=vR(e,ic(a))),e.Ee}function vR(a,e){if(a.limitType==="F")return F_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new gc(l.field,c)}));const n=a.endAt?new Vd(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new Vd(a.startAt.position,a.startAt.inclusive):null;return F_(a.path,a.collectionGroup,e,a.filters,a.limit,n,i)}}function Qm(a,e){const n=a.filters.concat([e]);return new Hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function Pd(a,e,n){return new Hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function nh(a,e){return jp(Jr(a),Jr(e))&&a.limitType===e.limitType}function m1(a){return`${Ip(Jr(a))}|lt:${a.limitType}`}function gl(a){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((l=>d1(l))).join(", ")}]`),eh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((l=>jl(l))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((l=>jl(l))).join(",")),`Target(${i})`})(Jr(a))}; limitType=${a.limitType})`}function rh(a,e){return e.isFoundDocument()&&(function(i,l){const c=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):_e.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(a,e)&&(function(i,l){for(const c of ic(i))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(i,l){for(const c of i.filters)if(!c.matches(l))return!1;return!0})(a,e)&&(function(i,l){return!(i.startAt&&!(function(d,p,y){const g=q_(d,p,y);return d.inclusive?g<=0:g<0})(i.startAt,ic(i),l)||i.endAt&&!(function(d,p,y){const g=q_(d,p,y);return d.inclusive?g>=0:g>0})(i.endAt,ic(i),l))})(a,e)}function ER(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function p1(a){return(e,n)=>{let i=!1;for(const l of ic(a)){const c=wR(l,e,n);if(c!==0)return c;i=i||l.field.isKeyField()}return 0}}function wR(a,e,n){const i=a.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,d,p){const y=d.data.field(c),g=p.data.field(c);return y!==null&&g!==null?Il(y,g):we(42886)})(a.field,e,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,c]of i)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,((n,i)=>{for(const[l,c]of i)e(l,c)}))}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Ct(_e.comparator);function Va(){return TR}const g1=new Ct(_e.comparator);function Wo(...a){let e=g1;for(const n of a)e=e.insert(n.key,n);return e}function y1(a){let e=g1;return a.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ms(){return sc()}function b1(){return sc()}function sc(){return new As((a=>a.toString()),((a,e)=>a.isEqual(e)))}const AR=new Ct(_e.comparator),SR=new Wt(_e.comparator);function Qe(...a){let e=SR;for(const n of a)e=e.add(n);return e}const kR=new Wt(Ke);function NR(){return kR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function _1(a){return{integerValue:""+a}}function RR(a,e){return nR(e)?_1(e):Op(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function CR(a,e,n){return a instanceof Ld?(function(l,c){const d={fields:{[t1]:{stringValue:e1},[r1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rp(c)&&(c=th(c)),c&&(d.fields[n1]=c),{mapValue:d}})(n,e):a instanceof yc?v1(a,e):a instanceof bc?E1(a,e):(function(l,c){const d=x1(l,c),p=X_(d)+X_(l.Ae);return Gm(d)&&Gm(l.Ae)?_1(p):Op(l.serializer,p)})(a,e)}function IR(a,e,n){return a instanceof yc?v1(a,e):a instanceof bc?E1(a,e):n}function x1(a,e){return a instanceof zd?(function(i){return Gm(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Ld extends ah{}class yc extends ah{constructor(e){super(),this.elements=e}}function v1(a,e){const n=w1(e);for(const i of a.elements)n.some((l=>ra(l,i)))||n.push(i);return{arrayValue:{values:n}}}class bc extends ah{constructor(e){super(),this.elements=e}}function E1(a,e){let n=w1(e);for(const i of a.elements)n=n.filter((l=>!ra(l,i)));return{arrayValue:{values:n}}}class zd extends ah{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X_(a){return zt(a.integerValue||a.doubleValue)}function w1(a){return Cp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function jR(a,e){return a.field.isEqual(e.field)&&(function(i,l){return i instanceof yc&&l instanceof yc||i instanceof bc&&l instanceof bc?Cl(i.elements,l.elements,ra):i instanceof zd&&l instanceof zd?ra(i.Ae,l.Ae):i instanceof Ld&&l instanceof Ld})(a.transform,e.transform)}class DR{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vd(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ih{}function T1(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Mp(a.key,Er.none()):new Rc(a.key,a.data,Er.none());{const n=a.data,i=Dn.empty();let l=new Wt(mn.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?i.delete(c):i.set(c,d),l=l.add(c)}return new Vi(a.key,i,new Gn(l.toArray()),Er.none())}}function OR(a,e,n){a instanceof Rc?(function(l,c,d){const p=l.value.clone(),y=Q_(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,n):a instanceof Vi?(function(l,c,d){if(!vd(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Q_(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(A1(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function lc(a,e,n,i){return a instanceof Rc?(function(c,d,p,y){if(!vd(c.precondition,d))return p;const g=c.value.clone(),v=$_(c.fieldTransforms,y,d);return g.setAll(v),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(a,e,n,i):a instanceof Vi?(function(c,d,p,y){if(!vd(c.precondition,d))return p;const g=$_(c.fieldTransforms,y,d),v=d.data;return v.setAll(A1(c)),v.setAll(g),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(a,e,n,i):(function(c,d,p){return vd(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,n)}function MR(a,e){let n=null;for(const i of a.fieldTransforms){const l=e.data.field(i.field),c=x1(i.transform,l||null);c!=null&&(n===null&&(n=Dn.empty()),n.set(i.field,c))}return n||null}function K_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Cl(i,l,((c,d)=>jR(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Rc extends ih{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Vi extends ih{constructor(e,n,i,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function A1(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=a.data.field(n);e.set(n,i)}})),e}function Q_(a,e,n){const i=new Map;at(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let l=0;l<n.length;l++){const c=a[l],d=c.transform,p=e.data.field(c.field);i.set(c.field,IR(d,p,n[l]))}return i}function $_(a,e,n){const i=new Map;for(const l of a){const c=l.transform,d=n.data.field(l.field);i.set(l.field,CR(c,d,e))}return i}class Mp extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&OR(c,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=b1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const y=T1(d,p);y!==null&&i.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,i)=>K_(n,i)))&&Cl(this.baseMutations,e.baseMutations,((n,i)=>K_(n,i)))}}class Vp{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){at(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let l=(function(){return AR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,i[d].version);return new Vp(e,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Ze;function UR(a){switch(a){case Z.OK:return we(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we(15467,{code:a})}}function S1(a){if(a===void 0)return Ma("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Qt.OK:return Z.OK;case Qt.CANCELLED:return Z.CANCELLED;case Qt.UNKNOWN:return Z.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return Z.INTERNAL;case Qt.UNAVAILABLE:return Z.UNAVAILABLE;case Qt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Qt.NOT_FOUND:return Z.NOT_FOUND;case Qt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Qt.ABORTED:return Z.ABORTED;case Qt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Qt.DATA_LOSS:return Z.DATA_LOSS;default:return we(39323,{code:a})}}(Ze=Qt||(Qt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Ai([4294967295,4294967295],0);function Y_(a){const e=BR().encode(a),n=new Bv;return n.update(e),new Uint8Array(n.digest())}function Z_(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ai([n,i],0),new Ai([l,c],0)]}class Pp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(i<0)throw new ec(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ai.fromNumber(this.ge)}ye(e,n,i){let l=e.add(n.multiply(Ai.fromNumber(i)));return l.compare(qR)===1&&(l=new Ai([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y_(e),[i,l]=Z_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(i,l,c);if(!this.we(d))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Pp(c,l,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=Y_(e),[i,l]=Z_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(i,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,i,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new sh(Re.min(),l,new Ct(Ke),Va(),Qe())}}class Cc{constructor(e,n,i,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Cc(i,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,i,l){this.be=e,this.removedTargetIds=n,this.key=i,this.De=l}}class k1{constructor(e,n){this.targetId=e,this.Ce=n}}class N1{constructor(e,n,i=pn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),i=Qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:we(38017,{changeType:c})}})),new Cc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Va(),this.Je=cd(),this.He=cd(),this.Ye=new Ct(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,i=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Km(c))if(i===0){const d=new _e(c.path);this.et(n,d,_n.newNoDocument(d,Re.min()))}else at(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=Ri(i).toUint8Array()}catch(y){if(y instanceof Wv)return Rl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Pp(d,l,c)}catch(y){return Rl(y instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let l=0;return i.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Km(p.target)){const y=new _e(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,_n.newNoDocument(y,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let i=Qe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new sh(e,n,this.Ye,this.je,i);return this.je=Va(),this.Je=cd(),this.He=cd(),this.Ye=new Ct(Ke),l}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new J_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new Ct(_e.comparator)}function W_(){return new Ct(_e.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},GR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class KR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(a,e){return a.useProto3Json||eh(e)?e:{value:e}}function Ud(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R1(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function QR(a,e){return Ud(a,e.toTimestamp())}function Wr(a){return at(!!a,49232),Re.fromTimestamp((function(n){const i=Ni(n);return new xt(i.seconds,i.nanos)})(a))}function Lp(a,e){return Ym(a,e).canonicalString()}function Ym(a,e){const n=(function(l){return new yt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?n:n.child(e)}function C1(a){const e=yt.fromString(a);return at(M1(e),10190,{key:e.toString()}),e}function Zm(a,e){return Lp(a.databaseId,e.path)}function Sm(a,e){const n=C1(e);if(n.get(1)!==a.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new _e(j1(n))}function I1(a,e){return Lp(a.databaseId,e)}function $R(a){const e=C1(a);return e.length===4?yt.emptyPath():j1(e)}function Jm(a){return new yt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function j1(a){return at(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function ex(a,e,n){return{name:Zm(a,e),fields:n.value.mapValue.fields}}function YR(a,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(g,v){return g.useProto3Json?(at(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(at(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(g){const v=g.code===void 0?Z.UNKNOWN:S1(g.code);return new oe(v,g.message||"")})(d);n=new N1(i,l,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Sm(a,i.document.name),c=Wr(i.document.updateTime),d=i.document.createTime?Wr(i.document.createTime):Re.min(),p=new Dn({mapValue:{fields:i.document.fields}}),y=_n.newFoundDocument(l,c,d,p),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Ed(g,v,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Sm(a,i.document),c=i.readTime?Wr(i.readTime):Re.min(),d=_n.newNoDocument(l,c),p=i.removedTargetIds||[];n=new Ed([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Sm(a,i.document),c=i.removedTargetIds||[];n=new Ed([],c,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:c}=i,d=new zR(l,c),p=i.targetId;n=new k1(p,d)}}return n}function ZR(a,e){let n;if(e instanceof Rc)n={update:ex(a,e.key,e.value)};else if(e instanceof Mp)n={delete:Zm(a,e.key)};else if(e instanceof Vi)n={update:ex(a,e.key,e.data),updateMask:sC(e.fieldMask)};else{if(!(e instanceof VR))return we(16599,{Vt:e.type});n={verify:Zm(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,d){const p=d.transform;if(p instanceof Ld)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof zd)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:QR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(a,e.precondition)),n}function JR(a,e){return a&&a.length>0?(at(e!==void 0,14353),a.map((n=>(function(l,c){let d=l.updateTime?Wr(l.updateTime):Wr(c);return d.isEqual(Re.min())&&(d=Wr(c)),new DR(d,l.transformResults||[])})(n,e)))):[]}function WR(a,e){return{documents:[I1(a,e.path)]}}function eC(a,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=I1(a,l);const c=(function(g){if(g.length!==0)return O1(Tr.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:yl(A.field),direction:rC(A.dir)}})(v)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=$m(a,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function tC(a){let e=$R(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){at(i===1,65062);const v=n.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let c=[];n.where&&(c=(function(E){const A=D1(E);return A instanceof Tr&&c1(A)?A.getFilters():[A]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((A=>(function(H){return new gc(bl(H.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,eh(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(E){const A=!!E.before,j=E.values||[];return new Vd(j,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const A=!E.before,j=E.values||[];return new Vd(j,A)})(n.endAt)),xR(e,l,d,c,p,"F",y,g)}function nC(a,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D1(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=bl(n.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=bl(n.unaryFilter.field);return $t.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bl(n.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bl(n.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(a):a.fieldFilter!==void 0?(function(n){return $t.create(bl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return Tr.create(n.compositeFilter.filters.map((i=>D1(i))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(a):we(30097,{filter:a})}function rC(a){return FR[a]}function aC(a){return GR[a]}function iC(a){return XR[a]}function yl(a){return{fieldPath:a.canonicalString()}}function bl(a){return mn.fromServerFormat(a.fieldPath)}function O1(a){return a instanceof $t?(function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NAN"}};if(U_(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NAN"}};if(U_(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(n.field),op:aC(n.op),value:n.value}}})(a):a instanceof Tr?(function(n){const i=n.getFilters().map((l=>O1(l)));return i.length===1?i[0]:{compositeFilter:{op:iC(n.op),filters:i}}})(a):we(54877,{filter:a})}function sC(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function M1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,i,l,c=Re.min(),d=Re.min(),p=pn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.yt=e}}function oC(a){const e=tC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.Cn=new uC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ki.min())}updateCollectionGroup(e,n,i){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class uC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new Wt(yt.comparator),c=!l.has(i);return this.index[n]=l.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},V1=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(V1,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dl(0)}static cr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="LruGarbageCollector",dC=1048576;function rx([a,e],[n,i]){const l=Ke(a,n);return l===0?Ke(e,i):l}class hC{constructor(e){this.Ir=e,this.buffer=new Wt(rx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();rx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(nx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?he(nx,"Ignoring IndexedDB error during garbage collection: ",n):await Bl(n)}await this.Vr(3e5)}))}}class mC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Wd.ce);const i=new hC(n);return this.mr.forEachTarget(e,(l=>i.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>i.Ar(l))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(tx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,l,c,d,p,y,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,y=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(g=Date.now(),pl()<=Xe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${E} documents in `+(g-y)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function pC(a,e){return new mC(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.changes=new As((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ee.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(i=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(i!==null&&lc(i.mutation,l,Gn.empty(),xt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Qe()){const l=ms();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,i).next((c=>{let d=Wo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=ms();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Qe())))}populateOverlays(e,n,i){const l=[];return i.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,l){let c=Va();const d=sc(),p=(function(){return sc()})();return n.forEach(((y,g)=>{const v=i.get(g.key);l.has(g.key)&&(v===void 0||v.mutation instanceof Vi)?c=c.insert(g.key,g):v!==void 0?(d.set(g.key,v.mutation.getFieldMask()),lc(v.mutation,g,v.mutation.getFieldMask(),xt.now())):d.set(g.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((g,v)=>d.set(g,v))),n.forEach(((g,v)=>p.set(g,new yC(v,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=sc();let l=new Ct(((d,p)=>d-p)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let v=i.get(y)||Gn.empty();v=p.applyToLocalView(g,v),i.set(y,v);const E=(l.get(p.batchId)||Qe()).add(y);l=l.insert(p.batchId,E)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,v=y.value,E=b1();v.forEach((A=>{if(!c.has(A)){const j=T1(n.get(A),i.get(A));j!==null&&E.set(A,j),c=c.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ee.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-c.size):ee.resolve(ms());let p=hc,y=c;return d.next((g=>ee.forEach(g,((v,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{y=y.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,y,g,Qe()))).next((v=>({batchId:p,changes:y1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((i=>{let l=Wo();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const c=n.collectionGroup;let d=Wo();return this.indexManager.getCollectionParents(e,c).next((p=>ee.forEach(p,(y=>{const g=(function(E,A){return new Hl(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,i,l).next((v=>{v.forEach(((E,A)=>{d=d.insert(E,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,l)))).next((d=>{c.forEach(((y,g)=>{const v=g.getKey();d.get(v)===null&&(d=d.insert(v,_n.newInvalidDocument(v)))}));let p=Wo();return d.forEach(((y,g)=>{const v=c.get(y);v!==void 0&&lc(v.mutation,g,Gn.empty(),xt.now()),rh(n,g)&&(p=p.insert(y,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Wr(l.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:oC(l.bundledQuery),readTime:Wr(l.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.overlays=new Ct(_e.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ms();return ee.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&i.set(l,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((l,c)=>{this.St(e,n,c)})),ee.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.qr.get(i);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),ee.resolve()}getOverlaysForCollection(e,n,i){const l=ms(),c=n.length+1,d=new _e(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>i&&l.set(y.getKey(),y)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let c=new Ct(((g,v)=>g-v));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=c.get(g.largestBatchId);v===null&&(v=ms(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ms(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,v)=>p.set(g,v))),!(p.size()>=l)););return ee.resolve(p)}St(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(i.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new LR(n,i));let c=this.qr.get(n);c===void 0&&(c=Qe(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Qr=new Wt(rn.$r),this.Ur=new Wt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new rn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new rn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new _e(new yt([])),i=new rn(n,e),l=new rn(n,e+1),c=[];return this.Ur.forEachInRange([i,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new yt([])),i=new rn(n,e),l=new rn(n,e+1);let c=Qe();return this.Ur.forEachInRange([i,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new rn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(rn.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PR(c,n,i,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new rn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.ei(i),c=l<0?0:l;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Np:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new rn(n,0),l=new rn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Wt(Ke);return n.forEach((l=>{const c=new rn(l,0),d=new rn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{i=i.add(p.Yr)}))})),ee.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let c=i;_e.isDocumentKey(c)||(c=c.child(""));const d=new rn(new _e(c),0);let p=new Wt(Ke);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!i.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Yr)),!0)}),d),ee.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const l=this.Xr(i);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ee.forEach(n.mutations,(l=>{const c=new rn(l.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new rn(n,0),l=this.Zr.firstAfterOrEqual(i);return ee.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.ri=e,this.docs=(function(){return new Ct(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ee.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let i=Va();return n.forEach((l=>{const c=this.docs.get(l);i=i.insert(l,c?c.document.mutableCopy():_n.newInvalidDocument(l))})),ee.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let c=Va();const d=n.path,p=new _e(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:v}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||JN(ZN(v),i)<=0||(l.has(v.key)||rh(n,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,n,i,l){we(9500)}ii(e,n){return ee.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new TC(this)}getSize(e){return ee.resolve(this.size)}}class TC extends gC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(i)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.persistence=e,this.si=new As((n=>Ip(n)),jp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new zp,this.targetCount=0,this.ai=Dl.ur()}forEachTarget(e,n){return this.si.forEach(((i,l)=>n(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,i){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ee.waitFor(c).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ee.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ee.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),ee.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ee.resolve(i)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wd(0),this.li=!1,this.li=!0,this.hi=new vC,this.referenceDelegate=e(this),this.Pi=new AC(this),this.indexManager=new cC,this.remoteDocumentCache=(function(l){return new wC(l)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new lC(n),this.Ii=new _C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new EC(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const l=new SC(this.ci.next());return this.referenceDelegate.Ei(),i(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return ee.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class SC extends eR{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Ri=new zp,this.Vi=null}static mi(e){return new Up(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ee.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(i=>{const l=_e.fromPath(i);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bd{constructor(e,n){this.persistence=e,this.pi=new As((i=>rR(i.path)),((i,l)=>i.isEqual(l))),this.garbageCollector=pC(this,n)}static mi(e,n){return new Bd(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((l=>i+l))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((i,l)=>this.br(e,i,l).next((c=>c?ee.resolve():n(l)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(i++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_d(e.data.value)),n}br(e,n,i){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ee.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=l}static As(e,n){let i=Qe(),l=Qe();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bp(e,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aS()?8:tR(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,i).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new kC;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,i,l){return i.documentReadCount<this.fs?(pl()<=Xe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(pl()<=Xe.DEBUG&&he("QueryEngine","Query:",gl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.gs*l?(pl()<=Xe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):ee.resolve())}ys(e,n){if(G_(n))return ee.resolve(null);let i=Jr(n);return this.indexManager.getIndexType(e,i).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Pd(n,null,"F"),i=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((y=>{const g=this.Ds(n,p);return this.Cs(n,g,d,y.readTime)?this.ys(e,Pd(n,null,"F")):this.vs(e,g,n,y)}))))})))))}ws(e,n,i,l){return G_(n)||l.isEqual(Re.min())?ee.resolve(null):this.ps.getDocuments(e,i).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,i,l)?ee.resolve(null):(pl()<=Xe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gl(n)),this.vs(e,d,n,YN(l,hc)).next((p=>p)))}))}Ds(e,n){let i=new Wt(p1(e));return n.forEach(((l,c)=>{rh(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,i){return pl()<=Xe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",gl(n)),this.ps.getDocumentsMatchingQuery(e,n,ki.min(),i)}vs(e,n,i,l){return this.ps.getDocumentsMatchingQuery(e,i,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",RC=3e8;class CC{constructor(e,n,i,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Ct(Ke),this.xs=new As((c=>Ip(c)),jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function IC(a,e,n,i){return new CC(a,e,n,i)}async function L1(a,e){const n=Ie(a);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const d=[],p=[];let y=Qe();for(const g of l){d.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}for(const g of c){p.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}return n.localDocuments.getDocuments(i,y).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function jC(a,e){const n=Ie(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,v){const E=g.batch,A=E.keys();let j=ee.resolve();return A.forEach((H=>{j=j.next((()=>v.getEntry(y,H))).next((K=>{const U=g.docVersions.get(H);at(U!==null,48541),K.version.compareTo(U)<0&&(E.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(y,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let y=Qe();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(i,l)))}))}function z1(a){const e=Ie(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function DC(a,e){const n=Ie(a),i=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((v,E)=>{const A=l.get(E);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,v.addedDocuments,E))));let j=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(pn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(v.resumeToken,i)),l=l.insert(E,j),(function(K,U,te){return K.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=RC?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(A,j,v)&&p.push(n.Pi.updateTargetData(c,j))}));let y=Va(),g=Qe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,v))})),p.push(OC(c,d,e.documentUpdates).next((v=>{y=v.ks,g=v.qs}))),!i.isEqual(Re.min())){const v=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(v)}return ee.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,g))).next((()=>y))})).then((c=>(n.Ms=l,c)))}function OC(a,e,n){let i=Qe(),l=Qe();return n.forEach((c=>i=i.add(c))),e.getEntries(a,i).next((c=>{let d=Va();return n.forEach(((p,y)=>{const g=c.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):he(qp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function MC(a,e){const n=Ie(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function VC(a,e){const n=Ie(a);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let l;return n.Pi.getTargetData(i,e).next((c=>c?(l=c,ee.resolve(l)):n.Pi.allocateTargetId(i).next((d=>(l=new vi(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,l).next((()=>l)))))))})).then((i=>{const l=n.Ms.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Wm(a,e,n){const i=Ie(a),l=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(d=>i.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ql(d))throw d;he(qp,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Ms=i.Ms.remove(e),i.xs.delete(l.target)}function ax(a,e,n){const i=Ie(a);let l=Re.min(),c=Qe();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,g,v){const E=Ie(y),A=E.xs.get(v);return A!==void 0?ee.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)})(i,d,Jr(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>i.Fs.getDocumentsMatchingQuery(d,e,n?l:Re.min(),n?c:Qe()))).next((p=>(PC(i,ER(e),p),{documents:p,Qs:c})))))}function PC(a,e,n){let i=a.Os.get(e)||Re.min();n.forEach(((l,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),a.Os.set(e,i)}class ix{constructor(){this.activeTargetIds=NR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LC{constructor(){this.Mo=new ix,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ix,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="ConnectivityMonitor";class lx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(sx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(sx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function ep(){return ud===null?ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${l}`,this.Wo=this.databaseId.database===Od?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Go(e,n,i,l,c){const d=ep(),p=this.zo(e,n.toUriEncodedString());he(km,`Sending RPC '${e}' ${d}:`,p,i);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:g}=new URL(p),v=Pl(g);return this.Jo(e,p,y,i,v).then((E=>(he(km,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Rl(km,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,n,i,l,c,d){return this.Go(e,n,i,l,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),i&&i.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const i=UC[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class HC extends BC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,l,c){const d=ep();return new Promise(((p,y)=>{const g=new qv;g.setWithCredentials(!0),g.listenOnce(Hv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bd.NO_ERROR:const E=g.getResponseJson();he(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case bd.TIMEOUT:he(yn,`RPC '${e}' ${d} timed out`),y(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const A=g.getStatus();if(he(yn,`RPC '${e}' ${d} failed with status:`,A,"response text:",g.getResponseText()),A>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const H=j==null?void 0:j.error;if(H&&H.status&&H.message){const K=(function(te){const ae=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ae)>=0?ae:Z.UNKNOWN})(H.status);y(new oe(K,H.message))}else y(new oe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(yn,`RPC '${e}' ${d} completed.`)}}));const v=JSON.stringify(l);he(yn,`RPC '${e}' ${d} sending request:`,l),g.send(n,"POST",v,i,15)}))}T_(e,n,i){const l=ep(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Xv(),p=Gv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,i),y.encodeInitMessageHeaders=!0;const v=c.join("");he(yn,`Creating RPC '${e}' stream ${l}: ${v}`,y);const E=d.createWebChannel(v,y);this.I_(E);let A=!1,j=!1;const H=new qC({Yo:U=>{j?he(yn,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(A||(he(yn,`Opening RPC '${e}' stream ${l} transport.`),E.open(),A=!0),he(yn,`RPC '${e}' stream ${l} sending:`,U),E.send(U))},Zo:()=>E.close()}),K=(U,te,ae)=>{U.listen(te,(ne=>{try{ae(ne)}catch(me){setTimeout((()=>{throw me}),0)}}))};return K(E,Jo.EventType.OPEN,(()=>{j||(he(yn,`RPC '${e}' stream ${l} transport opened.`),H.o_())})),K(E,Jo.EventType.CLOSE,(()=>{j||(j=!0,he(yn,`RPC '${e}' stream ${l} transport closed`),H.a_(),this.E_(E))})),K(E,Jo.EventType.ERROR,(U=>{j||(j=!0,Rl(yn,`RPC '${e}' stream ${l} transport errored. Name:`,U.name,"Message:",U.message),H.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),K(E,Jo.EventType.MESSAGE,(U=>{var te;if(!j){const ae=U.data[0];at(!!ae,16349);const ne=ae,me=(ne==null?void 0:ne.error)||((te=ne[0])==null?void 0:te.error);if(me){he(yn,`RPC '${e}' stream ${l} received error:`,me);const ke=me.status;let Se=(function(k){const D=Qt[k];if(D!==void 0)return S1(D)})(ke),N=me.message;Se===void 0&&(Se=Z.INTERNAL,N="Unknown error status: "+ke+" with message "+me.message),j=!0,H.a_(new oe(Se,N)),E.close()}else he(yn,`RPC '${e}' stream ${l} received:`,ae),H.u_(ae)}})),K(p,Fv.STAT_EVENT,(U=>{U.stat===qm.PROXY?he(yn,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===qm.NOPROXY&&he(yn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(a){return new KR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,i=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-i);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="PersistentStream";class B1{constructor(e,n,i,l,c,d,p,y){this.Mi=e,this.S_=i,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ma(n.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,l])=>{this.D_===n&&this.G_(i,l)}),(i=>{e((()=>{const l=new oe(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(l)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{i((()=>this.z_(l)))})),this.stream.onMessage((l=>{i((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(ox,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FC extends B1{constructor(e,n,i,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YR(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Wr(d.readTime):Re.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Jm(this.serializer),n.addTarget=(function(c,d){let p;const y=d.target;if(p=Km(y)?{documents:WR(c,y)}:{query:eC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=R1(c,d.resumeToken);const g=$m(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=Ud(c,d.snapshotVersion.toTimestamp());const g=$m(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const i=nC(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.q_(n)}}class GC extends B1{constructor(e,n,i,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JR(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>ZR(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{}class KC extends XC{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Ym(n,i),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(Z.UNKNOWN,c.toString())}))}Ho(e,n,i,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Ym(n,i),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ma(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class $C{constructor(e,n,i,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{i.enqueueAndForget((async()=>{Ss(this)&&(he(vs,"Restarting streams for network reachability change."),await(async function(y){const g=Ie(y);g.Ea.add(4),await Ic(g),g.Ra.set("Unknown"),g.Ea.delete(4),await oh(g)})(this))}))})),this.Ra=new QC(i,l)}}async function oh(a){if(Ss(a))for(const e of a.da)await e(!0)}async function Ic(a){for(const e of a.da)await e(!1)}function q1(a,e){const n=Ie(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xp(n)?Gp(n):Fl(n).O_()&&Fp(n,e))}function Hp(a,e){const n=Ie(a),i=Fl(n);n.Ia.delete(e),i.O_()&&H1(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ss(n)&&n.Ra.set("Unknown"))}function Fp(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fl(a).Y_(e)}function H1(a,e){a.Va.Ue(e),Fl(a).Z_(e)}function Gp(a){a.Va=new HR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Fl(a).start(),a.Ra.ua()}function Xp(a){return Ss(a)&&!Fl(a).x_()&&a.Ia.size>0}function Ss(a){return Ie(a).Ea.size===0}function F1(a){a.Va=void 0}async function YC(a){a.Ra.set("Online")}async function ZC(a){a.Ia.forEach(((e,n)=>{Fp(a,e)}))}async function JC(a,e){F1(a),Xp(a)?(a.Ra.ha(e),Gp(a)):a.Ra.set("Unknown")}async function WC(a,e,n){if(a.Ra.set("Online"),e instanceof N1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,e)}catch(i){he(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qd(a,i)}else if(e instanceof Ed?a.Va.Ze(e):e instanceof k1?a.Va.st(e):a.Va.tt(e),!n.isEqual(Re.min()))try{const i=await z1(a.localStore);n.compareTo(i)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const v=c.Ia.get(g);v&&c.Ia.set(g,v.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,g)=>{const v=c.Ia.get(y);if(!v)return;c.Ia.set(y,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),H1(c,y);const E=new vi(v.target,y,g,v.sequenceNumber);Fp(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(a,n)}catch(i){he(vs,"Failed to raise snapshot:",i),await qd(a,i)}}async function qd(a,e,n){if(!ql(e))throw e;a.Ea.add(1),await Ic(a),a.Ra.set("Offline"),n||(n=()=>z1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{he(vs,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await oh(a)}))}function G1(a,e){return e().catch((n=>qd(a,n,e)))}async function ch(a){const e=Ie(a),n=Ii(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;eI(e);)try{const l=await MC(e.localStore,i);if(l===null){e.Ta.length===0&&n.L_();break}i=l.batchId,tI(e,l)}catch(l){await qd(e,l)}X1(e)&&K1(e)}function eI(a){return Ss(a)&&a.Ta.length<10}function tI(a,e){a.Ta.push(e);const n=Ii(a);n.O_()&&n.X_&&n.ea(e.mutations)}function X1(a){return Ss(a)&&!Ii(a).x_()&&a.Ta.length>0}function K1(a){Ii(a).start()}async function nI(a){Ii(a).ra()}async function rI(a){const e=Ii(a);for(const n of a.Ta)e.ea(n.mutations)}async function aI(a,e,n){const i=a.Ta.shift(),l=Vp.from(i,e,n);await G1(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ch(a)}async function iI(a,e){e&&Ii(a).X_&&await(async function(i,l){if((function(d){return UR(d)&&d!==Z.ABORTED})(l.code)){const c=i.Ta.shift();Ii(i).B_(),await G1(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ch(i)}})(a,e),X1(a)&&K1(a)}async function cx(a,e){const n=Ie(a);n.asyncQueue.verifyOperationInProgress(),he(vs,"RemoteStore received new credentials");const i=Ss(n);n.Ea.add(3),await Ic(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await oh(n)}async function sI(a,e){const n=Ie(a);e?(n.Ea.delete(2),await oh(n)):e||(n.Ea.add(2),await Ic(n),n.Ra.set("Unknown"))}function Fl(a){return a.ma||(a.ma=(function(n,i,l){const c=Ie(n);return c.sa(),new FC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:YC.bind(null,a),t_:ZC.bind(null,a),r_:JC.bind(null,a),H_:WC.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Xp(a)?Gp(a):a.Ra.set("Unknown")):(await a.ma.stop(),F1(a))}))),a.ma}function Ii(a){return a.fa||(a.fa=(function(n,i,l){const c=Ie(n);return c.sa(),new GC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:nI.bind(null,a),r_:iI.bind(null,a),ta:rI.bind(null,a),na:aI.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await ch(a)):(await a.fa.stop(),a.Ta.length>0&&(he(vs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,i,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=c,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,c){const d=Date.now()+i,p=new Kp(e,n,d,l,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(a,e){if(Ma("AsyncQueue",`${e}: ${a}`),ql(a))return new oe(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{static emptySet(e){return new Al(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=Wo(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.ga=new Ct(_e.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ol{constructor(e,n,i,l,c,d,p,y,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Ol(e,n,Al.emptySet(n),d,i,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oI{constructor(){this.queries=dx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const l=Ie(n),c=l.queries;l.queries=dx(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(i)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function dx(){return new As((a=>m1(a)),nh)}async function Q1(a,e){const n=Ie(a);let i=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(i=2):(c=new lI,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Qp(d,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&$p(n)}async function $1(a,e){const n=Ie(a),i=e.query;let l=3;const c=n.queries.get(i);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function cI(a,e){const n=Ie(a);let i=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(i=!0);d.wa=l}}i&&$p(n)}function uI(a,e,n){const i=Ie(a),l=i.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);i.queries.delete(e)}function $p(a){a.Ca.forEach((e=>{e.next()}))}var tp,hx;(hx=tp||(tp={})).Ma="default",hx.Cache="cache";class Y1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.key=e}}class J1{constructor(e){this.key=e}}class dI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=p1(e),this.tu=new Al(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new ux,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((v,E)=>{const A=l.get(v),j=rh(this.query,E)?E:null,H=!!A&&this.mutatedKeys.has(A.key),K=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let U=!1;A&&j?A.data.isEqual(j.data)?H!==K&&(i.track({type:3,doc:j}),U=!0):this.su(A,j)||(i.track({type:2,doc:j}),U=!0,(y&&this.eu(j,y)>0||g&&this.eu(j,g)<0)&&(p=!0)):!A&&j?(i.track({type:0,doc:j}),U=!0):A&&!j&&(i.track({type:1,doc:A}),U=!0,(y||g)&&(p=!0)),U&&(j?(d=d.add(j),c=K?c.add(v):c.delete(v)):(d=d.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),c=c.delete(v.key),i.track({type:1,doc:v})}return{tu:d,iu:i,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((v,E)=>(function(j,H){const K=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:U})}};return K(j)-K(H)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),l=l??!1;const p=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,g=y!==this.Za;return this.Za=y,d.length!==0||g?{snapshot:new Ol(this.query,e.tu,c,d,e.mutatedKeys,y===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ux,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new J1(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new Z1(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yp="SyncEngine";class hI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class fI{constructor(e){this.key=e,this.hu=!1}}class mI{constructor(e,n,i,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new As((p=>m1(p)),nh),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(_e.comparator),this.Au=new Map,this.Ru=new zp,this.Vu={},this.mu=new Map,this.fu=Dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pI(a,e,n=!0){const i=aE(a);let l;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await W1(i,e,n,!0),l}async function gI(a,e){const n=aE(a);await W1(n,e,!0,!1)}async function W1(a,e,n,i){const l=await VC(a.localStore,Jr(e)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await yI(a,e,c,d==="current",l.resumeToken)),a.isPrimaryClient&&n&&q1(a.remoteStore,l),p}async function yI(a,e,n,i,l){a.pu=(E,A,j)=>(async function(K,U,te,ae){let ne=U.view.ru(te);ne.Cs&&(ne=await ax(K.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,ne))));const me=ae&&ae.targetChanges.get(U.targetId),ke=ae&&ae.targetMismatches.get(U.targetId)!=null,Se=U.view.applyChanges(ne,K.isPrimaryClient,me,ke);return mx(K,U.targetId,Se.au),Se.snapshot})(a,E,A,j);const c=await ax(a.localStore,e,!0),d=new dI(e,c.Qs),p=d.ru(c.documents),y=Cc.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",l),g=d.applyChanges(p,a.isPrimaryClient,y);mx(a,n,g.au);const v=new hI(e,n,d);return a.Tu.set(e,v),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),g.snapshot}async function bI(a,e,n){const i=Ie(a),l=i.Tu.get(e),c=i.Iu.get(l.targetId);if(c.length>1)return i.Iu.set(l.targetId,c.filter((d=>!nh(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Wm(i.localStore,l.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Hp(i.remoteStore,l.targetId),np(i,l.targetId)})).catch(Bl)):(np(i,l.targetId),await Wm(i.localStore,l.targetId,!0))}async function _I(a,e){const n=Ie(a),i=n.Tu.get(e),l=n.Iu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Hp(n.remoteStore,i.targetId))}async function xI(a,e,n){const i=kI(a);try{const l=await(function(d,p){const y=Ie(d),g=xt.now(),v=p.reduce(((j,H)=>j.add(H.key)),Qe());let E,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let H=Va(),K=Qe();return y.Ns.getEntries(j,v).next((U=>{H=U,H.forEach(((te,ae)=>{ae.isValidDocument()||(K=K.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,H))).next((U=>{E=U;const te=[];for(const ae of p){const ne=MR(ae,E.get(ae.key).overlayedDocument);ne!=null&&te.push(new Vi(ae.key,ne,s1(ne.value.mapValue),Er.exists(!0)))}return y.mutationQueue.addMutationBatch(j,g,te,p)})).next((U=>{A=U;const te=U.applyToLocalDocumentSet(E,K);return y.documentOverlayCache.saveOverlays(j,U.batchId,te)}))})).then((()=>({batchId:A.batchId,changes:y1(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new Ct(Ke)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g})(i,l.batchId,n),await jc(i,l.changes),await ch(i.remoteStore)}catch(l){const c=Qp(l,"Failed to persist write");n.reject(c)}}async function eE(a,e){const n=Ie(a);try{const i=await DC(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?at(d.hu,14607):l.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await jc(n,i,e)}catch(i){await Bl(i)}}function fx(a,e,n){const i=Ie(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Ie(d);y.onlineState=p;let g=!1;y.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(p)&&(g=!0)})),g&&$p(y)})(i.eventManager,e),l.length&&i.Pu.H_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function vI(a,e,n){const i=Ie(a);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Au.get(e),c=l&&l.key;if(c){let d=new Ct(_e.comparator);d=d.insert(c,_n.newNoDocument(c,Re.min()));const p=Qe().add(c),y=new sh(Re.min(),new Map,new Ct(Ke),d,p);await eE(i,y),i.du=i.du.remove(c),i.Au.delete(e),Zp(i)}else await Wm(i.localStore,e,!1).then((()=>np(i,e,n))).catch(Bl)}async function EI(a,e){const n=Ie(a),i=e.batch.batchId;try{const l=await jC(n.localStore,e);nE(n,i,null),tE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await jc(n,l)}catch(l){await Bl(l)}}async function wI(a,e,n){const i=Ie(a);try{const l=await(function(d,p){const y=Ie(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return y.mutationQueue.lookupMutationBatch(g,p).next((E=>(at(E!==null,37113),v=E.keys(),y.mutationQueue.removeMutationBatch(g,E)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,v,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>y.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);nE(i,e,n),tE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await jc(i,l)}catch(l){await Bl(l)}}function tE(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function nE(a,e,n){const i=Ie(a);let l=i.Vu[i.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),i.Vu[i.currentUser.toKey()]=l}}function np(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.Iu.get(e))a.Tu.delete(i),n&&a.Pu.yu(i,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((i=>{a.Ru.containsKey(i)||rE(a,i)}))}function rE(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(Hp(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),Zp(a))}function mx(a,e,n){for(const i of n)i instanceof Z1?(a.Ru.addReference(i.key,e),TI(a,i)):i instanceof J1?(he(Yp,"Document no longer in limbo: "+i.key),a.Ru.removeReference(i.key,e),a.Ru.containsKey(i.key)||rE(a,i.key)):we(19791,{wu:i})}function TI(a,e){const n=e.key,i=n.path.canonicalString();a.du.get(n)||a.Eu.has(i)||(he(Yp,"New document in limbo: "+n),a.Eu.add(i),Zp(a))}function Zp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new _e(yt.fromString(e)),i=a.fu.next();a.Au.set(i,new fI(n)),a.du=a.du.insert(n,i),q1(a.remoteStore,new vi(Jr(Dp(n.path)),i,"TargetPurposeLimboResolution",Wd.ce))}}async function jc(a,e,n){const i=Ie(a),l=[],c=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,y)=>{d.push(i.pu(y,e,n).then((g=>{var v;if((g||n)&&i.isPrimaryClient){const E=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){l.push(g);const E=Bp.As(y.targetId,g);c.push(E)}})))})),await Promise.all(d),i.Pu.H_(l),await(async function(y,g){const v=Ie(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(g,(A=>ee.forEach(A.Es,(j=>v.persistence.referenceDelegate.addReference(E,A.targetId,j))).next((()=>ee.forEach(A.ds,(j=>v.persistence.referenceDelegate.removeReference(E,A.targetId,j)))))))))}catch(E){if(!ql(E))throw E;he(qp,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const j=v.Ms.get(A),H=j.snapshotVersion,K=j.withLastLimboFreeSnapshotVersion(H);v.Ms=v.Ms.insert(A,K)}}})(i.localStore,c))}async function AI(a,e){const n=Ie(a);if(!n.currentUser.isEqual(e)){he(Yp,"User change. New user:",e.toKey());const i=await L1(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new oe(Z.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jc(n,i.Ls)}}function SI(a,e){const n=Ie(a),i=n.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let l=Qe();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function aE(a){const e=Ie(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=eE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vI.bind(null,e),e.Pu.H_=cI.bind(null,e.eventManager),e.Pu.yu=uI.bind(null,e.eventManager),e}function kI(a){const e=Ie(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wI.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IC(this.persistence,new NC,e.initialUser,this.serializer)}Cu(e){return new P1(Up.mi,this.serializer)}Du(e){return new LC}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class NI extends Hd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Bd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fC(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new P1((i=>Bd.mi(i,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AI.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oI})()}createDatastore(e){const n=lh(e.databaseInfo.databaseId),i=(function(c){return new HC(c)})(e.databaseInfo);return(function(c,d,p,y){return new KC(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,l,c,d,p){return new $C(i,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>fx(this.syncEngine,n,0)),(function(){return lx.v()?new lx:new zC})())}createSyncEngine(e,n){return(function(l,c,d,p,y,g,v){const E=new mI(l,c,d,p,y,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const c=Ie(l);he(vs,"RemoteStore shutting down."),c.Ea.add(5),await Ic(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class RI{constructor(e,n,i,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=bn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async d=>{he(ji,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(he(ji,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Qp(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Rm(a,e){a.asyncQueue.verifyOperationInProgress(),he(ji,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let i=n.initialUser;a.setCredentialChangeListener((async l=>{i.isEqual(l)||(await L1(e.localStore,l),i=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function px(a,e){a.asyncQueue.verifyOperationInProgress();const n=await CI(a);he(ji,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((i=>cx(e.remoteStore,i))),a.setAppCheckTokenChangeListener(((i,l)=>cx(e.remoteStore,l))),a._onlineComponents=e}async function CI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){he(ji,"Using user provided OfflineComponentProvider");try{await Rm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Rl("Error using user provided cache. Falling back to memory cache: "+n),await Rm(a,new Hd)}}else he(ji,"Using default OfflineComponentProvider"),await Rm(a,new NI(void 0));return a._offlineComponents}async function sE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(he(ji,"Using user provided OnlineComponentProvider"),await px(a,a._uninitializedComponentsProvider._online)):(he(ji,"Using default OnlineComponentProvider"),await px(a,new rp))),a._onlineComponents}function II(a){return sE(a).then((e=>e.syncEngine))}async function lE(a){const e=await sE(a),n=e.eventManager;return n.onListen=pI.bind(null,e.syncEngine),n.onUnlisten=bI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_I.bind(null,e.syncEngine),n}function jI(a,e,n={}){const i=new Ia;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,g){const v=new iE({next:A=>{v.Nu(),d.enqueueAndForget((()=>$1(c,E)));const j=A.docs.has(p);!j&&A.fromCache?g.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&A.fromCache&&y&&y.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new Y1(Dp(p.path),v,{includeMetadataChanges:!0,qa:!0});return Q1(c,E)})(await lE(a),a.asyncQueue,e,n,i))),i.promise}function DI(a,e,n={}){const i=new Ia;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,g){const v=new iE({next:A=>{v.Nu(),d.enqueueAndForget((()=>$1(c,E))),A.fromCache&&y.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new Y1(p,v,{includeMetadataChanges:!0,qa:!0});return Q1(c,E)})(await lE(a),a.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firestore.googleapis.com",yx=!0;class bx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cE,this.ssl=yx}else this.host=e.host,this.ssl=e.ssl??yx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=V1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dC)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$N("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,l){return i.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uh{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new zN;switch(i.type){case"firstParty":return new HN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=gx.get(n);i&&(he("ComponentProvider","Removing Datastore"),gx.delete(n),i.terminate())})(this),Promise.resolve()}}function OI(a,e,n,i={}){var g;a=na(a,uh);const l=Pl(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${n}`;l&&(Wx(`https://${p}`),ev("Firestore",!0)),c.host!==cE&&c.host!==p&&Rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:i};if(!gs(y,d)&&(a._setSettings(y),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=bn.MOCK_USER;else{v=$A(i.mockUserToken,(g=a._app)==null?void 0:g.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new bn(A)}a._authCredentials=new UN(new Qv(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class Ut{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Nc(n,Ut._jsonSchema))return new Ut(e,i||null,new _e(yt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Yt("string",Ut._jsonSchemaVersion),referencePath:Yt("string")};class Si extends Pi{constructor(e,n,i){super(e,n,Dp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new _e(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function _x(a,e,...n){if(a=an(a),$v("collection","path",e),a instanceof uh){const i=yt.fromString(e,...n);return I_(i),new Si(a,null,i)}{if(!(a instanceof Ut||a instanceof Si))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(yt.fromString(e,...n));return I_(i),new Si(a.firestore,null,i)}}function Sl(a,e,...n){if(a=an(a),arguments.length===1&&(e=kp.newId()),$v("doc","path",e),a instanceof uh){const i=yt.fromString(e,...n);return C_(i),new Ut(a,null,new _e(i))}{if(!(a instanceof Ut||a instanceof Si))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(yt.fromString(e,...n));return C_(i),new Ut(a.firestore,a instanceof Si?a.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="AsyncQueue";class vx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U1(this,"async_queue_retry"),this._c=()=>{const i=Nm();i&&he(xx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ql(e))throw e;he(xx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ma("INTERNAL UNHANDLED ERROR: ",Ex(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Kp.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:Ex(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ex(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Gl extends uh{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new vx,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vx(e),this._firestoreClient=void 0,await e}}}function MI(a,e){const n=typeof a=="object"?a:av(),i=typeof a=="string"?a:Od,l=yp(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const c=KA("firestore");c&&OI(l,...c)}return l}function Jp(a){if(a._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||VI(a),a._firestoreClient}function VI(a){var i,l,c;const e=a._freezeSettings(),n=(function(p,y,g,v){return new sR(p,y,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,oE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(a._databaseId,((i=a._app)==null?void 0:i.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new RI(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(pn.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:Yt("string",sr._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ea._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,ea._jsonSchema))return new ea(e.latitude,e.longitude)}}ea._jsonSchemaVersion="firestore/geoPoint/1.0",ea._jsonSchema={type:Yt("string",ea._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,l){if(i.length!==l.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ta(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ta._jsonSchemaVersion="firestore/vectorValue/1.0",ta._jsonSchema={type:Yt("string",ta._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=/^__.*__$/;class LI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class uE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:a})}}class eg{constructor(e,n,i,l,c,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dE(this.Ac)&&PI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zI{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||lh(e)}Cc(e,n,i,l=!1){return new eg({Ac:e,methodName:n,Dc:i,path:mn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(a){const e=a._freezeSettings(),n=lh(a._databaseId);return new zI(a._databaseId,!!e.ignoreUndefinedProperties,n)}function UI(a,e,n,i,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,e,n,l);ng("Data must be an object, but it was:",d,i);const p=hE(i,d);let y,g;if(c.merge)y=new Gn(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const v=[];for(const E of c.mergeFields){const A=ap(e,E,n);if(!d.contains(A))throw new oe(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);mE(v,A)||v.push(A)}y=new Gn(v),g=d.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,g=d.fieldTransforms;return new LI(new Dn(p),y,g)}class hh extends Wp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}function BI(a,e,n,i){const l=a.Cc(1,e,n);ng("Data must be an object, but it was:",l,i);const c=[],d=Dn.empty();Mi(i,((y,g)=>{const v=rg(e,y,n);g=an(g);const E=l.yc(v);if(g instanceof hh)c.push(v);else{const A=Dc(g,E);A!=null&&(c.push(v),d.set(v,A))}}));const p=new Gn(c);return new uE(d,p,l.fieldTransforms)}function qI(a,e,n,i,l,c){const d=a.Cc(1,e,n),p=[ap(e,i,n)],y=[l];if(c.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(ap(e,c[A])),y.push(c[A+1]);const g=[],v=Dn.empty();for(let A=p.length-1;A>=0;--A)if(!mE(g,p[A])){const j=p[A];let H=y[A];H=an(H);const K=d.yc(j);if(H instanceof hh)g.push(j);else{const U=Dc(H,K);U!=null&&(g.push(j),v.set(j,U))}}const E=new Gn(g);return new uE(v,E,d.fieldTransforms)}function HI(a,e,n,i=!1){return Dc(n,a.Cc(i?4:3,e))}function Dc(a,e){if(fE(a=an(a)))return ng("Unsupported field value:",e,a),hE(a,e);if(a instanceof Wp)return(function(i,l){if(!dE(l.Ac))throw l.Sc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,l){const c=[];let d=0;for(const p of i){let y=Dc(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,e)}return(function(i,l){if((i=an(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return RR(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=xt.fromDate(i);return{timestampValue:Ud(l.serializer,c)}}if(i instanceof xt){const c=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ud(l.serializer,c)}}if(i instanceof ea)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sr)return{bytesValue:R1(l.serializer,i._byteString)};if(i instanceof Ut){const c=l.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lp(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof ta)return(function(d,p){return{mapValue:{fields:{[a1]:{stringValue:i1},[Md]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Op(p.serializer,g)}))}}}}}})(i,l);throw l.Sc(`Unsupported field value: ${Jd(i)}`)})(a,e)}function hE(a,e){const n={};return Jv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(a,((i,l)=>{const c=Dc(l,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function fE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof xt||a instanceof ea||a instanceof sr||a instanceof Ut||a instanceof Wp||a instanceof ta)}function ng(a,e,n){if(!fE(n)||!Yv(n)){const i=Jd(n);throw i==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+i)}}function ap(a,e,n){if((e=an(e))instanceof dh)return e._internalPath;if(typeof e=="string")return rg(a,e);throw Fd("Field path arguments must be of type string or ",a,!1,void 0,n)}const FI=new RegExp("[~\\*/\\[\\]]");function rg(a,e,n){if(e.search(FI)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new dh(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Fd(a,e,n,i,l){const c=i&&!i.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${i}`),d&&(y+=` in document ${l}`),y+=")"),new oe(Z.INVALID_ARGUMENT,p+a+y)}function mE(a,e){return a.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,i,l,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GI extends pE{data(){return super.data()}}function ag(a,e){return typeof e=="string"?rg(a,e):e instanceof dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class sg extends ig{}function wx(a,e,...n){let i=[];e instanceof ig&&i.push(e),i=i.concat(n),(function(c){const d=c.filter((y=>y instanceof og)).length,p=c.filter((y=>y instanceof lg)).length;if(d>1||d>0&&p>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const l of i)a=l._apply(a);return a}class lg extends sg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new lg(e,n,i)}_apply(e){const n=this._parse(e);return gE(e._query,n),new Pi(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=tg(e.firestore);return(function(c,d,p,y,g,v,E){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Sx(E,v);const H=[];for(const K of E)H.push(Ax(y,c,K));A={arrayValue:{values:H}}}else A=Ax(y,c,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Sx(E,v),A=HI(p,d,E,v==="in"||v==="not-in");return $t.create(g,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class og extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)gE(d,y),d=Qm(d,y)})(e._query,n),new Pi(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends sg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(c,d)})(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Hl(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Tx(a,e="asc"){const n=e,i=ag("orderBy",a);return cg._create(i,n)}class ug extends sg{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new ug(e,n,i)}_apply(e){return new Pi(e.firestore,e.converter,Pd(e._query,this._limit,this._limitType))}}function KI(a){return ug._create("limit",a,"F")}function Ax(a,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f1(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(yt.fromString(n));if(!_e.isDocumentKey(i))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return z_(a,new _e(i))}if(n instanceof Ut)return z_(a,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function Sx(a,e){if(!Array.isArray(a)||a.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gE(a,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QI{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Mi(e,((l,c)=>{i[l]=this.convertValue(c,n)})),i}convertVectorValue(e){var i,l,c;const n=(c=(l=(i=e.fields)==null?void 0:i[Md].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>zt(d.doubleValue)));return new ta(n)}convertGeoPoint(e){return new ea(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=th(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=yt.fromString(e);at(M1(i),9688,{name:e});const l=new mc(i.get(1),i.get(3)),c=new _e(i.popFirst(5));return l.isEqual(n)||Ma(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(a,e,n){let i;return i=a?a.toFirestore(e):e,i}class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ps extends pE{constructor(e,n,i,l,c,d){super(e,n,i,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ag("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:Yt("string",ps._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class wd extends ps{data(e={}){return super.data(e)}}class kl{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new tc(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new wd(this._firestore,this._userDataWriter,i.key,i,new tc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new wd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new tc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new wd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new tc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,v=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),v=d.indexOf(p.doc.key)),{type:YI(p.type),doc:y,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(a){a=na(a,Ut);const e=na(a.firestore,Gl);return jI(Jp(e),a._key).then((n=>WI(e,a,n)))}kl._jsonSchemaVersion="firestore/querySnapshot/1.0",kl._jsonSchema={type:Yt("string",kl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class yE extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function kx(a){a=na(a,Pi);const e=na(a.firestore,Gl),n=Jp(e),i=new yE(e);return XI(a._query),DI(n,a._query).then((l=>new kl(e,i,a,l)))}function ZI(a,e,n){a=na(a,Ut);const i=na(a.firestore,Gl),l=$I(a.converter,e);return dg(i,[UI(tg(i),"setDoc",a._key,l,a.converter!==null,n).toMutation(a._key,Er.none())])}function ip(a,e,n,...i){a=na(a,Ut);const l=na(a.firestore,Gl),c=tg(l);let d;return d=typeof(e=an(e))=="string"||e instanceof dh?qI(c,"updateDoc",a._key,e,n,i):BI(c,"updateDoc",a._key,e),dg(l,[d.toMutation(a._key,Er.exists(!0))])}function JI(a){return dg(na(a.firestore,Gl),[new Mp(a._key,Er.none())])}function dg(a,e){return(function(i,l){const c=new Ia;return i.asyncQueue.enqueueAndForget((async()=>xI(await II(i),l,c))),c.promise})(Jp(a),e)}function WI(a,e,n){const i=n.docs.get(e._key),l=new yE(a);return new ps(a,l,e._key,i,new tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Ul=l})(Ll),Nl(new ys("firestore",((i,{instanceIdentifier:l,options:c})=>{const d=i.getProvider("app").getImmediate(),p=new Gl(new BN(i.getProvider("auth-internal")),new FN(d,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(g.options.projectId,v)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ti(S_,k_,e),Ti(S_,k_,"esm2020")})();const e4={apiKey:"AIzaSyCJLR0gKSrzN3VCyZ74AeAFL82WuMI0Z0k",authDomain:"zenbaki-osoak-2dbh.firebaseapp.com",projectId:"zenbaki-osoak-2dbh",storageBucket:"zenbaki-osoak-2dbh.firebasestorage.app",messagingSenderId:"402362957412",appId:"1:402362957412:web:b89a1b9e802426ae74e971"},bE=rv(e4),dd=PN(bE),xi=MI(bE),rt={theory_intro:50,theory_operations:50,theory_multiplication:50,theory_powers:50,theory_advanced:50,ordering_easy:100,ordering_medium:150,ordering_hard:200,addition_easy:100,addition_medium:150,addition_hard:200,subtraction_easy:100,subtraction_medium:150,subtraction_hard:200,multiplication_easy:100,multiplication_medium:150,multiplication_hard:200,division_easy:100,division_medium:150,division_hard:200,powers_easy:100,powers_medium:150,powers_hard:200,roots_easy:100,roots_medium:150,roots_hard:200,combined_easy:100,combined_medium:150,combined_hard:200,mixed_easy:150,mixed_medium:250,mixed_hard:500},sp=[{id:"first_steps",title:"Lehen Urratsak",description:"Lortu zure lehenengo 100 XP.",icon:"footprint",xpReward:50,condition:a=>a.xp>=100},{id:"streak_5",title:"Beroketa (5 Egun)",description:"Mantendu 5 eguneko erratxa.",icon:"local_fire_department",xpReward:100,condition:a=>a.streak>=5},{id:"streak_10",title:"Sutan (10 Egun)",description:"Mantendu 10 eguneko erratxa.",icon:"whatshot",xpReward:300,condition:a=>a.streak>=10},{id:"streak_20",title:"Geldiezin (20 Egun)",description:"Mantendu 20 eguneko erratxa.",icon:"volcano",xpReward:1e3,condition:a=>a.streak>=20},{id:"level_5",title:"Ikasle Aurreratua",description:"Iritsi 5. Mailara.",icon:"school",xpReward:250,condition:a=>a.level>=5},{id:"level_10",title:"Matematika Maisua",description:"Iritsi 10. Mailara.",icon:"military_tech",xpReward:1e3,condition:a=>a.level>=10},{id:"level_20",title:"Zenbakien Jainkoa",description:"Iritsi 20. Mailara.",icon:"auto_awesome",xpReward:5e3,condition:a=>a.level>=20},{id:"ord_bronze",title:"Ordenatzaile (Bronce)",description:"200 XP Ordenan.",icon:"sort",xpReward:50,condition:a=>pt(a,"ordering")>=200},{id:"ord_silver",title:"Ordenatzaile (Plata)",description:"500 XP Ordenan.",icon:"sort",xpReward:150,condition:a=>pt(a,"ordering")>=500},{id:"ord_gold",title:"Ordenatzaile (Oro)",description:"1000 XP Ordenan.",icon:"sort",xpReward:300,condition:a=>pt(a,"ordering")>=1e3},{id:"add_bronze",title:"Batzaile (Bronce)",description:"200 XP Batuketetan.",icon:"add_circle",xpReward:50,condition:a=>pt(a,"addition")>=200},{id:"add_silver",title:"Batzaile (Plata)",description:"500 XP Batuketetan.",icon:"add_circle",xpReward:150,condition:a=>pt(a,"addition")>=500},{id:"add_gold",title:"Batzaile (Oro)",description:"1000 XP Batuketetan.",icon:"add_circle",xpReward:300,condition:a=>pt(a,"addition")>=1e3},{id:"sub_bronze",title:"Kentzaile (Bronce)",description:"200 XP Kenketetan.",icon:"remove_circle",xpReward:50,condition:a=>pt(a,"subtraction")>=200},{id:"sub_silver",title:"Kentzaile (Plata)",description:"500 XP Kenketetan.",icon:"remove_circle",xpReward:150,condition:a=>pt(a,"subtraction")>=500},{id:"sub_gold",title:"Kentzaile (Oro)",description:"1000 XP Kenketetan.",icon:"remove_circle",xpReward:300,condition:a=>pt(a,"subtraction")>=1e3},{id:"mul_bronze",title:"Biderkatzaile (Bronce)",description:"200 XP Biderketetan.",icon:"close",xpReward:50,condition:a=>pt(a,"multiplication")>=200},{id:"mul_silver",title:"Biderkatzaile (Plata)",description:"500 XP Biderketetan.",icon:"close",xpReward:150,condition:a=>pt(a,"multiplication")>=500},{id:"mul_gold",title:"Biderkatzaile (Oro)",description:"1000 XP Biderketetan.",icon:"close",xpReward:300,condition:a=>pt(a,"multiplication")>=1e3},{id:"div_bronze",title:"Zatitzaile (Bronce)",description:"200 XP Zatiketetan.",icon:"percent",xpReward:50,condition:a=>pt(a,"division")>=200},{id:"div_silver",title:"Zatitzaile (Plata)",description:"500 XP Zatiketetan.",icon:"percent",xpReward:150,condition:a=>pt(a,"division")>=500},{id:"div_gold",title:"Zatitzaile (Oro)",description:"1000 XP Zatiketetan.",icon:"percent",xpReward:300,condition:a=>pt(a,"division")>=1e3},{id:"pow_bronze",title:"Potentzia (Bronce)",description:"200 XP Berreketetan.",icon:"expand_less",xpReward:50,condition:a=>pt(a,"powers")>=200},{id:"pow_silver",title:"Potentzia (Plata)",description:"500 XP Berreketetan.",icon:"expand_less",xpReward:150,condition:a=>pt(a,"powers")>=500},{id:"pow_gold",title:"Potentzia (Oro)",description:"1000 XP Berreketetan.",icon:"expand_less",xpReward:300,condition:a=>pt(a,"powers")>=1e3},{id:"roo_bronze",title:"Erro (Bronce)",description:"200 XP Erroetan.",icon:"check",xpReward:50,condition:a=>pt(a,"roots")>=200},{id:"roo_silver",title:"Erro (Plata)",description:"500 XP Erroetan.",icon:"check",xpReward:150,condition:a=>pt(a,"roots")>=500},{id:"roo_gold",title:"Erro (Oro)",description:"1000 XP Erroetan.",icon:"check",xpReward:300,condition:a=>pt(a,"roots")>=1e3},{id:"com_bronze",title:"Konbinatu (Bronce)",description:"200 XP Konbinatuetan.",icon:"function",xpReward:50,condition:a=>pt(a,"combined")>=200},{id:"com_silver",title:"Konbinatu (Plata)",description:"500 XP Konbinatuetan.",icon:"function",xpReward:150,condition:a=>pt(a,"combined")>=500},{id:"com_gold",title:"Konbinatu (Oro)",description:"1000 XP Konbinatuetan.",icon:"function",xpReward:300,condition:a=>pt(a,"combined")>=1e3},{id:"mix_bronze",title:"Expertua (Bronce)",description:"200 XP Mistoan.",icon:"psychology",xpReward:50,condition:a=>pt(a,"mixed")>=200},{id:"mix_silver",title:"Expertua (Plata)",description:"500 XP Mistoan.",icon:"psychology",xpReward:150,condition:a=>pt(a,"mixed")>=500},{id:"mix_gold",title:"Expertua (Oro)",description:"1000 XP Mistoan.",icon:"psychology",xpReward:300,condition:a=>pt(a,"mixed")>=1e3}],pt=(a,e)=>{let n=0;for(const i in a.gameXp)i.startsWith(e)&&(n+=a.gameXp[i]);return n},Nx=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(a){return console.error("Error fetching IP",a),"unknown"}},t4=a=>{const e=new Date,n=new Date(a.lastLoginDate),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),l=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime(),c=1440*60*1e3;return i>l&&(i-l===c?a.streak+=1:i-l>c&&(a.streak=1),a.lastLoginDate=e.toISOString()),a},ml={login:async(a,e)=>{const i=(await Ek(dd,a,e)).user.uid,l=Sl(xi,"users",i),c=await Gd(l);if(c.exists()){let d=c.data();const p=await Nx(),y=d.streak;return d=t4(d),(y!==d.streak||d.lastLoginDate!==c.data().lastLoginDate||d.lastIp!==p)&&(await ip(l,{streak:d.streak,lastLoginDate:d.lastLoginDate,lastIp:p}),d.lastIp=p),d}else throw new Error("Erabiltzailearen datuak ez dira aurkitu.")},loginAsGuest:async()=>({uid:"guest_"+Date.now(),email:"guest@zoa.eus",displayName:"Gonbidatua",photoURL:"https://ui-avatars.com/api/?name=Guest&background=e2e8f0&color=64748b",xp:0,level:1,streak:0,lastLoginDate:new Date().toISOString(),completedLessons:[],gameXp:{},unlockedAchievements:[]}),register:async(a,e,n)=>{const l=(await vk(dd,a,e)).user.uid,c={uid:l,email:a,displayName:n,photoURL:`https://ui-avatars.com/api/?name=${n}&background=136dec&color=fff`,xp:0,level:1,streak:1,lastLoginDate:new Date().toISOString(),lastIp:await Nx(),completedLessons:[],gameXp:{},unlockedAchievements:[],isAdmin:a==="admin@zoa.eus"};return await ZI(Sl(xi,"users",l),c),c},logout:async()=>{await Sk(dd)},onAuthStateChanged:a=>Ak(dd,a),getUserProfile:async a=>{const e=Sl(xi,"users",a),n=await Gd(e);return n.exists()?n.data():null}},_c={updateUserProgress:async(a,e,n)=>{const i=Sl(xi,"users",a),l=await Gd(i);if(!l.exists())throw new Error("User not found");const c=l.data();c.gameXp||(c.gameXp={}),c.unlockedAchievements||(c.unlockedAchievements=[]);let d=0;const p=c.gameXp[n]||0;if(e>=0){const g=rt[n]||9999,v=Math.max(0,g-p);d=Math.min(e,v),d>0&&(c.xp+=d,c.gameXp[n]=p+d,n.startsWith("theory_")&&!c.completedLessons.includes(n)&&c.completedLessons.push(n))}else{const g=Math.abs(e),v=Math.min(g,p);v>0&&(c.gameXp[n]=p-v,c.xp=Math.max(0,c.xp-v)),d=-v}const y=[];return d>=0&&(c.level=Math.floor(c.xp/500)+1,sp.forEach(g=>{c.unlockedAchievements.includes(g.id)||g.condition(c)&&(c.unlockedAchievements.push(g.id),c.xp+=g.xpReward,c.level=Math.floor(c.xp/500)+1,y.push(g))})),await ip(i,{xp:c.xp,level:c.level,gameXp:c.gameXp,completedLessons:c.completedLessons,unlockedAchievements:c.unlockedAchievements}),{user:c,actualXpAdded:d,newAchievements:y}},updateProfile:async(a,e)=>{const n=Sl(xi,"users",a);return await ip(n,e),(await Gd(n)).data()},getLeaderboard:async()=>{const a=wx(_x(xi,"users"),Tx("xp","desc"),KI(10)),e=await kx(a),n=[];return e.forEach(i=>{n.push(i.data())}),n},getAllUsers:async()=>{const a=wx(_x(xi,"users"),Tx("lastLoginDate","desc")),e=await kx(a),n=[];return e.forEach(i=>{n.push(i.data())}),n},kickUser:async a=>{await JI(Sl(xi,"users",a))}},_E=L.createContext(void 0),n4=({children:a})=>{const[e,n]=L.useState([]),i=L.useCallback((c,d)=>{const p=Date.now().toString()+Math.random().toString().slice(2,8);n(y=>[...y,{id:p,type:c,message:d}]),setTimeout(()=>{n(y=>y.filter(g=>g.id!==p))},3e3)},[]),l=L.useCallback(c=>{n(d=>d.filter(p=>p.id!==c))},[]);return m.jsx(_E.Provider,{value:{addToast:i,removeToast:l,toasts:e},children:a})},Oc=()=>{const a=L.useContext(_E);if(a===void 0)throw new Error("useToast must be used within an ToastProvider");return a},xE=L.createContext(void 0),r4=({children:a})=>{const[e,n]=L.useState(null),[i,l]=L.useState(!0),[c,d]=L.useState([]),{addToast:p}=Oc();L.useEffect(()=>{const j=ml.onAuthStateChanged(async H=>{if(H)try{const K=await ml.getUserProfile(H.uid);n(K||null)}catch(K){console.error("Error fetching profile",K),n(null)}else n(null);l(!1)});return()=>j()},[]);const y=async(j,H)=>{const K=await ml.login(j,H);n(K)},g=async()=>{const j=await ml.loginAsGuest();n(j)},v=async(j,H,K)=>{const U=await ml.register(j,H,K);n(U)},E=async()=>{await ml.logout(),n(null)},A=async(j,H)=>{if(!e||e.uid.startsWith("guest_"))return 0;try{const{user:K,actualXpAdded:U,newAchievements:te}=await _c.updateUserProgress(e.uid,j,H);return n(K),te&&te.length>0&&d(te),U}catch(K){return console.error("XP Error",K),0}};return m.jsxs(xE.Provider,{value:{user:e,loading:i,login:y,loginAsGuest:g,register:v,logout:E,addXp:A},children:[!i&&a,c.length>0&&m.jsx(LA,{achievements:c,onClose:()=>d([])})]})},ia=()=>{const a=L.useContext(xE);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},a4=()=>{const a=aa(),e=ws(),{user:n,logout:i}=ia(),[l,c]=L.useState(!1),[d,p]=L.useState(Qb.isMuted());L.useEffect(()=>{document.documentElement.classList.contains("dark")&&c(!0)},[]);const y=()=>{At.click();const j=document.documentElement;j.classList.contains("dark")?(j.classList.remove("dark"),c(!1)):(j.classList.add("dark"),c(!0))},g=()=>{const j=Qb.toggleMute();p(j),j||At.click()},v=j=>a.pathname===j,E=j=>`text-sm font-medium leading-normal transition-colors ${v(j)?"text-primary font-bold":"text-slate-700 dark:text-slate-300 hover:text-primary dark:hover:text-primary"}`,A=async()=>{At.click(),await i(),e("/")};return m.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-surface-light/95 dark:bg-surface-dark/95 backdrop-blur transition-colors duration-200",children:m.jsxs("div",{className:"px-4 md:px-10 py-3 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ye,{to:"/",className:"size-8 text-primary",onClick:()=>At.click(),children:m.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"}),m.jsx("path",{clipRule:"evenodd",d:"M10.4485 13.8519C10.4749 13.9271 10.6203 14.246 11.379 14.7361C12.298 15.3298 13.7492 15.9145 15.6717 16.3735C18.0007 16.9296 20.8712 17.2655 24 17.2655C27.1288 17.2655 29.9993 16.9296 32.3283 16.3735C34.2508 15.9145 35.702 15.3298 36.621 14.7361C37.3796 14.246 37.5251 13.9271 37.5515 13.8519C37.5287 13.7876 37.4333 13.5973 37.0635 13.2931C36.5266 12.8516 35.6288 12.3647 34.343 11.9175C31.79 11.0295 28.1333 10.4437 24 10.4437C19.8667 10.4437 16.2099 11.0295 13.657 11.9175C12.3712 12.3647 11.4734 12.8516 10.9365 13.2931C10.5667 13.5973 10.4713 13.7876 10.4485 13.8519ZM37.5563 18.7877C36.3176 19.3925 34.8502 19.8839 33.2571 20.2642C30.5836 20.9025 27.3973 21.2655 24 21.2655C20.6027 21.2655 17.4164 20.9025 14.7429 20.2642C13.1498 19.8839 11.6824 19.3925 10.4436 18.7877V34.1275C10.4515 34.1545 10.5427 34.4867 11.379 35.027C12.298 35.6207 13.7492 36.2054 15.6717 36.6644C18.0007 37.2205 20.8712 37.5564 24 37.5564C27.1288 37.5564 29.9993 37.2205 32.3283 36.6644C34.2508 36.2054 35.702 35.6207 36.621 35.027C37.4573 34.4867 37.5485 34.1546 37.5563 34.1275V18.7877ZM41.5563 13.8546V34.1455C41.5563 36.1078 40.158 37.5042 38.7915 38.3869C37.3498 39.3182 35.4192 40.0389 33.2571 40.5551C30.5836 41.1934 27.3973 41.5564 24 41.5564C20.6027 41.5564 17.4164 41.1934 14.7429 40.5551C12.5808 40.0389 10.6502 39.3182 9.20848 38.3869C7.84205 37.5042 6.44365 36.1078 6.44365 34.1455L6.44365 13.8546C6.44365 12.2684 7.37223 11.0454 8.39581 10.2036C9.43325 9.3505 10.8137 8.67141 12.343 8.13948C15.4203 7.06909 19.5418 6.44366 24 6.44366C28.4582 6.44366 32.5797 7.06909 35.657 8.13948C37.1863 8.67141 38.5667 9.3505 39.6042 10.2036C40.6278 11.0454 41.5563 12.2684 41.5563 13.8546Z",fill:"currentColor",fillRule:"evenodd"})]})}),m.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] hidden sm:block",children:"Zenbaki Osoen Abentura"})]}),m.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[m.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[m.jsx(Ye,{className:E("/"),to:"/",children:"Hasiera"}),m.jsx(Ye,{className:E("/topics"),to:"/topics",children:"Teoria"}),m.jsx(Ye,{className:E("/games"),to:"/games",children:"Jokoak"}),n&&m.jsx(Ye,{className:E("/progress"),to:"/progress",children:"Aurrerapena"}),n&&n.isAdmin&&m.jsx(Ye,{className:"text-sm font-bold text-red-500 hover:text-red-700 uppercase tracking-wider",to:"/admin",children:"ADMIN"})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("button",{onClick:g,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors",children:m.jsx("span",{className:"material-symbols-outlined",children:d?"volume_off":"volume_up"})}),m.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors",children:m.jsx("span",{className:"material-symbols-outlined",children:l?"light_mode":"dark_mode"})}),n?m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:A,className:"hidden md:flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 transition-colors text-slate-900 dark:text-white text-sm font-bold leading-normal tracking-[0.015em]",children:m.jsx("span",{className:"truncate",children:"Saioa itxi"})}),m.jsx(Ye,{to:"/profile",title:"Nire Profila",className:"bg-center bg-no-repeat bg-cover rounded-full size-10 border-2 border-primary/50 dark:border-primary/50 shadow-sm hover:scale-105 transition-transform",style:{backgroundImage:`url("${n.photoURL||"https://ui-avatars.com/api/?name="+n.displayName}")`}})]}):m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Ye,{to:"/login",className:"flex items-center justify-center rounded-lg h-9 px-4 bg-primary hover:bg-blue-600 transition-colors text-white text-sm font-bold shadow-sm shadow-blue-500/30",children:m.jsx("span",{className:"truncate",children:"Hasi Saioa"})}),m.jsx(Ye,{to:"/register",className:"hidden sm:flex items-center justify-center rounded-lg h-9 px-4 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors text-slate-900 dark:text-white text-sm font-bold",children:m.jsx("span",{className:"truncate",children:"Erregistratu"})})]})]})]})]})})},i4=()=>m.jsx("footer",{className:"w-full border-t border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark py-10 px-10",children:m.jsxs("div",{className:"max-w-[1200px] mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[m.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[m.jsx("div",{className:"size-6 text-primary",children:m.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"})})}),m.jsx("span",{className:"font-bold text-lg",children:"Zenbaki Osoen Abentura"})]}),m.jsxs("div",{className:"flex gap-8 text-sm font-medium text-slate-600 dark:text-slate-400",children:[m.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Irakasleentzat"}),m.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Laguntza"}),m.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Pribatutasuna"})]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:" 2023 DBH Matematika"})]})}),s4=()=>{const{toasts:a,removeToast:e}=Oc(),n=l=>{switch(l){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"xp":return"bg-yellow-400 text-slate-900 border-yellow-500 font-black";case"achievement":return"bg-purple-600 text-white border-purple-400 font-bold shadow-purple-500/50";default:return"bg-slate-800 text-white border-slate-900"}},i=l=>{switch(l){case"success":return"check_circle";case"error":return"error";case"xp":return"bolt";case"achievement":return"emoji_events";default:return"info"}};return m.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",children:a.map(l=>m.jsxs("div",{onClick:()=>e(l.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border-b-4 cursor-pointer animate-in slide-in-from-right fade-in duration-300 hover:scale-105 transition-transform ${n(l.type)}`,children:[m.jsx("span",{className:"material-symbols-outlined",children:i(l.type)}),m.jsx("span",{className:"text-sm font-bold",children:l.message})]},l.id))})},l4=()=>{const{user:a}=ia(),e=c=>a?a.completedLessons.includes(c):!1,n=e("theory_intro");e("theory_operations"),e("theory_multiplication"),e("theory_powers");const i=e("theory_advanced"),l=a?a.level>=5:!1;return m.jsx("main",{className:"flex-1 flex flex-col items-center w-full",children:m.jsxs("div",{className:"w-full max-w-[1200px] px-4 md:px-10 flex flex-col gap-12 pb-20",children:[m.jsx("section",{className:"@container mt-8 md:mt-12",children:m.jsxs("div",{className:"flex flex-col-reverse gap-8 md:flex-row items-center",children:[m.jsxs("div",{className:"flex flex-col gap-6 md:w-1/2 items-start text-left",children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx("span",{className:"text-primary font-bold tracking-wider uppercase text-xs md:text-sm bg-primary/10 w-fit px-3 py-1 rounded-full",children:"DBH 2. Maila - Matematika"}),m.jsx("h1",{className:"text-slate-900 dark:text-white text-4xl md:text-5xl lg:text-6xl font-black leading-[1.1] tracking-[-0.033em]",children:"Zenbaki Osoen Abentura Hasi!"}),m.jsx("h2",{className:"text-slate-600 dark:text-slate-400 text-base md:text-lg font-normal leading-relaxed max-w-[500px]",children:"Ikasi, jolastu eta irabazi puntuak. Deskubritu zenbaki negatiboen mundua erronka dibertigarriekin eta bihurtu matematikako txapeldun."})]}),m.jsxs("div",{className:"flex gap-4 w-full sm:w-auto flex-col sm:flex-row",children:[m.jsxs(Ye,{to:"/topics",className:"flex items-center justify-center rounded-lg h-12 px-8 bg-primary hover:bg-blue-600 text-white text-base font-bold shadow-lg shadow-blue-500/40 transition-all hover:translate-y-[-2px]",children:[m.jsx("span",{className:"truncate",children:"Hasi Abentura"}),m.jsx("span",{className:"material-symbols-outlined ml-2 text-[20px]",children:"rocket_launch"})]}),m.jsx(Ye,{to:"/theory/intro",className:"flex items-center justify-center rounded-lg h-12 px-6 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 font-bold transition-all",children:m.jsx("span",{children:"Lehen Ikasgaia"})})]})]}),m.jsx("div",{className:"w-full md:w-1/2 aspect-video md:aspect-square lg:aspect-[4/3] bg-center bg-no-repeat bg-cover rounded-2xl shadow-2xl shadow-primary/10 overflow-hidden relative group",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAqmvAuI9_ytmxwMBXV9ubA8KS2DSe3XEPM5aROqmNBTmliY-H8QjZ3fS9t4mOZHGGRcug1VZrzBfppqzDBH4IybMsE5Mc0iP496e08PNQv9QKKaAJAjRPswCKVzbcKfaC9LvzL-fcWuOLLNCoVv4RbqHYb3O3ilFQC9Rxovw_kI1eaJyTqlaTrX1gS1Ky6_iUUOSf9Iy5sfXDZfQv_nRo1_7FWIEEKBpXtUv0t-gblYLtakb2zxVN0rLP91s1F7_yOkBlAetImQVmY")'},children:m.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary/20 to-transparent"})})]})}),m.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full",children:[m.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-surface-light dark:bg-surface-dark border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute right-[-10px] top-[-10px] text-slate-100 dark:text-slate-800 rotate-12 group-hover:scale-110 transition-transform",children:m.jsx("span",{className:"material-symbols-outlined text-[100px]",children:"groups"})}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-bold uppercase tracking-wider relative z-10",children:"Jokalari Aktiboak"}),m.jsx("p",{className:"text-slate-900 dark:text-white text-3xl font-black leading-tight relative z-10",children:"150+"})]}),m.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-surface-light dark:bg-surface-dark border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute right-[-10px] top-[-10px] text-slate-100 dark:text-slate-800 rotate-12 group-hover:scale-110 transition-transform",children:m.jsx("span",{className:"material-symbols-outlined text-[100px]",children:"check_circle"})}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-bold uppercase tracking-wider relative z-10",children:"Ebatzitako Ariketak"}),m.jsx("p",{className:"text-slate-900 dark:text-white text-3xl font-black leading-tight relative z-10",children:"3,500"})]}),m.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-surface-light dark:bg-surface-dark border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute right-[-10px] top-[-10px] text-slate-100 dark:text-slate-800 rotate-12 group-hover:scale-110 transition-transform",children:m.jsx("span",{className:"material-symbols-outlined text-[100px]",children:"military_tech"})}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-bold uppercase tracking-wider relative z-10",children:"Maila Maximoa"}),m.jsx("p",{className:"text-slate-900 dark:text-white text-3xl font-black leading-tight relative z-10 text-primary",children:"Lvl 10"})]})]}),m.jsxs("section",{className:"flex flex-col gap-6 w-full",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 pb-4",children:[m.jsx("h2",{className:"text-slate-900 dark:text-white text-2xl font-bold tracking-tight",children:"Aukeratu Zure Bidea"}),m.jsxs(Ye,{className:"text-primary hover:text-blue-600 text-sm font-bold flex items-center gap-1",to:"/topics",children:["Ikusi dena ",m.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"arrow_forward"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs(Ye,{className:"group relative flex flex-col gap-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-surface-light dark:bg-surface-dark p-5 transition-all hover:-translate-y-1 hover:border-primary/50 hover:shadow-lg dark:hover:border-primary/50",to:"/topics",children:[m.jsx("div",{className:"w-full h-32 rounded-lg bg-slate-100 dark:bg-slate-800 bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC1cgGZwA72EHOK1-O-BIlo3M3MkeaYS-J0OdZg29jMmVZb-y7I--J4ezmq12kiNHzi60eNCmuf1ANads-dS8fRqTZsTP9jDRiOBnght9FJZQz8ci0BN-8cvfioR3Ii04sTokdxopMBGM9cG0zMH0La_fLlU_-s-R6TlAtDhz3npfdMd8Uf3z0qGXO5MUzSXPdEjO2BxvcP4VQrf17fEx0LEK8qphbXKZ-FJAx_1MF5xrlDgu6LmGFWlLTNBgslTm2N3GNFwdloP8TB")'}}),m.jsxs("div",{className:"flex flex-col flex-1",children:[m.jsx("div",{className:"flex items-center gap-2 mb-2",children:m.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wide",children:"Ikasgaia"})}),m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold group-hover:text-primary transition-colors",children:"Teoria Orokorra"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 line-clamp-2",children:"Zenbaki osoen definizioa, adibideak eta oinarrizko kontzeptuak."})]})]}),n?m.jsxs(Ye,{className:"group relative flex flex-col gap-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-surface-light dark:bg-surface-dark p-5 transition-all hover:-translate-y-1 hover:border-primary/50 hover:shadow-lg dark:hover:border-primary/50",to:"/games?mode=ordering&difficulty=easy",children:[m.jsx("div",{className:"w-full h-32 rounded-lg bg-slate-100 dark:bg-slate-800 bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuDRuJL8XcxOxLUfp4STBBcZtrGVgXIJSmpVHm3LdlzeuZiXJ0li916s3sLNCUPq7NEJpuFVQaThKg72Dp1A5GhOZNUzZ9241T3e26Zu2dc637v7CVSkGTDI8qS95bWJN_LJLEWXWlAy0Szzv93YqJ5rCcctQuoi7_Dp1qC1xTTOeObXqluXX30E1XY6QnCF8rvxQ3rJ6Y7fOvvTO0TS_0oWxPS7fIgPXIobpotiFPpX40Y7q6_iwDJcwSns-J9f7DtgQRJ_JLHIHsnt")'}}),m.jsxs("div",{className:"flex flex-col flex-1",children:[m.jsx("div",{className:"flex items-center gap-2 mb-2",children:m.jsx("span",{className:"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wide",children:"Praktika"})}),m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold group-hover:text-primary transition-colors",children:"Ordena"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 line-clamp-2",children:"Praktikatu zenbaki positibo eta negatiboen ordena."})]})]}):m.jsxs("div",{className:"group relative flex flex-col gap-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-surface-light dark:bg-surface-dark p-5 opacity-60 grayscale cursor-not-allowed",children:[m.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:m.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-500",children:"lock"})}),m.jsx("div",{className:"w-full h-32 rounded-lg bg-slate-100 dark:bg-slate-800 bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuDRuJL8XcxOxLUfp4STBBcZtrGVgXIJSmpVHm3LdlzeuZiXJ0li916s3sLNCUPq7NEJpuFVQaThKg72Dp1A5GhOZNUzZ9241T3e26Zu2dc637v7CVSkGTDI8qS95bWJN_LJLEWXWlAy0Szzv93YqJ5rCcctQuoi7_Dp1qC1xTTOeObXqluXX30E1XY6QnCF8rvxQ3rJ6Y7fOvvTO0TS_0oWxPS7fIgPXIobpotiFPpX40Y7q6_iwDJcwSns-J9f7DtgQRJ_JLHIHsnt")'}}),m.jsxs("div",{className:"flex flex-col flex-1",children:[m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold",children:"Ordena"}),m.jsx("p",{className:"text-xs font-bold text-red-500",children:"Osatu 1. Test-a"})]})]}),i?m.jsxs(Ye,{className:"group relative flex flex-col gap-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-surface-light dark:bg-surface-dark p-5 transition-all hover:-translate-y-1 hover:border-purple-500/50 hover:shadow-lg dark:hover:border-purple-500/50",to:"/games?mode=combined&difficulty=easy",children:[m.jsx("div",{className:"w-full h-32 rounded-lg bg-slate-100 dark:bg-slate-800 bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCIZmeQp51n44ag26kn_j3Wxmg9Xby9wnQt2DeijnjaiVHWrO9u__kplt6ihLmwyYLdILX77r_sDZn0AcYdpAhzrILrPSl4X_FVKCicB27DwY8sewtwXSYebz096oEQl2K9P28rnIebKzitiDiExWiFJ20iLrn1s4WRlKZ8vmGaUMoPwpZ-jshoBWQwnYlCEQc2daYVC1fJQOBqXM-dTO4BVYG9VyvtFK9HGE5GRYEIdaDUEHTFdwEKW1xQc6UWqeLP6zXZV9dWcSEG")'}}),m.jsxs("div",{className:"flex flex-col flex-1",children:[m.jsx("div",{className:"flex items-center gap-2 mb-2",children:m.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wide",children:"Jokoa"})}),m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold group-hover:text-purple-600 transition-colors",children:"Konbinatuak"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 line-clamp-2",children:"PEMDAS hierarkia eta parentesiak."})]})]}):m.jsxs("div",{className:"group relative flex flex-col gap-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-surface-light dark:bg-surface-dark p-5 opacity-60 grayscale cursor-not-allowed",children:[m.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:m.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-500",children:"lock"})}),m.jsx("div",{className:"w-full h-32 rounded-lg bg-slate-100 dark:bg-slate-800 bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCIZmeQp51n44ag26kn_j3Wxmg9Xby9wnQt2DeijnjaiVHWrO9u__kplt6ihLmwyYLdILX77r_sDZn0AcYdpAhzrILrPSl4X_FVKCicB27DwY8sewtwXSYebz096oEQl2K9P28rnIebKzitiDiExWiFJ20iLrn1s4WRlKZ8vmGaUMoPwpZ-jshoBWQwnYlCEQc2daYVC1fJQOBqXM-dTO4BVYG9VyvtFK9HGE5GRYEIdaDUEHTFdwEKW1xQc6UWqeLP6zXZV9dWcSEG")'}}),m.jsxs("div",{className:"flex flex-col flex-1",children:[m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold",children:"Konbinatuak"}),m.jsx("p",{className:"text-xs font-bold text-red-500",children:"Osatu 5. Test-a"})]})]}),m.jsxs("div",{className:`group relative flex flex-col gap-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-surface-light dark:bg-surface-dark p-5 transition-all ${l?"hover:-translate-y-1 hover:border-red-500/50 hover:shadow-lg":"opacity-75 grayscale hover:grayscale-0 hover:opacity-100 cursor-pointer"}`,children:[!l&&m.jsx("div",{className:"absolute inset-0 bg-slate-900/5 z-10 flex items-center justify-center rounded-xl group-hover:opacity-0 transition-opacity",children:m.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-600 dark:text-slate-400",children:"lock"})}),m.jsx("div",{className:"w-full h-32 rounded-lg bg-slate-100 dark:bg-slate-800 bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCWrhtwa-o7p-baLbvePVX6xikASyU7RfyKlP5fGYWxrQCSbu4DKl5uIqOxm47P3glz9vfsCXoV3cBXqLBN22Vne4fHNUFL-CJ1t-4uP5ZGJEzgiF487zXaeI6yLeJwUcFCIO1xOCCBtKrOku7p7I1tF6k_uwVD63ZCiIGkNZP7Ho7-W4Anc65VmyKjkUlu8WChMZ7Q89vfGRyHFOPvgGK8hyykZWEjnAKhx9OAug6XuK5vEiDmFqanU3ao24NM7SJXNbmZDr13lGom")'}}),m.jsxs("div",{className:"flex flex-col flex-1",children:[m.jsx("div",{className:"flex items-center gap-2 mb-2",children:m.jsx("span",{className:"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wide",children:"Azterketa"})}),m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold group-hover:text-red-600 transition-colors",children:"Azken Erronka"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 line-clamp-2",children:"Erakutsi dakizun guztia maila hau gainditzeko."})]}),m.jsxs("div",{className:"mt-2 pt-3 border-t border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[m.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Desblokeatu Lvl 5ean"}),l?m.jsx(Ye,{to:"/games?mode=mixed&difficulty=hard",className:"text-primary font-bold text-xs",children:"JOLASTU"}):m.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"lock"})]})]})]})]})]})})},o4=()=>{const{user:a}=ia();if(!a)return null;const e=ne=>a.completedLessons.includes(ne),n=ne=>a.gameXp[ne]||0,i=e("theory_intro"),l=n("ordering_hard")>=rt.ordering_hard,c=Math.min(100,n("ordering_hard")/rt.ordering_hard*100),d=e("theory_operations"),y=n("addition_hard")>=rt.addition_hard||n("subtraction_hard")>=rt.subtraction_hard,g=Math.min(100,n("addition_hard")/rt.addition_hard*100),v=e("theory_multiplication"),A=n("multiplication_hard")>=rt.multiplication_hard||n("division_hard")>=rt.division_hard,j=Math.min(100,n("multiplication_hard")/rt.multiplication_hard*100),H=e("theory_powers"),U=n("powers_hard")>=rt.powers_hard||n("roots_hard")>=rt.roots_hard,te=Math.min(100,n("powers_hard")/rt.powers_hard*100),ae=e("theory_advanced");return m.jsx("main",{className:"flex flex-1 flex-col items-center py-8",children:m.jsxs("div",{className:"layout-content-container flex flex-col w-full max-w-[1200px] px-4 lg:px-8 gap-8",children:[m.jsx("div",{className:"@container",children:m.jsxs("div",{className:"flex flex-col gap-6 p-6 rounded-2xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 @[480px]:gap-8 @[864px]:flex-row transition-all hover:shadow-md",children:[m.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl @[480px]:h-auto @[480px]:min-w-[300px] @[864px]:w-1/2 max-w-[500px]",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBRmPvc3EOaJSextMYOxzWlMwMqOi_BzRFGtqC16zLLEQ2RKVskHP3h1Gir_tImbrR38L3G0ZbvwuWjG3r0qPFbGZTfYIJ63BkuopqMsdkYhWKRzUNuSILppKpKIz0ZpbSMgRFxv2N8WXIZMf1YTdA81EZFwKhonr7FTy65o7V3UK_QoowEKdi-Xz_NCKty3f47bOK6XDHrlmtWDlLJmWx_FSyufhUQ9Fixq7p9Akh3NkvFg7UngPQ6MAGfkujoka1gEgtOunw-tQpb")'}}),m.jsxs("div",{className:"flex flex-col justify-center gap-6 flex-1",children:[m.jsxs("div",{className:"flex flex-col gap-3 text-left",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 w-fit",children:[m.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"school"}),m.jsx("span",{className:"text-primary text-xs font-bold uppercase tracking-wide",children:"2. DBH - Matematika"})]}),m.jsx("h1",{className:"text-slate-900 dark:text-white text-3xl font-black leading-tight tracking-[-0.033em] @[480px]:text-4xl",children:"Zenbaki Osoak"}),m.jsx("h2",{className:"text-slate-500 dark:text-slate-300 text-base font-normal leading-relaxed",children:"Osatu unitate bakoitzeko teoria eta jokoak hurrengo maila desblokeatzeko."})]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["Maila Orokorra: ",(a==null?void 0:a.level)||1]}),m.jsxs("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:[(a==null?void 0:a.xp)||0," XP"]})]}),m.jsx("div",{className:"rounded-full h-3 bg-slate-100 dark:bg-slate-700 overflow-hidden",children:m.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-500",style:{width:`${((a==null?void 0:a.xp)||0)%500/5}%`}})})]})]})]})}),m.jsxs("div",{className:"flex flex-col gap-1 pt-4",children:[m.jsx("h2",{className:"text-slate-900 dark:text-white text-2xl font-bold leading-tight",children:"Ikasketa Bidea"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Jarraibideak bete hurrengo mailak irekitzeko."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-12",children:[m.jsxs("div",{className:"group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e("theory_intro")&&m.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:m.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),m.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuANpFJXXpVuGa0bSpEboWaKePkikvFHog0REbJAGDWWLhjrWoLl2tuIq8odigSNYX6gcjAB842Jen-3jtrXELjGUpzk3hO2gLKN4MRMwgmQVw9m3SI84TkaCR5VVXWe1nxR-ZpmZkK3POp95Jf-FyqwWOAIcMFjq9ragGXO5XMGRAZ7H-fnTYOOMB0hRfVUstzXBU0a8V6XnZY5EYrq1NU56aS_zBAoBb85v-qODAiTlblca3GAi4fPwoJ4S7DYH4Cv-0RU0_tgk2YB")'}}),m.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsx("span",{className:"px-2 py-1 rounded bg-blue-50 dark:bg-blue-900/10 text-xs font-bold text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800",children:"1. Unitatea"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Oinarriak"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Balio absolutua, aurkakoa eta ordenatzea."})]}),m.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[m.jsx(Ye,{to:"/theory/intro",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}),i?m.jsx(Ye,{to:"/games?mode=ordering&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):m.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[m.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),m.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${l?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_operations")&&m.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:m.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!l&&m.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:m.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[m.jsx("span",{className:"material-symbols-outlined",children:"lock"}),m.jsx("span",{className:"text-sm font-bold",children:"Osatu 1. Unitatea (Zaila)"})]})}),m.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC62k7gl3J7HZSIfnl6y1kMaKGOJ4nTP40gXUjGxscgY28PX5FH6v6lDKFbzmsFufrUrjv__fohbhSDGIuZinVtKkMqFeGJ-eplqrDryMnifQ-0gK0D7I_Ik44zXDr7EpqEwCGNmIOd2IHsXHUqR8Vu7omJKtUnl2jibF4Np8Cf2JN8MUy2cvfM0Aiws6wFlHeKVes9Pdj7fvWbwlTTeOZJ0r3Wbvev1C_cBVn10wXH39BFFY5uGK_SCF3b5yvCLc6PQyE7Np81Lvnl")'}}),m.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsx("span",{className:"px-2 py-1 rounded bg-orange-50 dark:bg-orange-900/10 text-xs font-bold text-orange-700 dark:text-orange-300 border border-orange-200 dark:border-orange-800",children:"2. Unitatea"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Batuketa eta Kenketa"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Parentesiak kendu, zeinu berdinak eta ezberdinak."}),!l&&m.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:m.jsx("div",{className:"h-full bg-orange-400 rounded-full",style:{width:`${c}%`}})})]}),m.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[l?m.jsx(Ye,{to:"/theory/operations",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):m.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),d?m.jsx(Ye,{to:"/games?mode=addition&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):m.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[m.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),m.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${y?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_multiplication")&&m.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:m.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!y&&m.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:m.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[m.jsx("span",{className:"material-symbols-outlined",children:"lock"}),m.jsx("span",{className:"text-sm font-bold",children:"Osatu 2. Unitatea (Zaila)"})]})}),m.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAP0VeZTXTkvkfWI-nBluHmRyLy8pWM1OB6hCuXMSuTwoJ1V8BxY4Xs22kgalUbtYG7YoyFSvNpHRt93p0PUGBgp89R0zHXgQ0094c7_NfkJ3MMu8A3QiGkyMl0xHdMPPDIIdfzHx0wpXdmxxoYp5LnZmUeI0Vry1gKa7QRShJKhGzh6zWfyXtuALBaw7yw9Qm9YRnKPbnVBdf1Hq1BZN_DxPDVGEDCrikCrozUEu88VIOD9aDBliLeppf-wGv3DmuMCbB_BX5nsL54")'}}),m.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsx("span",{className:"px-2 py-1 rounded bg-purple-50 dark:bg-purple-900/10 text-xs font-bold text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800",children:"3. Unitatea"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Biderketa eta Zatiketa"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Zeinuen Legea: +  + = + ..."}),!y&&m.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:m.jsx("div",{className:"h-full bg-purple-400 rounded-full",style:{width:`${g}%`}})})]}),m.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[y?m.jsx(Ye,{to:"/theory/multiplication",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):m.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),v?m.jsx(Ye,{to:"/games?mode=multiplication&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):m.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[m.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),m.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${A?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_powers")&&m.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:m.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!A&&m.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:m.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[m.jsx("span",{className:"material-symbols-outlined",children:"lock"}),m.jsx("span",{className:"text-sm font-bold",children:"Osatu 3. Unitatea (Zaila)"})]})}),m.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAz6Y8-19_3-7y88X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888X35-8y57777y18888")'},children:m.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:m.jsx("span",{className:"material-symbols-outlined text-white text-6xl opacity-50",children:"electric_bolt"})})}),m.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsx("span",{className:"px-2 py-1 rounded bg-indigo-50 dark:bg-indigo-900/10 text-xs font-bold text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-800",children:"4. Unitatea"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Berreketak"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Potentziak, erro karratuak eta ikurren arauak."}),!A&&m.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:m.jsx("div",{className:"h-full bg-indigo-400 rounded-full",style:{width:`${j}%`}})})]}),m.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[A?m.jsx(Ye,{to:"/theory/powers",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):m.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),H?m.jsx(Ye,{to:"/games?mode=powers&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-primary hover:bg-blue-700 text-white text-sm font-bold transition-colors",children:"Jolastu"}):m.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[m.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]}),m.jsxs("div",{className:`group relative flex flex-col sm:flex-row items-stretch rounded-xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${U?"hover:shadow-xl hover:-translate-y-1 transition-all":"opacity-70 grayscale"}`,children:[e("theory_advanced")&&m.jsx("div",{className:"absolute top-3 right-3 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:m.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),!U&&m.jsx("div",{className:"absolute inset-0 bg-slate-100/10 z-20 flex items-center justify-center backdrop-blur-[1px]",children:m.jsxs("div",{className:"bg-slate-900/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-xl",children:[m.jsx("span",{className:"material-symbols-outlined",children:"lock"}),m.jsx("span",{className:"text-sm font-bold",children:"Osatu 4. Unitatea (Zaila)"})]})}),m.jsx("div",{className:"w-full sm:w-1/3 min-h-[160px] sm:min-h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC1cgGZwA72EHOK1-O-BIlo3M3MkeaYS-J0OdZg29jMmVZb-y7I--J4ezmq12kiNHzi60eNCmuf1ANads-dS8fRqTZsTP9jDRiOBnght9FJZQz8ci0BN-8cvfioR3Ii04sTokdxopMBGM9cG0zMH0La_fLlU_-s-R6TlAtDhz3npfdMd8Uf3z0qGXO5MUzSXPdEjO2BxvcP4VQrf17fEx0LEK8qphbXKZ-FJAx_1MF5xrlDgu6LmGFWlLTNBgslTm2N3GNFwdloP8TB")'}}),m.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3 p-5",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsx("span",{className:"px-2 py-1 rounded bg-teal-50 dark:bg-teal-900/10 text-xs font-bold text-teal-700 dark:text-teal-300 border border-teal-200 dark:border-teal-800",children:"5. Unitatea"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight mb-1",children:"Eragiketa Konbinatuak"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Hierarkia (PEMDAS) eta parentesi konplexuak."}),!U&&m.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-2",children:m.jsx("div",{className:"h-full bg-teal-400 rounded-full",style:{width:`${te}%`}})})]}),m.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[U?m.jsx(Ye,{to:"/theory/advanced",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-sm font-bold transition-colors",children:"Teoria"}):m.jsx("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:"Teoria"}),ae?m.jsx(Ye,{to:"/games?mode=combined&difficulty=easy",className:"flex-1 flex items-center justify-center rounded-lg h-9 bg-teal-600 hover:bg-teal-700 text-white text-sm font-bold transition-colors shadow-teal-500/20 shadow-lg",children:"Erronka Hasi"}):m.jsxs("button",{disabled:!0,className:"flex-1 flex items-center justify-center gap-1 rounded-lg h-9 bg-slate-200 dark:bg-slate-700/50 text-slate-400 text-sm font-bold cursor-not-allowed",children:[m.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})," Jokoa"]})]})]})]})]})]})})},Rx={intro:{title:"1. Unitatea: Oinarriak",nextLink:"/games?mode=ordering&difficulty=easy",nextLabel:"Praktikatu: Ordena",content:m.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsx("section",{children:m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border-l-4 border-primary mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Zer dira Zenbaki Osoak (Z)?"}),m.jsx("p",{children:"Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:"}),m.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Positiboak:"}),' (+1, +2...)  "Daukadana".']}),m.jsxs("li",{children:[m.jsx("strong",{children:"Zero:"})," (0)  Muga."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Negatiboak:"}),' (-1, -2...)  "Zor dudana" edo "Zero azpitik".']})]})]})}),m.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-inner",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-primary",children:"linear_scale"}),"Zuzen Erreala eta Ordena"]}),m.jsx("p",{className:"mb-6 text-sm",children:"Zenbakiak lerro batean ordenatzen dira. Eskuinerantz handitzen dira."}),m.jsxs("div",{className:"w-full h-24 relative flex items-center justify-center select-none overflow-hidden my-8",children:[m.jsx("div",{className:"absolute w-[95%] h-1 bg-slate-300 dark:bg-slate-600 rounded-full"}),m.jsx("div",{className:"flex justify-between w-[90%] relative z-10",children:[-3,-2,-1,0,1,2,3].map(a=>m.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer hover:-translate-y-1 transition-transform",children:[m.jsx("div",{className:`w-0.5 h-4 ${a===0?"h-6 bg-slate-900 dark:bg-white":"bg-slate-400"}`}),m.jsx("span",{className:`text-sm md:text-base font-bold ${a===0?"text-slate-900 dark:text-white":a<0?"text-red-500":"text-blue-500"}`,children:a>0?`+${a}`:a})]},a))})]}),m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-900/30",children:[m.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 mb-2",children:"Kontuz Negatiboekin!"}),m.jsxs("p",{className:"text-sm",children:['Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta ',m.jsx("strong",{children:"txikiagoa"})," da balioa."]}),m.jsx("div",{className:"mt-2 font-mono bg-white dark:bg-slate-800 p-2 rounded text-center border border-red-200 dark:border-red-900",children:"-100 < -1"})]})]})]}),quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correctIdx:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correctIdx:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correctIdx:0}]},operations:{title:"2. Unitatea: Batuketa eta Kenketa",nextLink:"/games?mode=addition&difficulty=easy",nextLabel:"Praktikatu: Batuketak",content:m.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("section",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-6 rounded-2xl border border-yellow-200 dark:border-yellow-800",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-yellow-600",children:"layers_clear"}),"1. Pausoa: Parentesiak Kendu"]}),m.jsx("p",{className:"mb-4",children:"Zenbaki baten aurrean zeinu bat badago, nola geratzen da?"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center font-mono font-bold",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[m.jsx("span",{className:"text-slate-400",children:"+(+a) edo -(-a)"})," ",m.jsx("br",{})," ",m.jsx("span",{className:"text-green-600 text-xl",children:" +a (Berdinak)"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[m.jsx("span",{className:"text-slate-400",children:"+(-a) edo -(+a)"})," ",m.jsx("br",{})," ",m.jsx("span",{className:"text-red-600 text-xl",children:" -a (Ezberdinak)"})]})]})]}),m.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-primary",children:"calculate"}),"2. Pausoa: Eragiketa Egin"]}),m.jsx("p",{className:"mb-4",children:"Orain ez daukagu parentesirik. Nola operatu?"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-5 rounded-xl",children:[m.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 mb-2",children:"Zeinu Berdina"}),m.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",m.jsx("strong",{children:"BATU"})," egiten dira eta zeinua mantendu."]}),m.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[m.jsx("li",{children:"+5 +3 = +8"}),m.jsx("li",{children:"-5 -3 = -8"})]})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-5 rounded-xl",children:[m.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:"Zeinu Ezberdina"}),m.jsxs("p",{className:"text-sm mb-2",children:["Zenbakiak ",m.jsx("strong",{children:"KENDU"})," egiten dira eta balio absolutu handienaren zeinua jarri."]}),m.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[m.jsx("li",{children:"+5 -3 = +2 (5 handiago)"}),m.jsx("li",{children:"-5 +3 = -2 (5 handiago)"})]})]})]})]})]}),quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correctIdx:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correctIdx:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correctIdx:2}]},multiplication:{title:"3. Unitatea: Biderketa eta Zatiketa",nextLink:"/games?mode=multiplication&difficulty=easy",nextLabel:"Praktikatu: Biderketak",content:m.jsx("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:m.jsxs("section",{className:"bg-purple-50 dark:bg-purple-900/10 p-6 rounded-2xl border border-purple-200 dark:border-purple-800",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-purple-600",children:"close"}),"Zeinuen Legea"]}),m.jsxs("p",{className:"mb-4",children:["Biderketetan eta zatiketetan arau hau betetzen da ",m.jsx("strong",{children:"BETI"}),":"]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[m.jsx("span",{className:"text-xl font-black text-green-600 mb-1",children:"+  +"}),m.jsx("span",{className:"text-2xl font-black text-green-700",children:"= +"})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[m.jsx("span",{className:"text-xl font-black text-red-600 mb-1",children:"+  -"}),m.jsx("span",{className:"text-2xl font-black text-red-700",children:"= -"})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[m.jsx("span",{className:"text-xl font-black text-red-600 mb-1",children:"-  +"}),m.jsx("span",{className:"text-2xl font-black text-red-700",children:"= -"})]}),m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-4 rounded-xl flex flex-col items-center justify-center text-center",children:[m.jsx("span",{className:"text-xl font-black text-green-600 mb-1",children:"-  -"}),m.jsx("span",{className:"text-2xl font-black text-green-700",children:"= +"})]})]}),m.jsxs("div",{className:"mt-6 p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("h4",{className:"font-bold mb-2",children:"Aholkua:"}),m.jsx("p",{className:"text-sm",children:"Lagunaren araua erabil dezakezu:"}),m.jsxs("ul",{className:"text-sm list-disc pl-5 mt-1 space-y-1",children:[m.jsx("li",{children:"Nire lagunaren (+) laguna (+) = Nire laguna (+)"}),m.jsx("li",{children:"Nire etsaien (-) etsaia (-) = Nire laguna (+)"})]})]})]})}),quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correctIdx:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correctIdx:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correctIdx:2}]},powers:{title:"4. Unitatea: Berreketak eta Erroketak",nextLink:"/games?mode=powers&difficulty=easy",nextLabel:"Praktikatu: Berreketak",content:m.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("section",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-200 dark:border-indigo-800",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-indigo-600",children:"functions"}),"Berreketen Propietateak"]}),m.jsx("p",{className:"mb-6 text-sm",children:"Hiru arau nagusi hauek buruz jakin behar dituzu eragiketak egiteko:"}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-green-500 shadow-sm",children:[m.jsx("div",{className:"size-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 font-bold text-lg",children:""}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Biderketa (Oinarri berdina)"}),m.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",m.jsx("strong",{children:"BATU"})," egiten dira."]}),m.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",m.jsx("sup",{children:"n"}),"  a",m.jsx("sup",{children:"m"})," = a",m.jsx("sup",{children:"n+m"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-red-500 shadow-sm",children:[m.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 font-bold text-lg",children:":"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Zatiketa (Oinarri berdina)"}),m.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",m.jsx("strong",{children:"KENDU"})," egiten dira."]}),m.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",m.jsx("sup",{children:"n"})," : a",m.jsx("sup",{children:"m"})," = a",m.jsx("sup",{children:"n-m"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-blue-500 shadow-sm",children:[m.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 font-bold text-lg",children:"()"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Berreketaren Berreketa"}),m.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",m.jsx("strong",{children:"BIDERKATU"})," egiten dira."]}),m.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["(a",m.jsx("sup",{children:"n"}),")",m.jsx("sup",{children:"m"})," = a",m.jsx("sup",{children:"nm"})]})]})]})]})]}),m.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-slate-500",children:"exposure"}),"Zeinuen Araua (Oinarri Negatiboa)"]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[m.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BIKOITIA (2, 4...)"}),m.jsxs("p",{className:"text-sm",children:["Emaitza ",m.jsx("span",{className:"text-green-600 font-bold",children:"POSITIBOA (+)"}),"."]}),m.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-3)",m.jsx("sup",{children:"2"})," = +9"]})]}),m.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[m.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BAKOITIA (3, 5...)"}),m.jsx("p",{className:"text-sm",children:"Oinarriaren zeinua mantendu."}),m.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-2)",m.jsx("sup",{children:"3"})," = -8"]})]})]})]})]}),quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correctIdx:0},{question:"Zein da (-2) ber 2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correctIdx:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correctIdx:1}]},advanced:{title:"5. Unitatea: Konbinatuak (PEMDAS)",nextLink:"/games?mode=combined&difficulty=easy",nextLabel:"Praktikatu: Konbinatuak",content:m.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-2xl border border-orange-200 dark:border-orange-800",children:[m.jsx("h3",{className:"text-xl font-black text-orange-700 dark:text-orange-300 mb-2",children:"Eragiketen Hierarkia"}),m.jsx("p",{children:"Dena nahastuta dagoenean, ordena hau jarraitu behar da derrigorrez:"})]}),m.jsxs("section",{className:"flex flex-col items-center w-full max-w-lg mx-auto relative",children:[m.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 h-full w-1 bg-slate-200 dark:bg-slate-700 -z-10"}),m.jsxs("div",{className:"w-full bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-purple-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[m.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-purple-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"1"}),m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Parentesiak ( ) [ ]"})})]}),m.jsxs("div",{className:"w-[95%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-indigo-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[m.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-indigo-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"2"}),m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Berreketak eta Erroak"})})]}),m.jsxs("div",{className:"w-[90%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-blue-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[m.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-blue-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"3"}),m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Biderketa eta Zatiketa"})})]}),m.jsxs("div",{className:"w-[80%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-green-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[m.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-green-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"4"}),m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Batuketa eta Kenketa"})})]})]})]}),quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correctIdx:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correctIdx:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correctIdx:1}]}},c4=()=>{const{topicId:a}=BT(),{user:e,addXp:n}=ia(),{addToast:i}=Oc(),l=a||"intro",c=`theory_${l}`,d=Rx[l]||Rx.intro,[p,y]=L.useState(new Array(3).fill(-1)),[g,v]=L.useState(!1),[E,A]=L.useState(!1),j=N=>e&&e.gameXp[N]||0,H=j("ordering_hard")<rt.ordering_hard,U=!(j("addition_hard")>=rt.addition_hard||j("subtraction_hard")>=rt.subtraction_hard),ae=!(j("multiplication_hard")>=rt.multiplication_hard||j("division_hard")>=rt.division_hard),me=!(j("powers_hard")>=rt.powers_hard||j("roots_hard")>=rt.roots_hard);if(a==="operations"&&H)return m.jsx(_l,{to:"/topics",replace:!0});if(a==="multiplication"&&U)return m.jsx(_l,{to:"/topics",replace:!0});if(a==="powers"&&ae)return m.jsx(_l,{to:"/topics",replace:!0});if(a==="advanced"&&me)return m.jsx(_l,{to:"/topics",replace:!0});L.useEffect(()=>{e&&e.completedLessons.includes(c)?(A(!0),y(d.quiz.map(N=>N.correctIdx)),v(!0)):(y(new Array(3).fill(-1)),v(!1),A(!1))},[c,e,d.quiz]);const ke=(N,S)=>{if(E)return;const k=[...p];k[N]=S,y(k),v(!1)},Se=async()=>{if(p.some(S=>S===-1)){i("info","Erantzun galdera guztiak mesedez.");return}v(!0),p.every((S,k)=>S===d.quiz[k].correctIdx)?(At.win(),A(!0),e&&!e.completedLessons.includes(c)&&(await n(50,c)>0?i("xp","+50 XP Teoria ikasteagatik!"):i("success","Teoria osatuta! Orain jolastu dezakezu."))):(At.wrong(),i("error","Erantzun okerrak daude. Berrikusi teoria eta saiatu berriro."))};return m.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-10 flex justify-center",children:m.jsxs("div",{className:"max-w-[900px] w-full flex flex-col gap-8",children:[m.jsxs(Ye,{to:"/topics",className:"flex items-center gap-2 text-slate-500 hover:text-primary transition-colors font-bold text-sm",children:[m.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),"Atzera"]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-slate-100 dark:border-slate-700 pb-6",children:[m.jsx("div",{className:"size-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/30",children:m.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})}),m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:a==="intro"?"1. Unitatea":a==="operations"?"2. Unitatea":a==="multiplication"?"3. Unitatea":a==="powers"?"4. Unitatea":"5. Unitatea"}),m.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight",children:d.title})]})]}),d.content,m.jsxs("div",{className:"mt-12 pt-8 border-t-2 border-slate-100 dark:border-slate-700",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("h3",{className:"text-xl font-black text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-primary",children:"quiz"}),"Egiaztatu zure ezagutza"]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Erantzun galdera hauek zuzen jokoa eta XP puntuak desblokeatzeko."})]}),m.jsx("div",{className:"flex flex-col gap-6",children:d.quiz.map((N,S)=>{const k=g&&p[S]===N.correctIdx,D=g&&p[S]!==N.correctIdx;return m.jsxs("div",{className:`p-5 rounded-xl border-2 transition-colors ${k?"border-green-500 bg-green-50 dark:bg-green-900/10":D?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50"}`,children:[m.jsxs("p",{className:"font-bold text-slate-900 dark:text-white mb-3",children:[S+1,". ",N.question]}),m.jsx("div",{className:"flex flex-col gap-2",children:N.options.map((I,V)=>m.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors hover:bg-white dark:hover:bg-slate-800 ${p[S]===V?"bg-white dark:bg-slate-800 shadow-sm ring-2 ring-primary":""}`,children:[m.jsx("input",{type:"radio",name:`q-${S}`,className:"size-4 text-primary focus:ring-primary",checked:p[S]===V,onChange:()=>ke(S,V),disabled:E}),m.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:I})]},V))}),D&&m.jsx("p",{className:"text-xs font-bold text-red-500 mt-2",children:"Erantzun okerra. Saiatu berriro."})]},S)})}),m.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 items-center justify-between",children:[E?m.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 font-bold bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg",children:[m.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Teoria menperatuta!"]}):m.jsx("button",{onClick:Se,className:"w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:scale-105 transition-transform",children:"Egiaztatu Erantzunak"}),m.jsxs(Ye,{to:d.nextLink,onClick:N=>!E&&N.preventDefault(),className:`w-full md:w-auto flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-bold shadow-lg transition-all 
                        ${E?"bg-primary hover:bg-blue-600 text-white hover:-translate-y-1 cursor-pointer":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed opacity-70"}`,children:[m.jsx("span",{children:d.nextLabel}),m.jsx("span",{className:"material-symbols-outlined",children:E?"sports_esports":"lock"})]})]})]})]})]})})},u4=({text:a})=>{if(!a.includes("^")&&!a.includes(""))return m.jsx("div",{className:"flex items-center justify-center flex-wrap gap-1",children:a.split(" ").map((n,i)=>m.jsx("span",{className:n==="?"?"text-slate-400 animate-pulse":["+","-","","","(",")",":",""].includes(n)?"text-slate-400 mx-1":"text-primary",children:n},i))});const e=a.split(" ");return m.jsx("div",{className:"flex items-center justify-center flex-wrap gap-2 text-4xl md:text-5xl lg:text-6xl font-black text-slate-900 dark:text-white font-display tracking-tight",children:e.map((n,i)=>{if(n==="="||n==="?"||n===""||n===":")return m.jsx("span",{className:"text-slate-400 mx-1",children:n},i);const l=n.split(/(\^)/);return m.jsx("div",{className:"flex items-start text-primary",children:l.map((c,d)=>c==="^"?null:d>0&&l[d-1]==="^"?m.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-[-0.5em]",children:c.replace(/[\(\)]/g,"")},d):m.jsx("span",{children:c},d))},i)})})},d4=({text:a,type:e})=>{if(a.startsWith(""))return m.jsxs("div",{className:"flex items-center gap-1 text-5xl md:text-6xl font-black text-primary",children:[m.jsx("span",{className:"text-slate-400",children:""}),m.jsx("span",{children:a.replace("","").replace("= ?","")}),m.jsx("span",{className:"text-slate-400 ml-4",children:"= ?"})]});if(a.includes("^")){const n=a.split(" = ?")[0],i=(c,d)=>{if(c.includes(")^")){const[p,y]=c.split(")^"),g=p.replace("(",""),[v,E]=g.split("^");return m.jsxs("div",{className:"flex items-start",children:[m.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:"("}),m.jsx("span",{className:"text-primary",children:v}),m.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:E}),m.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:")"}),m.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:y})]},d)}if(c.includes("^")){const[p,y]=c.split("^");return m.jsxs("div",{className:"flex items-start",children:[m.jsx("span",{className:"text-primary",children:p}),m.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:y})]},d)}return m.jsx("span",{children:c},d)},l=n.split(" ");return m.jsxs("div",{className:"flex items-center justify-center flex-wrap gap-2 text-5xl md:text-6xl font-black",children:[l.map((c,d)=>["",":"].includes(c)?m.jsx("span",{className:"text-slate-400 mx-2",children:c},d):i(c,d)),m.jsx("span",{className:"text-slate-400 ml-2",children:"= ?"})]})}return m.jsx(u4,{text:a})},h4=()=>{const{user:a,addXp:e}=ia(),{addToast:n}=Oc(),[i]=IA(),l=ws(),[c,d]=L.useState("ordering"),[p,y]=L.useState("easy"),[g,v]=L.useState(null),[E,A]=L.useState(null),[j,H]=L.useState(1),[K,U]=L.useState(0),[te,ae]=L.useState(0),[ne,me]=L.useState(""),[ke,Se]=L.useState(!1),[N,S]=L.useState(null),k=L.useRef(null),D=L.useRef(null),[I,V]=L.useState(0),[R,it]=L.useState({sequence:[],currentStep:0,completedIds:[]}),ze=re=>a?a.completedLessons.includes(re):!1,Q=re=>a&&a.gameXp[re]||0,ie=Q("ordering_hard")>=rt.ordering_hard,pe=Q("addition_hard")>=rt.addition_hard||Q("subtraction_hard")>=rt.subtraction_hard,Pe=Q("multiplication_hard")>=rt.multiplication_hard||Q("division_hard")>=rt.division_hard,qe=Q("powers_hard")>=rt.powers_hard||Q("roots_hard")>=rt.roots_hard,O=a?a.level>=5:!1,J=re=>{switch(re){case"ordering":return"theory_intro";case"addition":case"subtraction":return"theory_operations";case"multiplication":case"division":return"theory_multiplication";case"powers":case"roots":return"theory_powers";case"combined":return"theory_advanced";default:return null}},le=(re,ce)=>{if(ce==="easy")return!1;const Te=rt[`${re}_easy`]||100;if(ce==="medium")return Q(`${re}_easy`)<Te;const je=rt[`${re}_medium`]||150;return ce==="hard"?Q(`${re}_medium`)<je:!0};L.useEffect(()=>{let re=i.get("mode");const ce=i.get("difficulty");re==="mixed"&&!O&&(re="ordering"),re==="combined"&&!qe&&(re="ordering"),(re==="powers"||re==="roots")&&!Pe&&(re="ordering"),(re==="multiplication"||re==="division")&&!pe&&(re="ordering"),(re==="addition"||re==="subtraction")&&!ie&&(re="ordering");const Te=J(re||"ordering");if(Te&&!ze(Te)){n("error","Joko hau desblokeatzeko Teoria irakurri eta testa gainditu behar duzu!"),l("/topics");return}re||(re="ordering"),d(re);let je=ce||"easy";return le(re,je)&&(je="easy"),y(je),or(re,je),()=>{k.current&&clearInterval(k.current),D.current&&clearTimeout(D.current)}},[i,O,qe,ie,pe,Pe]),L.useEffect(()=>{if(p==="hard"&&!ke&&(!E||(g==null?void 0:g.type)==="ordering")){k.current&&clearInterval(k.current);const ce=c==="combined"||c==="mixed"||(g==null?void 0:g.type)==="ordering"?45:30;((g==null?void 0:g.type)!=="ordering"||R.currentStep===0)&&S(ce),k.current=window.setInterval(()=>{S(Te=>Te!==null&&Te>0?Te-1:(de(),0))},1e3)}else(g==null?void 0:g.type)!=="ordering"&&(k.current&&clearInterval(k.current),S(null));return()=>{k.current&&clearInterval(k.current)}},[j,p,ke,c,g]);const de=()=>{k.current&&clearInterval(k.current),At.wrong(),Tn(),ae(0),(g==null?void 0:g.type)!=="ordering"?(A({val:"Denbora!",isCorrect:!1}),me("Denbora agortu da. Azkarrago hurrengoan!")):(me("Denbora agortu da! Saiatu azkarrago."),A({val:"Denbora!",isCorrect:!1})),D.current=window.setTimeout(()=>{la()},2e3)},ue=(re,ce)=>{const Te=Math.floor(Math.random()*(ce-re+1))+re;return Te===0?0:Te},Ne=()=>`${c}_${p}`,He=()=>rt[Ne()]||100,Mt=()=>(a==null?void 0:a.gameXp[Ne()])||0,ft=re=>{let ce=re==="easy"?4:5,Te=re==="easy"?10:re==="medium"?25:100;const je=new Set;for(;je.size<ce;){let nt=ue(-Te,Te);nt!==0&&je.add(nt)}const De=Array.from(je).sort((nt,vt)=>nt-vt),Ae=Array.from(je).sort(()=>Math.random()-.5).map(nt=>({val:nt.toString(),isCorrect:!0,id:nt}));it({sequence:De,currentStep:0,completedIds:[]}),v({text:"Ordenatu zenbakiak TXIKIENETIK HANDIERA",options:Ae,type:"ordering",orderingSequence:De}),me("Gogoratu: Zenbaki negatiboetan, zenbat eta urrunago zerotik, orduan eta txikiagoa.")},Sr=re=>{const ce=re==="hard"?ue(1,4):ue(1,2);let Te=re==="easy"?5:10,je=ue(-Te,Te),De=ue(-Te,Te),Ae=ue(-Te,Te);je===0&&(je=2),De===0&&(De=3),Ae===0&&(Ae=-2);let nt="",vt=0,sn=0;ce===1?(nt=`${je} + ${De<0?`(${De})`:De}  ${Ae<0?`(${Ae})`:Ae}`,vt=je+De*Ae,sn=(je+De)*Ae):ce===2?(nt=`(${je} ${De<0?"-":"+"} ${Math.abs(De)})  ${Ae<0?`(${Ae})`:Ae}`,vt=(je+De)*Ae,sn=je+De*Ae):ce===3?(Ae=Ae===0?2:Ae,De=Ae*ue(1,5)*(Math.random()>.5?1:-1),nt=`${je} - ${De<0?`(${De})`:De} : ${Ae<0?`(${Ae})`:Ae}`,vt=je-De/Ae,sn=(je-De)/Ae):(nt=`${je<0?`(${je})`:je}  ${De<0?`(${De})`:De} - ${Ae<0?`(${Ae})`:Ae}`,vt=je*De-Ae,sn=je*(De-Ae));let Et=-vt,vn=vt+ue(1,5)*(Math.random()>.5?1:-1);const xe=new Set([vt,sn,Et,vn]);for(;xe.size<4;)xe.add(ue(-50,50));const Oe=Array.from(xe).sort(()=>Math.random()-.5).map(ge=>({val:`${ge}`,isCorrect:ge===vt}));v({text:nt+" = ?",options:Oe,type:"quiz"}),me("Hierarkia (PEMDAS): Parentesiak lehenengo, gero Berreketak/Erroak, gero Biderketa/Zatiketa, azkenik Batuketa/Kenketa.")},or=(re,ce)=>{if(D.current&&clearTimeout(D.current),A(null),me(""),it({sequence:[],currentStep:0,completedIds:[]}),re==="ordering"){ft(ce);return}if(re==="combined"){Sr(ce);return}let Te=re;if(re==="mixed"){const xe=Math.random();if(xe<.15){ft(ce);return}if(xe<.35){Sr(ce);return}Te=["addition","subtraction","multiplication","division","powers","roots"][ue(0,5)]}let je=ce==="easy"?9:ce==="medium"?20:50,De=ue(-je,je),Ae=ue(-je,je),nt="",vt="",sn="";const Et=new Set;if(Te==="powers"){const xe=ue(1,3);let Oe=ce==="easy"?ue(2,9):ue(2,15),ge=ue(2,5),gt=ue(2,5),Nt=0,Zt=0,Rt=0,ln=0;if(xe===1)nt="",sn=`${Oe}^${ge}  ${Oe}^${gt} = ?`,Nt=ge+gt,Zt=ge*gt,Rt=Math.abs(ge-gt),ln=Nt+1,me(`Oinarri berdineko biderketan, berretzaileak BATU egiten dira (${ge} + ${gt} = ${Nt}).`);else if(xe===2){if(gt>=ge){let jt=ge;ge=gt+ue(1,3),gt=jt}nt=":",sn=`${Oe}^${ge} : ${Oe}^${gt} = ?`,Nt=ge-gt,Zt=ge+gt,Rt=Math.floor(ge/gt),ln=Nt+2,me(`Oinarri berdineko zatiketan, berretzaileak KENDU egiten dira (${ge} - ${gt} = ${Nt}).`)}else nt="()",sn=`(${Oe}^${ge})^${gt} = ?`,Nt=ge*gt,Zt=ge+gt,Rt=Math.pow(ge,gt),ln=Nt-1,me(`Berreketaren berreketan, berretzaileak BIDERKATU egiten dira (${ge}  ${gt} = ${Nt}).`);for(vt=`${Oe}^${Nt}`,Et.add(vt),Et.add(`${Oe}^${Zt}`),Rt!==Nt&&Rt!==Zt&&Et.add(`${Oe}^${Rt}`),Et.add(`${Oe}^${ln}`);Et.size<4;)Et.add(`${Oe}^${Nt+ue(1,5)*(Math.random()>.5?1:-1)}`)}else if(Te==="roots"){let xe=ce==="easy"?ue(1,10):ue(1,15);xe===0&&(xe=2),De=xe*xe;let Oe=xe;sn=`${De} = ?`,vt=Oe.toString(),Et.add(vt),Et.add((xe+1).toString()),Et.add((xe-1).toString()),Et.add(Math.floor(De/2).toString()),me(`Erantzuna: ${xe}, zeren ${xe} = ${De}.`)}else{let xe=De,Oe=Ae;if(Te==="division"){Ae===0&&(Ae=2);const Rt=ue(-10,10);Oe=Ae,xe=(Rt===0?2:Rt)*Oe}let ge=0;switch(Te){case"addition":nt="+",ge=xe+Oe;break;case"subtraction":nt="-",ge=xe-Oe;break;case"multiplication":nt="",ge=xe*Oe;break;case"division":nt=":",ge=xe/Oe;break}sn=`${xe<0?`(${xe})`:xe} ${nt} ${Oe<0?`(${Oe})`:Oe} = ?`,vt=ge>0?`+${ge}`:`${ge}`,Et.add(vt);const gt=Math.random()>.5?1:2,Nt=ge+(Math.random()>.5?gt:-gt);Et.add(Nt>0?`+${Nt}`:`${Nt}`);let Zt=0;for(nt==="+"?Zt=xe-Oe:nt==="-"||nt===""?Zt=xe+Oe:nt===":"&&(Zt=xe-Oe),Zt!==ge&&Et.add(Zt>0?`+${Zt}`:`${Zt}`),Math.random()<.2&&ge!==0&&Et.add(ge>0?`${-ge}`:`+${-ge}`);Et.size<4;){const Rt=Math.max(5,Math.abs(ge)*.4),ln=ue(ge-Rt,ge+Rt);ln!==ge&&Et.add(ln>0?`+${ln}`:`${ln}`)}me(`Erantzuna: ${vt}.`)}const vn=Array.from(Et).sort(()=>Math.random()-.5).map(xe=>({val:xe,isCorrect:xe===vt}));v({text:sn,options:vn,type:"quiz"})},kr=re=>{const ce=p==="hard"?25:p==="medium"?15:10,Te=re*(p==="hard"?3:2);return ce+Te},cr=async re=>{const ce=await e(re,Ne());ce>0?(n("xp",`+${ce} XP`),V(Te=>Te+ce)):re>0?n("info","Zailtasun honetako XP muga lortu duzu! Saiatu hurrengoa."):ce<0&&(n("error",`-${Math.abs(ce)} XP (Penalizazioa)`),V(Te=>Te+ce))},Tn=async()=>{const ce=kr(te)*1.5;await cr(-ce)},Li=re=>{if(!g||!g.orderingSequence)return;const ce=g.orderingSequence[R.currentStep],Te=parseInt(re.val);if(Te===ce){At.click();const je=[...R.completedIds,Te];if(je.length===g.orderingSequence.length){At.correct(),it(Ae=>({...Ae,completedIds:je})),A({val:"Zuzena!",isCorrect:!0});const De=kr(te);U(Ae=>Ae+De),ae(Ae=>Ae+1),cr(De),D.current=window.setTimeout(()=>{la()},1500)}else it(De=>({...De,currentStep:De.currentStep+1,completedIds:je}))}else At.wrong(),Tn(),ae(0),n("error","Ordena okerra! Saiatu berriro.")},sa=re=>{if(!E){if((g==null?void 0:g.type)==="ordering"){Li(re);return}if(A(re),k.current&&clearInterval(k.current),re.isCorrect){At.correct();const ce=kr(te);U(Te=>Te+ce),ae(Te=>Te+1),cr(ce)}else At.wrong(),Tn(),ae(0);D.current=window.setTimeout(()=>{la()},1500)}},la=()=>{At.click(),j<5?(H(re=>re+1),or(c,p)):zi()},zi=async()=>{if(Se(!0),At.win(),K>=(p==="hard"?50:30)){const re=p==="hard"?50:p==="medium"?30:10;await cr(re),n("success",`Jokoa amaituta! Bonus: ${re} XP`)}else n("success","Jokoa amaituta!")},It=()=>{At.click(),Se(!1),H(1),U(0),ae(0),V(0),or(c,p)};if(ke){const re=K>(p==="hard"?100:50)?3:K>(p==="hard"?50:30)?2:1;return m.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[re===3&&m.jsx(Xx,{}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full border border-slate-200 dark:border-slate-700 animate-in zoom-in-95 duration-300 relative z-10",children:[m.jsx("div",{className:"mb-6 flex justify-center gap-2",children:[1,2,3].map(ce=>m.jsx("span",{className:`material-symbols-outlined text-6xl ${ce<=re?"text-yellow-400 fill-current animate-bounce":"text-slate-200 dark:text-slate-700"}`,style:{animationDelay:`${ce*100}ms`},children:"star"},ce))}),m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:re===3?"Bikain!":re===2?"Oso Ondo!":"Ondo!"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:[K," puntu lortu dituzu.",I!==0&&m.jsxs("span",{className:`block mt-2 font-bold ${I>0?"text-yellow-500":"text-red-500"}`,children:[I>0?`+${I}`:I," XP saio honetan"]}),I===0&&m.jsx("span",{className:"block mt-2 text-xs text-slate-400 uppercase font-bold",children:"XP Muga Lortuta"})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{onClick:It,className:"w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold flex items-center justify-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined",children:"replay"}),"Jolastu Berriro"]}),m.jsx(Ye,{to:"/topics",className:"w-full py-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-bold",children:"Itzuli Gaietara"})]})]})]})}const kt=He(),Xn=Mt(),ks=Xn>=kt;return m.jsx("main",{className:"layout-container flex h-full grow flex-col",children:m.jsx("div",{className:"w-full flex flex-1 justify-center py-5 px-4 md:px-8",children:m.jsxs("div",{className:"layout-content-container flex flex-col max-w-[1200px] flex-1 gap-8",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:[ks&&m.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 flex items-center justify-center font-black text-yellow-600 dark:text-yellow-400 opacity-20 -rotate-12 text-3xl",children:"MAX"}),m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"material-symbols-outlined text-yellow-500",children:"stars"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:["XP (",p,")"]})]}),m.jsxs("div",{className:"flex items-end gap-2",children:[m.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:Xn}),m.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-1",children:["/ ",kt]})]}),m.jsx("div",{className:"w-full h-1 bg-slate-100 dark:bg-slate-700 rounded-full mt-1",children:m.jsx("div",{className:`h-full rounded-full transition-all ${ks?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,Xn/kt*100)}%`}})})]}),m.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"material-symbols-outlined text-primary",children:"school"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Maila"})]}),m.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:a?a.level:1})]}),m.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"local_fire_department"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Bolada"})]}),m.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:te})]}),m.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"material-symbols-outlined text-blue-400",children:"score"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:"Puntuazioa"})]}),m.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:K})]})]}),m.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[m.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6 order-2 lg:order-1",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1 bg-white dark:bg-[#1a2634] rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"tune"}),m.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-bold",children:"Zailtasuna"})]}),m.jsx("div",{className:"flex gap-1",children:["easy","medium","hard"].map(re=>{const ce=le(c,re);return m.jsxs("button",{disabled:ce,onClick:()=>{At.click(),y(re),or(c,re),H(1),U(0),V(0)},className:`px-3 py-1 text-xs font-bold rounded-full capitalize border flex items-center gap-1 transition-all
                                ${p===re?"bg-primary text-white border-primary":ce?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-transparent cursor-not-allowed opacity-70":"bg-transparent text-slate-500 border-slate-200 dark:border-slate-700 hover:border-primary/50"}`,children:[ce&&m.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"lock"}),re]},re)})})]}),N!==null&&m.jsxs("div",{className:`w-20 bg-white dark:bg-[#1a2634] rounded-xl p-2 shadow-sm border flex items-center justify-center font-mono text-xl font-bold ${N<10?"text-red-500 border-red-500 animate-pulse":"text-slate-900 dark:text-white border-slate-200 dark:border-slate-800"}`,children:[N,"s"]})]}),m.jsxs("div",{className:"flex flex-col bg-white dark:bg-[#1a2634] rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 overflow-hidden relative",children:[m.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-slate-400 text-sm",children:"quiz"}),m.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Galdera ",j,"/5"]})]}),m.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((re,ce)=>m.jsx("div",{className:`h-1.5 w-6 rounded-full ${ce<j-1?"bg-green-500":ce===j-1?"bg-blue-500 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`},ce))})]}),m.jsx("div",{className:"p-8 md:p-12 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:g&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center w-full",children:[m.jsx("p",{className:"text-slate-400 text-sm font-medium mb-4 uppercase tracking-wider",children:g.type==="ordering"?"Ordenatu Zenbakiak":c==="combined"?"Kalkulatu (Kontuz Hierarkiarekin!)":c==="powers"?"Sinplifikatu":"Kalkulatu emaitza"}),g.type!=="ordering"?m.jsx(d4,{text:g.text,type:g.type}):m.jsx("div",{className:"flex flex-col items-center gap-6 w-full",children:m.jsxs("div",{className:"flex gap-2 items-center justify-center flex-wrap min-h-[60px] p-4 bg-slate-100 dark:bg-slate-900 rounded-xl w-full",children:[R.completedIds.map(re=>m.jsx("div",{className:"size-12 rounded-lg bg-green-500 text-white flex items-center justify-center font-bold text-lg animate-in zoom-in",children:re},re)),R.completedIds.length===0&&m.jsx("span",{className:"text-slate-400 italic",children:"Hautatu zenbaki txikiena..."})]})})]}),m.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md mt-4",children:g.options.map((re,ce)=>g.type==="ordering"&&R.completedIds.includes(re.id)?m.jsx("div",{className:"h-[76px]"},ce):m.jsx("button",{onClick:()=>sa(re),disabled:!!E&&g.type!=="ordering",className:`group relative flex items-center justify-center py-6 px-4 rounded-xl border-2 transition-all 
                                    ${E===re&&g.type!=="ordering"?re.isCorrect?"border-green-500 bg-green-500/10":"border-red-500 bg-red-500/10":"border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-primary/5 active:bg-primary/10"}`,children:m.jsx("div",{className:`text-2xl font-bold transition-colors ${E===re&&g.type!=="ordering"?re.isCorrect?"text-green-600":"text-red-600":"text-slate-700 dark:text-slate-200 group-hover:text-primary"}`,children:re.val.includes("^")?m.jsxs("div",{className:"flex items-start",children:[m.jsx("span",{children:re.val.split("^")[0]}),m.jsx("sup",{className:"text-sm mt-1",children:re.val.split("^")[1]})]}):re.val})},ce))})]})}),E&&m.jsxs("div",{className:`border-t p-4 md:px-8 md:py-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-bottom-2 fade-in duration-300 ${E.isCorrect||(g==null?void 0:g.type)==="ordering"?"bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800/30":"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800/30"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${E.isCorrect||(g==null?void 0:g.type)==="ordering"?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-300"}`,children:m.jsx("span",{className:"material-symbols-outlined",children:E.isCorrect||(g==null?void 0:g.type)==="ordering"?"celebration":"help"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:`font-bold text-lg leading-tight ${E.isCorrect||(g==null?void 0:g.type)==="ordering"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:E.isCorrect||(g==null?void 0:g.type)==="ordering"?(g==null?void 0:g.type)==="ordering"?"Ondo ordenatuta!":"Primeran!":"Saiatu berriro!"}),(g==null?void 0:g.type)!=="ordering"&&m.jsx("p",{className:`${E.isCorrect?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"} text-sm`,children:E.isCorrect?"Erantzun zuzena.":ne})]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold opacity-60 text-slate-600 dark:text-slate-300",children:["Hurrengoa kargatzen...",m.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"progress_activity"})]})]})]})]}),m.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6 order-1 lg:order-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-lg",children:"Joko Moduak"}),m.jsx(Ye,{className:"text-primary text-sm font-medium hover:underline",to:"/topics",children:"Teoria"})]}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[m.jsxs("button",{disabled:!O,onClick:()=>{O&&(At.click(),d("mixed"),y("easy"),H(1),U(0),V(0))},className:`relative p-5 rounded-2xl border-2 shadow-sm flex flex-col items-center gap-3 transition-all text-center group ${O?c==="mixed"?"bg-primary border-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:border-primary/50":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 cursor-not-allowed"}`,children:[!O&&m.jsx("div",{className:"absolute top-2 right-2 text-slate-400",children:m.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),m.jsx("div",{className:`size-14 rounded-full flex items-center justify-center border-4 border-white/20 shrink-0 ${c==="mixed"?"bg-white/20 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"}`,children:m.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shuffle"})}),m.jsxs("div",{children:[m.jsx("h4",{className:`font-black text-xl leading-none ${c==="mixed"?"text-white":"text-slate-900 dark:text-white"}`,children:"Nahastuta"}),m.jsx("p",{className:`text-xs mt-1 font-bold uppercase tracking-wide opacity-80 ${c==="mixed"?"text-blue-100":"text-slate-500"}`,children:"Azterketa Orokorra"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{disabled:!ze("theory_intro"),onClick:()=>{ze("theory_intro")&&(At.click(),d("ordering"),y("easy"),H(1),U(0),V(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${ze("theory_intro")?c==="ordering"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/20 ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-amber-50 dark:hover:bg-amber-900/10 hover:border-amber-500/50":"opacity-50 grayscale cursor-not-allowed"}`,children:[m.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${c==="ordering"?"bg-white/20 text-white":"bg-amber-100 dark:bg-amber-900/30 text-amber-600"}`,children:m.jsx("span",{className:"material-symbols-outlined",children:"sort"})}),m.jsx("span",{className:`text-sm font-bold ${c==="ordering"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Ordena"})]}),m.jsxs("button",{disabled:!qe||!ze("theory_advanced"),onClick:()=>{qe&&ze("theory_advanced")&&(At.click(),d("combined"),y("easy"),H(1),U(0),V(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${!qe||!ze("theory_advanced")?"bg-slate-50 dark:bg-slate-800 opacity-50 cursor-not-allowed border-slate-200":c==="combined"?"bg-purple-600 border-purple-600 text-white shadow-lg shadow-purple-600/20 ring-2 ring-purple-600 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-purple-50 dark:hover:bg-purple-900/10 hover:border-purple-600/50"}`,children:[m.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${c==="combined"?"bg-white/20 text-white":"bg-purple-100 dark:bg-purple-900/30 text-purple-600"}`,children:m.jsx("span",{className:"material-symbols-outlined",children:"function"})}),m.jsx("span",{className:`text-sm font-bold ${c==="combined"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Konbinatuak"}),(!qe||!ze("theory_advanced"))&&m.jsx("span",{className:"material-symbols-outlined text-xs absolute top-2 right-2 text-slate-400",children:"lock"})]})]})]}),m.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-2"}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"2. Unitatea"}),m.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!ie||!ze("theory_operations")?"opacity-50 pointer-events-none":""}`,children:[m.jsxs("button",{disabled:!ie,onClick:()=>{d("addition"),y("easy"),H(1),U(0),V(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="addition"?"bg-green-600 border-green-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-green-50 dark:hover:bg-green-900/10"}`,children:[m.jsx("div",{className:"size-8 rounded bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center font-black text-lg",children:"+"}),m.jsx("span",{className:`text-sm font-bold ${c==="addition"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Batuketa"}),(!ie||!ze("theory_operations"))&&m.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),m.jsxs("button",{disabled:!ie,onClick:()=>{d("subtraction"),y("easy"),H(1),U(0),V(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="subtraction"?"bg-red-500 border-red-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-red-50 dark:hover:bg-red-900/10"}`,children:[m.jsx("div",{className:"size-8 rounded bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center font-black text-lg",children:"-"}),m.jsx("span",{className:`text-sm font-bold ${c==="subtraction"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Kenketa"}),(!ie||!ze("theory_operations"))&&m.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),m.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"3. Unitatea"}),m.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!pe||!ze("theory_multiplication")?"opacity-50 pointer-events-none":""}`,children:[m.jsxs("button",{disabled:!pe,onClick:()=>{d("multiplication"),y("easy"),H(1),U(0),V(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="multiplication"?"bg-orange-500 border-orange-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-orange-50 dark:hover:bg-orange-900/10"}`,children:[m.jsx("div",{className:"size-8 rounded bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center font-black text-lg",children:""}),m.jsx("span",{className:`text-sm font-bold ${c==="multiplication"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Biderketa"}),(!pe||!ze("theory_multiplication"))&&m.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),m.jsxs("button",{disabled:!pe,onClick:()=>{d("division"),y("easy"),H(1),U(0),V(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="division"?"bg-teal-500 border-teal-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[m.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:":"}),m.jsx("span",{className:`text-sm font-bold ${c==="division"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Zatiketa"}),(!pe||!ze("theory_multiplication"))&&m.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),m.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"4. Unitatea"}),m.jsxs("div",{className:`grid grid-cols-2 gap-3 ${!Pe||!ze("theory_powers")?"opacity-50 pointer-events-none":""}`,children:[m.jsxs("button",{disabled:!Pe,onClick:()=>{d("powers"),y("easy"),H(1),U(0),V(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="powers"?"bg-indigo-500 border-indigo-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/10"}`,children:[m.jsx("div",{className:"size-8 rounded bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-black text-xs",children:"x"}),m.jsx("span",{className:`text-sm font-bold ${c==="powers"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Berreketak"}),(!Pe||!ze("theory_powers"))&&m.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),m.jsxs("button",{disabled:!Pe,onClick:()=>{d("roots"),y("easy"),H(1),U(0),V(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="roots"?"bg-teal-600 border-teal-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[m.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:""}),m.jsx("span",{className:`text-sm font-bold ${c==="roots"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Erroketak"}),(!Pe||!ze("theory_powers"))&&m.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]})]})]})]})]})]})})})},f4=()=>{var d;const{user:a}=ia(),[e,n]=L.useState([]);if(L.useEffect(()=>{(async()=>{const y=await _c.getLeaderboard();n(y)})()},[a==null?void 0:a.xp]),!a)return m.jsx(_l,{to:"/login",replace:!0});const i=Math.min(100,Math.floor(a.xp/9e3*100)),l=p=>p==="theory_intro"?"Teoria: Oinarriak":p==="theory_operations"?"Teoria: Batuketa/Kenketa":p==="theory_multiplication"?"Teoria: Biderketa/Zatiketa":p==="theory_powers"?"Teoria: Berreketak":p==="theory_advanced"?"Teoria: Konbinatuak":{ordering_easy:"Ordena (Erraza)",ordering_medium:"Ordena (Ertaina)",ordering_hard:"Ordena (Zaila)",combined_easy:"Konbinatuak (Erraza)",combined_medium:"Konbinatuak (Ertaina)",combined_hard:"Konbinatuak (Zaila)",mixed_easy:"Nahastuta (Erraza)",mixed_medium:"Nahastuta (Ertaina)",mixed_hard:"Nahastuta (Zaila)",addition_easy:"Batuketa (Erraza)",addition_medium:"Batuketa (Ertaina)",addition_hard:"Batuketa (Zaila)",subtraction_easy:"Kenketa (Erraza)",subtraction_medium:"Kenketa (Ertaina)",subtraction_hard:"Kenketa (Zaila)",multiplication_easy:"Biderketa (Erraza)",multiplication_medium:"Biderketa (Ertaina)",multiplication_hard:"Biderketa (Zaila)",division_easy:"Zatiketa (Erraza)",division_medium:"Zatiketa (Ertaina)",division_hard:"Zatiketa (Zaila)",powers_easy:"Berreketak (Erraza)",powers_medium:"Berreketak (Ertaina)",powers_hard:"Berreketak (Zaila)",roots_easy:"Erroketak (Erraza)",roots_medium:"Erroketak (Ertaina)",roots_hard:"Erroketak (Zaila)"}[p]||p,c=Object.entries(rt).reduce((p,[y,g])=>{let v="other";return y.includes("theory")?v="Teoria":y.includes("ordering")?v="Ordena":y.includes("combined")?v="Konbinatuak":y.includes("mixed")?v="Nahastuta":y.includes("addition")||y.includes("subtraction")?v="Batuketa eta Kenketa":y.includes("multiplication")||y.includes("division")?v="Biderketa eta Zatiketa":y.includes("powers")||y.includes("roots")?v="Berreketak eta Erroketak":v="Oinarrizkoak",p[v]||(p[v]=[]),p[v].push({key:y,limit:g,current:a.gameXp[y]||0}),p},{});return m.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-8",children:m.jsxs("div",{className:"mx-auto max-w-[1100px] flex flex-col gap-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("h1",{className:"text-slate-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]",children:["Kaixo, ",a.displayName.split(" ")[0],"!"]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base font-normal leading-normal",children:"Hemen duzu zure zenbaki osoen abenturaren laburpena."})]}),m.jsxs(Ye,{to:"/games",className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-all shadow-lg shadow-blue-500/20",children:[m.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),m.jsx("span",{children:"Jarraitu jolasten"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[m.jsx("div",{className:"size-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mb-1",children:m.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),m.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[a.xp," XP"]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Puntuazioa"})]}),m.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[m.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-primary mb-1",children:m.jsx("span",{className:"material-symbols-outlined",children:"donut_large"})}),m.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:["%",i]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Ikastaroa osatuta"})]}),m.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[m.jsx("div",{className:"size-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-1",children:m.jsx("span",{className:"material-symbols-outlined",children:"emoji_events"})}),m.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[((d=a.unlockedAchievements)==null?void 0:d.length)||0,"/",sp.length]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Lorpenak"})]})]}),m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm",children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex gap-6 justify-between items-end",children:[m.jsx("p",{className:"text-slate-900 dark:text-white text-base font-bold leading-normal",children:"Ikastaroaren Aurrerapen Orokorra"}),m.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-xs font-bold",children:["%",i]})]}),m.jsx("div",{className:"w-full rounded-full bg-slate-100 dark:bg-slate-700 h-3 overflow-hidden",children:m.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500 ease-out",style:{width:`${i}%`}})}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-normal leading-normal",children:i<30?"Hasiera ona! Jarraitu ikasten.":i<70?"Oso ondo zoaz! Berreketak menperatzea falta zaizu.":"Ia amaitu duzu! Txapelduna zara."})]})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Dominak eta Lorpenak"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:sp.map(p=>{var g;const y=(g=a.unlockedAchievements)==null?void 0:g.includes(p.id);return m.jsxs("div",{className:`flex gap-4 p-4 rounded-xl border transition-all ${y?"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 shadow-sm":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 opacity-60 grayscale"}`,children:[m.jsx("div",{className:`size-12 rounded-full flex items-center justify-center shrink-0 ${y?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-slate-200 dark:bg-slate-700 text-slate-400"}`,children:m.jsx("span",{className:"material-symbols-outlined",children:p.icon})}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("h4",{className:`font-bold ${y?"text-slate-900 dark:text-white":"text-slate-500"}`,children:p.title}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:p.description}),y&&m.jsxs("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mt-1",children:["+",p.xpReward," XP Lortuta"]})]})]},p.id)})})]}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Jokoen Xehetasunak"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.entries(c).map(([p,y])=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:p}),m.jsx("div",{className:"flex flex-col gap-4",children:y.map(g=>m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:l(g.key)}),m.jsxs("span",{className:`${g.current>=g.limit?"text-green-500 font-bold":"text-slate-400"}`,children:[g.current," / ",g.limit," XP"]})]}),m.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full rounded-full transition-all ${g.current>=g.limit?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,g.current/g.limit*100)}%`}})})]},g.key))})]},p))})]})]}),m.jsxs("div",{className:"flex flex-col gap-6",children:[m.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 flex flex-col gap-4",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Zure Maila"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"size-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-2xl font-black text-primary border-4 border-primary/20",children:a.level}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("p",{className:"text-slate-900 dark:text-white font-bold mb-1",children:["Ikaslea (Lvl ",a.level,")"]}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Hurrengo mailara: ",500-a.xp%500," XP"]}),m.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2 mt-2",children:m.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${a.xp%500/5}%`}})})]})]})]}),m.jsxs("div",{className:"rounded-xl bg-gradient-to-b from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 p-5 text-white flex flex-col gap-4 shadow-lg",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 pb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined text-yellow-400",children:"trophy"}),m.jsx("h3",{className:"font-bold text-lg",children:"Sailkapena"})]}),m.jsx("span",{className:"text-xs bg-white/10 px-2 py-1 rounded",children:"Aste hau"})]}),m.jsx("div",{className:"flex flex-col gap-2",children:e.map((p,y)=>m.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${p.uid===a.uid?"bg-primary/20 border border-primary/50":"hover:bg-white/5"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`text-sm font-bold w-4 ${y===0?"text-yellow-400":y===1?"text-slate-300":y===2?"text-amber-600":"text-slate-500"}`,children:y+1}),m.jsx("div",{className:"size-8 rounded-full bg-slate-700 bg-cover bg-center",style:{backgroundImage:`url("${p.photoURL}")`}}),m.jsxs("span",{className:`text-sm font-medium ${p.uid===a.uid?"text-white font-bold":"text-slate-300"}`,children:[p.displayName," ",p.uid===a.uid&&"(Zu)"]})]}),m.jsx("span",{className:"text-sm font-bold text-white",children:p.xp})]},p.uid))})]})]})]})]})})},m4=()=>{const[a,e]=L.useState(""),[n,i]=L.useState(""),[l,c]=L.useState(""),{login:d,loginAsGuest:p}=ia(),y=ws(),g=async E=>{E.preventDefault(),c("");try{await d(a,n),y("/progress")}catch{c("Errorea saioa hastean. Egiaztatu datuak.")}},v=async()=>{try{await p(),y("/progress")}catch{c("Arazo bat egon da gonbidatu gisa sartzean.")}};return m.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:m.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:"Ongi Etorri!"}),m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Sartu zure kontuan jolasten jarraitzeko."}),l&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:l}),m.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),m.jsx("input",{type:"email",required:!0,value:a,onChange:E=>e(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"zure@emaila.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),m.jsx("input",{type:"password",required:!0,value:n,onChange:E=>i(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:""})]}),m.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:"Hasi Saioa"})]}),m.jsxs("div",{className:"flex items-center gap-4 my-6",children:[m.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"}),m.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:"edo"}),m.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"})]}),m.jsxs("button",{onClick:v,className:"w-full py-3.5 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-white font-bold transition-all border border-slate-200 dark:border-slate-600 flex items-center justify-center gap-2",children:[m.jsx("span",{className:"material-symbols-outlined",children:"person"}),"Jarraitu Gonbidatu gisa"]}),m.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Ez daukazu konturik? ",m.jsx(Ye,{to:"/register",className:"text-primary font-bold hover:underline",children:"Erregistratu hemen"})]})]})})},p4=()=>{const[a,e]=L.useState(""),[n,i]=L.useState(""),[l,c]=L.useState(""),[d,p]=L.useState(""),{register:y}=ia(),g=ws(),v=async E=>{E.preventDefault(),p("");try{await y(n,l,a),g("/progress")}catch{p("Errorea erregistratzean. Saiatu berriro.")}};return m.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:m.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:"Sortu Kontua"}),m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Bat egin Zenbaki Osoen Abenturarekin!"}),d&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:d}),m.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Izena"}),m.jsx("input",{type:"text",required:!0,value:a,onChange:E=>e(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"Jon Agirre"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Emaila"}),m.jsx("input",{type:"email",required:!0,value:n,onChange:E=>i(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:"zure@emaila.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:"Pasahitza"}),m.jsx("input",{type:"password",required:!0,value:l,onChange:E=>c(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:""})]}),m.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:"Erregistratu"})]}),m.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Dagoeneko kontua daukazu? ",m.jsx(Ye,{to:"/login",className:"text-primary font-bold hover:underline",children:"Hasi Saioa"})]})]})})},Cx=["https://ui-avatars.com/api/?name=User&background=136dec&color=fff","https://ui-avatars.com/api/?name=User&background=0d9488&color=fff","https://ui-avatars.com/api/?name=User&background=7c3aed&color=fff","https://ui-avatars.com/api/?name=User&background=db2777&color=fff","https://ui-avatars.com/api/?name=User&background=ea580c&color=fff"],g4=()=>{const{user:a,login:e}=ia(),[n,i]=L.useState((a==null?void 0:a.displayName)||""),[l,c]=L.useState((a==null?void 0:a.photoURL)||Cx[0]),[d,p]=L.useState(!1),[y,g]=L.useState("");if(!a)return m.jsx("p",{className:"text-center p-10",children:"Saioa hasi behar duzu."});const v=async E=>{E.preventDefault(),p(!0),g(""),At.click();try{await _c.updateProfile(a.uid,{displayName:n,photoURL:l}),g("Aldaketak ondo gorde dira!"),At.correct(),setTimeout(()=>window.location.reload(),1e3)}catch{g("Errorea gertatu da."),At.wrong()}finally{p(!1)}};return m.jsx("main",{className:"flex-1 flex flex-col items-center py-10 px-4",children:m.jsxs("div",{className:"w-full max-w-lg p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 border-b border-slate-100 dark:border-slate-700 pb-4",children:"Nire Profila"}),y&&m.jsx("div",{className:"mb-6 p-4 rounded-xl bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 font-bold text-center",children:y}),m.jsxs("form",{onSubmit:v,className:"flex flex-col gap-6",children:[m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Avatarra Aukeratu"}),m.jsx("div",{className:"flex gap-3 justify-center flex-wrap",children:Cx.map((E,A)=>m.jsx("button",{type:"button",onClick:()=>{c(E),At.click()},className:`size-14 rounded-full border-4 transition-transform hover:scale-110 ${l===E?"border-primary":"border-transparent"}`,style:{backgroundImage:`url("${E}")`,backgroundSize:"cover"}},A))})]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Erabiltzaile Izena"}),m.jsx("input",{type:"text",value:n,onChange:E=>i(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),m.jsxs("div",{className:"flex flex-col gap-2 opacity-60",children:[m.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Emaila (Ezin da aldatu)"}),m.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 cursor-not-allowed"})]}),m.jsx("button",{type:"submit",disabled:d,className:"mt-4 w-full py-4 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Gordetzen...":"Gorde Aldaketak"})]})]})})},y4=()=>{const{user:a}=ia(),{addToast:e}=Oc(),[n,i]=L.useState([]),[l,c]=L.useState(!0),[d,p]=L.useState(null);L.useEffect(()=>{y()},[a]);const y=async()=>{if(a!=null&&a.isAdmin){const v=await _c.getAllUsers();i(v),c(!1)}},g=async v=>{try{await _c.kickUser(v),e("success","Erabiltzailea kanporatua izan da."),p(null),y()}catch{e("error","Arazoa egon da erabiltzailea kanporatzean.")}};return!a||!a.isAdmin?m.jsx(_l,{to:"/",replace:!0}):m.jsxs("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:[m.jsxs("div",{className:"w-full max-w-6xl",children:[m.jsxs("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-8 border-b border-slate-200 dark:border-slate-700 pb-4 flex items-center gap-3",children:[m.jsx("span",{className:"material-symbols-outlined text-4xl text-red-500",children:"admin_panel_settings"}),"Administrazio Panela"]}),l?m.jsx("p",{className:"text-center",children:"Kargatzen..."}):m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase",children:"Erabiltzailea"}),m.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase",children:"Emaila"}),m.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"XP"}),m.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"Maila"}),m.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"Azken Saioa"}),m.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-center",children:"IP"}),m.jsx("th",{className:"p-4 text-sm font-bold text-slate-500 uppercase text-right",children:"Ekintzak"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:n.map(v=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsxs("td",{className:"p-4 flex items-center gap-3",children:[m.jsx("div",{className:"size-10 rounded-full bg-cover bg-center bg-slate-200",style:{backgroundImage:`url("${v.photoURL}")`}}),m.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:[v.displayName,v.isAdmin&&m.jsx("span",{className:"ml-2 bg-red-100 text-red-600 text-[10px] px-2 py-0.5 rounded-full uppercase font-black",children:"Admin"})]})]}),m.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400 font-mono text-sm",children:v.email}),m.jsx("td",{className:"p-4 text-center font-bold text-primary",children:v.xp}),m.jsx("td",{className:"p-4 text-center",children:m.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full text-xs font-bold",children:v.level})}),m.jsx("td",{className:"p-4 text-center text-sm text-slate-500",children:new Date(v.lastLoginDate).toLocaleDateString()}),m.jsx("td",{className:"p-4 text-center text-xs font-mono text-slate-400",children:v.lastIp||"-"}),m.jsx("td",{className:"p-4 text-right",children:!v.isAdmin&&m.jsx("button",{onClick:()=>p(v.uid),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition-colors",title:"Kanporatu",children:m.jsx("span",{className:"material-symbols-outlined",children:"person_remove"})})})]},v.uid))})]})})})]}),d&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-6 border border-slate-200 dark:border-slate-700",children:[m.jsx("div",{className:"size-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center mb-4",children:m.jsx("span",{className:"material-symbols-outlined text-2xl",children:"warning"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Ziur zaude?"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Ekintza honek erabiltzailea eta bere datu guztiak ezabatuko ditu. Ezin da desegin."}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>p(null),className:"flex-1 py-3 rounded-xl bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:"Ezeztatu"}),m.jsx("button",{onClick:()=>g(d),className:"flex-1 py-3 rounded-xl bg-red-600 text-white font-bold hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Kanporatu"})]})]})})]})},b4=()=>m.jsx(n4,{children:m.jsx(r4,{children:m.jsx(SA,{children:m.jsxs("div",{className:"relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 transition-colors duration-200 font-body",children:[m.jsx(a4,{}),m.jsxs(nA,{children:[m.jsx(Qr,{path:"/",element:m.jsx(l4,{})}),m.jsx(Qr,{path:"/topics",element:m.jsx(o4,{})}),m.jsx(Qr,{path:"/theory/:topicId",element:m.jsx(c4,{})}),m.jsx(Qr,{path:"/games",element:m.jsx(h4,{})}),m.jsx(Qr,{path:"/progress",element:m.jsx(f4,{})}),m.jsx(Qr,{path:"/login",element:m.jsx(m4,{})}),m.jsx(Qr,{path:"/register",element:m.jsx(p4,{})}),m.jsx(Qr,{path:"/profile",element:m.jsx(g4,{})}),m.jsx(Qr,{path:"/admin",element:m.jsx(y4,{})})]}),m.jsx(i4,{}),m.jsx(s4,{})]})})})}),vE=document.getElementById("root");if(!vE)throw new Error("Could not find root element to mount to");const _4=cT.createRoot(vE);_4.render(m.jsx(tT.StrictMode,{children:m.jsx(b4,{})}));
