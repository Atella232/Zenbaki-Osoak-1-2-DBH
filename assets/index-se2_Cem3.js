(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function e1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wp={exports:{}},Yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function xN(){if(Lx)return Yc;Lx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Yc.Fragment=e,Yc.jsx=n,Yc.jsxs=n,Yc}var zx;function wN(){return zx||(zx=1,Wp.exports=xN()),Wp.exports}var g=wN(),Jp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function EN(){if(Ux)return Oe;Ux=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,P={};function U(L,J,oe){this.props=L,this.context=J,this.refs=P,this.updater=oe||I}U.prototype.isReactComponent={},U.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function F(L,J,oe){this.props=L,this.context=J,this.refs=P,this.updater=oe||I}var le=F.prototype=new Y;le.constructor=F,M(le,U.prototype),le.isPureReactComponent=!0;var ae=Array.isArray;function ue(){}var R={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function C(L,J,oe){var de=oe.ref;return{$$typeof:t,type:L,key:J,ref:de!==void 0?de:null,props:oe}}function j(L,J){return C(L.type,J,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function B(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return J[oe]})}var D=/\/+/g;function He(L,J){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):J.toString(36)}function et(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ue,ue):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,J,oe,de,Te){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var fe=!1;if(L===null)fe=!0;else switch(Ie){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(L.$$typeof){case t:case e:fe=!0;break;case b:return fe=L._init,K(fe(L._payload),J,oe,de,Te)}}if(fe)return Te=Te(L),fe=de===""?"."+He(L,0):de,ae(Te)?(oe="",fe!=null&&(oe=fe.replace(D,"$&/")+"/"),K(Te,J,oe,"",function(zn){return zn})):Te!=null&&(O(Te)&&(Te=j(Te,oe+(Te.key==null||L&&L.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+fe)),J.push(Te)),1;fe=0;var wt=de===""?".":de+":";if(ae(L))for(var at=0;at<L.length;at++)de=L[at],Ie=wt+He(de,at),fe+=K(de,J,oe,Ie,Te);else if(at=A(L),typeof at=="function")for(L=at.call(L),at=0;!(de=L.next()).done;)de=de.value,Ie=wt+He(de,at++),fe+=K(de,J,oe,Ie,Te);else if(Ie==="object"){if(typeof L.then=="function")return K(et(L),J,oe,de,Te);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return fe}function ie(L,J,oe){if(L==null)return L;var de=[],Te=0;return K(L,de,"","",function(Ie){return J.call(oe,Ie,Te++)}),de}function ee(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var Se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ne={map:ie,forEach:function(L,J,oe){ie(L,function(){J.apply(this,arguments)},oe)},count:function(L){var J=0;return ie(L,function(){J++}),J},toArray:function(L){return ie(L,function(J){return J})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Oe.Activity=v,Oe.Children=Ne,Oe.Component=U,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=F,Oe.StrictMode=i,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},Oe.cache=function(L){return function(){return L.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(L,J,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var de=M({},L.props),Te=L.key;if(J!=null)for(Ie in J.key!==void 0&&(Te=""+J.key),J)!T.call(J,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&J.ref===void 0||(de[Ie]=J[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=oe;else if(1<Ie){for(var fe=Array(Ie),wt=0;wt<Ie;wt++)fe[wt]=arguments[wt+2];de.children=fe}return C(L.type,Te,de)},Oe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Oe.createElement=function(L,J,oe){var de,Te={},Ie=null;if(J!=null)for(de in J.key!==void 0&&(Ie=""+J.key),J)T.call(J,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=J[de]);var fe=arguments.length-2;if(fe===1)Te.children=oe;else if(1<fe){for(var wt=Array(fe),at=0;at<fe;at++)wt[at]=arguments[at+2];Te.children=wt}if(L&&L.defaultProps)for(de in fe=L.defaultProps,fe)Te[de]===void 0&&(Te[de]=fe[de]);return C(L,Ie,Te)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:d,render:L}},Oe.isValidElement=O,Oe.lazy=function(L){return{$$typeof:b,_payload:{_status:-1,_result:L},_init:ee}},Oe.memo=function(L,J){return{$$typeof:p,type:L,compare:J===void 0?null:J}},Oe.startTransition=function(L){var J=R.T,oe={};R.T=oe;try{var de=L(),Te=R.S;Te!==null&&Te(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ue,Se)}catch(Ie){Se(Ie)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),R.T=J}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(L){return R.H.use(L)},Oe.useActionState=function(L,J,oe){return R.H.useActionState(L,J,oe)},Oe.useCallback=function(L,J){return R.H.useCallback(L,J)},Oe.useContext=function(L){return R.H.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L,J){return R.H.useDeferredValue(L,J)},Oe.useEffect=function(L,J){return R.H.useEffect(L,J)},Oe.useEffectEvent=function(L){return R.H.useEffectEvent(L)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(L,J,oe){return R.H.useImperativeHandle(L,J,oe)},Oe.useInsertionEffect=function(L,J){return R.H.useInsertionEffect(L,J)},Oe.useLayoutEffect=function(L,J){return R.H.useLayoutEffect(L,J)},Oe.useMemo=function(L,J){return R.H.useMemo(L,J)},Oe.useOptimistic=function(L,J){return R.H.useOptimistic(L,J)},Oe.useReducer=function(L,J,oe){return R.H.useReducer(L,J,oe)},Oe.useRef=function(L){return R.H.useRef(L)},Oe.useState=function(L){return R.H.useState(L)},Oe.useSyncExternalStore=function(L,J,oe){return R.H.useSyncExternalStore(L,J,oe)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var Bx;function Py(){return Bx||(Bx=1,Jp.exports=EN()),Jp.exports}var N=Py();const t1=e1(N);var eg={exports:{}},Qc={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function TN(){return qx||(qx=1,(function(t){function e(K,ie){var ee=K.length;K.push(ie);e:for(;0<ee;){var Se=ee-1>>>1,Ne=K[Se];if(0<a(Ne,ie))K[Se]=ie,K[ee]=Ne,ee=Se;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ie=K[0],ee=K.pop();if(ee!==ie){K[0]=ee;e:for(var Se=0,Ne=K.length,L=Ne>>>1;Se<L;){var J=2*(Se+1)-1,oe=K[J],de=J+1,Te=K[de];if(0>a(oe,ee))de<Ne&&0>a(Te,oe)?(K[Se]=Te,K[de]=ee,Se=de):(K[Se]=oe,K[J]=ee,Se=J);else if(de<Ne&&0>a(Te,ee))K[Se]=Te,K[de]=ee,Se=de;else break e}}return ie}function a(K,ie){var ee=K.sortIndex-ie.sortIndex;return ee!==0?ee:K.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],b=1,v=null,x=3,A=!1,I=!1,M=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function le(K){for(var ie=n(p);ie!==null;){if(ie.callback===null)i(p);else if(ie.startTime<=K)i(p),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(p)}}function ae(K){if(M=!1,le(K),!I)if(n(f)!==null)I=!0,ue||(ue=!0,B());else{var ie=n(p);ie!==null&&et(ae,ie.startTime-K)}}var ue=!1,R=-1,T=5,C=-1;function j(){return P?!0:!(t.unstable_now()-C<T)}function O(){if(P=!1,ue){var K=t.unstable_now();C=K;var ie=!0;try{e:{I=!1,M&&(M=!1,Y(R),R=-1),A=!0;var ee=x;try{t:{for(le(K),v=n(f);v!==null&&!(v.expirationTime>K&&j());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,x=v.priorityLevel;var Ne=Se(v.expirationTime<=K);if(K=t.unstable_now(),typeof Ne=="function"){v.callback=Ne,le(K),ie=!0;break t}v===n(f)&&i(f),le(K)}else i(f);v=n(f)}if(v!==null)ie=!0;else{var L=n(p);L!==null&&et(ae,L.startTime-K),ie=!1}}break e}finally{v=null,x=ee,A=!1}ie=void 0}}finally{ie?B():ue=!1}}}var B;if(typeof F=="function")B=function(){F(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,He=D.port2;D.port1.onmessage=O,B=function(){He.postMessage(null)}}else B=function(){U(O,0)};function et(K,ie){R=U(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var ee=x;x=ie;try{return K()}finally{x=ee}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ee=x;x=K;try{return ie()}finally{x=ee}},t.unstable_scheduleCallback=function(K,ie,ee){var Se=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Se+ee:Se):ee=Se,K){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ee+Ne,K={id:b++,callback:ie,priorityLevel:K,startTime:ee,expirationTime:Ne,sortIndex:-1},ee>Se?(K.sortIndex=ee,e(p,K),n(f)===null&&K===n(p)&&(M?(Y(R),R=-1):M=!0,et(ae,ee-Se))):(K.sortIndex=Ne,e(f,K),I||A||(I=!0,ue||(ue=!0,B()))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var ie=x;return function(){var ee=x;x=ie;try{return K.apply(this,arguments)}finally{x=ee}}}})(ng)),ng}var Fx;function SN(){return Fx||(Fx=1,tg.exports=TN()),tg.exports}var sg={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function AN(){if(Hx)return Cn;Hx=1;var t=Py();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:p,implementation:b}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,b)},Cn.flushSync=function(f){var p=c.T,b=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=b,i.d.f()}},Cn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Cn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Cn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var b=p.as,v=d(b,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:A}):b==="script"&&i.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Cn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=d(b,p.crossOrigin);i.d.L(f,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(f,p){if(typeof f=="string")if(p){var b=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Cn.requestFormReset=function(f){i.d.r(f)},Cn.unstable_batchedUpdates=function(f,p){return f(p)},Cn.useFormState=function(f,p,b){return c.H.useFormState(f,p,b)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var Gx;function kN(){if(Gx)return sg.exports;Gx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sg.exports=AN(),sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function RN(){if($x)return Qc;$x=1;var t=SN(),e=Py(),n=kN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),s;if(y===u)return f(m),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=y;else{for(var w=!1,S=m.child;S;){if(S===o){w=!0,o=m,u=y;break}if(S===u){w=!0,u=m,o=y;break}S=S.sibling}if(!w){for(S=y.child;S;){if(S===o){w=!0,o=y,u=m;break}if(S===u){w=!0,u=y,o=m;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function b(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=b(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),F=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function He(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case U:return"Profiler";case P:return"StrictMode";case ae:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case F:return s.displayName||"Context";case Y:return(s._context.displayName||"Context")+".Consumer";case le:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:He(s.type)||"Memo";case T:r=s._payload,s=s._init;try{return He(s(r))}catch{}}return null}var et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Se=[],Ne=-1;function L(s){return{current:s}}function J(s){0>Ne||(s.current=Se[Ne],Se[Ne]=null,Ne--)}function oe(s,r){Ne++,Se[Ne]=s.current,s.current=r}var de=L(null),Te=L(null),Ie=L(null),fe=L(null);function wt(s,r){switch(oe(Ie,r),oe(Te,s),oe(de,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?ox(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=ox(r),s=lx(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(de),oe(de,s)}function at(){J(de),J(Te),J(Ie)}function zn(s){s.memoizedState!==null&&oe(fe,s);var r=de.current,o=lx(r,s.type);r!==o&&(oe(Te,s),oe(de,o))}function Jn(s){Te.current===s&&(J(de),J(Te)),fe.current===s&&(J(fe),Gc._currentValue=ee)}var Un,Ps;function Bn(s){if(Un===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Un=r&&r[1]||"",Ps=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+s+Ps}var ni=!1;function Vs(s,r){if(!s||ni)return"";ni=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var X=Z}Reflect.construct(s,[],se)}else{try{se.call()}catch(Z){X=Z}s.call(se.prototype)}}else{try{throw Error()}catch(Z){X=Z}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],S=y[1];if(w&&S){var V=w.split(`
`),$=S.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===$.length)for(u=V.length-1,m=$.length-1;1<=u&&0<=m&&V[u]!==$[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==$[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==$[m]){var W=`
`+V[u].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=u&&0<=m);break}}}finally{ni=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Bn(o):""}function xa(s,r){switch(s.tag){case 26:case 27:case 5:return Bn(s.type);case 16:return Bn("Lazy");case 13:return s.child!==r&&r!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Vs(s.type,!1);case 11:return Vs(s.type.render,!1);case 1:return Vs(s.type,!0);case 31:return Bn("Activity");default:return""}}function wa(s){try{var r="",o=null;do r+=xa(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,si=t.unstable_cancelCallback,Ea=t.unstable_shouldYield,pr=t.unstable_requestPaint,fn=t.unstable_now,ce=t.unstable_getCurrentPriorityLevel,ve=t.unstable_ImmediatePriority,De=t.unstable_UserBlockingPriority,Me=t.unstable_NormalPriority,Be=t.unstable_LowPriority,Ve=t.unstable_IdlePriority,ot=t.log,Nt=t.unstable_setDisableYieldValue,It=null,Ge=null;function Rn(s){if(typeof ot=="function"&&Nt(s),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(It,s)}catch{}}var xe=Math.clz32?Math.clz32:Et,tt=Math.log,je=Math.LN2;function Et(s){return s>>>=0,s===0?32:31-(tt(s)/je|0)|0}var vt=256,Lt=262144,st=4194304;function Xt(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function fs(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?m=Xt(u):(w&=S,w!==0?m=Xt(w):o||(o=S&~s,o!==0&&(m=Xt(o))))):(S=u&~y,S!==0?m=Xt(S):w!==0?m=Xt(w):o||(o=u&~s,o!==0&&(m=Xt(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function Os(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function nm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var s=st;return st<<=1,(st&62914560)===0&&(st=4194304),s}function ii(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Ta(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sm(s,r,o,u,m,y){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,$=s.hiddenUpdates;for(o=w&~o;0<o;){var W=31-xe(o),se=1<<W;S[W]=0,V[W]=-1;var X=$[W];if(X!==null)for($[W]=null,W=0;W<X.length;W++){var Z=X[W];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&Sa(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~r))}function Sa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-xe(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Ql(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-xe(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function Zl(s,r){var o=r&-r;return o=(o&42)!==0?1:Aa(o),(o&(s.suspendedLanes|r))!==0?0:o}function Aa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Pi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ed(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:Ix(s.type))}function Ls(s,r){var o=ie.p;try{return ie.p=s,r()}finally{ie.p=o}}var zs=Math.random().toString(36).slice(2),Yt="__reactFiber$"+zs,mn="__reactProps$"+zs,ri="__reactContainer$"+zs,vo="__reactEvents$"+zs,im="__reactListeners$"+zs,td="__reactHandles$"+zs,nd="__reactResources$"+zs,ai="__reactMarker$"+zs;function _o(s){delete s[Yt],delete s[mn],delete s[vo],delete s[im],delete s[td]}function oi(s){var r=s[Yt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[ri]||o[Yt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=px(s);s!==null;){if(o=s[Yt])return o;s=px(s)}return r}s=o,o=s.parentNode}return null}function ms(s){if(s=s[Yt]||s[ri]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function es(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function li(s){var r=s[nd];return r||(r=s[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qt(s){s[ai]=!0}var Wl=new Set,Jl={};function ci(s,r){ui(s,r),ui(s+"Capture",r)}function ui(s,r){for(Jl[s]=r,s=0;s<r.length;s++)Wl.add(r[s])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function sd(s){return Ct.call(nc,s)?!0:Ct.call(tc,s)?!1:ec.test(s)?nc[s]=!0:(tc[s]=!0,!1)}function xo(s,r,o){if(sd(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function ts(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Zt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function gr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sc(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ht(s){if(!s._valueTracker){var r=gr(s)?"checked":"value";s._valueTracker=sc(s,r,""+s[r])}}function ka(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=gr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ra=/[\n"\\]/g;function qn(s){return s.replace(Ra,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wo(s,r,o,u,m,y,w,S){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+pn(r)):s.value!==""+pn(r)&&(s.value=""+pn(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?ic(s,w,pn(r)):o!=null?ic(s,w,pn(o)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+pn(S):s.removeAttribute("name")}function id(s,r,o,u,m,y,w,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){ht(s);return}o=o!=null?""+pn(o):"",r=r!=null?""+pn(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),ht(s)}function ic(s,r,o){r==="number"&&di(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function yr(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+pn(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function rd(s,r,o){if(r!=null&&(r=""+pn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+pn(o):""}function br(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(et(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=pn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),ht(s)}function Fn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var ad=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||ad.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function ac(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&rc(s,m,u)}else for(var y in r)r.hasOwnProperty(y)&&rc(s,y,r[y])}function Eo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var od=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(s){return vr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Us(){}var oc=null;function ps(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _r=null,hi=null;function Ca(s){var r=ms(s);if(r&&(s=r.stateNode)){var o=s[mn]||null;e:switch(s=r.stateNode,r.type){case"input":if(wo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[mn]||null;if(!m)throw Error(i(90));wo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ka(u)}break e;case"textarea":rd(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&yr(s,!!o.multiple,r,!1)}}}var So=!1;function xr(s,r,o){if(So)return s(r,o);So=!0;try{var u=s(r);return u}finally{if(So=!1,(_r!==null||hi!==null)&&(eh(),_r&&(r=_r,s=hi,hi=_r=null,Ca(r),s)))for(r=0;r<s.length;r++)Ca(s[r])}}function Bs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[mn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=!1;if(gs)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Na=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Na=!1}var fi=null,lc=null,Ia=null;function cc(){if(Ia)return Ia;var s,r=lc,o=r.length,u,m="value"in fi?fi.value:fi.textContent,y=m.length;for(s=0;s<o&&r[s]===m[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===m[y-u];u++);return Ia=m.slice(s,1<u?1-u:void 0)}function Da(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function qs(){return!1}function vn(s){function r(o,u,m,y,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Vi:qs,this.isPropagationStopped=qs,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),r}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=vn(Oi),wr=v({},Oi,{view:0,detail:0}),uc=vn(wr),Er,Ao,pi,ko=v({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pi&&(pi&&s.type==="mousemove"?(Er=s.screenX-pi.screenX,Ao=s.screenY-pi.screenY):Ao=Er=0,pi=s),Er)},movementY:function(s){return"movementY"in s?s.movementY:Ao}}),dc=vn(ko),Ma=v({},ko,{dataTransfer:0}),ld=vn(Ma),cd=v({},wr,{relatedTarget:0}),ja=vn(cd),hc=v({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),ud=vn(hc),Ro=v({},Oi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),dd=vn(Ro),hd=v({},Oi,{data:0}),gi=vn(hd),fd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gd(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=pd[s])?!!r[s]:!1}function Tr(){return gd}var Vn=v({},wr,{key:function(s){if(s.key){var r=fd[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Da(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?md[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(s){return s.type==="keypress"?Da(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Da(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),yd=vn(Vn),bd=v({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=vn(bd),h=v({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),_=vn(h),E=v({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=vn(E),H=v({},ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=vn(H),he=v({},Oi,{newState:0,oldState:0}),ze=vn(he),Ft=[9,13,27,32],lt=gs&&"CompositionEvent"in window,Dt=null;gs&&"documentMode"in document&&(Dt=document.documentMode);var ys=gs&&"TextEvent"in window&&!Dt,yi=gs&&(!lt||Dt&&8<Dt&&11>=Dt),Fs=" ",Hs=!1;function Pa(s,r){switch(s){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Co(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var No=!1;function GR(s,r){switch(s){case"compositionend":return Co(r);case"keypress":return r.which!==32?null:(Hs=!0,Fs);case"textInput":return s=r.data,s===Fs&&Hs?null:s;default:return null}}function $R(s,r){if(No)return s==="compositionend"||!lt&&Pa(s,r)?(s=cc(),Ia=lc=fi=null,No=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yi&&r.locale!=="ko"?null:r.data;default:return null}}var KR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!KR[s.type]:r==="textarea"}function vb(s,r,o,u){_r?hi?hi.push(u):hi=[u]:_r=u,r=oh(r,"onChange"),0<r.length&&(o=new mi("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var fc=null,mc=null;function XR(s){tx(s,0)}function vd(s){var r=es(s);if(ka(r))return s}function _b(s,r){if(s==="change")return r}var xb=!1;if(gs){var rm;if(gs){var am="oninput"in document;if(!am){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),am=typeof wb.oninput=="function"}rm=am}else rm=!1;xb=rm&&(!document.documentMode||9<document.documentMode)}function Eb(){fc&&(fc.detachEvent("onpropertychange",Tb),mc=fc=null)}function Tb(s){if(s.propertyName==="value"&&vd(mc)){var r=[];vb(r,mc,s,ps(s)),xr(XR,r)}}function YR(s,r,o){s==="focusin"?(Eb(),fc=r,mc=o,fc.attachEvent("onpropertychange",Tb)):s==="focusout"&&Eb()}function QR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vd(mc)}function ZR(s,r){if(s==="click")return vd(r)}function WR(s,r){if(s==="input"||s==="change")return vd(r)}function JR(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var ns=typeof Object.is=="function"?Object.is:JR;function pc(s,r){if(ns(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Ct.call(r,m)||!ns(s[m],r[m]))return!1}return!0}function Sb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ab(s,r){var o=Sb(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Sb(o)}}function kb(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?kb(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Rb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=di(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=di(s.document)}return r}function om(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var eC=gs&&"documentMode"in document&&11>=document.documentMode,Io=null,lm=null,gc=null,cm=!1;function Cb(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;cm||Io==null||Io!==di(u)||(u=Io,"selectionStart"in u&&om(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),gc&&pc(gc,u)||(gc=u,u=oh(lm,"onSelect"),0<u.length&&(r=new mi("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Io)))}function Va(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Do={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},um={},Nb={};gs&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Oa(s){if(um[s])return um[s];if(!Do[s])return s;var r=Do[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Nb)return um[s]=r[o];return s}var Ib=Oa("animationend"),Db=Oa("animationiteration"),Mb=Oa("animationstart"),tC=Oa("transitionrun"),nC=Oa("transitionstart"),sC=Oa("transitioncancel"),jb=Oa("transitionend"),Pb=new Map,dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dm.push("scrollEnd");function Gs(s,r){Pb.set(s,r),ci(r,[s])}var _d=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},bs=[],Mo=0,hm=0;function xd(){for(var s=Mo,r=hm=Mo=0;r<s;){var o=bs[r];bs[r++]=null;var u=bs[r];bs[r++]=null;var m=bs[r];bs[r++]=null;var y=bs[r];if(bs[r++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}y!==0&&Vb(o,m,y)}}function wd(s,r,o,u){bs[Mo++]=s,bs[Mo++]=r,bs[Mo++]=o,bs[Mo++]=u,hm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function fm(s,r,o,u){return wd(s,r,o,u),Ed(s)}function La(s,r){return wd(s,null,null,r),Ed(s)}function Vb(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-xe(o),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),y):null}function Ed(s){if(50<Lc)throw Lc=0,wp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var jo={};function iC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(s,r,o,u){return new iC(s,r,o,u)}function mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zi(s,r){var o=s.alternate;return o===null?(o=ss(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Ob(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Td(s,r,o,u,m,y){var w=0;if(u=s,typeof s=="function")mm(s)&&(w=1);else if(typeof s=="string")w=cN(s,o,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=ss(31,o,r,m),s.elementType=C,s.lanes=y,s;case M:return za(o.children,m,y,r);case P:w=8,m|=24;break;case U:return s=ss(12,o,r,m|2),s.elementType=U,s.lanes=y,s;case ae:return s=ss(13,o,r,m),s.elementType=ae,s.lanes=y,s;case ue:return s=ss(19,o,r,m),s.elementType=ue,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:w=10;break e;case Y:w=9;break e;case le:w=11;break e;case R:w=14;break e;case T:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=ss(w,o,r,m),r.elementType=s,r.type=u,r.lanes=y,r}function za(s,r,o,u){return s=ss(7,s,u,r),s.lanes=o,s}function pm(s,r,o){return s=ss(6,s,null,r),s.lanes=o,s}function Lb(s){var r=ss(18,null,null,0);return r.stateNode=s,r}function gm(s,r,o){return r=ss(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var zb=new WeakMap;function vs(s,r){if(typeof s=="object"&&s!==null){var o=zb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:wa(r)},zb.set(s,r),r)}return{value:s,source:r,stack:wa(r)}}var Po=[],Vo=0,Sd=null,yc=0,_s=[],xs=0,Sr=null,bi=1,vi="";function Ui(s,r){Po[Vo++]=yc,Po[Vo++]=Sd,Sd=s,yc=r}function Ub(s,r,o){_s[xs++]=bi,_s[xs++]=vi,_s[xs++]=Sr,Sr=s;var u=bi;s=vi;var m=32-xe(u)-1;u&=~(1<<m),o+=1;var y=32-xe(r)+m;if(30<y){var w=m-m%5;y=(u&(1<<w)-1).toString(32),u>>=w,m-=w,bi=1<<32-xe(r)+m|o<<m|u,vi=y+s}else bi=1<<y|o<<m|u,vi=s}function ym(s){s.return!==null&&(Ui(s,1),Ub(s,1,0))}function bm(s){for(;s===Sd;)Sd=Po[--Vo],Po[Vo]=null,yc=Po[--Vo],Po[Vo]=null;for(;s===Sr;)Sr=_s[--xs],_s[xs]=null,vi=_s[--xs],_s[xs]=null,bi=_s[--xs],_s[xs]=null}function Bb(s,r){_s[xs++]=bi,_s[xs++]=vi,_s[xs++]=Sr,bi=r.id,vi=r.overflow,Sr=s}var _n=null,St=null,Je=!1,Ar=null,ws=!1,vm=Error(i(519));function kr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bc(vs(r,s)),vm}function qb(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Yt]=s,r[mn]=u,o){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(o=0;o<Uc.length;o++)Ke(Uc[o],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Ke("invalid",r),id(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ke("invalid",r);break;case"textarea":Ke("invalid",r),br(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||rx(r.textContent,o)?(u.popover!=null&&(Ke("beforetoggle",r),Ke("toggle",r)),u.onScroll!=null&&Ke("scroll",r),u.onScrollEnd!=null&&Ke("scrollend",r),u.onClick!=null&&(r.onclick=Us),r=!0):r=!1,r||kr(s,!0)}function Fb(s){for(_n=s.return;_n;)switch(_n.tag){case 5:case 31:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:_n=_n.return}}function Oo(s){if(s!==_n)return!1;if(!Je)return Fb(s),Je=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Op(s.type,s.memoizedProps)),o=!o),o&&St&&kr(s),Fb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));St=mx(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));St=mx(s)}else r===27?(r=St,Br(s.type)?(s=qp,qp=null,St=s):St=r):St=_n?Ts(s.stateNode.nextSibling):null;return!0}function Ua(){St=_n=null,Je=!1}function _m(){var s=Ar;return s!==null&&(Kn===null?Kn=s:Kn.push.apply(Kn,s),Ar=null),s}function bc(s){Ar===null?Ar=[s]:Ar.push(s)}var xm=L(null),Ba=null,Bi=null;function Rr(s,r,o){oe(xm,r._currentValue),r._currentValue=o}function qi(s){s._currentValue=xm.current,J(xm)}function wm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Em(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var V=0;V<r.length;V++)if(S.context===r[V]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),wm(y.return,o,s),u||(w=null);break e}y=S.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),wm(w,o,s),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Lo(s,r,o,u){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=m.type;ns(m.pendingProps.value,w.value)||(s!==null?s.push(S):s=[S])}}else if(m===fe.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Gc):s=[Gc])}m=m.return}s!==null&&Em(r,s,o,u),r.flags|=262144}function Ad(s){for(s=s.firstContext;s!==null;){if(!ns(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function qa(s){Ba=s,Bi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xn(s){return Hb(Ba,s)}function kd(s,r){return Ba===null&&qa(s),Hb(s,r)}function Hb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Bi===null){if(s===null)throw Error(i(308));Bi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Bi=Bi.next=r;return o}var rC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},aC=t.unstable_scheduleCallback,oC=t.unstable_NormalPriority,Wt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new rC,data:new Map,refCount:0}}function vc(s){s.refCount--,s.refCount===0&&aC(oC,function(){s.controller.abort()})}var _c=null,Sm=0,zo=0,Uo=null;function lC(s,r){if(_c===null){var o=_c=[];Sm=0,zo=Rp(),Uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Sm++,r.then(Gb,Gb),r}function Gb(){if(--Sm===0&&_c!==null){Uo!==null&&(Uo.status="fulfilled");var s=_c;_c=null,zo=0,Uo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function cC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var $b=K.S;K.S=function(s,r){C_=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&lC(s,r),$b!==null&&$b(s,r)};var Fa=L(null);function Am(){var s=Fa.current;return s!==null?s:_t.pooledCache}function Rd(s,r){r===null?oe(Fa,Fa.current):oe(Fa,r.pool)}function Kb(){var s=Am();return s===null?null:{parent:Wt._currentValue,pool:s}}var Bo=Error(i(460)),km=Error(i(474)),Cd=Error(i(542)),Nd={then:function(){}};function Xb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Us,Us),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Zb(s),s;default:if(typeof r.status=="string")r.then(Us,Us);else{if(s=_t,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Zb(s),s}throw Ga=r,Bo}}function Ha(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ga=o,Bo):o}}var Ga=null;function Qb(){if(Ga===null)throw Error(i(459));var s=Ga;return Ga=null,s}function Zb(s){if(s===Bo||s===Cd)throw Error(i(483))}var qo=null,xc=0;function Id(s){var r=xc;return xc+=1,qo===null&&(qo=[]),Yb(qo,s,r)}function wc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Dd(s,r){throw r.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Wb(s){function r(q,z){if(s){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function o(q,z){if(!s)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function m(q,z){return q=zi(q,z),q.index=0,q.sibling=null,q}function y(q,z,G){return q.index=G,s?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=67108866,z):G):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function w(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function S(q,z,G,te){return z===null||z.tag!==6?(z=pm(G,q.mode,te),z.return=q,z):(z=m(z,G),z.return=q,z)}function V(q,z,G,te){var we=G.type;return we===M?W(q,z,G.props.children,te,G.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===T&&Ha(we)===z.type)?(z=m(z,G.props),wc(z,G),z.return=q,z):(z=Td(G.type,G.key,G.props,null,q.mode,te),wc(z,G),z.return=q,z)}function $(q,z,G,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=gm(G,q.mode,te),z.return=q,z):(z=m(z,G.children||[]),z.return=q,z)}function W(q,z,G,te,we){return z===null||z.tag!==7?(z=za(G,q.mode,te,we),z.return=q,z):(z=m(z,G),z.return=q,z)}function se(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=pm(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return G=Td(z.type,z.key,z.props,null,q.mode,G),wc(G,z),G.return=q,G;case I:return z=gm(z,q.mode,G),z.return=q,z;case T:return z=Ha(z),se(q,z,G)}if(et(z)||B(z))return z=za(z,q.mode,G,null),z.return=q,z;if(typeof z.then=="function")return se(q,Id(z),G);if(z.$$typeof===F)return se(q,kd(q,z),G);Dd(q,z)}return null}function X(q,z,G,te){var we=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return we!==null?null:S(q,z,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===we?V(q,z,G,te):null;case I:return G.key===we?$(q,z,G,te):null;case T:return G=Ha(G),X(q,z,G,te)}if(et(G)||B(G))return we!==null?null:W(q,z,G,te,null);if(typeof G.then=="function")return X(q,z,Id(G),te);if(G.$$typeof===F)return X(q,z,kd(q,G),te);Dd(q,G)}return null}function Z(q,z,G,te,we){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get(G)||null,S(z,q,""+te,we);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return q=q.get(te.key===null?G:te.key)||null,V(z,q,te,we);case I:return q=q.get(te.key===null?G:te.key)||null,$(z,q,te,we);case T:return te=Ha(te),Z(q,z,G,te,we)}if(et(te)||B(te))return q=q.get(G)||null,W(z,q,te,we,null);if(typeof te.then=="function")return Z(q,z,G,Id(te),we);if(te.$$typeof===F)return Z(q,z,G,kd(z,te),we);Dd(z,te)}return null}function ge(q,z,G,te){for(var we=null,it=null,_e=z,qe=z=0,Ye=null;_e!==null&&qe<G.length;qe++){_e.index>qe?(Ye=_e,_e=null):Ye=_e.sibling;var rt=X(q,_e,G[qe],te);if(rt===null){_e===null&&(_e=Ye);break}s&&_e&&rt.alternate===null&&r(q,_e),z=y(rt,z,qe),it===null?we=rt:it.sibling=rt,it=rt,_e=Ye}if(qe===G.length)return o(q,_e),Je&&Ui(q,qe),we;if(_e===null){for(;qe<G.length;qe++)_e=se(q,G[qe],te),_e!==null&&(z=y(_e,z,qe),it===null?we=_e:it.sibling=_e,it=_e);return Je&&Ui(q,qe),we}for(_e=u(_e);qe<G.length;qe++)Ye=Z(_e,q,qe,G[qe],te),Ye!==null&&(s&&Ye.alternate!==null&&_e.delete(Ye.key===null?qe:Ye.key),z=y(Ye,z,qe),it===null?we=Ye:it.sibling=Ye,it=Ye);return s&&_e.forEach(function($r){return r(q,$r)}),Je&&Ui(q,qe),we}function Ae(q,z,G,te){if(G==null)throw Error(i(151));for(var we=null,it=null,_e=z,qe=z=0,Ye=null,rt=G.next();_e!==null&&!rt.done;qe++,rt=G.next()){_e.index>qe?(Ye=_e,_e=null):Ye=_e.sibling;var $r=X(q,_e,rt.value,te);if($r===null){_e===null&&(_e=Ye);break}s&&_e&&$r.alternate===null&&r(q,_e),z=y($r,z,qe),it===null?we=$r:it.sibling=$r,it=$r,_e=Ye}if(rt.done)return o(q,_e),Je&&Ui(q,qe),we;if(_e===null){for(;!rt.done;qe++,rt=G.next())rt=se(q,rt.value,te),rt!==null&&(z=y(rt,z,qe),it===null?we=rt:it.sibling=rt,it=rt);return Je&&Ui(q,qe),we}for(_e=u(_e);!rt.done;qe++,rt=G.next())rt=Z(_e,q,qe,rt.value,te),rt!==null&&(s&&rt.alternate!==null&&_e.delete(rt.key===null?qe:rt.key),z=y(rt,z,qe),it===null?we=rt:it.sibling=rt,it=rt);return s&&_e.forEach(function(_N){return r(q,_N)}),Je&&Ui(q,qe),we}function bt(q,z,G,te){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var we=G.key;z!==null;){if(z.key===we){if(we=G.type,we===M){if(z.tag===7){o(q,z.sibling),te=m(z,G.props.children),te.return=q,q=te;break e}}else if(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===T&&Ha(we)===z.type){o(q,z.sibling),te=m(z,G.props),wc(te,G),te.return=q,q=te;break e}o(q,z);break}else r(q,z);z=z.sibling}G.type===M?(te=za(G.props.children,q.mode,te,G.key),te.return=q,q=te):(te=Td(G.type,G.key,G.props,null,q.mode,te),wc(te,G),te.return=q,q=te)}return w(q);case I:e:{for(we=G.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(q,z.sibling),te=m(z,G.children||[]),te.return=q,q=te;break e}else{o(q,z);break}else r(q,z);z=z.sibling}te=gm(G,q.mode,te),te.return=q,q=te}return w(q);case T:return G=Ha(G),bt(q,z,G,te)}if(et(G))return ge(q,z,G,te);if(B(G)){if(we=B(G),typeof we!="function")throw Error(i(150));return G=we.call(G),Ae(q,z,G,te)}if(typeof G.then=="function")return bt(q,z,Id(G),te);if(G.$$typeof===F)return bt(q,z,kd(q,G),te);Dd(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(q,z.sibling),te=m(z,G),te.return=q,q=te):(o(q,z),te=pm(G,q.mode,te),te.return=q,q=te),w(q)):o(q,z)}return function(q,z,G,te){try{xc=0;var we=bt(q,z,G,te);return qo=null,we}catch(_e){if(_e===Bo||_e===Cd)throw _e;var it=ss(29,_e,null,q.mode);return it.lanes=te,it.return=q,it}finally{}}}var $a=Wb(!0),Jb=Wb(!1),Cr=!1;function Rm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Nr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ir(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Ed(s),Vb(s,null,o),r}return wd(s,u,r,o),Ed(s)}function Ec(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ql(s,o)}}function Nm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Im=!1;function Tc(){if(Im){var s=Uo;if(s!==null)throw s}}function Sc(s,r,o,u){Im=!1;var m=s.updateQueue;Cr=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,$=V.next;V.next=null,w===null?y=$:w.next=$,w=V;var W=s.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==w&&(S===null?W.firstBaseUpdate=$:S.next=$,W.lastBaseUpdate=V))}if(y!==null){var se=m.baseState;w=0,W=$=V=null,S=y;do{var X=S.lane&-536870913,Z=X!==S.lane;if(Z?(Xe&X)===X:(u&X)===X){X!==0&&X===zo&&(Im=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ae=S;X=r;var bt=o;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){se=ge.call(bt,se,X);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,X=typeof ge=="function"?ge.call(bt,se,X):ge,X==null)break e;se=v({},se,X);break e;case 2:Cr=!0}}X=S.callback,X!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?($=W=Z,V=se):W=W.next=Z,w|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);W===null&&(V=se),m.baseState=V,m.firstBaseUpdate=$,m.lastBaseUpdate=W,y===null&&(m.shared.lanes=0),Vr|=w,s.lanes=w,s.memoizedState=se}}function ev(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function tv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)ev(o[s],r)}var Fo=L(null),Md=L(0);function nv(s,r){s=Zi,oe(Md,s),oe(Fo,r),Zi=s|r.baseLanes}function Dm(){oe(Md,Zi),oe(Fo,Fo.current)}function Mm(){Zi=Md.current,J(Fo),J(Md)}var is=L(null),Es=null;function Dr(s){var r=s.alternate;oe(Ht,Ht.current&1),oe(is,s),Es===null&&(r===null||Fo.current!==null||r.memoizedState!==null)&&(Es=s)}function jm(s){oe(Ht,Ht.current),oe(is,s),Es===null&&(Es=s)}function sv(s){s.tag===22?(oe(Ht,Ht.current),oe(is,s),Es===null&&(Es=s)):Mr()}function Mr(){oe(Ht,Ht.current),oe(is,is.current)}function rs(s){J(is),Es===s&&(Es=null),J(Ht)}var Ht=L(0);function jd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Up(o)||Bp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Fi=0,Ue=null,gt=null,Jt=null,Pd=!1,Ho=!1,Ka=!1,Vd=0,Ac=0,Go=null,uC=0;function zt(){throw Error(i(321))}function Pm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!ns(s[o],r[o]))return!1;return!0}function Vm(s,r,o,u,m,y){return Fi=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=s===null||s.memoizedState===null?Uv:Zm,Ka=!1,y=o(u,m),Ka=!1,Ho&&(y=rv(r,o,u,m)),iv(s),y}function iv(s){K.H=Cc;var r=gt!==null&&gt.next!==null;if(Fi=0,Jt=gt=Ue=null,Pd=!1,Ac=0,Go=null,r)throw Error(i(300));s===null||en||(s=s.dependencies,s!==null&&Ad(s)&&(en=!0))}function rv(s,r,o,u){Ue=s;var m=0;do{if(Ho&&(Go=null),Ac=0,Ho=!1,25<=m)throw Error(i(301));if(m+=1,Jt=gt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=Bv,y=r(o,u)}while(Ho);return y}function dC(){var s=K.H,r=s.useState()[0];return r=typeof r.then=="function"?kc(r):r,s=s.useState()[0],(gt!==null?gt.memoizedState:null)!==s&&(Ue.flags|=1024),r}function Om(){var s=Vd!==0;return Vd=0,s}function Lm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function zm(s){if(Pd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Pd=!1}Fi=0,Jt=gt=Ue=null,Ho=!1,Ac=Vd=0,Go=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ue.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function Gt(){if(gt===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=gt.next;var r=Jt===null?Ue.memoizedState:Jt.next;if(r!==null)Jt=r,gt=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));gt=s,s={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Jt===null?Ue.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(s){var r=Ac;return Ac+=1,Go===null&&(Go=[]),s=Yb(Go,s,r),r=Ue,(Jt===null?r.memoizedState:Jt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?Uv:Zm),s}function Ld(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return kc(s);if(s.$$typeof===F)return xn(s)}throw Error(i(438,String(s)))}function Um(s){var r=null,o=Ue.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Od(),Ue.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=j;return r.index++,o}function Hi(s,r){return typeof r=="function"?r(s):r}function zd(s){var r=Gt();return Bm(r,gt,s)}function Bm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}r.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var S=w=null,V=null,$=r,W=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Xe&se)===se:(Fi&se)===se){var X=$.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===zo&&(W=!0);else if((Fi&X)===X){$=$.next,X===zo&&(W=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=se,w=y):V=V.next=se,Ue.lanes|=X,Vr|=X;se=$.action,Ka&&o(y,se),y=$.hasEagerState?$.eagerState:o(y,se)}else X={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=X,w=y):V=V.next=X,Ue.lanes|=se,Vr|=se;$=$.next}while($!==null&&$!==r);if(V===null?w=y:V.next=S,!ns(y,s.memoizedState)&&(en=!0,W&&(o=Uo,o!==null)))throw o;s.memoizedState=y,s.baseState=w,s.baseQueue=V,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function qm(s){var r=Gt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do y=s(y,w.action),w=w.next;while(w!==m);ns(y,r.memoizedState)||(en=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function av(s,r,o){var u=Ue,m=Gt(),y=Je;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!ns((gt||m).memoizedState,o);if(w&&(m.memoizedState=o,en=!0),m=m.queue,Gm(cv.bind(null,u,m,s),[s]),m.getSnapshot!==r||w||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,$o(9,{destroy:void 0},lv.bind(null,u,m,o,r),null),_t===null)throw Error(i(349));y||(Fi&127)!==0||ov(u,r,o)}return o}function ov(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r=Od(),Ue.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function lv(s,r,o,u){r.value=o,r.getSnapshot=u,uv(r)&&dv(s)}function cv(s,r,o){return o(function(){uv(r)&&dv(s)})}function uv(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!ns(s,o)}catch{return!0}}function dv(s){var r=La(s,2);r!==null&&Xn(r,s,2)}function Fm(s){var r=On();if(typeof s=="function"){var o=s;if(s=o(),Ka){Rn(!0);try{o()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},r}function hv(s,r,o,u){return s.baseState=o,Bm(s,gt,typeof u=="function"?u:Hi)}function hC(s,r,o,u,m){if(qd(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};K.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,fv(r,y)):(y.next=o.next,r.pending=o.next=y)}}function fv(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var y=K.T,w={};K.T=w;try{var S=o(m,u),V=K.S;V!==null&&V(w,S),mv(s,r,S)}catch($){Hm(s,r,$)}finally{y!==null&&w.types!==null&&(y.types=w.types),K.T=y}}else try{y=o(m,u),mv(s,r,y)}catch($){Hm(s,r,$)}}function mv(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){pv(s,r,u)},function(u){return Hm(s,r,u)}):pv(s,r,o)}function pv(s,r,o){r.status="fulfilled",r.value=o,gv(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,fv(s,o)))}function Hm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,gv(r),r=r.next;while(r!==u)}s.action=null}function gv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function yv(s,r){return r}function bv(s,r){if(Je){var o=_t.formState;if(o!==null){e:{var u=Ue;if(Je){if(St){t:{for(var m=St,y=ws;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ts(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){St=Ts(m.nextSibling),u=m.data==="F!";break e}}kr(u)}u=!1}u&&(r=o[0])}}return o=On(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:r},o.queue=u,o=Ov.bind(null,Ue,u),u.dispatch=o,u=Fm(!1),y=Qm.bind(null,Ue,!1,u.queue),u=On(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=hC.bind(null,Ue,m,y,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function vv(s){var r=Gt();return _v(r,gt,s)}function _v(s,r,o){if(r=Bm(s,r,yv)[0],s=zd(Hi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=kc(r)}catch(w){throw w===Bo?Cd:w}else u=r;r=Gt();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ue.flags|=2048,$o(9,{destroy:void 0},fC.bind(null,m,o),null)),[u,y,s]}function fC(s,r){s.action=r}function xv(s){var r=Gt(),o=gt;if(o!==null)return _v(r,o,s);Gt(),r=r.memoizedState,o=Gt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function $o(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=Od(),Ue.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function wv(){return Gt().memoizedState}function Ud(s,r,o,u){var m=On();Ue.flags|=s,m.memoizedState=$o(1|r,{destroy:void 0},o,u===void 0?null:u)}function Bd(s,r,o,u){var m=Gt();u=u===void 0?null:u;var y=m.memoizedState.inst;gt!==null&&u!==null&&Pm(u,gt.memoizedState.deps)?m.memoizedState=$o(r,y,o,u):(Ue.flags|=s,m.memoizedState=$o(1|r,y,o,u))}function Ev(s,r){Ud(8390656,8,s,r)}function Gm(s,r){Bd(2048,8,s,r)}function mC(s){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=Od(),Ue.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function Tv(s){var r=Gt().memoizedState;return mC({ref:r,nextImpl:s}),function(){if((ct&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Sv(s,r){return Bd(4,2,s,r)}function Av(s,r){return Bd(4,4,s,r)}function kv(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Rv(s,r,o){o=o!=null?o.concat([s]):null,Bd(4,4,kv.bind(null,r,s),o)}function $m(){}function Cv(s,r){var o=Gt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Pm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function Nv(s,r){var o=Gt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Pm(r,u[1]))return u[0];if(u=s(),Ka){Rn(!0);try{s()}finally{Rn(!1)}}return o.memoizedState=[u,r],u}function Km(s,r,o){return o===void 0||(Fi&1073741824)!==0&&(Xe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=I_(),Ue.lanes|=s,Vr|=s,o)}function Iv(s,r,o,u){return ns(o,r)?o:Fo.current!==null?(s=Km(s,o,u),ns(s,r)||(en=!0),s):(Fi&42)===0||(Fi&1073741824)!==0&&(Xe&261930)===0?(en=!0,s.memoizedState=o):(s=I_(),Ue.lanes|=s,Vr|=s,r)}function Dv(s,r,o,u,m){var y=ie.p;ie.p=y!==0&&8>y?y:8;var w=K.T,S={};K.T=S,Qm(s,!1,r,o);try{var V=m(),$=K.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=cC(V,u);Rc(s,r,W,ls(s))}else Rc(s,r,u,ls(s))}catch(se){Rc(s,r,{then:function(){},status:"rejected",reason:se},ls())}finally{ie.p=y,w!==null&&S.types!==null&&(w.types=S.types),K.T=w}}function pC(){}function Xm(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=Mv(s).queue;Dv(s,m,r,ee,o===null?pC:function(){return jv(s),o(u)})}function Mv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ee},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function jv(s){var r=Mv(s);r.next===null&&(r=s.alternate.memoizedState),Rc(s,r.next.queue,{},ls())}function Ym(){return xn(Gc)}function Pv(){return Gt().memoizedState}function Vv(){return Gt().memoizedState}function gC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=ls();s=Nr(o);var u=Ir(r,s,o);u!==null&&(Xn(u,r,o),Ec(u,r,o)),r={cache:Tm()},s.payload=r;return}r=r.return}}function yC(s,r,o){var u=ls();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qd(s)?Lv(r,o):(o=fm(s,r,o,u),o!==null&&(Xn(o,s,u),zv(o,r,u)))}function Ov(s,r,o){var u=ls();Rc(s,r,o,u)}function Rc(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(qd(s))Lv(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,S=y(w,o);if(m.hasEagerState=!0,m.eagerState=S,ns(S,w))return wd(s,r,m,0),_t===null&&xd(),!1}catch{}finally{}if(o=fm(s,r,m,u),o!==null)return Xn(o,s,u),zv(o,r,u),!0}return!1}function Qm(s,r,o,u){if(u={lane:2,revertLane:Rp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qd(s)){if(r)throw Error(i(479))}else r=fm(s,o,u,2),r!==null&&Xn(r,s,2)}function qd(s){var r=s.alternate;return s===Ue||r!==null&&r===Ue}function Lv(s,r){Ho=Pd=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function zv(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ql(s,o)}}var Cc={readContext:xn,use:Ld,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};Cc.useEffectEvent=zt;var Uv={readContext:xn,use:Ld,useCallback:function(s,r){return On().memoizedState=[s,r===void 0?null:r],s},useContext:xn,useEffect:Ev,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Ud(4194308,4,kv.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Ud(4194308,4,s,r)},useInsertionEffect:function(s,r){Ud(4,2,s,r)},useMemo:function(s,r){var o=On();r=r===void 0?null:r;var u=s();if(Ka){Rn(!0);try{s()}finally{Rn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=On();if(o!==void 0){var m=o(r);if(Ka){Rn(!0);try{o(r)}finally{Rn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=yC.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var r=On();return s={current:s},r.memoizedState=s},useState:function(s){s=Fm(s);var r=s.queue,o=Ov.bind(null,Ue,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:$m,useDeferredValue:function(s,r){var o=On();return Km(o,s,r)},useTransition:function(){var s=Fm(!1);return s=Dv.bind(null,Ue,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ue,m=On();if(Je){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),_t===null)throw Error(i(349));(Xe&127)!==0||ov(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,Ev(cv.bind(null,u,y,s),[s]),u.flags|=2048,$o(9,{destroy:void 0},lv.bind(null,u,y,o,r),null),o},useId:function(){var s=On(),r=_t.identifierPrefix;if(Je){var o=vi,u=bi;o=(u&~(1<<32-xe(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Vd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=uC++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Ym,useFormState:bv,useActionState:bv,useOptimistic:function(s){var r=On();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Qm.bind(null,Ue,!0,o),o.dispatch=r,[s,r]},useMemoCache:Um,useCacheRefresh:function(){return On().memoizedState=gC.bind(null,Ue)},useEffectEvent:function(s){var r=On(),o={impl:s};return r.memoizedState=o,function(){if((ct&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Zm={readContext:xn,use:Ld,useCallback:Cv,useContext:xn,useEffect:Gm,useImperativeHandle:Rv,useInsertionEffect:Sv,useLayoutEffect:Av,useMemo:Nv,useReducer:zd,useRef:wv,useState:function(){return zd(Hi)},useDebugValue:$m,useDeferredValue:function(s,r){var o=Gt();return Iv(o,gt.memoizedState,s,r)},useTransition:function(){var s=zd(Hi)[0],r=Gt().memoizedState;return[typeof s=="boolean"?s:kc(s),r]},useSyncExternalStore:av,useId:Pv,useHostTransitionStatus:Ym,useFormState:vv,useActionState:vv,useOptimistic:function(s,r){var o=Gt();return hv(o,gt,s,r)},useMemoCache:Um,useCacheRefresh:Vv};Zm.useEffectEvent=Tv;var Bv={readContext:xn,use:Ld,useCallback:Cv,useContext:xn,useEffect:Gm,useImperativeHandle:Rv,useInsertionEffect:Sv,useLayoutEffect:Av,useMemo:Nv,useReducer:qm,useRef:wv,useState:function(){return qm(Hi)},useDebugValue:$m,useDeferredValue:function(s,r){var o=Gt();return gt===null?Km(o,s,r):Iv(o,gt.memoizedState,s,r)},useTransition:function(){var s=qm(Hi)[0],r=Gt().memoizedState;return[typeof s=="boolean"?s:kc(s),r]},useSyncExternalStore:av,useId:Pv,useHostTransitionStatus:Ym,useFormState:xv,useActionState:xv,useOptimistic:function(s,r){var o=Gt();return gt!==null?hv(o,gt,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Um,useCacheRefresh:Vv};Bv.useEffectEvent=Tv;function Wm(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Jm={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=ls(),m=Nr(u);m.payload=r,o!=null&&(m.callback=o),r=Ir(s,m,u),r!==null&&(Xn(r,s,u),Ec(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=ls(),m=Nr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Ir(s,m,u),r!==null&&(Xn(r,s,u),Ec(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=ls(),u=Nr(o);u.tag=2,r!=null&&(u.callback=r),r=Ir(s,u,o),r!==null&&(Xn(r,s,o),Ec(r,s,o))}};function qv(s,r,o,u,m,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!pc(o,u)||!pc(m,y):!0}function Fv(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Jm.enqueueReplaceState(r,r.state,null)}function Xa(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function Hv(s){_d(s)}function Gv(s){console.error(s)}function $v(s){_d(s)}function Fd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Kv(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ep(s,r,o){return o=Nr(o),o.tag=3,o.payload={element:null},o.callback=function(){Fd(s,r)},o}function Xv(s){return s=Nr(s),s.tag=3,s}function Yv(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){Kv(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Kv(r,o,u),typeof m!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function bC(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Lo(r,o,m,!0),o=is.current,o!==null){switch(o.tag){case 31:case 13:return Es===null?th():o.alternate===null&&Ut===0&&(Ut=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Nd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Sp(s,u,m)),!1;case 22:return o.flags|=65536,u===Nd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Sp(s,u,m)),!1}throw Error(i(435,o.tag))}return Sp(s,u,m),th(),!1}if(Je)return r=is.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==vm&&(s=Error(i(422),{cause:u}),bc(vs(s,o)))):(u!==vm&&(r=Error(i(423),{cause:u}),bc(vs(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=vs(u,o),m=ep(s.stateNode,u,m),Nm(s,m),Ut!==4&&(Ut=2)),!1;var y=Error(i(520),{cause:u});if(y=vs(y,o),Oc===null?Oc=[y]:Oc.push(y),Ut!==4&&(Ut=2),r===null)return!0;u=vs(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=ep(o.stateNode,u,s),Nm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Or===null||!Or.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Xv(m),Yv(m,s,o,u),Nm(o,m),!1}o=o.return}while(o!==null);return!1}var tp=Error(i(461)),en=!1;function wn(s,r,o,u){r.child=s===null?Jb(r,null,o,u):$a(r,s.child,o,u)}function Qv(s,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return qa(r),u=Vm(s,r,o,w,y,m),S=Om(),s!==null&&!en?(Lm(s,r,m),Gi(s,r,m)):(Je&&S&&ym(r),r.flags|=1,wn(s,r,u,m),r.child)}function Zv(s,r,o,u,m){if(s===null){var y=o.type;return typeof y=="function"&&!mm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Wv(s,r,y,u,m)):(s=Td(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!cp(s,m)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:pc,o(w,u)&&s.ref===r.ref)return Gi(s,r,m)}return r.flags|=1,s=zi(y,u),s.ref=r.ref,s.return=r,r.child=s}function Wv(s,r,o,u,m){if(s!==null){var y=s.memoizedProps;if(pc(y,u)&&s.ref===r.ref)if(en=!1,r.pendingProps=u=y,cp(s,m))(s.flags&131072)!==0&&(en=!0);else return r.lanes=s.lanes,Gi(s,r,m)}return np(s,r,o,u,m)}function Jv(s,r,o,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,r.child=null;return e_(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rd(r,y!==null?y.cachePool:null),y!==null?nv(r,y):Dm(),sv(r);else return u=r.lanes=536870912,e_(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Rd(r,y.cachePool),nv(r,y),Mr(),r.memoizedState=null):(s!==null&&Rd(r,null),Dm(),Mr());return wn(s,r,m,o),r.child}function Nc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function e_(s,r,o,u,m){var y=Am();return y=y===null?null:{parent:Wt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Rd(r,null),Dm(),sv(r),s!==null&&Lo(s,r,u,!0),r.childLanes=m,null}function Hd(s,r){return r=$d({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function t_(s,r,o){return $a(r,s.child,null,o),s=Hd(r,r.pendingProps),s.flags|=2,rs(r),r.memoizedState=null,s}function vC(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Je){if(u.mode==="hidden")return s=Hd(r,u),r.lanes=536870912,Nc(null,s);if(jm(r),(s=St)?(s=fx(s,ws),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Sr!==null?{id:bi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},o=Lb(s),o.return=r,r.child=o,_n=r,St=null)):s=null,s===null)throw kr(r);return r.lanes=536870912,null}return Hd(r,u)}var y=s.memoizedState;if(y!==null){var w=y.dehydrated;if(jm(r),m)if(r.flags&256)r.flags&=-257,r=t_(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(en||Lo(s,r,o,!1),m=(o&s.childLanes)!==0,en||m){if(u=_t,u!==null&&(w=Zl(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,La(s,w),Xn(u,s,w),tp;th(),r=t_(s,r,o)}else s=y.treeContext,St=Ts(w.nextSibling),_n=r,Je=!0,Ar=null,ws=!1,s!==null&&Bb(r,s),r=Hd(r,u),r.flags|=4096;return r}return s=zi(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Gd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function np(s,r,o,u,m){return qa(r),o=Vm(s,r,o,u,void 0,m),u=Om(),s!==null&&!en?(Lm(s,r,m),Gi(s,r,m)):(Je&&u&&ym(r),r.flags|=1,wn(s,r,o,m),r.child)}function n_(s,r,o,u,m,y){return qa(r),r.updateQueue=null,o=rv(r,u,o,m),iv(s),u=Om(),s!==null&&!en?(Lm(s,r,y),Gi(s,r,y)):(Je&&u&&ym(r),r.flags|=1,wn(s,r,o,y),r.child)}function s_(s,r,o,u,m){if(qa(r),r.stateNode===null){var y=jo,w=o.contextType;typeof w=="object"&&w!==null&&(y=xn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jm,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Rm(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?xn(w):jo,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Wm(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Jm.enqueueReplaceState(y,y.state,null),Sc(r,u,y,m),Tc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var S=r.memoizedProps,V=Xa(o,S);y.props=V;var $=y.context,W=o.contextType;w=jo,typeof W=="object"&&W!==null&&(w=xn(W));var se=o.getDerivedStateFromProps;W=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||$!==w)&&Fv(r,y,u,w),Cr=!1;var X=r.memoizedState;y.state=X,Sc(r,u,y,m),Tc(),$=r.memoizedState,S||X!==$||Cr?(typeof se=="function"&&(Wm(r,o,se,u),$=r.memoizedState),(V=Cr||qv(r,o,V,u,X,$,w))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),y.props=u,y.state=$,y.context=w,u=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Cm(s,r),w=r.memoizedProps,W=Xa(o,w),y.props=W,se=r.pendingProps,X=y.context,$=o.contextType,V=jo,typeof $=="object"&&$!==null&&(V=xn($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==se||X!==V)&&Fv(r,y,u,V),Cr=!1,X=r.memoizedState,y.state=X,Sc(r,u,y,m),Tc();var Z=r.memoizedState;w!==se||X!==Z||Cr||s!==null&&s.dependencies!==null&&Ad(s.dependencies)?(typeof S=="function"&&(Wm(r,o,S,u),Z=r.memoizedState),(W=Cr||qv(r,o,W,u,X,Z,V)||s!==null&&s.dependencies!==null&&Ad(s.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Z,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Z,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),y.props=u,y.state=Z,y.context=V,u=W):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Gd(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=$a(r,s.child,null,m),r.child=$a(r,null,o,m)):wn(s,r,o,m),r.memoizedState=y.state,s=r.child):s=Gi(s,r,m),s}function i_(s,r,o,u){return Ua(),r.flags|=256,wn(s,r,o,u),r.child}var sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(s){return{baseLanes:s,cachePool:Kb()}}function rp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=os),s}function r_(s,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(Ht.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Je){if(m?Dr(r):Mr(),(s=St)?(s=fx(s,ws),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Sr!==null?{id:bi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},o=Lb(s),o.return=r,r.child=o,_n=r,St=null)):s=null,s===null)throw kr(r);return Bp(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(Mr(),m=r.mode,S=$d({mode:"hidden",children:S},m),u=za(u,m,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=ip(o),u.childLanes=rp(s,w,o),r.memoizedState=sp,Nc(null,u)):(Dr(r),ap(r,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(y)r.flags&256?(Dr(r),r.flags&=-257,r=op(s,r,o)):r.memoizedState!==null?(Mr(),r.child=s.child,r.flags|=128,r=null):(Mr(),S=u.fallback,m=r.mode,u=$d({mode:"visible",children:u.children},m),S=za(S,m,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,$a(r,s.child,null,o),u=r.child,u.memoizedState=ip(o),u.childLanes=rp(s,w,o),r.memoizedState=sp,r=Nc(null,u));else if(Dr(r),Bp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var $=w.dgst;w=$,u=Error(i(419)),u.stack="",u.digest=w,bc({value:u,source:null,stack:null}),r=op(s,r,o)}else if(en||Lo(s,r,o,!1),w=(o&s.childLanes)!==0,en||w){if(w=_t,w!==null&&(u=Zl(w,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,La(s,u),Xn(w,s,u),tp;Up(S)||th(),r=op(s,r,o)}else Up(S)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,St=Ts(S.nextSibling),_n=r,Je=!0,Ar=null,ws=!1,s!==null&&Bb(r,s),r=ap(r,u.children),r.flags|=4096);return r}return m?(Mr(),S=u.fallback,m=r.mode,V=s.child,$=V.sibling,u=zi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?S=zi($,S):(S=za(S,m,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Nc(null,u),u=r.child,S=s.child.memoizedState,S===null?S=ip(o):(m=S.cachePool,m!==null?(V=Wt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Kb(),S={baseLanes:S.baseLanes|o,cachePool:m}),u.memoizedState=S,u.childLanes=rp(s,w,o),r.memoizedState=sp,Nc(s.child,u)):(Dr(r),o=s.child,s=o.sibling,o=zi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function ap(s,r){return r=$d({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function $d(s,r){return s=ss(22,s,null,r),s.lanes=0,s}function op(s,r,o){return $a(r,s.child,null,o),s=ap(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function a_(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),wm(s.return,r,o)}function lp(s,r,o,u,m,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=m,w.treeForkCount=y)}function o_(s,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var w=Ht.current,S=(w&2)!==0;if(S?(w=w&1|2,r.flags|=128):w&=1,oe(Ht,w),wn(s,r,u,o),u=Je?yc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&a_(s,o,r);else if(s.tag===19)a_(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&jd(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),lp(r,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&jd(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}lp(r,!0,o,null,y,u);break;case"together":lp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Gi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Vr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Lo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=zi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=zi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function cp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ad(s)))}function _C(s,r,o){switch(r.tag){case 3:wt(r,r.stateNode.containerInfo),Rr(r,Wt,s.memoizedState.cache),Ua();break;case 27:case 5:zn(r);break;case 4:wt(r,r.stateNode.containerInfo);break;case 10:Rr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,jm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Dr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?r_(s,r,o):(Dr(r),s=Gi(s,r,o),s!==null?s.sibling:null);Dr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Lo(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return o_(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(Ht,Ht.current),u)break;return null;case 22:return r.lanes=0,Jv(s,r,o,r.pendingProps);case 24:Rr(r,Wt,s.memoizedState.cache)}return Gi(s,r,o)}function l_(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)en=!0;else{if(!cp(s,o)&&(r.flags&128)===0)return en=!1,_C(s,r,o);en=(s.flags&131072)!==0}else en=!1,Je&&(r.flags&1048576)!==0&&Ub(r,yc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Ha(r.elementType),r.type=s,typeof s=="function")mm(s)?(u=Xa(s,u),r.tag=1,r=s_(null,r,s,u,o)):(r.tag=0,r=np(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===le){r.tag=11,r=Qv(null,r,s,u,o);break e}else if(m===R){r.tag=14,r=Zv(null,r,s,u,o);break e}}throw r=He(s)||s,Error(i(306,r,""))}}return r;case 0:return np(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Xa(u,r.pendingProps),s_(s,r,u,m,o);case 3:e:{if(wt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;m=y.element,Cm(s,r),Sc(r,u,null,o);var w=r.memoizedState;if(u=w.cache,Rr(r,Wt,u),u!==y.cache&&Em(r,[Wt],o,!0),Tc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=i_(s,r,u,o);break e}else if(u!==m){m=vs(Error(i(424)),r),bc(m),r=i_(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(St=Ts(s.firstChild),_n=r,Je=!0,Ar=null,ws=!0,o=Jb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ua(),u===m){r=Gi(s,r,o);break e}wn(s,r,u,o)}r=r.child}return r;case 26:return Gd(s,r),s===null?(o=vx(r.type,null,r.pendingProps,null))?r.memoizedState=o:Je||(o=r.type,s=r.pendingProps,u=lh(Ie.current).createElement(o),u[Yt]=r,u[mn]=s,En(u,o,s),Qt(u),r.stateNode=u):r.memoizedState=vx(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return zn(r),s===null&&Je&&(u=r.stateNode=gx(r.type,r.pendingProps,Ie.current),_n=r,ws=!0,m=St,Br(r.type)?(qp=m,St=Ts(u.firstChild)):St=m),wn(s,r,r.pendingProps.children,o),Gd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Je&&((m=u=St)&&(u=QC(u,r.type,r.pendingProps,ws),u!==null?(r.stateNode=u,_n=r,St=Ts(u.firstChild),ws=!1,m=!0):m=!1),m||kr(r)),zn(r),m=r.type,y=r.pendingProps,w=s!==null?s.memoizedProps:null,u=y.children,Op(m,y)?u=null:w!==null&&Op(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=Vm(s,r,dC,null,null,o),Gc._currentValue=m),Gd(s,r),wn(s,r,u,o),r.child;case 6:return s===null&&Je&&((s=o=St)&&(o=ZC(o,r.pendingProps,ws),o!==null?(r.stateNode=o,_n=r,St=null,s=!0):s=!1),s||kr(r)),null;case 13:return r_(s,r,o);case 4:return wt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=$a(r,null,u,o):wn(s,r,u,o),r.child;case 11:return Qv(s,r,r.type,r.pendingProps,o);case 7:return wn(s,r,r.pendingProps,o),r.child;case 8:return wn(s,r,r.pendingProps.children,o),r.child;case 12:return wn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Rr(r,r.type,u.value),wn(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,qa(r),m=xn(m),u=u(m),r.flags|=1,wn(s,r,u,o),r.child;case 14:return Zv(s,r,r.type,r.pendingProps,o);case 15:return Wv(s,r,r.type,r.pendingProps,o);case 19:return o_(s,r,o);case 31:return vC(s,r,o);case 22:return Jv(s,r,o,r.pendingProps);case 24:return qa(r),u=xn(Wt),s===null?(m=Am(),m===null&&(m=_t,y=Tm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},Rm(r),Rr(r,Wt,m)):((s.lanes&o)!==0&&(Cm(s,r),Sc(r,null,null,o),Tc()),m=s.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Rr(r,Wt,u)):(u=y.cache,Rr(r,Wt,u),u!==m.cache&&Em(r,[Wt],o,!0))),wn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function $i(s){s.flags|=4}function up(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(P_())s.flags|=8192;else throw Ga=Nd,km}else s.flags&=-16777217}function c_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Tx(r))if(P_())s.flags|=8192;else throw Ga=Nd,km}function Kd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ju():536870912,s.lanes|=r,Qo|=r)}function Ic(s,r){if(!Je)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function At(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function xC(s,r,o){var u=r.pendingProps;switch(bm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),qi(Wt),at(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Oo(r)?$i(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_m())),At(r),null;case 26:var m=r.type,y=r.memoizedState;return s===null?($i(r),y!==null?(At(r),c_(r,y)):(At(r),up(r,m,null,u,o))):y?y!==s.memoizedState?($i(r),At(r),c_(r,y)):(At(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&$i(r),At(r),up(r,m,s,u,o)),null;case 27:if(Jn(r),o=Ie.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&$i(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return At(r),null}s=de.current,Oo(r)?qb(r):(s=gx(m,u,o),r.stateNode=s,$i(r))}return At(r),null;case 5:if(Jn(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&$i(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return At(r),null}if(y=de.current,Oo(r))qb(r);else{var w=lh(Ie.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}y[Yt]=r,y[mn]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(En(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$i(r)}}return At(r),up(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&$i(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ie.current,Oo(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=_n,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Yt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||rx(s.nodeValue,o)),s||kr(r,!0)}else s=lh(s).createTextNode(u),s[Yt]=r,r.stateNode=s}return At(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Oo(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Yt]=r}else Ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),s=!1}else o=_m(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(rs(r),r):(rs(r),null);if((r.flags&128)!==0)throw Error(i(558))}return At(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Oo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Yt]=r}else Ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),m=!1}else m=_m(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(rs(r),r):(rs(r),null)}return rs(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Kd(r,r.updateQueue),At(r),null);case 4:return at(),s===null&&Dp(r.stateNode.containerInfo),At(r),null;case 10:return qi(r.type),At(r),null;case 19:if(J(Ht),u=r.memoizedState,u===null)return At(r),null;if(m=(r.flags&128)!==0,y=u.rendering,y===null)if(m)Ic(u,!1);else{if(Ut!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=jd(s),y!==null){for(r.flags|=128,Ic(u,!1),s=y.updateQueue,r.updateQueue=s,Kd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Ob(o,s),o=o.sibling;return oe(Ht,Ht.current&1|2),Je&&Ui(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&fn()>Wd&&(r.flags|=128,m=!0,Ic(u,!1),r.lanes=4194304)}else{if(!m)if(s=jd(y),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Kd(r,s),Ic(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Je)return At(r),null}else 2*fn()-u.renderingStartTime>Wd&&o!==536870912&&(r.flags|=128,m=!0,Ic(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=fn(),s.sibling=null,o=Ht.current,oe(Ht,m?o&1|2:o&1),Je&&Ui(r,u.treeForkCount),s):(At(r),null);case 22:case 23:return rs(r),Mm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),o=r.updateQueue,o!==null&&Kd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&J(Fa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),qi(Wt),At(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function wC(s,r){switch(bm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return qi(Wt),at(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Jn(r),null;case 31:if(r.memoizedState!==null){if(rs(r),r.alternate===null)throw Error(i(340));Ua()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(rs(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ua()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return J(Ht),null;case 4:return at(),null;case 10:return qi(r.type),null;case 22:case 23:return rs(r),Mm(),s!==null&&J(Fa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return qi(Wt),null;case 25:return null;default:return null}}function u_(s,r){switch(bm(r),r.tag){case 3:qi(Wt),at();break;case 26:case 27:case 5:Jn(r);break;case 4:at();break;case 31:r.memoizedState!==null&&rs(r);break;case 13:rs(r);break;case 19:J(Ht);break;case 10:qi(r.type);break;case 22:case 23:rs(r),Mm(),s!==null&&J(Fa);break;case 24:qi(Wt)}}function Dc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==m)}}catch(S){mt(r,r.return,S)}}function jr(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,m=r;var V=o,$=S;try{$()}catch(W){mt(m,V,W)}}}u=u.next}while(u!==y)}}catch(W){mt(r,r.return,W)}}function d_(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{tv(r,o)}catch(u){mt(s,s.return,u)}}}function h_(s,r,o){o.props=Xa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){mt(s,r,u)}}function Mc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){mt(s,r,m)}}function _i(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){mt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){mt(s,r,m)}else o.current=null}function f_(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){mt(s,s.return,m)}}function dp(s,r,o){try{var u=s.stateNode;HC(u,s.type,o,r),u[mn]=r}catch(m){mt(s,s.return,m)}}function m_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Br(s.type)||s.tag===4}function hp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||m_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Br(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Us));else if(u!==4&&(u===27&&Br(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(fp(s,r,o),s=s.sibling;s!==null;)fp(s,r,o),s=s.sibling}function Xd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Br(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Xd(s,r,o),s=s.sibling;s!==null;)Xd(s,r,o),s=s.sibling}function p_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);En(r,u,o),r[Yt]=s,r[mn]=o}catch(y){mt(s,s.return,y)}}var Ki=!1,tn=!1,mp=!1,g_=typeof WeakSet=="function"?WeakSet:Set,gn=null;function EC(s,r){if(s=s.containerInfo,Pp=ph,s=Rb(s),om(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,S=-1,V=-1,$=0,W=0,se=s,X=null;t:for(;;){for(var Z;se!==o||m!==0&&se.nodeType!==3||(S=w+m),se!==y||u!==0&&se.nodeType!==3||(V=w+u),se.nodeType===3&&(w+=se.nodeValue.length),(Z=se.firstChild)!==null;)X=se,se=Z;for(;;){if(se===s)break t;if(X===o&&++$===m&&(S=w),X===y&&++W===u&&(V=w),(Z=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Z}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:s,selectionRange:o},ph=!1,gn=r;gn!==null;)if(r=gn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,gn=s;else for(;gn!==null;){switch(r=gn,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ge=Xa(o.type,m);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ae){mt(o,o.return,Ae)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)zp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":zp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,gn=s;break}gn=r.return}}function y_(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Yi(s,o),u&4&&Dc(5,o);break;case 1:if(Yi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){mt(o,o.return,w)}else{var m=Xa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){mt(o,o.return,w)}}u&64&&d_(o),u&512&&Mc(o,o.return);break;case 3:if(Yi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{tv(s,r)}catch(w){mt(o,o.return,w)}}break;case 27:r===null&&u&4&&p_(o);case 26:case 5:Yi(s,o),r===null&&u&4&&f_(o),u&512&&Mc(o,o.return);break;case 12:Yi(s,o);break;case 31:Yi(s,o),u&4&&__(s,o);break;case 13:Yi(s,o),u&4&&x_(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=DC.bind(null,o),WC(s,o))));break;case 22:if(u=o.memoizedState!==null||Ki,!u){r=r!==null&&r.memoizedState!==null||tn,m=Ki;var y=tn;Ki=u,(tn=r)&&!y?Qi(s,o,(o.subtreeFlags&8772)!==0):Yi(s,o),Ki=m,tn=y}break;case 30:break;default:Yi(s,o)}}function b_(s){var r=s.alternate;r!==null&&(s.alternate=null,b_(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&_o(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Mt=null,Hn=!1;function Xi(s,r,o){for(o=o.child;o!==null;)v_(s,r,o),o=o.sibling}function v_(s,r,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(It,o)}catch{}switch(o.tag){case 26:tn||_i(o,r),Xi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tn||_i(o,r);var u=Mt,m=Hn;Br(o.type)&&(Mt=o.stateNode,Hn=!1),Xi(s,r,o),qc(o.stateNode),Mt=u,Hn=m;break;case 5:tn||_i(o,r);case 6:if(u=Mt,m=Hn,Mt=null,Xi(s,r,o),Mt=u,Hn=m,Mt!==null)if(Hn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(o.stateNode)}catch(y){mt(o,r,y)}else try{Mt.removeChild(o.stateNode)}catch(y){mt(o,r,y)}break;case 18:Mt!==null&&(Hn?(s=Mt,dx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),il(s)):dx(Mt,o.stateNode));break;case 4:u=Mt,m=Hn,Mt=o.stateNode.containerInfo,Hn=!0,Xi(s,r,o),Mt=u,Hn=m;break;case 0:case 11:case 14:case 15:jr(2,o,r),tn||jr(4,o,r),Xi(s,r,o);break;case 1:tn||(_i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&h_(o,r,u)),Xi(s,r,o);break;case 21:Xi(s,r,o);break;case 22:tn=(u=tn)||o.memoizedState!==null,Xi(s,r,o),tn=u;break;default:Xi(s,r,o)}}function __(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{il(s)}catch(o){mt(r,r.return,o)}}}function x_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{il(s)}catch(o){mt(r,r.return,o)}}function TC(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new g_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new g_),r;default:throw Error(i(435,s.tag))}}function Yd(s,r){var o=TC(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=MC.bind(null,s,u);u.then(m,m)}})}function Gn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=s,w=r,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Br(S.type)){Mt=S.stateNode,Hn=!1;break e}break;case 5:Mt=S.stateNode,Hn=!1;break e;case 3:case 4:Mt=S.stateNode.containerInfo,Hn=!0;break e}S=S.return}if(Mt===null)throw Error(i(160));v_(y,w,m),Mt=null,Hn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)w_(r,s),r=r.sibling}var $s=null;function w_(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Gn(r,s),$n(s),u&4&&(jr(3,s,s.return),Dc(3,s),jr(5,s,s.return));break;case 1:Gn(r,s),$n(s),u&512&&(tn||o===null||_i(o,o.return)),u&64&&Ki&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=$s;if(Gn(r,s),$n(s),u&512&&(tn||o===null||_i(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ai]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),En(y,u,o),y[Yt]=s,Qt(y),u=y;break e;case"link":var w=wx("link","href",m).get(u+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(y=w[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}y=m.createElement(u),En(y,u,o),m.head.appendChild(y);break;case"meta":if(w=wx("meta","content",m).get(u+(o.content||""))){for(S=0;S<w.length;S++)if(y=w[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}y=m.createElement(u),En(y,u,o),m.head.appendChild(y);break;default:throw Error(i(468,u))}y[Yt]=s,Qt(y),u=y}s.stateNode=u}else Ex(m,s.type,s.stateNode);else s.stateNode=xx(m,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Ex(m,s.type,s.stateNode):xx(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&dp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Gn(r,s),$n(s),u&512&&(tn||o===null||_i(o,o.return)),o!==null&&u&4&&dp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Gn(r,s),$n(s),u&512&&(tn||o===null||_i(o,o.return)),s.flags&32){m=s.stateNode;try{Fn(m,"")}catch(ge){mt(s,s.return,ge)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,dp(s,m,o!==null?o.memoizedProps:m)),u&1024&&(mp=!0);break;case 6:if(Gn(r,s),$n(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(ge){mt(s,s.return,ge)}}break;case 3:if(dh=null,m=$s,$s=ch(r.containerInfo),Gn(r,s),$s=m,$n(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{il(r.containerInfo)}catch(ge){mt(s,s.return,ge)}mp&&(mp=!1,E_(s));break;case 4:u=$s,$s=ch(s.stateNode.containerInfo),Gn(r,s),$n(s),$s=u;break;case 12:Gn(r,s),$n(s);break;case 31:Gn(r,s),$n(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yd(s,u)));break;case 13:Gn(r,s),$n(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zd=fn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yd(s,u)));break;case 22:m=s.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=Ki,W=tn;if(Ki=$||m,tn=W||V,Gn(r,s),tn=W,Ki=$,$n(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||V||Ki||tn||Ya(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(y=V.stateNode,m)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=V.stateNode;var se=V.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ge){mt(V,V.return,ge)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ge){mt(V,V.return,ge)}}}else if(r.tag===18){if(o===null){V=r;try{var Z=V.stateNode;m?hx(Z,!0):hx(V.stateNode,!1)}catch(ge){mt(V,V.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Yd(s,o))));break;case 19:Gn(r,s),$n(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yd(s,u)));break;case 30:break;case 21:break;default:Gn(r,s),$n(s)}}function $n(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(m_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=hp(s);Xd(s,y,m);break;case 5:var w=o.stateNode;o.flags&32&&(Fn(w,""),o.flags&=-33);var S=hp(s);Xd(s,S,w);break;case 3:case 4:var V=o.stateNode.containerInfo,$=hp(s);fp(s,$,V);break;default:throw Error(i(161))}}catch(W){mt(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function E_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;E_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Yi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)y_(s,r.alternate,r),r=r.sibling}function Ya(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),Ya(r);break;case 1:_i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&h_(r,r.return,o),Ya(r);break;case 27:qc(r.stateNode);case 26:case 5:_i(r,r.return),Ya(r);break;case 22:r.memoizedState===null&&Ya(r);break;case 30:Ya(r);break;default:Ya(r)}s=s.sibling}}function Qi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Qi(m,y,o),Dc(4,y);break;case 1:if(Qi(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){mt(u,u.return,$)}if(u=y,m=u.updateQueue,m!==null){var S=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)ev(V[m],S)}catch($){mt(u,u.return,$)}}o&&w&64&&d_(y),Mc(y,y.return);break;case 27:p_(y);case 26:case 5:Qi(m,y,o),o&&u===null&&w&4&&f_(y),Mc(y,y.return);break;case 12:Qi(m,y,o);break;case 31:Qi(m,y,o),o&&w&4&&__(m,y);break;case 13:Qi(m,y,o),o&&w&4&&x_(m,y);break;case 22:y.memoizedState===null&&Qi(m,y,o),Mc(y,y.return);break;case 30:break;default:Qi(m,y,o)}r=r.sibling}}function pp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&vc(o))}function gp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&vc(s))}function Ks(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)T_(s,r,o,u),r=r.sibling}function T_(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ks(s,r,o,u),m&2048&&Dc(9,r);break;case 1:Ks(s,r,o,u);break;case 3:Ks(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&vc(s)));break;case 12:if(m&2048){Ks(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,w=y.id,S=y.onPostCommit;typeof S=="function"&&S(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){mt(r,r.return,V)}}else Ks(s,r,o,u);break;case 31:Ks(s,r,o,u);break;case 13:Ks(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?Ks(s,r,o,u):jc(s,r):y._visibility&2?Ks(s,r,o,u):(y._visibility|=2,Ko(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&pp(w,r);break;case 24:Ks(s,r,o,u),m&2048&&gp(r.alternate,r);break;default:Ks(s,r,o,u)}}function Ko(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,w=r,S=o,V=u,$=w.flags;switch(w.tag){case 0:case 11:case 15:Ko(y,w,S,V,m),Dc(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?Ko(y,w,S,V,m):jc(y,w):(W._visibility|=2,Ko(y,w,S,V,m)),m&&$&2048&&pp(w.alternate,w);break;case 24:Ko(y,w,S,V,m),m&&$&2048&&gp(w.alternate,w);break;default:Ko(y,w,S,V,m)}r=r.sibling}}function jc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:jc(o,u),m&2048&&pp(u.alternate,u);break;case 24:jc(o,u),m&2048&&gp(u.alternate,u);break;default:jc(o,u)}r=r.sibling}}var Pc=8192;function Xo(s,r,o){if(s.subtreeFlags&Pc)for(s=s.child;s!==null;)S_(s,r,o),s=s.sibling}function S_(s,r,o){switch(s.tag){case 26:Xo(s,r,o),s.flags&Pc&&s.memoizedState!==null&&uN(o,$s,s.memoizedState,s.memoizedProps);break;case 5:Xo(s,r,o);break;case 3:case 4:var u=$s;$s=ch(s.stateNode.containerInfo),Xo(s,r,o),$s=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Pc,Pc=16777216,Xo(s,r,o),Pc=u):Xo(s,r,o));break;default:Xo(s,r,o)}}function A_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Vc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];gn=u,R_(u,s)}A_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)k_(s),s=s.sibling}function k_(s){switch(s.tag){case 0:case 11:case 15:Vc(s),s.flags&2048&&jr(9,s,s.return);break;case 3:Vc(s);break;case 12:Vc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Qd(s)):Vc(s);break;default:Vc(s)}}function Qd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];gn=u,R_(u,s)}A_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:jr(8,r,r.return),Qd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Qd(r));break;default:Qd(r)}s=s.sibling}}function R_(s,r){for(;gn!==null;){var o=gn;switch(o.tag){case 0:case 11:case 15:jr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,gn=u;else e:for(o=s;gn!==null;){u=gn;var m=u.sibling,y=u.return;if(b_(u),u===o){gn=null;break e}if(m!==null){m.return=y,gn=m;break e}gn=y}}}var SC={getCacheForType:function(s){var r=xn(Wt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return xn(Wt).controller.signal}},AC=typeof WeakMap=="function"?WeakMap:Map,ct=0,_t=null,$e=null,Xe=0,ft=0,as=null,Pr=!1,Yo=!1,yp=!1,Zi=0,Ut=0,Vr=0,Qa=0,bp=0,os=0,Qo=0,Oc=null,Kn=null,vp=!1,Zd=0,C_=0,Wd=1/0,Jd=null,Or=null,on=0,Lr=null,Zo=null,Wi=0,_p=0,xp=null,N_=null,Lc=0,wp=null;function ls(){return(ct&2)!==0&&Xe!==0?Xe&-Xe:K.T!==null?Rp():ed()}function I_(){if(os===0)if((Xe&536870912)===0||Je){var s=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),os=s}else os=536870912;return s=is.current,s!==null&&(s.flags|=32),os}function Xn(s,r,o){(s===_t&&(ft===2||ft===9)||s.cancelPendingCommit!==null)&&(Wo(s,0),zr(s,Xe,os,!1)),Ta(s,o),((ct&2)===0||s!==_t)&&(s===_t&&((ct&2)===0&&(Qa|=o),Ut===4&&zr(s,Xe,os,!1)),xi(s))}function D_(s,r,o){if((ct&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||Os(s,r),m=u?CC(s,r):Tp(s,r,!0),y=u;do{if(m===0){Yo&&!u&&zr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!kC(o)){m=Tp(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var S=s;m=Oc;var V=S.current.memoizedState.isDehydrated;if(V&&(Wo(S,w).flags|=256),w=Tp(S,w,!1),w!==2){if(yp&&!V){S.errorRecoveryDisabledLanes|=y,Qa|=y,m=4;break e}y=Kn,Kn=m,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}m=w}if(y=!1,m!==2)continue}}if(m===1){Wo(s,0),zr(s,r,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:zr(u,r,os,!Pr);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Zd+300-fn(),10<m)){if(zr(u,r,os,!Pr),fs(u,0,!0)!==0)break e;Wi=r,u.timeoutHandle=cx(M_.bind(null,u,o,Kn,Jd,vp,r,os,Qa,Qo,Pr,y,"Throttled",-0,0),m);break e}M_(u,o,Kn,Jd,vp,r,os,Qa,Qo,Pr,y,null,-0,0)}}break}while(!0);xi(s)}function M_(s,r,o,u,m,y,w,S,V,$,W,se,X,Z){if(s.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Us},S_(r,y,se);var ge=(y&62914560)===y?Zd-fn():(y&4194048)===y?C_-fn():0;if(ge=dN(se,ge),ge!==null){Wi=y,s.cancelPendingCommit=ge(B_.bind(null,s,r,y,o,u,m,w,S,V,W,se,null,X,Z)),zr(s,y,w,!$);return}}B_(s,r,y,o,u,m,w,S,V)}function kC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!ns(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zr(s,r,o,u){r&=~bp,r&=~Qa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var y=31-xe(m),w=1<<y;u[y]=-1,m&=~w}o!==0&&Sa(s,o,r)}function eh(){return(ct&6)===0?(zc(0),!1):!0}function Ep(){if($e!==null){if(ft===0)var s=$e.return;else s=$e,Bi=Ba=null,zm(s),qo=null,xc=0,s=$e;for(;s!==null;)u_(s.alternate,s),s=s.return;$e=null}}function Wo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,KC(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Wi=0,Ep(),_t=s,$e=o=zi(s.current,null),Xe=r,ft=0,as=null,Pr=!1,Yo=Os(s,r),yp=!1,Qo=os=bp=Qa=Vr=Ut=0,Kn=Oc=null,vp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-xe(u),y=1<<m;r|=s[m],u&=~y}return Zi=r,xd(),o}function j_(s,r){Ue=null,K.H=Cc,r===Bo||r===Cd?(r=Qb(),ft=3):r===km?(r=Qb(),ft=4):ft=r===tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,as=r,$e===null&&(Ut=1,Fd(s,vs(r,s.current)))}function P_(){var s=is.current;return s===null?!0:(Xe&4194048)===Xe?Es===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?s===Es:!1}function V_(){var s=K.H;return K.H=Cc,s===null?Cc:s}function O_(){var s=K.A;return K.A=SC,s}function th(){Ut=4,Pr||(Xe&4194048)!==Xe&&is.current!==null||(Yo=!0),(Vr&134217727)===0&&(Qa&134217727)===0||_t===null||zr(_t,Xe,os,!1)}function Tp(s,r,o){var u=ct;ct|=2;var m=V_(),y=O_();(_t!==s||Xe!==r)&&(Jd=null,Wo(s,r)),r=!1;var w=Ut;e:do try{if(ft!==0&&$e!==null){var S=$e,V=as;switch(ft){case 8:Ep(),w=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(r=!0);var $=ft;if(ft=0,as=null,Jo(s,S,V,$),o&&Yo){w=0;break e}break;default:$=ft,ft=0,as=null,Jo(s,S,V,$)}}RC(),w=Ut;break}catch(W){j_(s,W)}while(!0);return r&&s.shellSuspendCounter++,Bi=Ba=null,ct=u,K.H=m,K.A=y,$e===null&&(_t=null,Xe=0,xd()),w}function RC(){for(;$e!==null;)L_($e)}function CC(s,r){var o=ct;ct|=2;var u=V_(),m=O_();_t!==s||Xe!==r?(Jd=null,Wd=fn()+500,Wo(s,r)):Yo=Os(s,r);e:do try{if(ft!==0&&$e!==null){r=$e;var y=as;t:switch(ft){case 1:ft=0,as=null,Jo(s,r,y,1);break;case 2:case 9:if(Xb(y)){ft=0,as=null,z_(r);break}r=function(){ft!==2&&ft!==9||_t!==s||(ft=7),xi(s)},y.then(r,r);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Xb(y)?(ft=0,as=null,z_(r)):(ft=0,as=null,Jo(s,r,y,7));break;case 5:var w=null;switch($e.tag){case 26:w=$e.memoizedState;case 5:case 27:var S=$e;if(w?Tx(w):S.stateNode.complete){ft=0,as=null;var V=S.sibling;if(V!==null)$e=V;else{var $=S.return;$!==null?($e=$,nh($)):$e=null}break t}}ft=0,as=null,Jo(s,r,y,5);break;case 6:ft=0,as=null,Jo(s,r,y,6);break;case 8:Ep(),Ut=6;break e;default:throw Error(i(462))}}NC();break}catch(W){j_(s,W)}while(!0);return Bi=Ba=null,K.H=u,K.A=m,ct=o,$e!==null?0:(_t=null,Xe=0,xd(),Ut)}function NC(){for(;$e!==null&&!Ea();)L_($e)}function L_(s){var r=l_(s.alternate,s,Zi);s.memoizedProps=s.pendingProps,r===null?nh(s):$e=r}function z_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=n_(o,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=n_(o,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:zm(r);default:u_(o,r),r=$e=Ob(r,Zi),r=l_(o,r,Zi)}s.memoizedProps=s.pendingProps,r===null?nh(s):$e=r}function Jo(s,r,o,u){Bi=Ba=null,zm(r),qo=null,xc=0;var m=r.return;try{if(bC(s,m,r,o,Xe)){Ut=1,Fd(s,vs(o,s.current)),$e=null;return}}catch(y){if(m!==null)throw $e=m,y;Ut=1,Fd(s,vs(o,s.current)),$e=null;return}r.flags&32768?(Je||u===1?s=!0:Yo||(Xe&536870912)!==0?s=!1:(Pr=s=!0,(u===2||u===9||u===3||u===6)&&(u=is.current,u!==null&&u.tag===13&&(u.flags|=16384))),U_(r,s)):nh(r)}function nh(s){var r=s;do{if((r.flags&32768)!==0){U_(r,Pr);return}s=r.return;var o=xC(r.alternate,r,Zi);if(o!==null){$e=o;return}if(r=r.sibling,r!==null){$e=r;return}$e=r=s}while(r!==null);Ut===0&&(Ut=5)}function U_(s,r){do{var o=wC(s.alternate,s);if(o!==null){o.flags&=32767,$e=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){$e=s;return}$e=s=o}while(s!==null);Ut=6,$e=null}function B_(s,r,o,u,m,y,w,S,V){s.cancelPendingCommit=null;do sh();while(on!==0);if((ct&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=hm,sm(s,o,y,w,S,V),s===_t&&($e=_t=null,Xe=0),Zo=r,Lr=s,Wi=o,_p=y,xp=m,N_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jC(Me,function(){return $_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,m=ie.p,ie.p=2,w=ct,ct|=4;try{EC(s,r,o)}finally{ct=w,ie.p=m,K.T=u}}on=1,q_(),F_(),H_()}}function q_(){if(on===1){on=0;var s=Lr,r=Zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=ie.p;ie.p=2;var m=ct;ct|=4;try{w_(r,s);var y=Vp,w=Rb(s.containerInfo),S=y.focusedElem,V=y.selectionRange;if(w!==S&&S&&S.ownerDocument&&kb(S.ownerDocument.documentElement,S)){if(V!==null&&om(S)){var $=V.start,W=V.end;if(W===void 0&&(W=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(W,S.value.length);else{var se=S.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Z=X.getSelection(),ge=S.textContent.length,Ae=Math.min(V.start,ge),bt=V.end===void 0?Ae:Math.min(V.end,ge);!Z.extend&&Ae>bt&&(w=bt,bt=Ae,Ae=w);var q=Ab(S,Ae),z=Ab(S,bt);if(q&&z&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var G=se.createRange();G.setStart(q.node,q.offset),Z.removeAllRanges(),Ae>bt?(Z.addRange(G),Z.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Z.addRange(G))}}}}for(se=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var te=se[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ph=!!Pp,Vp=Pp=null}finally{ct=m,ie.p=u,K.T=o}}s.current=r,on=2}}function F_(){if(on===2){on=0;var s=Lr,r=Zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=ie.p;ie.p=2;var m=ct;ct|=4;try{y_(s,r.alternate,r)}finally{ct=m,ie.p=u,K.T=o}}on=3}}function H_(){if(on===4||on===3){on=0,pr();var s=Lr,r=Zo,o=Wi,u=N_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,Zo=Lr=null,G_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Or=null),Pi(o),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(It,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=K.T,m=ie.p,ie.p=2,K.T=null;try{for(var y=s.onRecoverableError,w=0;w<u.length;w++){var S=u[w];y(S.value,{componentStack:S.stack})}}finally{K.T=r,ie.p=m}}(Wi&3)!==0&&sh(),xi(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===wp?Lc++:(Lc=0,wp=s):Lc=0,zc(0)}}function G_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,vc(r)))}function sh(){return q_(),F_(),H_(),$_()}function $_(){if(on!==5)return!1;var s=Lr,r=_p;_p=0;var o=Pi(Wi),u=K.T,m=ie.p;try{ie.p=32>o?32:o,K.T=null,o=xp,xp=null;var y=Lr,w=Wi;if(on=0,Zo=Lr=null,Wi=0,(ct&6)!==0)throw Error(i(331));var S=ct;if(ct|=4,k_(y.current),T_(y,y.current,w,o),ct=S,zc(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(It,y)}catch{}return!0}finally{ie.p=m,K.T=u,G_(s,r)}}function K_(s,r,o){r=vs(o,r),r=ep(s.stateNode,r,2),s=Ir(s,r,2),s!==null&&(Ta(s,2),xi(s))}function mt(s,r,o){if(s.tag===3)K_(s,s,o);else for(;r!==null;){if(r.tag===3){K_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){s=vs(o,s),o=Xv(2),u=Ir(r,o,2),u!==null&&(Yv(o,u,r,s),Ta(u,2),xi(u));break}}r=r.return}}function Sp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new AC;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(yp=!0,m.add(o),s=IC.bind(null,s,r,o),r.then(s,s))}function IC(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,_t===s&&(Xe&o)===o&&(Ut===4||Ut===3&&(Xe&62914560)===Xe&&300>fn()-Zd?(ct&2)===0&&Wo(s,0):bp|=o,Qo===Xe&&(Qo=0)),xi(s)}function X_(s,r){r===0&&(r=Ju()),s=La(s,r),s!==null&&(Ta(s,r),xi(s))}function DC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),X_(s,o)}function MC(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),X_(s,o)}function jC(s,r){return qt(s,r)}var ih=null,el=null,Ap=!1,rh=!1,kp=!1,Ur=0;function xi(s){s!==el&&s.next===null&&(el===null?ih=el=s:el=el.next=s),rh=!0,Ap||(Ap=!0,VC())}function zc(s,r){if(!kp&&rh){kp=!0;do for(var o=!1,u=ih;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var w=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-xe(42|s)+1)-1,y&=m&~(w&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,W_(u,y))}else y=Xe,y=fs(u,u===_t?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Os(u,y)||(o=!0,W_(u,y));u=u.next}while(o);kp=!1}}function PC(){Y_()}function Y_(){rh=Ap=!1;var s=0;Ur!==0&&$C()&&(s=Ur);for(var r=fn(),o=null,u=ih;u!==null;){var m=u.next,y=Q_(u,r);y===0?(u.next=null,o===null?ih=m:o.next=m,m===null&&(el=o)):(o=u,(s!==0||(y&3)!==0)&&(rh=!0)),u=m}on!==0&&on!==5||zc(s),Ur!==0&&(Ur=0)}function Q_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-xe(y),S=1<<w,V=m[w];V===-1?((S&o)===0||(S&u)!==0)&&(m[w]=nm(S,r)):V<=r&&(s.expiredLanes|=S),y&=~S}if(r=_t,o=Xe,o=fs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(ft===2||ft===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&si(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Os(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&si(u),Pi(o)){case 2:case 8:o=De;break;case 32:o=Me;break;case 268435456:o=Ve;break;default:o=Me}return u=Z_.bind(null,s),o=qt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&si(u),s.callbackPriority=2,s.callbackNode=null,2}function Z_(s,r){if(on!==0&&on!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(sh()&&s.callbackNode!==o)return null;var u=Xe;return u=fs(s,s===_t?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(D_(s,u,r),Q_(s,fn()),s.callbackNode!=null&&s.callbackNode===o?Z_.bind(null,s):null)}function W_(s,r){if(sh())return null;D_(s,r,!0)}function VC(){XC(function(){(ct&6)!==0?qt(ve,PC):Y_()})}function Rp(){if(Ur===0){var s=zo;s===0&&(s=vt,vt<<=1,(vt&261888)===0&&(vt=256)),Ur=s}return Ur}function J_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:To(""+s)}function ex(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function OC(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=J_((m[mn]||null).action),w=u.submitter;w&&(r=(r=w[mn]||null)?J_(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var S=new mi("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ur!==0){var V=w?ex(m,w):new FormData(m);Xm(o,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(S.preventDefault(),V=w?ex(m,w):new FormData(m),Xm(o,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var Cp=0;Cp<dm.length;Cp++){var Np=dm[Cp],LC=Np.toLowerCase(),zC=Np[0].toUpperCase()+Np.slice(1);Gs(LC,"on"+zC)}Gs(Ib,"onAnimationEnd"),Gs(Db,"onAnimationIteration"),Gs(Mb,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(tC,"onTransitionRun"),Gs(nC,"onTransitionStart"),Gs(sC,"onTransitionCancel"),Gs(jb,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uc));function tx(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var S=u[w],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=$;try{y(m)}catch(W){_d(W)}m.currentTarget=null,y=V}else for(w=0;w<u.length;w++){if(S=u[w],V=S.instance,$=S.currentTarget,S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=$;try{y(m)}catch(W){_d(W)}m.currentTarget=null,y=V}}}}function Ke(s,r){var o=r[vo];o===void 0&&(o=r[vo]=new Set);var u=s+"__bubble";o.has(u)||(nx(r,s,2,!1),o.add(u))}function Ip(s,r,o){var u=0;r&&(u|=4),nx(o,s,u,r)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Dp(s){if(!s[ah]){s[ah]=!0,Wl.forEach(function(o){o!=="selectionchange"&&(UC.has(o)||Ip(o,!1,s),Ip(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ah]||(r[ah]=!0,Ip("selectionchange",!1,r))}}function nx(s,r,o,u){switch(Ix(r)){case 2:var m=mN;break;case 8:m=pN;break;default:m=Kp}o=m.bind(null,r,o,s),m=void 0,!Na||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Mp(s,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===m)break;if(w===4)for(w=u.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;S!==null;){if(w=oi(S),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){u=y=w;continue e}S=S.parentNode}}u=u.return}xr(function(){var $=y,W=ps(o),se=[];e:{var X=Pb.get(s);if(X!==void 0){var Z=mi,ge=s;switch(s){case"keypress":if(Da(o)===0)break e;case"keydown":case"keyup":Z=yd;break;case"focusin":ge="focus",Z=ja;break;case"focusout":ge="blur",Z=ja;break;case"beforeblur":case"afterblur":Z=ja;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case Ib:case Db:case Mb:Z=ud;break;case jb:Z=k;break;case"scroll":case"scrollend":Z=uc;break;case"wheel":Z=Q;break;case"copy":case"cut":case"paste":Z=dd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Li;break;case"toggle":case"beforetoggle":Z=ze}var Ae=(r&4)!==0,bt=!Ae&&(s==="scroll"||s==="scrollend"),q=Ae?X!==null?X+"Capture":null:X;Ae=[];for(var z=$,G;z!==null;){var te=z;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||q===null||(te=Bs(z,q),te!=null&&Ae.push(Bc(z,te,G))),bt)break;z=z.return}0<Ae.length&&(X=new Z(X,ge,null,o,W),se.push({event:X,listeners:Ae}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",X&&o!==oc&&(ge=o.relatedTarget||o.fromElement)&&(oi(ge)||ge[ri]))break e;if((Z||X)&&(X=W.window===W?W:(X=W.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(ge=o.relatedTarget||o.toElement,Z=$,ge=ge?oi(ge):null,ge!==null&&(bt=l(ge),Ae=ge.tag,ge!==bt||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):(Z=null,ge=$),Z!==ge)){if(Ae=dc,te="onMouseLeave",q="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=Li,te="onPointerLeave",q="onPointerEnter",z="pointer"),bt=Z==null?X:es(Z),G=ge==null?X:es(ge),X=new Ae(te,z+"leave",Z,o,W),X.target=bt,X.relatedTarget=G,te=null,oi(W)===$&&(Ae=new Ae(q,z+"enter",ge,o,W),Ae.target=G,Ae.relatedTarget=bt,te=Ae),bt=te,Z&&ge)t:{for(Ae=BC,q=Z,z=ge,G=0,te=q;te;te=Ae(te))G++;te=0;for(var we=z;we;we=Ae(we))te++;for(;0<G-te;)q=Ae(q),G--;for(;0<te-G;)z=Ae(z),te--;for(;G--;){if(q===z||z!==null&&q===z.alternate){Ae=q;break t}q=Ae(q),z=Ae(z)}Ae=null}else Ae=null;Z!==null&&sx(se,X,Z,Ae,!1),ge!==null&&bt!==null&&sx(se,bt,ge,Ae,!0)}}e:{if(X=$?es($):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var it=_b;else if(bb(X))if(xb)it=WR;else{it=QR;var _e=YR}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&Eo($.elementType)&&(it=_b):it=ZR;if(it&&(it=it(s,$))){vb(se,it,o,W);break e}_e&&_e(s,X,$),s==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&ic(X,"number",X.value)}switch(_e=$?es($):window,s){case"focusin":(bb(_e)||_e.contentEditable==="true")&&(Io=_e,lm=$,gc=null);break;case"focusout":gc=lm=Io=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,Cb(se,o,W);break;case"selectionchange":if(eC)break;case"keydown":case"keyup":Cb(se,o,W)}var qe;if(lt)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else No?Pa(s,o)&&(Ye="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(yi&&o.locale!=="ko"&&(No||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&No&&(qe=cc()):(fi=W,lc="value"in fi?fi.value:fi.textContent,No=!0)),_e=oh($,Ye),0<_e.length&&(Ye=new gi(Ye,s,null,o,W),se.push({event:Ye,listeners:_e}),qe?Ye.data=qe:(qe=Co(o),qe!==null&&(Ye.data=qe)))),(qe=ys?GR(s,o):$R(s,o))&&(Ye=oh($,"onBeforeInput"),0<Ye.length&&(_e=new gi("onBeforeInput","beforeinput",null,o,W),se.push({event:_e,listeners:Ye}),_e.data=qe)),OC(se,s,$,o,W)}tx(se,r)})}function Bc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function oh(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Bs(s,o),m!=null&&u.unshift(Bc(s,m,y)),m=Bs(s,r),m!=null&&u.push(Bc(s,m,y))),s.tag===3)return u;s=s.return}return[]}function BC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function sx(s,r,o,u,m){for(var y=r._reactName,w=[];o!==null&&o!==u;){var S=o,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||$===null||(V=$,m?($=Bs(o,y),$!=null&&w.unshift(Bc(o,$,V))):m||($=Bs(o,y),$!=null&&w.push(Bc(o,$,V)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var qC=/\r\n?/g,FC=/\u0000|\uFFFD/g;function ix(s){return(typeof s=="string"?s:""+s).replace(qC,`
`).replace(FC,"")}function rx(s,r){return r=ix(r),ix(s)===r}function yt(s,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Fn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Fn(s,""+u);break;case"className":ts(s,"class",u);break;case"tabIndex":ts(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(s,o,u);break;case"style":ac(s,u,y);break;case"data":if(r!=="object"){ts(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=To(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&yt(s,r,"name",m.name,m,null),yt(s,r,"formEncType",m.formEncType,m,null),yt(s,r,"formMethod",m.formMethod,m,null),yt(s,r,"formTarget",m.formTarget,m,null)):(yt(s,r,"encType",m.encType,m,null),yt(s,r,"method",m.method,m,null),yt(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=To(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Us);break;case"onScroll":u!=null&&Ke("scroll",s);break;case"onScrollEnd":u!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=To(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),xo(s,"popover",u);break;case"xlinkActuate":Zt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=od.get(o)||o,xo(s,o,u))}}function jp(s,r,o,u,m,y){switch(o){case"style":ac(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Fn(s,u):(typeof u=="number"||typeof u=="bigint")&&Fn(s,""+u);break;case"onScroll":u!=null&&Ke("scroll",s);break;case"onScrollEnd":u!=null&&Ke("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=s[mn]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):xo(s,o,u)}}}function En(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:yt(s,r,y,w,o,null)}}m&&yt(s,r,"srcSet",o.srcSet,o,null),u&&yt(s,r,"src",o.src,o,null);return;case"input":Ke("invalid",s);var S=y=w=m=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":m=W;break;case"type":w=W;break;case"checked":V=W;break;case"defaultChecked":$=W;break;case"value":y=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:yt(s,r,u,W,o,null)}}id(s,y,S,V,$,w,m,!1);return;case"select":Ke("invalid",s),u=w=y=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:yt(s,r,m,S,o,null)}r=y,o=w,s.multiple=!!u,r!=null?yr(s,!!u,r,!1):o!=null&&yr(s,!!u,o,!0);return;case"textarea":Ke("invalid",s),y=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:yt(s,r,w,S,o,null)}br(s,u,m,y);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:yt(s,r,V,u,o,null)}return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(u=0;u<Uc.length;u++)Ke(Uc[u],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:yt(s,r,$,u,o,null)}return;default:if(Eo(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&jp(s,r,W,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&yt(s,r,S,u,o,null))}function HC(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,S=null,V=null,$=null,W=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=se;default:u.hasOwnProperty(Z)||yt(s,r,Z,null,u,se)}}for(var X in u){var Z=u[X];if(se=o[X],u.hasOwnProperty(X)&&(Z!=null||se!=null))switch(X){case"type":y=Z;break;case"name":m=Z;break;case"checked":$=Z;break;case"defaultChecked":W=Z;break;case"value":w=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==se&&yt(s,r,X,Z,u,se)}}wo(s,w,S,V,$,W,y,m);return;case"select":Z=w=S=X=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(y)||yt(s,r,y,null,u,V)}for(m in u)if(y=u[m],V=o[m],u.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":X=y;break;case"defaultValue":S=y;break;case"multiple":w=y;default:y!==V&&yt(s,r,m,y,u,V)}r=S,o=w,u=Z,X!=null?yr(s,!!o,X,!1):!!u!=!!o&&(r!=null?yr(s,!!o,r,!0):yr(s,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:yt(s,r,S,null,u,m)}for(w in u)if(m=u[w],y=o[w],u.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":X=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&yt(s,r,w,m,u,y)}rd(s,X,Z);return;case"option":for(var ge in o)if(X=o[ge],o.hasOwnProperty(ge)&&X!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":s.selected=!1;break;default:yt(s,r,ge,null,u,X)}for(V in u)if(X=u[V],Z=o[V],u.hasOwnProperty(V)&&X!==Z&&(X!=null||Z!=null))switch(V){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:yt(s,r,V,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)X=o[Ae],o.hasOwnProperty(Ae)&&X!=null&&!u.hasOwnProperty(Ae)&&yt(s,r,Ae,null,u,X);for($ in u)if(X=u[$],Z=o[$],u.hasOwnProperty($)&&X!==Z&&(X!=null||Z!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:yt(s,r,$,X,u,Z)}return;default:if(Eo(r)){for(var bt in o)X=o[bt],o.hasOwnProperty(bt)&&X!==void 0&&!u.hasOwnProperty(bt)&&jp(s,r,bt,void 0,u,X);for(W in u)X=u[W],Z=o[W],!u.hasOwnProperty(W)||X===Z||X===void 0&&Z===void 0||jp(s,r,W,X,u,Z);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&yt(s,r,q,null,u,X);for(se in u)X=u[se],Z=o[se],!u.hasOwnProperty(se)||X===Z||X==null&&Z==null||yt(s,r,se,X,u,Z)}function ax(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,w=m.initiatorType,S=m.duration;if(y&&S&&ax(w)){for(w=0,S=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],$=V.startTime;if($>S)break;var W=V.transferSize,se=V.initiatorType;W&&ax(se)&&(V=V.responseEnd,w+=W*(V<S?1:(S-$)/(V-$)))}if(--u,r+=8*(y+w)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Pp=null,Vp=null;function lh(s){return s.nodeType===9?s:s.ownerDocument}function ox(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lx(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Op(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lp=null;function $C(){var s=window.event;return s&&s.type==="popstate"?s===Lp?!1:(Lp=s,!0):(Lp=null,!1)}var cx=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,XC=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(s){return ux.resolve(null).then(s).catch(YC)}:cx;function YC(s){setTimeout(function(){throw s})}function Br(s){return s==="head"}function dx(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),il(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")qc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,qc(o);for(var y=o.firstChild;y;){var w=y.nextSibling,S=y.nodeName;y[ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&qc(s.ownerDocument.body);o=m}while(o);il(r)}function hx(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function zp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zp(o),_o(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function QC(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ai])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ts(s.nextSibling),s===null)break}return null}function ZC(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ts(s.nextSibling),s===null))return null;return s}function fx(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Ts(s.nextSibling),s===null))return null;return s}function Up(s){return s.data==="$?"||s.data==="$~"}function Bp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WC(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Ts(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var qp=null;function mx(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Ts(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function px(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function gx(s,r,o){switch(r=lh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function qc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);_o(s)}var Ss=new Map,yx=new Set;function ch(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ji=ie.d;ie.d={f:JC,r:eN,D:tN,C:nN,L:sN,m:iN,X:aN,S:rN,M:oN};function JC(){var s=Ji.f(),r=eh();return s||r}function eN(s){var r=ms(s);r!==null&&r.tag===5&&r.type==="form"?jv(r):Ji.r(s)}var tl=typeof document>"u"?null:document;function bx(s,r,o){var u=tl;if(u&&typeof r=="string"&&r){var m=qn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),yx.has(m)||(yx.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),En(r,"link",s),Qt(r),u.head.appendChild(r)))}}function tN(s){Ji.D(s),bx("dns-prefetch",s,null)}function nN(s,r){Ji.C(s,r),bx("preconnect",s,r)}function sN(s,r,o){Ji.L(s,r,o);var u=tl;if(u&&s&&r){var m='link[rel="preload"][as="'+qn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+qn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+qn(o.imageSizes)+'"]')):m+='[href="'+qn(s)+'"]';var y=m;switch(r){case"style":y=nl(s);break;case"script":y=sl(s)}Ss.has(y)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Ss.set(y,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Fc(y))||r==="script"&&u.querySelector(Hc(y))||(r=u.createElement("link"),En(r,"link",s),Qt(r),u.head.appendChild(r)))}}function iN(s,r){Ji.m(s,r);var o=tl;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+qn(u)+'"][href="'+qn(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=sl(s)}if(!Ss.has(y)&&(s=v({rel:"modulepreload",href:s},r),Ss.set(y,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hc(y)))return}u=o.createElement("link"),En(u,"link",s),Qt(u),o.head.appendChild(u)}}}function rN(s,r,o){Ji.S(s,r,o);var u=tl;if(u&&s){var m=li(u).hoistableStyles,y=nl(s);r=r||"default";var w=m.get(y);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(Fc(y)))S.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Ss.get(y))&&Fp(s,o);var V=w=u.createElement("link");Qt(V),En(V,"link",s),V._p=new Promise(function($,W){V.onload=$,V.onerror=W}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uh(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:S},m.set(y,w)}}}function aN(s,r){Ji.X(s,r);var o=tl;if(o&&s){var u=li(o).hoistableScripts,m=sl(s),y=u.get(m);y||(y=o.querySelector(Hc(m)),y||(s=v({src:s,async:!0},r),(r=Ss.get(m))&&Hp(s,r),y=o.createElement("script"),Qt(y),En(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function oN(s,r){Ji.M(s,r);var o=tl;if(o&&s){var u=li(o).hoistableScripts,m=sl(s),y=u.get(m);y||(y=o.querySelector(Hc(m)),y||(s=v({src:s,async:!0,type:"module"},r),(r=Ss.get(m))&&Hp(s,r),y=o.createElement("script"),Qt(y),En(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function vx(s,r,o,u){var m=(m=Ie.current)?ch(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=nl(o.href),o=li(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=nl(o.href);var y=li(m).hoistableStyles,w=y.get(s);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=m.querySelector(Fc(s)))&&!y._p&&(w.instance=y,w.state.loading=5),Ss.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ss.set(s,o),y||lN(m,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=sl(o),o=li(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function nl(s){return'href="'+qn(s)+'"'}function Fc(s){return'link[rel="stylesheet"]['+s+"]"}function _x(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function lN(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),En(r,"link",o),Qt(r),s.head.appendChild(r))}function sl(s){return'[src="'+qn(s)+'"]'}function Hc(s){return"script[async]"+s}function xx(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+qn(o.href)+'"]');if(u)return r.instance=u,Qt(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Qt(u),En(u,"style",m),uh(u,o.precedence,s),r.instance=u;case"stylesheet":m=nl(o.href);var y=s.querySelector(Fc(m));if(y)return r.state.loading|=4,r.instance=y,Qt(y),y;u=_x(o),(m=Ss.get(m))&&Fp(u,m),y=(s.ownerDocument||s).createElement("link"),Qt(y);var w=y;return w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),En(y,"link",u),r.state.loading|=4,uh(y,o.precedence,s),r.instance=y;case"script":return y=sl(o.src),(m=s.querySelector(Hc(y)))?(r.instance=m,Qt(m),m):(u=o,(m=Ss.get(y))&&(u=v({},o),Hp(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Qt(m),En(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,uh(u,o.precedence,s));return r.instance}function uh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===r)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Fp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Hp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var dh=null;function wx(s,r,o){if(dh===null){var u=new Map,m=dh=new Map;m.set(o,u)}else m=dh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var y=o[m];if(!(y[ai]||y[Yt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=s+w;var S=u.get(w);S?S.push(y):u.set(w,[y])}}return u}function Ex(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function cN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Tx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function uN(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=nl(u.href),y=r.querySelector(Fc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=hh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Qt(y);return}y=r.ownerDocument||r,u=_x(u),(m=Ss.get(m))&&Fp(u,m),y=y.createElement("link"),Qt(y);var w=y;w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),En(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=hh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Gp=0;function dN(s,r){return s.stylesheets&&s.count===0&&mh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&mh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&Gp===0&&(Gp=62500*GC());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&mh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Gp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fh=null;function mh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fh=new Map,r.forEach(hN,s),fh=null,hh.call(s))}function hN(s,r){if(!(r.state.loading&4)){var o=fh.get(s);if(o)var u=o.get(null);else{o=new Map,fh.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=r.instance,w=m.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,m),o.set(w,m),this.count++,u=hh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Gc={$$typeof:F,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function fN(s,r,o,u,m,y,w,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Sx(s,r,o,u,m,y,w,S,V,$,W,se){return s=new fN(s,r,o,w,V,$,W,se,S),r=1,y===!0&&(r|=24),y=ss(3,null,null,r),s.current=y,y.stateNode=s,r=Tm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Rm(y),s}function Ax(s){return s?(s=jo,s):jo}function kx(s,r,o,u,m,y){m=Ax(m),u.context===null?u.context=m:u.pendingContext=m,u=Nr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Ir(s,u,r),o!==null&&(Xn(o,s,r),Ec(o,s,r))}function Rx(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function $p(s,r){Rx(s,r),(s=s.alternate)&&Rx(s,r)}function Cx(s){if(s.tag===13||s.tag===31){var r=La(s,67108864);r!==null&&Xn(r,s,67108864),$p(s,67108864)}}function Nx(s){if(s.tag===13||s.tag===31){var r=ls();r=Aa(r);var o=La(s,r);o!==null&&Xn(o,s,r),$p(s,r)}}var ph=!0;function mN(s,r,o,u){var m=K.T;K.T=null;var y=ie.p;try{ie.p=2,Kp(s,r,o,u)}finally{ie.p=y,K.T=m}}function pN(s,r,o,u){var m=K.T;K.T=null;var y=ie.p;try{ie.p=8,Kp(s,r,o,u)}finally{ie.p=y,K.T=m}}function Kp(s,r,o,u){if(ph){var m=Xp(u);if(m===null)Mp(s,r,u,gh,o),Dx(s,u);else if(yN(m,s,r,o,u))u.stopPropagation();else if(Dx(s,u),r&4&&-1<gN.indexOf(s)){for(;m!==null;){var y=ms(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Xt(y.pendingLanes);if(w!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var V=1<<31-xe(w);S.entanglements[1]|=V,w&=~V}xi(y),(ct&6)===0&&(Wd=fn()+500,zc(0))}}break;case 31:case 13:S=La(y,2),S!==null&&Xn(S,y,2),eh(),$p(y,2)}if(y=Xp(u),y===null&&Mp(s,r,u,gh,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else Mp(s,r,u,null,o)}}function Xp(s){return s=ps(s),Yp(s)}var gh=null;function Yp(s){if(gh=null,s=oi(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return gh=s,null}function Ix(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ve:return 2;case De:return 8;case Me:case Be:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var Qp=!1,qr=null,Fr=null,Hr=null,$c=new Map,Kc=new Map,Gr=[],gN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dx(s,r){switch(s){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":$c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(r.pointerId)}}function Xc(s,r,o,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ms(r),r!==null&&Cx(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function yN(s,r,o,u,m){switch(r){case"focusin":return qr=Xc(qr,s,r,o,u,m),!0;case"dragenter":return Fr=Xc(Fr,s,r,o,u,m),!0;case"mouseover":return Hr=Xc(Hr,s,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return $c.set(y,Xc($c.get(y)||null,s,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Kc.set(y,Xc(Kc.get(y)||null,s,r,o,u,m)),!0}return!1}function Mx(s){var r=oi(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,Ls(s.priority,function(){Nx(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,Ls(s.priority,function(){Nx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Xp(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);oc=u,o.target.dispatchEvent(u),oc=null}else return r=ms(o),r!==null&&Cx(r),s.blockedOn=o,!1;r.shift()}return!0}function jx(s,r,o){yh(s)&&o.delete(r)}function bN(){Qp=!1,qr!==null&&yh(qr)&&(qr=null),Fr!==null&&yh(Fr)&&(Fr=null),Hr!==null&&yh(Hr)&&(Hr=null),$c.forEach(jx),Kc.forEach(jx)}function bh(s,r){s.blockedOn===r&&(s.blockedOn=null,Qp||(Qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bN)))}var vh=null;function Px(s){vh!==s&&(vh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vh===s&&(vh=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(Yp(u||o)===null)continue;break}var y=ms(o);y!==null&&(s.splice(r,3),r-=3,Xm(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function il(s){function r(V){return bh(V,s)}qr!==null&&bh(qr,s),Fr!==null&&bh(Fr,s),Hr!==null&&bh(Hr,s),$c.forEach(r),Kc.forEach(r);for(var o=0;o<Gr.length;o++){var u=Gr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Gr.length&&(o=Gr[0],o.blockedOn===null);)Mx(o),o.blockedOn===null&&Gr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],w=m[mn]||null;if(typeof y=="function")w||Px(o);else if(w){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[mn]||null)S=w.formAction;else if(Yp(m)!==null)continue}else S=w.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),Px(o)}}}function Vx(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Zp(s){this._internalRoot=s}_h.prototype.render=Zp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=ls();kx(o,u,s,r,null,null)},_h.prototype.unmount=Zp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;kx(s.current,2,null,s,null,null),eh(),r[ri]=null}};function _h(s){this._internalRoot=s}_h.prototype.unstable_scheduleHydration=function(s){if(s){var r=ed();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Gr.length&&r!==0&&r<Gr[o].priority;o++);Gr.splice(o,0,s),o===0&&Mx(s)}};var Ox=e.version;if(Ox!=="19.2.3")throw Error(i(527,Ox,"19.2.3"));ie.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?b(s):null,s=s===null?null:s.stateNode,s};var vN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{It=xh.inject(vN),Ge=xh}catch{}}return Qc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=Hv,y=Gv,w=$v;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=Sx(s,1,!1,null,null,o,u,null,m,y,w,Vx),s[ri]=r.current,Dp(s),new Zp(r)},Qc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",y=Hv,w=Gv,S=$v,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=Sx(s,1,!0,r,o??null,u,m,V,y,w,S,Vx),r.context=Ax(null),o=r.current,u=ls(),u=Aa(u),m=Nr(u),m.callback=null,Ir(o,m,u),o=u,r.current.lanes=o,Ta(r,o),xi(r),s[ri]=r.current,Dp(s),new _h(r)},Qc.version="19.2.3",Qc}var Kx;function CN(){if(Kx)return eg.exports;Kx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=RN(),eg.exports}var NN=CN();const IN=e1(NN);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xx="popstate";function DN(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:f=""}=po(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Og("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:vu(l))}function i(a,l){Wn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return jN(e,n,i,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substring(2,10)}function Yx(t,e){return{usr:t.state,key:t.key,idx:e}}function Og(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||i||MN()}}function vu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function jN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",f=null,p=b();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function b(){return(c.state||{idx:null}).idx}function v(){d="POP";let P=b(),U=P==null?null:P-p;p=P,f&&f({action:d,location:M.location,delta:U})}function x(P,U){d="PUSH";let Y=Og(M.location,P,U);n&&n(Y,P),p=b()+1;let F=Yx(Y,p),le=M.createHref(Y);try{c.pushState(F,"",le)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(le)}l&&f&&f({action:d,location:M.location,delta:1})}function A(P,U){d="REPLACE";let Y=Og(M.location,P,U);n&&n(Y,P),p=b();let F=Yx(Y,p),le=M.createHref(Y);c.replaceState(F,"",le),l&&f&&f({action:d,location:M.location,delta:0})}function I(P){return PN(P)}let M={get action(){return d},get location(){return t(a,c)},listen(P){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Xx,v),f=P,()=>{a.removeEventListener(Xx,v),f=null}},createHref(P){return e(a,P)},createURL:I,encodeLocation(P){let U=I(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:A,go(P){return c.go(P)}};return M}function PN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:vu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function n1(t,e,n="/"){return VN(t,e,n,!1)}function VN(t,e,n,i){let a=typeof e=="string"?po(e):e,l=or(a.pathname||"/",n);if(l==null)return null;let c=s1(t);ON(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=XN(l);d=$N(c[f],p,i)}return d}function s1(t,e=[],n=[],i="",a=!1){let l=(c,d,f=a,p)=>{let b={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&f)return;Pt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let v=ir([i,b.relativePath]),x=n.concat(b);c.children&&c.children.length>0&&(Pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),s1(c.children,e,x,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:HN(v,c.index),routesMeta:x})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of i1(c.path))l(c,d,!0,p)}),e}function i1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=i1(i.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function ON(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var LN=/^:[\w-]+$/,zN=3,UN=2,BN=1,qN=10,FN=-2,Qx=t=>t==="*";function HN(t,e){let n=t.split("/"),i=n.length;return n.some(Qx)&&(i+=FN),e&&(i+=UN),n.filter(a=>!Qx(a)).reduce((a,l)=>a+(LN.test(l)?zN:l===""?BN:qN),i)}function GN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function $N(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,b=l==="/"?e:e.slice(l.length)||"/",v=ef({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},b),x=f.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=ef({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:ir([l,v.pathname]),pathnameBase:JN(ir([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=ir([l,v.pathnameBase]))}return c}function ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=KN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:b,isOptional:v},x)=>{if(b==="*"){let I=d[x]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=d[x];return v&&!A?p[b]=void 0:p[b]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function KN(t,e=!1,n=!0){Wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function XN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function or(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var YN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QN=t=>YN.test(t);function ZN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?po(t):t,l;if(n)if(QN(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Zx(n.substring(1),"/"):l=Zx(n,e)}else l=e;return{pathname:l,search:e2(i),hash:t2(a)}}function Zx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vy(t){let e=WN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Oy(t,e,n,i=!1){let a;typeof t=="string"?a=po(t):(a={...t},Pt(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),Pt(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),Pt(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}d=v>=0?e[v]:"/"}let f=ZN(a,d),p=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||b)&&(f.pathname+="/"),f}var ir=t=>t.join("/").replace(/\/\/+/g,"/"),JN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function s2(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var r1=["POST","PUT","PATCH","DELETE"];new Set(r1);var i2=["GET",...r1];new Set(i2);var Ml=N.createContext(null);Ml.displayName="DataRouter";var Cf=N.createContext(null);Cf.displayName="DataRouterState";N.createContext(!1);var a1=N.createContext({isTransitioning:!1});a1.displayName="ViewTransition";var r2=N.createContext(new Map);r2.displayName="Fetchers";var a2=N.createContext(null);a2.displayName="Await";var Ms=N.createContext(null);Ms.displayName="Navigation";var Pu=N.createContext(null);Pu.displayName="Location";var ei=N.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Ly=N.createContext(null);Ly.displayName="RouteError";function o2(t,{relative:e}={}){Pt(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Ms),{hash:a,pathname:l,search:c}=Vu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ir([n,l])),i.createHref({pathname:d,search:c,hash:a})}function jl(){return N.useContext(Pu)!=null}function ti(){return Pt(jl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Pu).location}var o1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l1(t){N.useContext(Ms).static||N.useLayoutEffect(t)}function ma(){let{isDataRoute:t}=N.useContext(ei);return t?_2():l2()}function l2(){Pt(jl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Ml),{basename:e,navigator:n}=N.useContext(Ms),{matches:i}=N.useContext(ei),{pathname:a}=ti(),l=JSON.stringify(Vy(i)),c=N.useRef(!1);return l1(()=>{c.current=!0}),N.useCallback((f,p={})=>{if(Wn(c.current,o1),!c.current)return;if(typeof f=="number"){n.go(f);return}let b=Oy(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ir([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,l,a,t])}N.createContext(null);function c1(){let{matches:t}=N.useContext(ei),e=t[t.length-1];return e?e.params:{}}function Vu(t,{relative:e}={}){let{matches:n}=N.useContext(ei),{pathname:i}=ti(),a=JSON.stringify(Vy(n));return N.useMemo(()=>Oy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function c2(t,e){return u1(t,e)}function u1(t,e,n,i,a){var Y;Pt(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Ms),{matches:c}=N.useContext(ei),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",b=d?d.pathnameBase:"/",v=d&&d.route;{let F=v&&v.path||"";d1(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let x=ti(),A;if(e){let F=typeof e=="string"?po(e):e;Pt(b==="/"||((Y=F.pathname)==null?void 0:Y.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=x;let I=A.pathname||"/",M=I;if(b!=="/"){let F=b.replace(/^\//,"").split("/");M="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let P=n1(t,{pathname:M});Wn(v||P!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Wn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=m2(P&&P.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:ir([b,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?b:ir([b,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,i,a);return e&&U?N.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function u2(){let t=v2(),e=n2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var d2=N.createElement(u2,null),h2=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(ei.Provider,{value:this.props.routeContext},N.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f2({routeContext:t,match:e,children:n}){let i=N.useContext(Ml);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ei.Provider,{value:t},n)}function m2(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let b=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Pt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let d=!1,f=-1;if(n)for(let b=0;b<l.length;b++){let v=l[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=b),v.route.id){let{loaderData:x,errors:A}=n,I=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||I){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(b,v)=>{var x,A;i(b,{location:n.location,params:((A=(x=n.matches)==null?void 0:x[0])==null?void 0:A.params)??{},unstable_pattern:s2(n.matches),errorInfo:v})}:void 0;return l.reduceRight((b,v,x)=>{let A,I=!1,M=null,P=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,M=v.route.errorElement||d2,d&&(f<0&&x===0?(d1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,P=null):f===x&&(I=!0,P=v.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,x+1)),Y=()=>{let F;return A?F=M:I?F=P:v.route.Component?F=N.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=b,N.createElement(f2,{match:v,routeContext:{outlet:b,matches:U,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?N.createElement(h2,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:Y(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):Y()},null)}function zy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p2(t){let e=N.useContext(Ml);return Pt(e,zy(t)),e}function g2(t){let e=N.useContext(Cf);return Pt(e,zy(t)),e}function y2(t){let e=N.useContext(ei);return Pt(e,zy(t)),e}function Uy(t){let e=y2(t),n=e.matches[e.matches.length-1];return Pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function b2(){return Uy("useRouteId")}function v2(){var i;let t=N.useContext(Ly),e=g2("useRouteError"),n=Uy("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function _2(){let{router:t}=p2("useNavigate"),e=Uy("useNavigate"),n=N.useRef(!1);return l1(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Wn(n.current,o1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Wx={};function d1(t,e,n){!e&&!Wx[t]&&(Wx[t]=!0,Wn(!1,n))}N.memo(x2);function x2({routes:t,future:e,state:n,unstable_onError:i}){return u1(t,void 0,n,i,e)}function tr({to:t,replace:e,state:n,relative:i}){Pt(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Ms);Wn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(ei),{pathname:c}=ti(),d=ma(),f=Oy(t,Vy(l),c,i==="path"),p=JSON.stringify(f);return N.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function As(t){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Pt(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=po(n));let{pathname:p="/",search:b="",hash:v="",state:x=null,key:A="default"}=n,I=N.useMemo(()=>{let M=or(p,d);return M==null?null:{location:{pathname:M,search:b,hash:v,state:x,key:A},navigationType:i}},[d,p,b,v,x,A,i]);return Wn(I!=null,`<Router basename="${d}"> is not able to match the URL "${p}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:N.createElement(Ms.Provider,{value:f},N.createElement(Pu.Provider,{children:e,value:I}))}function E2({children:t,location:e}){return c2(Lg(t),e)}function Lg(t,e=[]){let n=[];return N.Children.forEach(t,(i,a)=>{if(!N.isValidElement(i))return;let l=[...e,a];if(i.type===N.Fragment){n.push.apply(n,Lg(i.props.children,l));return}Pt(i.type===As,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Lg(i.props.children,l)),n.push(c)}),n}var Lh="get",zh="application/x-www-form-urlencoded";function Nf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function T2(t){return Nf(t)&&t.tagName.toLowerCase()==="button"}function S2(t){return Nf(t)&&t.tagName.toLowerCase()==="form"}function A2(t){return Nf(t)&&t.tagName.toLowerCase()==="input"}function k2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R2(t,e){return t.button===0&&(!e||e==="_self")&&!k2(t)}function zg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function C2(t,e){let n=zg(t);return e&&e.forEach((i,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var wh=null;function N2(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var I2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(t){return t!=null&&!I2.has(t)?(Wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):t}function D2(t,e){let n,i,a,l,c;if(S2(t)){let d=t.getAttribute("action");i=d?or(d,e):null,n=t.getAttribute("method")||Lh,a=rg(t.getAttribute("enctype"))||zh,l=new FormData(t)}else if(T2(t)||A2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?or(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Lh,a=rg(t.getAttribute("formenctype"))||rg(d.getAttribute("enctype"))||zh,l=new FormData(d,t),!N2()){let{name:p,type:b,value:v}=t;if(b==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,v)}}else{if(Nf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,i=null,a=zh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M2(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&or(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function j2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function V2(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await j2(l,n);return c.links?c.links():[]}return[]}));return U2(i.flat(1).filter(P2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Jx(t,e,n,i,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var b;return n[p].pathname!==f.pathname||((b=n[p].route.path)==null?void 0:b.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var v;let b=i.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function O2(t,e,{includeHydrateFallback:n}={}){return L2(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function L2(t){return[...new Set(t)]}function z2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function U2(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(z2(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function h1(){let t=N.useContext(Ml);return By(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function B2(){let t=N.useContext(Cf);return By(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qy=N.createContext(void 0);qy.displayName="FrameworkContext";function f1(){let t=N.useContext(qy);return By(t,"You must render this element inside a <HydratedRouter> element"),t}function q2(t,e){let n=N.useContext(qy),[i,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:b,onTouchStart:v}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=U=>{U.forEach(Y=>{c(Y.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return x.current&&P.observe(x.current),()=>{P.disconnect()}}},[t]),N.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let A=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Zc(d,A),onBlur:Zc(f,I),onMouseEnter:Zc(p,A),onMouseLeave:Zc(b,I),onTouchStart:Zc(v,A)}]:[!1,x,{}]}function Zc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function F2({page:t,...e}){let{router:n}=h1(),i=N.useMemo(()=>n1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(G2,{page:t,matches:i,...e}):null}function H2(t){let{manifest:e,routeModules:n}=f1(),[i,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return V2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function G2({page:t,matches:e,...n}){let i=ti(),{manifest:a,routeModules:l}=f1(),{basename:c}=h1(),{loaderData:d,matches:f}=B2(),p=N.useMemo(()=>Jx(t,e,f,a,i,"data"),[t,e,f,a,i]),b=N.useMemo(()=>Jx(t,e,f,a,i,"assets"),[t,e,f,a,i]),v=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,M=!1;if(e.forEach(U=>{var F;let Y=a.routes[U.route.id];!Y||!Y.hasLoader||(!p.some(le=>le.route.id===U.route.id)&&U.route.id in d&&((F=l[U.route.id])!=null&&F.shouldRevalidate)||Y.hasClientLoader?M=!0:I.add(U.route.id))}),I.size===0)return[];let P=M2(t,c,"data");return M&&I.size>0&&P.searchParams.set("_routes",e.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[P.pathname+P.search]},[c,d,i,a,p,e,t,l]),x=N.useMemo(()=>O2(b,a),[b,a]),A=H2(b);return N.createElement(N.Fragment,null,v.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),x.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),A.map(({key:I,link:M})=>N.createElement("link",{key:I,nonce:n.nonce,...M})))}function $2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var m1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m1&&(window.__reactRouterVersion="7.10.1")}catch{}function K2({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=N.useRef();a.current==null&&(a.current=DN({window:i,v5Compat:!0}));let l=a.current,[c,d]=N.useState({action:l.action,location:l.location}),f=N.useCallback(p=>{n===!1?d(p):N.startTransition(()=>d(p))},[n]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(w2,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:b,viewTransition:v,...x},A){let{basename:I,unstable_useTransitions:M}=N.useContext(Ms),P=typeof p=="string"&&p1.test(p),U,Y=!1;if(typeof p=="string"&&P&&(U=p,m1))try{let j=new URL(window.location.href),O=p.startsWith("//")?new URL(j.protocol+p):new URL(p),B=or(O.pathname,I);O.origin===j.origin&&B!=null?p=B+O.search+O.hash:Y=!0}catch{Wn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=o2(p,{relative:a}),[le,ae,ue]=q2(i,x),R=Z2(p,{replace:c,state:d,target:f,preventScrollReset:b,relative:a,viewTransition:v,unstable_useTransitions:M});function T(j){e&&e(j),j.defaultPrevented||R(j)}let C=N.createElement("a",{...x,...ue,href:U||F,onClick:Y||l?e:T,ref:$2(A,ae),target:f,"data-discover":!P&&n==="render"?"true":void 0});return le&&!P?N.createElement(N.Fragment,null,C,N.createElement(F2,{page:F})):C});ut.displayName="Link";var X2=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...p},b){let v=Vu(c,{relative:p.relative}),x=ti(),A=N.useContext(Cf),{navigator:I,basename:M}=N.useContext(Ms),P=A!=null&&sI(v)&&d===!0,U=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,Y=x.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),F=F?F.toLowerCase():null,U=U.toLowerCase()),F&&M&&(F=or(F,M)||F);const le=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ae=Y===U||!a&&Y.startsWith(U)&&Y.charAt(le)==="/",ue=F!=null&&(F===U||!a&&F.startsWith(U)&&F.charAt(U.length)==="/"),R={isActive:ae,isPending:ue,isTransitioning:P},T=ae?e:void 0,C;typeof i=="function"?C=i(R):C=[i,ae?"active":null,ue?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(R):l;return N.createElement(ut,{...p,"aria-current":T,className:C,ref:b,style:j,to:c,viewTransition:d},typeof f=="function"?f(R):f)});X2.displayName="NavLink";var Y2=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Lh,action:d,onSubmit:f,relative:p,preventScrollReset:b,viewTransition:v,...x},A)=>{let{unstable_useTransitions:I}=N.useContext(Ms),M=tI(),P=nI(d,{relative:p}),U=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&p1.test(d),F=le=>{if(f&&f(le),le.defaultPrevented)return;le.preventDefault();let ae=le.nativeEvent.submitter,ue=(ae==null?void 0:ae.getAttribute("formmethod"))||c,R=()=>M(ae||le.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:a,state:l,relative:p,preventScrollReset:b,viewTransition:v});I&&n!==!1?N.startTransition(()=>R()):R()};return N.createElement("form",{ref:A,method:U,action:P,onSubmit:i?f:F,...x,"data-discover":!Y&&t==="render"?"true":void 0})});Y2.displayName="Form";function Q2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(t){let e=N.useContext(Ml);return Pt(e,Q2(t)),e}function Z2(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let f=ma(),p=ti(),b=Vu(t,{relative:l});return N.useCallback(v=>{if(R2(v,e)){v.preventDefault();let x=n!==void 0?n:vu(p)===vu(b),A=()=>f(t,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:c});d?N.startTransition(()=>A()):A()}},[p,f,b,n,i,e,t,a,l,c,d])}function W2(t){Wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=N.useRef(zg(t)),n=N.useRef(!1),i=ti(),a=N.useMemo(()=>C2(i.search,n.current?null:e.current),[i.search]),l=ma(),c=N.useCallback((d,f)=>{const p=zg(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+p,f)},[l,a]);return[a,c]}var J2=0,eI=()=>`__${String(++J2)}__`;function tI(){let{router:t}=g1("useSubmit"),{basename:e}=N.useContext(Ms),n=b2(),i=t.fetch,a=t.navigate;return N.useCallback(async(l,c={})=>{let{action:d,method:f,encType:p,formData:b,body:v}=D2(l,e);if(c.navigate===!1){let x=c.fetcherKey||eI();await i(x,n,c.action||d,{preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function nI(t,{relative:e}={}){let{basename:n}=N.useContext(Ms),i=N.useContext(ei);Pt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Vu(t||".",{relative:e})},c=ti();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(b=>b==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let b=d.toString();l.search=b?`?${b}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ir([n,l.pathname])),vu(l)}function sI(t,{relative:e}={}){let n=N.useContext(a1);Pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=g1("useViewTransitionState"),a=Vu(t,{relative:e});if(!n.isTransitioning)return!1;let l=or(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=or(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ef(a.pathname,c)!=null||ef(a.pathname,l)!=null}let Wc=null;const iI=()=>(Wc||(Wc=new(window.AudioContext||window.webkitAudioContext)),Wc.state==="suspended"&&Wc.resume(),Wc),cs=(t,e,n,i=0,a=.1)=>{const l=iI();if(!l)return;const c=l.createOscillator(),d=l.createGain();c.type=e,c.frequency.setValueAtTime(t,l.currentTime+i),d.gain.setValueAtTime(a,l.currentTime+i),d.gain.exponentialRampToValueAtTime(.01,l.currentTime+i+n),c.connect(d),d.connect(l.destination),c.start(l.currentTime+i),c.stop(l.currentTime+i+n)},kt={correct:()=>{cs(600,"sine",.1,0),cs(800,"sine",.2,.1)},wrong:()=>{cs(150,"sawtooth",.3,0)},click:()=>{cs(400,"triangle",.05,0,.05)},win:()=>{cs(400,"sine",.1,0),cs(500,"sine",.1,.1),cs(600,"sine",.1,.2),cs(800,"square",.4,.3)},levelUp:()=>{cs(400,"sine",.1,0),cs(500,"sine",.1,.1),cs(600,"sine",.1,.2),cs(800,"sine",.1,.3),cs(1e3,"square",.4,.4)}},y1=()=>{const t=N.useRef(null);return N.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;e.width=window.innerWidth,e.height=window.innerHeight;const i=[],a=["#136dec","#fbbf24","#10b981","#ef4444","#8b5cf6"];for(let c=0;c<150;c++)i.push({x:e.width/2,y:e.height/2,vx:(Math.random()-.5)*20,vy:(Math.random()-.5)*20-5,color:a[Math.floor(Math.random()*a.length)],size:Math.random()*8+4,life:100});const l=()=>{if(!n||!e)return;n.clearRect(0,0,e.width,e.height);let c=!1;i.forEach(d=>{d.life>0&&(c=!0,d.x+=d.vx,d.y+=d.vy,d.vy+=.5,d.life--,n.fillStyle=d.color,n.fillRect(d.x,d.y,d.size,d.size))}),c&&requestAnimationFrame(l)};l()},[]),g.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-50"})},ew={eu:{nav_home:"Hasiera",nav_learn:"Ikasi",nav_games:"Jolasak",nav_shop:"Denda",nav_profile:"Profila",nav_admin:"Admin",login:"Saioa Hasi",logout:"Saioa Itxi",welcome:"Ongi etorri",email_placeholder:"zure@emaila.com",password_placeholder:"Pasahitza",login_button:"Sartu",google_login:"Google bidez sartu",error_login:"Errorea saioa hastean",hero_title:"Zenbaki Osoen Abentura",hero_subtitle:"Ikasi, Jolastu eta Irabazi! Bihurtu matematikaren maisu.",start_adventure:"Hasi Abentura",daily_missions:"Eguneroko Misioak",class_goal:"Klasearen Helburua",completed:"Egina",topics_title:"Ikasketa Bidea",topics_subtitle:"Jarraitu bidea pauso pauso. Osatu ikasgaia hurrengoa desblokeatzeko.",unit:"UNITATEA",theory:"Teoria",quiz:"Galdetegia",back_to_topics:"Itzuli",practice:"Praktika",examples:"Adibideak",start_quiz:"Joan Galdetegira",excellent:"Bikain!",very_good:"Oso Ondo!",good:"Ondo!",points_scored:"puntu lortu dituzu",this_session:"saio honetan",xp_cap_reached:"XP Muga Lortuta",play_again:"Jolastu Berriro",streak:"Bolada",score:"Puntuazioa",difficulty:"Zailtasuna",question:"Galdera",order_nums:"Ordenatu Zenbakiak",calc_hierarchy:"Kalkulatu (Kontuz Hierarkiarekin!)",simplify:"Sinplifikatu",calc_res:"Kalkulatu emaitza",select_smallest:"Hautatu zenbaki txikiena...",correct_excl:"ZUZENA!",wrong_excl:"OKERRA!",correct_answer:"Erantzun zuzena.",loading_next:"Hurrengoa kargatzen...",game_modes:"Joko Moduak",tip:"Aholkua",tip_ordering:"Gogoratu! Zenbaki negatiboetan, zenbaki handiena (balio absolutua) da benetan txikiena.",tip_addition:"Zeinu berdinak batu eta mantendu. Zeinu ezberdinak kendu eta handienarena jarri.",tip_subtraction:"Kenketa bat egitea, aurkakoa batzea da. 5 - (-2) = 5 + 2.",tip_mult:"Biderketan: (+)(+) = (+), (-)(-) = (+), eta (+)(-) = (-).",tip_div:"Zatiketan ere zeinuen araua berdina da.",tip_powers:"Berreketen propietateak erabili sinplifikatzeko.",tip_combined:"PEMDAS: Parentesiak, Berreketak, Biderketa/Zatiketa, Batuketa/Kenketa.",correct_ordering:"Ondo ordenatuta!",shop_title:"Denda",shop_subtitle:"Erabili zure Z-Coinak pertsonalizazioak lortzeko.",balance:"Saldoa",special_avatars:"Avatar Bereziak",frames:"Markoak",owned:"Lortuta",purchased:"Erosita",buying:"Erosketan...",buy:"Erosi",insufficient_funds:"Ez duzu nahikoa",level_required:"Maila {0} beharrezkoa",error_buying:"Errorea erosketan.",admin_panel:"Administrazio Panela",user:"Erabiltzailea",email:"Emaila",level:"Maila",last_login:"Azken Saioa",actions:"Ekintzak",view:"Ikusi",kick:"Kanporatu",are_you_sure:"Ziur zaude?",kick_confirmation_text:"Ekintza honek erabiltzailea eta bere datu guztiak betiko ezabatuko ditu.",cancel:"Ezeztatu",user_kicked_success:"Erabiltzailea kanporatua izan da.",user_kicked_error:"Arazoa egon da erabiltzailea kanporatzean.",for_teachers:"Irakasleentzat",help:"Laguntza",privacy:"Pribatutasuna",copyright:" 2023 DBH Matematika",my_profile:"Nire Profila",choose_avatar:"Avatarra Aukeratu",username:"Erabiltzaile Izena",email_read_only:"Emaila (Ezin da aldatu)",save_changes:"Gorde Aldaketak",saving:"Gordetzen...",danger_zone:"Arrisku Eremua",delete_account:"Ezabatu Kontua",delete_account_confirm:"Ziur zaude zure kontua ezabatu nahi duzula? Ekintza hau ezin da desegin.",delete_account_contact:"Mesedez, jarri harremanetan irakaslearekin kontua ezabatzeko.",changes_saved:"Aldaketak ondo gorde dira!",login_title_welcome:"Ongi Etorri!",login_subtitle:"Sartu zure kontuan jolasten jarraitzeko.",login_error_check_data:"Errorea saioa hastean. Egiaztatu datuak.",login_error_guest:"Arazo bat egon da gonbidatu gisa sartzean.",email_label:"Emaila",password_label:"Pasahitza",name_placeholder:"Jon Agirre",password_placeholder_dots:"",or:"edo",guest_continue:"Jarraitu Gonbidatu gisa",no_account:"Ez daukazu konturik?",register_here:"Erregistratu hemen",register_title:"Sortu Kontua",register_subtitle:"Bat egin Zenbaki Osoen Abenturarekin!",register_error:"Errorea erregistratzean. Saiatu berriro.",name_label:"Izena",register_btn:"Erregistratu",already_account:"Dagoeneko kontua daukazu?",login_link:"Hasi Saioa",loading:"Kargatzen..."},es:{nav_home:"Inicio",nav_learn:"Aprender",nav_games:"Juegos",nav_shop:"Tienda",nav_profile:"Perfil",nav_admin:"Admin",login:"Iniciar Sesin",logout:"Cerrar Sesin",welcome:"Bienvenido",email_placeholder:"tu@email.com",password_placeholder:"Contrasea",login_button:"Entrar",google_login:"Entrar con Google",error_login:"Error al iniciar sesin",hero_title:"La Aventura de los Nmeros Enteros",hero_subtitle:"Aprende, Juega y Gana! Convirtete en un maestro de las matemticas.",start_adventure:"Comenzar Aventura",daily_missions:"Misiones Diarias",class_goal:"Meta de la Clase",completed:"Completado",topics_title:"Camino de Aprendizaje",topics_subtitle:"Sigue el camino paso a paso. Completa la leccin para desbloquear la siguiente.",unit:"UNIDAD",theory:"Teora",quiz:"Cuestionario",back_to_topics:"Volver",practice:"Prctica",examples:"Ejemplos",start_quiz:"Ir al Cuestionario",excellent:"Excelente!",very_good:"Muy Bien!",good:"Bien!",points_scored:"puntos conseguidos",this_session:"en esta sesin",xp_cap_reached:"Lmite de XP Alcanzado",play_again:"Jugar de Nuevo",streak:"Racha",score:"Puntuacin",difficulty:"Dificultad",question:"Pregunta",order_nums:"Ordena los Nmeros",calc_hierarchy:"Calcula (Cuidado con la Jerarqua!)",simplify:"Simplifica",calc_res:"Calcula el resultado",select_smallest:"Selecciona el nmero ms pequeo...",correct_excl:"CORRECTO!",wrong_excl:"INCORRECTO!",correct_answer:"Respuesta correcta.",loading_next:"Cargando siguiente...",game_modes:"Modos de Juego",tip:"Consejo",tip_ordering:"Recuerda! En nmeros negativos, el nmero ms grande (valor absoluto) es en realidad el ms pequeo.",tip_addition:"Suma signos iguales y mantn el signo. Resta signos diferentes y pon el del mayor.",tip_subtraction:"Restar es sumar el opuesto. 5 - (-2) = 5 + 2.",tip_mult:"En multiplicacin: (+)(+) = (+), (-)(-) = (+), y (+)(-) = (-).",tip_div:"En divisin, la regla de los signos es la misma.",tip_powers:"Usa las propiedades de las potencias para simplificar.",tip_combined:"PEMDAS: Parntesis, Exponentes, Multiplicacin/Divisin, Suma/Resta.",correct_ordering:"Bien ordenado!",shop_title:"Tienda",shop_subtitle:"Usa tus Z-Coins para conseguir personalizaciones.",balance:"Saldo",special_avatars:"Avatares Especiales",frames:"Marcos",owned:"Conseguido",purchased:"Comprado",buying:"Comprando...",buy:"Comprar",insufficient_funds:"No tienes suficiente",level_required:"Nivel {0} necesario",error_buying:"Error en la compra.",admin_return:"Volver al Panel Admin",sessions_total:"Sesiones",most_used_sections:"Secciones Ms Usadas",last_sessions:"ltimas Sesiones",active:"Activo?",no_data:"No hay datos.",no_sessions:"No hay sesiones registradas.",progress_welcome:"Hola, {0}!",progress_summary:"Aqu tienes el resumen de tu aventura de nmeros enteros.",keep_playing:"Seguir Jugando",score_label:"Puntuacin",course_completed:"Curso completado",achievements_label:"Logros",global_progress:"Progreso General del Curso",progress_good_start:"Buen comienzo! Sigue aprendiendo.",progress_very_good:"Vas muy bien! Te falta dominar las potencias.",progress_almost_there:"Casi terminas! Eres un campen.",medals_achievements:"Medallas y Logros",xp_earned:"+{0} XP Conseguido",game_details:"Detalles de Juegos",your_level:"Tu Nivel",student_level:"Estudiante (Nvl {0})",next_level_xp:"Para siguiente nivel: {0} XP",leaderboard:"Clasificacin",this_week:"Esta semana",you_suffix:"(T)",cat_theory_intro:"Teora: Fundamentos",cat_theory_operations:"Teora: Suma/Resta",cat_theory_multiplication:"Teora: Mult/Div",cat_theory_powers:"Teora: Potencias",cat_theory_advanced:"Teora: Combinadas",cat_ordering_easy:"Ordenar (Fcil)",cat_ordering_medium:"Ordenar (Medio)",cat_ordering_hard:"Ordenar (Difcil)",cat_combined_easy:"Combinadas (Fcil)",cat_combined_medium:"Combinadas (Medio)",cat_combined_hard:"Combinadas (Difcil)",cat_mixed_easy:"Mezcla (Fcil)",cat_mixed_medium:"Mezcla (Medio)",cat_mixed_hard:"Mezcla (Difcil)",cat_addition_easy:"Suma (Fcil)",cat_addition_medium:"Suma (Medio)",cat_addition_hard:"Suma (Difcil)",cat_subtraction_easy:"Resta (Fcil)",cat_subtraction_medium:"Resta (Medio)",cat_subtraction_hard:"Resta (Difcil)",cat_multiplication_easy:"Multiplicacin (Fcil)",cat_multiplication_medium:"Multiplicacin (Medio)",cat_multiplication_hard:"Multiplicacin (Difcil)",cat_division_easy:"Divisin (Fcil)",cat_division_medium:"Divisin (Medio)",cat_division_hard:"Divisin (Difcil)",cat_powers_easy:"Potencias (Fcil)",cat_powers_medium:"Potencias (Medio)",cat_powers_hard:"Potencias (Difcil)",cat_roots_easy:"Races (Fcil)",cat_roots_medium:"Races (Medio)",cat_roots_hard:"Races (Difcil)",group_theory:"Teora",group_ordering:"Ordenar",group_combined:"Combinadas",group_mixed:"Mezclado",group_add_sub:"Suma y Resta",group_mult_div:"Multiplicacin y Divisin",group_pow_root:"Potencias y Races",group_basics:"Bsicos",achievement_new:"Logro Desbloqueado!",great_job:"Bien hecho!",continue_btn:"Continuar",theory_intro_title:"Qu son los Nmeros Enteros (Z)?",theory_intro_desc:"El conjunto de nmeros enteros (Z) est formado por tres tipos de nmeros:",theory_intro_pos:'<strong>Positivos:</strong> (+1, +2...)  "Lo que tengo".',theory_intro_zero:"<strong>Cero:</strong> (0)  El lmite.",theory_intro_neg:'<strong>Negativos:</strong> (-1, -2...)  "Lo que debo" o "Bajo cero".',theory_interactive_title:"Recta Real Interactiva",theory_interactive_desc:"Arrastra el crculo para explorar los nmeros. Mira cmo cambian los valores!",theory_interactive_tip:"Hacia la derecha mayor, hacia la izquierda menor.",theory_warning_title:"Cuidado con los Negativos!",theory_warning_desc:'En los negativos, cuanto ms "grande" parece el nmero (ms lejos de 0), <strong>menor</strong> es su valor.',theory_op_step1_title:"Paso 1: Quitar Parntesis",theory_op_step1_desc:"Toca la tarjeta para ver la transformacin:",theory_op_tap_simplify:"Toca para simplificar",theory_op_same_sign:"Signos iguales = Positivo",theory_op_diff_sign:"Signos diferentes = Negativo",theory_op_example_more:"Otro ejemplo... (sigue tocando)",theory_op_rule_same:" +a (Iguales)",theory_op_rule_diff:" -a (Diferentes)",theory_op_step2_title:"Paso 2: Operar",theory_op_same_title:"Signo Igual",theory_op_same_desc:"Se <strong>SUMAN</strong> los nmeros y se mantiene el signo.",theory_op_diff_title:"Signo diferente",theory_op_diff_desc:"Se <strong>RESTAN</strong> los nmeros y se pone el signo del mayor absoluto.",theory_mult_title:"Ley de Signos Interactiva",theory_mult_desc:"Toca las combinaciones para ver el resultado:",theory_mult_tip_title:"Consejo:",theory_mult_tip_desc:"Puedes usar la regla del amigo:",theory_mult_rule_1:"El amigo (+) de mi amigo (+) = Mi amigo (+)",theory_mult_rule_2:"El enemigo (-) de mi enemigo (-) = Mi amigo (+)",theory_mult_tap:"Toca para ver",admin_panel:"Panel de Administracin",user:"Usuario",email:"Email",level:"Nivel",last_login:"ltima Sesin",actions:"Acciones",view:"Ver",kick:"Expulsar",are_you_sure:"Ests seguro?",kick_confirmation_text:"Esta accin eliminar al usuario y todos sus datos **permanentemente**.",cancel:"Cancelar",user_kicked_success:"Usuario expulsado correctamente.",user_kicked_error:"Hubo un problema al expulsar al usuario.",for_teachers:"Para Profesores",help:"Ayuda",privacy:"Privacidad",copyright:" 2023 DBH Matematika",my_profile:"Mi Perfil",choose_avatar:"Elegir Avatar",username:"Nombre de Usuario",email_read_only:"Email (No se puede cambiar)",save_changes:"Guardar Cambios",saving:"Guardando...",danger_zone:"Zona de Peligro",delete_account:"Borrar Cuenta",delete_account_confirm:"Ests seguro de que quieres borrar tu cuenta? Esta accin no se puede deshacer.",delete_account_contact:"Por favor, contacta con el profesor para borrar la cuenta.",changes_saved:"Cambios guardados correctamente!",login_title_welcome:"Bienvenido!",login_subtitle:"Inicia sesin para continuar jugando.",login_error_check_data:"Error al iniciar sesin. Verifica tus datos.",login_error_guest:"Hubo un problema al entrar como invitado.",email_label:"Email",password_label:"Contrasea",name_placeholder:"Jon Aguirre",password_placeholder_dots:"",or:"o",guest_continue:"Continuar como Invitado",no_account:"No tienes cuenta?",register_here:"Regstrate aqu",register_title:"Crear Cuenta",register_subtitle:"nete a la Aventura de los Nmeros Enteros!",register_error:"Error al registrarse. Intntalo de nuevo.",name_label:"Nombre",register_btn:"Registrarse",already_account:"Ya tienes cuenta?",login_link:"Inicia Sesin",loading:"Cargando...",error:"Ha ocurrido un error",success:"xito!",save:"Guardar",coins:"Monedas"},ar:{nav_home:"",nav_learn:"",nav_games:"",nav_shop:"",nav_profile:" ",nav_admin:"",login:" ",logout:" ",welcome:" ",email_placeholder:"example@email.com",password_placeholder:" ",login_button:"",google_login:"  Google",error_login:"   ",hero_title:"  ",hero_subtitle:"  !   .",start_adventure:" ",daily_missions:" ",class_goal:" ",completed:"",topics_title:" ",topics_subtitle:"   .    .",unit:"",theory:"",quiz:"",back_to_topics:"",practice:"",examples:"",start_quiz:" ",excellent:"!",very_good:" !",good:"!",points_scored:" ",this_session:"  ",xp_cap_reached:"    ",play_again:" ",streak:"",score:"",difficulty:"",question:"",order_nums:" ",calc_hierarchy:" ( !)",simplify:"",calc_res:" ",select_smallest:"  ...",correct_excl:"!",wrong_excl:"!",correct_answer:" .",loading_next:"  ...",game_modes:" ",tip:"",tip_ordering:"!      ( )    .",tip_addition:"     .      .",tip_subtraction:"   . 5 - (-2) = 5 + 2.",tip_mult:" : (+)(+) = (+) (-)(-) = (+)  (+)(-) = (-).",tip_div:"     .",tip_powers:"   .",tip_combined:"PEMDAS:   / /.",correct_ordering:" !",shop_title:"",shop_subtitle:"  Z   .",balance:"",special_avatars:" ",frames:"",owned:"",purchased:"",buying:" ...",buy:"",insufficient_funds:"  ",level_required:" {0} ",error_buying:"  .",admin_panel:" ",user:"",email:" ",level:"",last_login:" ",actions:"",view:"",kick:"",are_you_sure:"  ",kick_confirmation_text:"      ****.",cancel:"",user_kicked_success:"   .",user_kicked_error:"    .",for_teachers:"",help:"",privacy:"",copyright:" 2023 DBH Matematika",loading:" ...",error:" ",success:"!",save:"",coins:""}},b1=N.createContext(void 0),rI=({children:t})=>{const[e,n]=N.useState("eu"),i=l=>ew[e][l]||ew.eu[l]||l,a=e==="ar";return g.jsx(b1.Provider,{value:{language:e,setLanguage:n,t:i,isRTL:a},children:g.jsx("div",{dir:a?"rtl":"ltr",className:"min-h-screen flex flex-col font-sans text-slate-900 dark:text-gray-100 bg-white dark:bg-slate-950 transition-colors duration-300",children:t})})},hn=()=>{const t=N.useContext(b1);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},aI=({achievements:t,onClose:e})=>{const{t:n}=hn();return N.useEffect(()=>{kt.win()},[]),g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-300",children:[g.jsx(y1,{}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-8 border-2 border-primary/50 text-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-[shimmer_2s_infinite]"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-wide",children:n("achievement_new")}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 font-medium",children:n("great_job")}),g.jsx("div",{className:"flex flex-col gap-4",children:t.map(i=>g.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700/50",children:[g.jsx("div",{className:"p-4 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400 shadow-lg shadow-orange-500/30 text-white mb-2 animate-bounce",children:g.jsx("span",{className:"material-symbols-outlined text-4xl",children:i.icon})}),g.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:i.title}),g.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:i.description}),g.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-black px-2 py-0.5 rounded shadow-sm",children:["+",i.xpReward," XP"]})]},i.id))}),g.jsx("button",{onClick:e,className:"mt-8 w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold transition-all hover:scale-105 shadow-xl shadow-blue-500/30",children:n("continue_btn")})]})]})]})},oI=()=>{};var tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},lI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},_1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,b=l>>2,v=(l&3)<<4|d>>4;let x=(d&15)<<2|p>>6,A=p&63;f||(A=64,c||(x=64)),i.push(n[b],n[v],n[x],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||v==null)throw new cI;const x=l<<2|d>>4;if(i.push(x),p!==64){const A=d<<4&240|p>>2;if(i.push(A),v!==64){const I=p<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(t){const e=v1(t);return _1.encodeByteArray(e,!0)},tf=function(t){return uI(t).replace(/\./g,"")},x1=function(t){try{return _1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>dI().__FIREBASE_DEFAULTS__,fI=()=>{if(typeof process>"u"||typeof tw>"u")return;const t=tw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&x1(t[1]);return e&&JSON.parse(e)},If=()=>{try{return oI()||hI()||fI()||mI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},w1=t=>{var e,n;return(n=(e=If())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pI=t=>{const e=w1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},E1=()=>{var t;return(t=If())==null?void 0:t.config},T1=t=>{var e;return(e=If())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tf(JSON.stringify(n)),tf(JSON.stringify(c)),""].join(".")}const lu={};function bI(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function vI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nw=!1;function A1(t,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||lu[t]===e||lu[t]||nw)return;lu[t]=e;function n(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=bI().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{nw=!0,c()},x}function b(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=vI(i),A=n("text"),I=document.getElementById(A)||document.createElement("span"),M=n("learnmore"),P=document.getElementById(M)||document.createElement("a"),U=n("preprendIcon"),Y=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;d(F),b(P,M);const le=p();f(Y,U),F.append(Y,I,P,le),document.body.appendChild(F)}l?(I.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function xI(){var e;const t=(e=If())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SI(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kI(){try{return typeof indexedDB=="object"}catch{return!1}}function RI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="FirebaseError";class mr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=CI,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?NI(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new mr(a,d,i)}}function NI(t,e){return t.replace(II,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const II=/\{\$([^}]+)}/g;function DI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(sw(l)&&sw(c)){if(!lo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function sw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function nu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MI(t,e){const n=new jI(t,e);return n.subscribe.bind(n)}class jI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");PI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=ag),a.error===void 0&&(a.error=ag),a.complete===void 0&&(a.complete=ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new gI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LI(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(t){return t===Ja?void 0:t}function LI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const UI={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},BI=Qe.INFO,qI={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},FI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=qI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fy{constructor(e){this.name=e,this._logLevel=BI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const HI=(t,e)=>e.some(n=>t instanceof n);let iw,rw;function GI(){return iw||(iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return rw||(rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k1=new WeakMap,Ug=new WeakMap,R1=new WeakMap,og=new WeakMap,Hy=new WeakMap;function KI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ta(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&k1.set(n,t)}).catch(()=>{}),Hy.set(e,t),e}function XI(t){if(Ug.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Ug.set(t,e)}let Bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YI(t){Bg=t(Bg)}function QI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(lg(this),e,...n);return R1.set(i,e.sort?e.sort():[e]),ta(i)}:$I().includes(t)?function(...e){return t.apply(lg(this),e),ta(k1.get(this))}:function(...e){return ta(t.apply(lg(this),e))}}function ZI(t){return typeof t=="function"?QI(t):(t instanceof IDBTransaction&&XI(t),HI(t,GI())?new Proxy(t,Bg):t)}function ta(t){if(t instanceof IDBRequest)return KI(t);if(og.has(t))return og.get(t);const e=ZI(t);return e!==t&&(og.set(t,e),Hy.set(e,t)),e}const lg=t=>Hy.get(t);function WI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=ta(c);return i&&c.addEventListener("upgradeneeded",f=>{i(ta(c.result),f.oldVersion,f.newVersion,ta(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const JI=["get","getKey","getAll","getAllKeys","count"],eD=["put","add","delete","clear"],cg=new Map;function aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=eD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||JI.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&f.done]))[0]};return cg.set(e,l),l}YI(t=>({...t,get:(e,n,i)=>aw(e,n)||t.get(e,n,i),has:(e,n)=>!!aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function nD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qg="@firebase/app",ow="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Fy("@firebase/app"),sD="@firebase/app-compat",iD="@firebase/analytics-compat",rD="@firebase/analytics",aD="@firebase/app-check-compat",oD="@firebase/app-check",lD="@firebase/auth",cD="@firebase/auth-compat",uD="@firebase/database",dD="@firebase/data-connect",hD="@firebase/database-compat",fD="@firebase/functions",mD="@firebase/functions-compat",pD="@firebase/installations",gD="@firebase/installations-compat",yD="@firebase/messaging",bD="@firebase/messaging-compat",vD="@firebase/performance",_D="@firebase/performance-compat",xD="@firebase/remote-config",wD="@firebase/remote-config-compat",ED="@firebase/storage",TD="@firebase/storage-compat",SD="@firebase/firestore",AD="@firebase/ai",kD="@firebase/firestore-compat",RD="firebase",CD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",ND={[qg]:"fire-core",[sD]:"fire-core-compat",[rD]:"fire-analytics",[iD]:"fire-analytics-compat",[oD]:"fire-app-check",[aD]:"fire-app-check-compat",[lD]:"fire-auth",[cD]:"fire-auth-compat",[uD]:"fire-rtdb",[dD]:"fire-data-connect",[hD]:"fire-rtdb-compat",[fD]:"fire-fn",[mD]:"fire-fn-compat",[pD]:"fire-iid",[gD]:"fire-iid-compat",[yD]:"fire-fcm",[bD]:"fire-fcm-compat",[vD]:"fire-perf",[_D]:"fire-perf-compat",[xD]:"fire-rc",[wD]:"fire-rc-compat",[ED]:"fire-gcs",[TD]:"fire-gcs-compat",[SD]:"fire-fst",[kD]:"fire-fst-compat",[AD]:"fire-vertex","fire-js":"fire-js",[RD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map,ID=new Map,Hg=new Map;function lw(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tl(t){const e=t.name;if(Hg.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(const n of nf.values())lw(n,t);for(const n of ID.values())lw(n,t);return!0}function Gy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Ou("app","Firebase",DD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=CD;function C1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Fg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw na.create("bad-app-name",{appName:String(a)});if(n||(n=E1()),!n)throw na.create("no-options");const l=nf.get(a);if(l){if(lo(n,l.options)&&lo(i,l.config))return l;throw na.create("duplicate-app",{appName:a})}const c=new zI(a);for(const f of Hg.values())c.addComponent(f);const d=new MD(n,i,c);return nf.set(a,d),d}function N1(t=Fg){const e=nf.get(t);if(!e&&t===Fg&&E1())return C1();if(!e)throw na.create("no-app",{appName:t});return e}function sa(t,e,n){let i=ND[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(c.join(" "));return}Tl(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-heartbeat-database",PD=1,_u="firebase-heartbeat-store";let ug=null;function I1(){return ug||(ug=WI(jD,PD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),ug}async function VD(t){try{const n=(await I1()).transaction(_u),i=await n.objectStore(_u).get(D1(t));return await n.done,i}catch(e){if(e instanceof mr)lr.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function cw(t,e){try{const i=(await I1()).transaction(_u,"readwrite");await i.objectStore(_u).put(e,D1(t)),await i.done}catch(n){if(n instanceof mr)lr.warn(n.message);else{const i=na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(i.message)}}}function D1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1024,LD=30;class zD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=uw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>LD){const c=qD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){lr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uw(),{heartbeatsToSend:i,unsentEntries:a}=UD(this._heartbeatsCache.heartbeats),l=tf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return lr.warn(n),""}}}function uw(){return new Date().toISOString().substring(0,10)}function UD(t,e=OD){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),dw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),dw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kI()?RI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dw(t){return tf(JSON.stringify({version:2,heartbeats:t})).length}function qD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){Tl(new co("platform-logger",e=>new tD(e),"PRIVATE")),Tl(new co("heartbeat",e=>new zD(e),"PRIVATE")),sa(qg,ow,t),sa(qg,ow,"esm2020"),sa("fire-js","")}FD("");var HD="firebase",GD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa(HD,GD,"app");function M1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $D=M1,j1=new Ou("auth","Firebase",M1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Fy("@firebase/auth");function KD(t,...e){sf.logLevel<=Qe.WARN&&sf.warn(`Auth (${Vl}): ${t}`,...e)}function Uh(t,...e){sf.logLevel<=Qe.ERROR&&sf.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,...e){throw $y(t,...e)}function Si(t,...e){return $y(t,...e)}function P1(t,e,n){const i={...$D(),[e]:n};return new Ou("auth","Firebase",i).create(e,{appName:t.name})}function rr(t){return P1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $y(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return j1.create(t,...e)}function ke(t,e,...n){if(!t)throw $y(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uh(e),new Error(e)}function cr(t,e){t||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function XD(){return hw()==="http:"||hw()==="https:"}function hw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XD()||EI()||"connection"in navigator)?navigator.onLine:!0}function QD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=_I()||TI()}get(){return YD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JD=new zu(3e4,6e4);function pa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ga(t,e,n,i,a={}){return O1(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Lu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return wI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(p.credentials="include"),V1.fetch()(await L1(t,t.config.apiHost,n,d),p)})}async function O1(t,e,n){t._canInitEmulator=!1;const i={...ZD,...e};try{const a=new tM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Eh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Eh(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Eh(t,"user-disabled",c);const b=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw P1(t,b,p);Ws(t,b)}}catch(a){if(a instanceof mr)throw a;Ws(t,"network-request-failed",{message:String(a)})}}async function Uu(t,e,n,i,a={}){const l=await ga(t,e,n,i,a);return"mfaPendingCredential"in l&&Ws(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function L1(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Ky(t.config,a):`${t.config.apiScheme}://${a}`;return WD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function eM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Si(this.auth,"network-request-failed")),JD.get())})}}function Eh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Si(t,e,i);return a.customData._tokenResponse=n,a}function fw(t){return t!==void 0&&t.enterprise!==void 0}class nM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sM(t,e){return ga(t,"GET","/v2/recaptchaConfig",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return ga(t,"POST","/v1/accounts:delete",e)}async function rf(t,e){return ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rM(t,e=!1){const n=bn(t),i=await n.getIdToken(e),a=Xy(i);ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:cu(dg(a.auth_time)),issuedAtTime:cu(dg(a.iat)),expirationTime:cu(dg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function dg(t){return Number(t)*1e3}function Xy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const a=x1(n);return a?JSON.parse(a):(Uh("Failed to decode base64 JWT payload"),null)}catch(a){return Uh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function mw(t){const e=Xy(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mr&&aM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){var v;const e=t.auth,n=await t.getIdToken(),i=await xu(t,rf(e,{idToken:n}));ke(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?z1(a.providerUserInfo):[],c=cM(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?f:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new $g(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,b)}async function lM(t){const e=bn(t);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cM(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function z1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){const n=await O1(t,{},async()=>{const i=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await L1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(f.credentials="include"),V1.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dM(t,e){return ga(t,"POST","/v2/accounts:revokeToken",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=mw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await uM(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new bl;return i&&(ke(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(ke(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new oM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $g(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rM(this,e)}reload(){return lM(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await af(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await xu(this,iM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:A,providerData:I,stsTokenManager:M}=n;ke(v&&M,e,"internal-error");const P=bl.fromJSON(this.name,M);ke(typeof v=="string",e,"internal-error"),Kr(i,e.name),Kr(a,e.name),ke(typeof x=="boolean",e,"internal-error"),ke(typeof A=="boolean",e,"internal-error"),Kr(l,e.name),Kr(c,e.name),Kr(d,e.name),Kr(f,e.name),Kr(p,e.name),Kr(b,e.name);const U=new Qs({uid:v,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:p,lastLoginAt:b});return I&&Array.isArray(I)&&(U.providerData=I.map(Y=>({...Y}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,n,i=!1){const a=new bl;a.updateFromServerResponse(n);const l=new Qs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await af(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];ke(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?z1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new bl;d.updateFromIdToken(i);const f=new Qs({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new $g(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;function sr(t){cr(t instanceof Function,"Expected a class definition");let e=pw.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U1.type="NONE";const gw=U1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Bh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rf(this.auth,{idToken:e}).catch(()=>{});return n?Qs._fromGetAccountInfoResponse(this.auth,n,e):null}return Qs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new vl(sr(gw),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||sr(gw);const c=Bh(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const b=await p._get(c);if(b){let v;if(typeof b=="string"){const x=await rf(e,{idToken:b}).catch(()=>{});if(!x)break;v=await Qs._fromGetAccountInfoResponse(e,x,b)}else v=Qs._fromJSON(e,b);p!==l&&(d=v),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new vl(l,e,i):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new vl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($1(e))return"Blackberry";if(K1(e))return"Webos";if(q1(e))return"Safari";if((e.includes("chrome/")||F1(e))&&!e.includes("edge/"))return"Chrome";if(G1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function B1(t=Pn()){return/firefox\//i.test(t)}function q1(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F1(t=Pn()){return/crios\//i.test(t)}function H1(t=Pn()){return/iemobile/i.test(t)}function G1(t=Pn()){return/android/i.test(t)}function $1(t=Pn()){return/blackberry/i.test(t)}function K1(t=Pn()){return/webos/i.test(t)}function Yy(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hM(t=Pn()){var e;return Yy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fM(){return SI()&&document.documentMode===10}function X1(t=Pn()){return Yy(t)||G1(t)||K1(t)||$1(t)||/windows phone/i.test(t)||H1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e=[]){let n;switch(t){case"Browser":n=yw(Pn());break;case"Worker":n=`${yw(Pn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e={}){return ga(t,"GET","/v2/passwordPolicy",pa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=6;class yM{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new mM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rf(this,{idToken:e}),i=await Qs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Rs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(rr(this));const n=e?bn(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pM(this),n=new yM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await dM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&KD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function go(t){return bn(t)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=MI(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vM(t){Df=t}function Q1(t){return Df.loadJS(t)}function _M(){return Df.recaptchaEnterpriseScript}function xM(){return Df.gapiScript}function wM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EM{constructor(){this.enterprise=new TM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SM="recaptcha-enterprise",Z1="NO_RECAPTCHA";class AM{constructor(e){this.type=SM,this.auth=go(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{sM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new nM(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{d(f)})})}function a(l,c,d){const f=window.grecaptcha;fw(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Z1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&fw(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=_M();f.length!==0&&(f+=d),Q1(f).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function vw(t,e,n,i=!1,a=!1){const l=new AM(t);let c;if(a)c=Z1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Kg(t,e,n,i,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vw(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await vw(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){const n=Gy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(lo(l,e??{}))return a;Ws(a,"already-initialized")}return n.initialize({options:e})}function RM(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function CM(t,e,n){const i=go(t);ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=W1(e),{host:c,port:d}=NM(e),f=d===null?"":`:${d}`,p={url:`${l}//${c}${f}/`},b=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ke(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ke(lo(p,i.config.emulator)&&lo(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,Pl(c)?(S1(`${l}//${c}${f}`),A1("Auth",!0)):IM()}function W1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NM(t){const e=W1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:_w(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:_w(c)}}}function _w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function DM(t,e){return ga(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return Uu(t,"POST","/v1/accounts:signInWithPassword",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}async function PM(t,e){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Qy{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new wu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kg(e,n,"signInWithPassword",MM);case"emailLink":return jM(e,{email:this._email,oobCode:this._password});default:Ws(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kg(e,i,"signUpPassword",DM);case"emailLink":return PM(e,{idToken:n,email:this._email,oobCode:this._password});default:Ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return Uu(t,"POST","/v1/accounts:signInWithIdp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="http://localhost";class uo extends Qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new uo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,_l(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:VM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LM(t){const e=tu(nu(t)).link,n=e?tu(nu(e)).deep_link_id:null,i=tu(nu(t)).deep_link_id;return(i?tu(nu(i)).link:null)||i||n||e||t}class Zy{constructor(e){const n=tu(nu(e)),i=n.apiKey??null,a=n.oobCode??null,l=OM(n.mode??null);ke(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=LM(e);try{return new Zy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Zy.parseLink(n);return ke(i,"argument-error"),wu._fromEmailAndCode(e,i.code,i.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Bu{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Zr.credential(n,i)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Bu{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Bu{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Jr.credential(n,i)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){return Uu(t,"POST","/v1/accounts:signUp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Qs._fromIdTokenResponse(e,i,a),c=xw(i);return new ho({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=xw(i);return new ho({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends mr{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new of(e,n,i,a)}}function eS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(t,l,e,i):l})}async function UM(t,e,n=!1){const i=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ho._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e,n=!1){const{auth:i}=t;if(Rs(i.app))return Promise.reject(rr(i));const a="reauthenticate";try{const l=await xu(t,eS(i,a,e,t),n);ke(l.idToken,i,"internal-error");const c=Xy(l.idToken);ke(c,i,"internal-error");const{sub:d}=c;return ke(t.uid===d,i,"user-mismatch"),ho._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ws(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e,n=!1){if(Rs(t.app))return Promise.reject(rr(t));const i="signIn",a=await eS(t,i,e),l=await ho._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function qM(t,e){return tS(go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(t){const e=go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FM(t,e,n){if(Rs(t.app))return Promise.reject(rr(t));const i=go(t),c=await Kg(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&nS(t),f}),d=await ho._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function HM(t,e,n){return Rs(t.app)?Promise.reject(rr(t)):qM(bn(t),Ol.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&nS(t),i})}function GM(t,e,n,i){return bn(t).onIdTokenChanged(e,n,i)}function $M(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function KM(t,e,n,i){return bn(t).onAuthStateChanged(e,n,i)}function XM(t){return bn(t).signOut()}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e3,QM=10;class iS extends sS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);fM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QM):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iS.type="LOCAL";const ZM=iS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends sS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rS.type="SESSION";const aS=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Mf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),f=await WM(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const p=Wy("",20);a.port1.start();const b=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(b),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function ej(t){Ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function tj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sj(){return oS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebaseLocalStorageDb",ij=1,cf="firebaseLocalStorage",cS="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([cf],e?"readwrite":"readonly").objectStore(cf)}function rj(){const t=indexedDB.deleteDatabase(lS);return new qu(t).toPromise()}function Xg(){const t=indexedDB.open(lS,ij);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(cf,{keyPath:cS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(cf)?e(i):(i.close(),await rj(),e(await Xg()))})})}async function ww(t,e,n){const i=jf(t,!0).put({[cS]:e,value:n});return new qu(i).toPromise()}async function aj(t,e){const n=jf(t,!1).get(e),i=await new qu(n).toPromise();return i===void 0?null:i.value}function Ew(t,e){const n=jf(t,!0).delete(e);return new qu(n).toPromise()}const oj=800,lj=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>lj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(sj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await tj(),!this.activeServiceWorker)return;this.sender=new JM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await ww(e,lf,"1"),await Ew(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ww(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>aj(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ew(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=jf(a,!1).getAll();return new qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const cj=uS;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t,e){return e?sr(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dj(t){return tS(t.auth,new Jy(t),t.bypassAuthState)}function hj(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),BM(n,new Jy(t),t.bypassAuthState)}async function fj(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),UM(n,new Jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dj;case"linkViaPopup":case"linkViaRedirect":return fj;case"reauthViaPopup":case"reauthViaRedirect":return hj;default:Ws(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new zu(2e3,1e4);class dl extends dS{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mj.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="pendingRedirect",qh=new Map;class gj extends dS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=qh.get(this.auth._key());if(!e){try{const i=await yj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}qh.set(this.auth._key(),e)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yj(t,e){const n=_j(e),i=vj(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function bj(t,e){qh.set(t._key(),e)}function vj(t){return sr(t._redirectPersistence)}function _j(t){return Bh(pj,t.config.apiKey,t.name)}async function xj(t,e,n=!1){if(Rs(t.app))return Promise.reject(rr(t));const i=go(t),a=uj(i,e),c=await new gj(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=600*1e3;class Ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!hS(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Si(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(e))}saveEventToCache(e){this.cachedEventUids.add(Tw(e)),this.lastProcessedEventTime=Date.now()}}function Tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e={}){return ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kj=/^https?/;async function Rj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Sj(t);for(const n of e)try{if(Cj(n))return}catch{}Ws(t,"unauthorized-domain")}function Cj(t){const e=Gg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!kj.test(n))return!1;if(Aj.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new zu(3e4,6e4);function Sw(){const t=Ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ij(t){return new Promise((e,n)=>{var a,l,c;function i(){Sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sw(),n(Si(t,"network-request-failed"))},timeout:Nj.get()})}if((l=(a=Ai().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Ai().gapi)!=null&&c.load)i();else{const d=wM("iframefcb");return Ai()[d]=()=>{gapi.load?i():n(Si(t,"network-request-failed"))},Q1(`${xM()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Fh=null,e})}let Fh=null;function Dj(t){return Fh=Fh||Ij(t),Fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new zu(5e3,15e3),jj="__/auth/iframe",Pj="emulator/auth/iframe",Vj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lj(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ky(e,Pj):`https://${t.config.authDomain}/${jj}`,i={apiKey:e.apiKey,appName:t.name,v:Vl},a=Oj.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Lu(i).slice(1)}`}async function zj(t){const e=await Dj(t),n=Ai().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:Lj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vj,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Si(t,"network-request-failed"),d=Ai().setTimeout(()=>{l(c)},Mj.get());function f(){Ai().clearTimeout(d),a(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bj=500,qj=600,Fj="_blank",Hj="http://localhost";class Aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gj(t,e,n,i=Bj,a=qj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...Uj,width:i.toString(),height:a.toString(),top:l,left:c},p=Pn().toLowerCase();n&&(d=F1(p)?Fj:n),B1(p)&&(e=e||Hj,f.scrollbars="yes");const b=Object.entries(f).reduce((x,[A,I])=>`${x}${A}=${I},`,"");if(hM(p)&&d!=="_self")return $j(e||"",d),new Aw(null);const v=window.open(e||"",d,b);ke(v,t,"popup-blocked");try{v.focus()}catch{}return new Aw(v)}function $j(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="__/auth/handler",Xj="emulator/auth/handler",Yj=encodeURIComponent("fac");async function kw(t,e,n,i,a,l){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Vl,eventId:a};if(e instanceof J1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",DI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,v]of Object.entries({}))c[b]=v}if(e instanceof Bu){const b=e.getScopes().filter(v=>v!=="");b.length>0&&(c.scopes=b.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const f=await t._getAppCheckToken(),p=f?`#${Yj}=${encodeURIComponent(f)}`:"";return`${Qj(t)}?${Lu(d).slice(1)}${p}`}function Qj({config:t}){return t.emulator?Ky(t,Xj):`https://${t.authDomain}/${Kj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class Zj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aS,this._completeRedirectFn=xj,this._overrideRedirectResult=bj}async _openPopup(e,n,i,a){var c;cr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await kw(e,n,i,Gg(),a);return Gj(e,l,Wy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await kw(e,n,i,Gg(),a);return ej(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(cr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await zj(e),i=new Ej(e);return n.register("authEvent",a=>(ke(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hg,{type:hg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[hg];l!==void 0&&n(!!l),Ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return X1()||q1()||Yy()}}const Wj=Zj;var Rw="@firebase/auth",Cw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tP(t){Tl(new co("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y1(t)},p=new bM(i,a,l,f);return RM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Tl(new co("auth-internal",e=>{const n=go(e.getProvider("auth").getImmediate());return(i=>new Jj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sa(Rw,Cw,eP(t)),sa(Rw,Cw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=300,sP=T1("authIdTokenMaxAge")||nP;let Nw=null;const iP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>sP)return;const a=n==null?void 0:n.token;Nw!==a&&(Nw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function rP(t=N1()){const e=Gy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kM(t,{popupRedirectResolver:Wj,persistence:[cj,ZM,aS]}),i=T1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=iP(l.toString());$M(n,c,()=>c(n.currentUser)),GM(n,d=>c(d))}}const a=w1("auth");return a&&CM(n,`http://${a}`),n}function aP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}vM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Si("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",aP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tP("Browser");var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,fS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function C(){}C.prototype=T.prototype,R.F=T.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(j,O,B){for(var D=Array(arguments.length-2),He=2;He<arguments.length;He++)D[He-2]=arguments[He];return T.prototype[O].apply(j,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,T,C){C||(C=0);const j=Array(16);if(typeof T=="string")for(var O=0;O<16;++O)j[O]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(O=0;O<16;++O)j[O]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=R.g[0],C=R.g[1],O=R.g[2];let B=R.g[3],D;D=T+(B^C&(O^B))+j[0]+3614090360&4294967295,T=C+(D<<7&4294967295|D>>>25),D=B+(O^T&(C^O))+j[1]+3905402710&4294967295,B=T+(D<<12&4294967295|D>>>20),D=O+(C^B&(T^C))+j[2]+606105819&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(T^O&(B^T))+j[3]+3250441966&4294967295,C=O+(D<<22&4294967295|D>>>10),D=T+(B^C&(O^B))+j[4]+4118548399&4294967295,T=C+(D<<7&4294967295|D>>>25),D=B+(O^T&(C^O))+j[5]+1200080426&4294967295,B=T+(D<<12&4294967295|D>>>20),D=O+(C^B&(T^C))+j[6]+2821735955&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(T^O&(B^T))+j[7]+4249261313&4294967295,C=O+(D<<22&4294967295|D>>>10),D=T+(B^C&(O^B))+j[8]+1770035416&4294967295,T=C+(D<<7&4294967295|D>>>25),D=B+(O^T&(C^O))+j[9]+2336552879&4294967295,B=T+(D<<12&4294967295|D>>>20),D=O+(C^B&(T^C))+j[10]+4294925233&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(T^O&(B^T))+j[11]+2304563134&4294967295,C=O+(D<<22&4294967295|D>>>10),D=T+(B^C&(O^B))+j[12]+1804603682&4294967295,T=C+(D<<7&4294967295|D>>>25),D=B+(O^T&(C^O))+j[13]+4254626195&4294967295,B=T+(D<<12&4294967295|D>>>20),D=O+(C^B&(T^C))+j[14]+2792965006&4294967295,O=B+(D<<17&4294967295|D>>>15),D=C+(T^O&(B^T))+j[15]+1236535329&4294967295,C=O+(D<<22&4294967295|D>>>10),D=T+(O^B&(C^O))+j[1]+4129170786&4294967295,T=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(T^C))+j[6]+3225465664&4294967295,B=T+(D<<9&4294967295|D>>>23),D=O+(T^C&(B^T))+j[11]+643717713&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^T&(O^B))+j[0]+3921069994&4294967295,C=O+(D<<20&4294967295|D>>>12),D=T+(O^B&(C^O))+j[5]+3593408605&4294967295,T=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(T^C))+j[10]+38016083&4294967295,B=T+(D<<9&4294967295|D>>>23),D=O+(T^C&(B^T))+j[15]+3634488961&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^T&(O^B))+j[4]+3889429448&4294967295,C=O+(D<<20&4294967295|D>>>12),D=T+(O^B&(C^O))+j[9]+568446438&4294967295,T=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(T^C))+j[14]+3275163606&4294967295,B=T+(D<<9&4294967295|D>>>23),D=O+(T^C&(B^T))+j[3]+4107603335&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^T&(O^B))+j[8]+1163531501&4294967295,C=O+(D<<20&4294967295|D>>>12),D=T+(O^B&(C^O))+j[13]+2850285829&4294967295,T=C+(D<<5&4294967295|D>>>27),D=B+(C^O&(T^C))+j[2]+4243563512&4294967295,B=T+(D<<9&4294967295|D>>>23),D=O+(T^C&(B^T))+j[7]+1735328473&4294967295,O=B+(D<<14&4294967295|D>>>18),D=C+(B^T&(O^B))+j[12]+2368359562&4294967295,C=O+(D<<20&4294967295|D>>>12),D=T+(C^O^B)+j[5]+4294588738&4294967295,T=C+(D<<4&4294967295|D>>>28),D=B+(T^C^O)+j[8]+2272392833&4294967295,B=T+(D<<11&4294967295|D>>>21),D=O+(B^T^C)+j[11]+1839030562&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^T)+j[14]+4259657740&4294967295,C=O+(D<<23&4294967295|D>>>9),D=T+(C^O^B)+j[1]+2763975236&4294967295,T=C+(D<<4&4294967295|D>>>28),D=B+(T^C^O)+j[4]+1272893353&4294967295,B=T+(D<<11&4294967295|D>>>21),D=O+(B^T^C)+j[7]+4139469664&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^T)+j[10]+3200236656&4294967295,C=O+(D<<23&4294967295|D>>>9),D=T+(C^O^B)+j[13]+681279174&4294967295,T=C+(D<<4&4294967295|D>>>28),D=B+(T^C^O)+j[0]+3936430074&4294967295,B=T+(D<<11&4294967295|D>>>21),D=O+(B^T^C)+j[3]+3572445317&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^T)+j[6]+76029189&4294967295,C=O+(D<<23&4294967295|D>>>9),D=T+(C^O^B)+j[9]+3654602809&4294967295,T=C+(D<<4&4294967295|D>>>28),D=B+(T^C^O)+j[12]+3873151461&4294967295,B=T+(D<<11&4294967295|D>>>21),D=O+(B^T^C)+j[15]+530742520&4294967295,O=B+(D<<16&4294967295|D>>>16),D=C+(O^B^T)+j[2]+3299628645&4294967295,C=O+(D<<23&4294967295|D>>>9),D=T+(O^(C|~B))+j[0]+4096336452&4294967295,T=C+(D<<6&4294967295|D>>>26),D=B+(C^(T|~O))+j[7]+1126891415&4294967295,B=T+(D<<10&4294967295|D>>>22),D=O+(T^(B|~C))+j[14]+2878612391&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~T))+j[5]+4237533241&4294967295,C=O+(D<<21&4294967295|D>>>11),D=T+(O^(C|~B))+j[12]+1700485571&4294967295,T=C+(D<<6&4294967295|D>>>26),D=B+(C^(T|~O))+j[3]+2399980690&4294967295,B=T+(D<<10&4294967295|D>>>22),D=O+(T^(B|~C))+j[10]+4293915773&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~T))+j[1]+2240044497&4294967295,C=O+(D<<21&4294967295|D>>>11),D=T+(O^(C|~B))+j[8]+1873313359&4294967295,T=C+(D<<6&4294967295|D>>>26),D=B+(C^(T|~O))+j[15]+4264355552&4294967295,B=T+(D<<10&4294967295|D>>>22),D=O+(T^(B|~C))+j[6]+2734768916&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~T))+j[13]+1309151649&4294967295,C=O+(D<<21&4294967295|D>>>11),D=T+(O^(C|~B))+j[4]+4149444226&4294967295,T=C+(D<<6&4294967295|D>>>26),D=B+(C^(T|~O))+j[11]+3174756917&4294967295,B=T+(D<<10&4294967295|D>>>22),D=O+(T^(B|~C))+j[2]+718787259&4294967295,O=B+(D<<15&4294967295|D>>>17),D=C+(B^(O|~T))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+B&4294967295}i.prototype.v=function(R,T){T===void 0&&(T=R.length);const C=T-this.blockSize,j=this.C;let O=this.h,B=0;for(;B<T;){if(O==0)for(;B<=C;)a(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<T;)if(j[O++]=R.charCodeAt(B++),O==this.blockSize){a(this,j),O=0;break}}else for(;B<T;)if(j[O++]=R[B++],O==this.blockSize){a(this,j),O=0;break}}this.h=O,this.o+=T},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;T=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=T&255,T/=256;for(this.v(R),R=Array(16),T=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)R[T++]=this.g[C]>>>j&255;return R};function l(R,T){var C=d;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=T(R)}function c(R,T){this.h=T;const C=[];let j=!0;for(let O=R.length-1;O>=0;O--){const B=R[O]|0;j&&B==T||(C[O]=B,j=!1)}this.g=C}var d={};function f(R){return-128<=R&&R<128?l(R,function(T){return new c([T|0],T<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return P(p(-R));const T=[];let C=1;for(let j=0;R>=C;j++)T[j]=R/C|0,C*=4294967296;return new c(T,0)}function b(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return P(b(R.substring(1),T));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(T,8));let j=v;for(let B=0;B<R.length;B+=8){var O=Math.min(8,R.length-B);const D=parseInt(R.substring(B,B+O),T);O<8?(O=p(Math.pow(T,O)),j=j.j(O).add(p(D))):(j=j.j(C),j=j.add(p(D)))}return j}var v=f(0),x=f(1),A=f(16777216);t=c.prototype,t.m=function(){if(M(this))return-P(this).m();let R=0,T=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);R+=(j>=0?j:4294967296+j)*T,T*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(M(this))return"-"+P(this).toString(R);const T=p(Math.pow(R,6));var C=this;let j="";for(;;){const O=le(C,T).g;C=U(C,O.j(T));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,I(C))return B+j;for(;B.length<6;)B="0"+B;j=B+j}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function M(R){return R.h==-1}t.l=function(R){return R=U(this,R),M(R)?-1:I(R)?0:1};function P(R){const T=R.g.length,C=[];for(let j=0;j<T;j++)C[j]=~R.g[j];return new c(C,~R.h).add(x)}t.abs=function(){return M(this)?P(this):this},t.add=function(R){const T=Math.max(this.g.length,R.g.length),C=[];let j=0;for(let O=0;O<=T;O++){let B=j+(this.i(O)&65535)+(R.i(O)&65535),D=(B>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);j=D>>>16,B&=65535,D&=65535,C[O]=D<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function U(R,T){return R.add(P(T))}t.j=function(R){if(I(this)||I(R))return v;if(M(this))return M(R)?P(this).j(P(R)):P(P(this).j(R));if(M(R))return P(this.j(P(R)));if(this.l(A)<0&&R.l(A)<0)return p(this.m()*R.m());const T=this.g.length+R.g.length,C=[];for(var j=0;j<2*T;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<R.g.length;O++){const B=this.i(j)>>>16,D=this.i(j)&65535,He=R.i(O)>>>16,et=R.i(O)&65535;C[2*j+2*O]+=D*et,Y(C,2*j+2*O),C[2*j+2*O+1]+=B*et,Y(C,2*j+2*O+1),C[2*j+2*O+1]+=D*He,Y(C,2*j+2*O+1),C[2*j+2*O+2]+=B*He,Y(C,2*j+2*O+2)}for(R=0;R<T;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=T;R<2*T;R++)C[R]=0;return new c(C,0)};function Y(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function F(R,T){this.g=R,this.h=T}function le(R,T){if(I(T))throw Error("division by zero");if(I(R))return new F(v,v);if(M(R))return T=le(P(R),T),new F(P(T.g),P(T.h));if(M(T))return T=le(R,P(T)),new F(P(T.g),T.h);if(R.g.length>30){if(M(R)||M(T))throw Error("slowDivide_ only works with positive integers.");for(var C=x,j=T;j.l(R)<=0;)C=ae(C),j=ae(j);var O=ue(C,1),B=ue(j,1);for(j=ue(j,2),C=ue(C,2);!I(j);){var D=B.add(j);D.l(R)<=0&&(O=O.add(C),B=D),j=ue(j,1),C=ue(C,1)}return T=U(R,O.j(T)),new F(O,T)}for(O=v;R.l(T)>=0;){for(C=Math.max(1,Math.floor(R.m()/T.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),B=p(C),D=B.j(T);M(D)||D.l(R)>0;)C-=j,B=p(C),D=B.j(T);I(B)&&(B=x),O=O.add(B),R=U(R,D)}return new F(O,R)}t.B=function(R){return le(this,R).h},t.and=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)&R.i(j);return new c(C,this.h&R.h)},t.or=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)|R.i(j);return new c(C,this.h|R.h)},t.xor=function(R){const T=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)^R.i(j);return new c(C,this.h^R.h)};function ae(R){const T=R.g.length+1,C=[];for(let j=0;j<T;j++)C[j]=R.i(j)<<1|R.i(j-1)>>>31;return new c(C,R.h)}function ue(R,T){const C=T>>5;T%=32;const j=R.g.length-C,O=[];for(let B=0;B<j;B++)O[B]=T>0?R.i(B+C)>>>T|R.i(B+C+1)<<32-T:R.i(B+C);return new c(O,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,fS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=b,ia=c}).apply(typeof Iw<"u"?Iw:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mS,su,pS,Hh,Yg,gS,yS,bS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(h,_){if(_)e:{var E=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var H=h[k];if(!(H in E))break e;E=E[H]}h=h[h.length-1],k=E[h],_=_(k),_!=k&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&E.push([k,_[k]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function f(h,_,E){return h.call.apply(h.bind,arguments)}function p(h,_,E){return p=f,p.apply(null,arguments)}function b(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(k,H,Q){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return _.prototype[H].apply(k,he)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const E=Array(_);for(let k=0;k<_;k++)E[k]=h[k];return E}return[]}function I(h,_){for(let k=1;k<arguments.length;k++){const H=arguments[k];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const Q=H.length||0;h.length=E+Q;for(let he=0;he<Q;he++)h[E+he]=H[he]}else h.push(H)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(h){c.setTimeout(()=>{throw h},0)}function U(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Y{constructor(){this.h=this.g=null}add(_,E){const k=F.get();k.set(_,E),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new M(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ue=!1,R=new Y,T=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(C)}};function C(){for(var h;h=U();){try{h.h.call(h.g)}catch(E){P(E)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ue=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function He(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(He,O),He.prototype.init=function(h,_){const E=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(h,_,E,k,H){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!k,this.ha=H,this.key=++K,this.da=this.fa=!1}function ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Se(h,_,E){for(const k in h)_.call(E,h[k],k,h)}function Ne(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function L(h){const _={};for(const E in h)_[E]=h[E];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,_){let E,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(E in k)h[E]=k[E];for(let Q=0;Q<J.length;Q++)E=J[Q],Object.prototype.hasOwnProperty.call(k,E)&&(h[E]=k[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,_,E,k,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const he=Ie(h,_,k,H);return he>-1?(_=h[he],E||(_.fa=!1)):(_=new ie(_,this.src,Q,!!k,H),_.fa=E,h.push(_)),_};function Te(h,_){const E=_.type;if(E in h.g){var k=h.g[E],H=Array.prototype.indexOf.call(k,_,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(k,H,1),Q&&(ee(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ie(h,_,E,k){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==k)return H}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),wt={};function at(h,_,E,k,H){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)at(h,_[Q],E,k,H);return null}return E=wa(E),h&&h[et]?h.J(_,E,d(k)?!!k.capture:!1,H):zn(h,_,E,!1,k,H)}function zn(h,_,E,k,H,Q){if(!_)throw Error("Invalid event type");const he=d(H)?!!H.capture:!!H;let ze=Vs(h);if(ze||(h[fe]=ze=new de(h)),E=ze.add(_,E,k,he,Q),E.proxy)return E;if(k=Jn(),E.proxy=k,k.src=h,k.listener=E,h.addEventListener)B||(H=he),H===void 0&&(H=!1),h.addEventListener(_.toString(),k,H);else if(h.attachEvent)h.attachEvent(Bn(_.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Jn(){function h(E){return _.call(h.src,h.listener,E)}const _=ni;return h}function Un(h,_,E,k,H){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Un(h,_[Q],E,k,H);else k=d(k)?!!k.capture:!!k,E=wa(E),h&&h[et]?(h=h.i,Q=String(_).toString(),Q in h.g&&(_=h.g[Q],E=Ie(_,E,k,H),E>-1&&(ee(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Vs(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ie(_,E,k,H)),(E=h>-1?_[h]:null)&&Ps(E))}function Ps(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[et])Te(_.i,h);else{var E=h.type,k=h.proxy;_.removeEventListener?_.removeEventListener(E,k,h.capture):_.detachEvent?_.detachEvent(Bn(E),k):_.addListener&&_.removeListener&&_.removeListener(k),(E=Vs(_))?(Te(E,h),E.h==0&&(E.src=null,_[fe]=null)):ee(h)}}}function Bn(h){return h in wt?wt[h]:wt[h]="on"+h}function ni(h,_){if(h.da)h=!0;else{_=new He(_,this);const E=h.listener,k=h.ha||h.src;h.fa&&Ps(h),h=E.call(k,_)}return h}function Vs(h){return h=h[fe],h instanceof de?h:null}var xa="__closure_events_fn_"+(Math.random()*1e9>>>0);function wa(h){return typeof h=="function"?h:(h[xa]||(h[xa]=function(_){return h.handleEvent(_)}),h[xa])}function Ct(){j.call(this),this.i=new de(this),this.M=this,this.G=null}v(Ct,j),Ct.prototype[et]=!0,Ct.prototype.removeEventListener=function(h,_,E,k){Un(this,h,_,E,k)};function qt(h,_){var E,k=h.G;if(k)for(E=[];k;k=k.G)E.push(k);if(h=h.M,k=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var H=_;_=new O(k,h),oe(_,H)}H=!0;let Q,he;if(E)for(he=E.length-1;he>=0;he--)Q=_.g=E[he],H=si(Q,k,!0,_)&&H;if(Q=_.g=h,H=si(Q,k,!0,_)&&H,H=si(Q,k,!1,_)&&H,E)for(he=0;he<E.length;he++)Q=_.g=E[he],H=si(Q,k,!1,_)&&H}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let k=0;k<E.length;k++)ee(E[k]);delete h.g[_],h.h--}}this.G=null},Ct.prototype.J=function(h,_,E,k){return this.i.add(String(h),_,!1,E,k)},Ct.prototype.K=function(h,_,E,k){return this.i.add(String(h),_,!0,E,k)};function si(h,_,E,k){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let Q=0;Q<_.length;++Q){const he=_[Q];if(he&&!he.da&&he.capture==E){const ze=he.listener,Ft=he.ha||he.src;he.fa&&Te(h.i,he),H=ze.call(Ft,k)!==!1&&H}}return H&&!k.defaultPrevented}function Ea(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function pr(h){h.g=Ea(()=>{h.g=null,h.i&&(h.i=!1,pr(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class fn extends j{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(h){j.call(this),this.h=h,this.g={}}v(ce,j);var ve=[];function De(h){Se(h.g,function(_,E){this.g.hasOwnProperty(E)&&Ps(_)},h),h.g={}}ce.prototype.N=function(){ce.Z.N.call(this),De(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=c.JSON.stringify,Be=c.JSON.parse,Ve=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ot(){}function Nt(){}var It={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){O.call(this,"d")}v(Ge,O);function Rn(){O.call(this,"c")}v(Rn,O);var xe={},tt=null;function je(){return tt=tt||new Ct}xe.Ia="serverreachability";function Et(h){O.call(this,xe.Ia,h)}v(Et,O);function vt(h){const _=je();qt(_,new Et(_))}xe.STAT_EVENT="statevent";function Lt(h,_){O.call(this,xe.STAT_EVENT,h),this.stat=_}v(Lt,O);function st(h){const _=je();qt(_,new Lt(_,h))}xe.Ja="timingevent";function Xt(h,_){O.call(this,xe.Ja,h),this.size=_}v(Xt,O);function fs(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Os(){this.g=!0}Os.prototype.ua=function(){this.g=!1};function nm(h,_,E,k,H,Q){h.info(function(){if(h.g)if(Q){var he="",ze=Q.split("&");for(let lt=0;lt<ze.length;lt++){var Ft=ze[lt].split("=");if(Ft.length>1){const Dt=Ft[0];Ft=Ft[1];const ys=Dt.split("_");he=ys.length>=2&&ys[1]=="type"?he+(Dt+"="+Ft+"&"):he+(Dt+"=redacted&")}}}else he=null;else he=Q;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+_+`
`+E+`
`+he})}function Ju(h,_,E,k,H,Q,he){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+_+`
`+E+`
`+Q+" "+he})}function ii(h,_,E,k){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+sm(h,E)+(k?" "+k:"")})}function Ta(h,_){h.info(function(){return"TIMEOUT: "+_})}Os.prototype.info=function(){};function sm(h,_){if(!h.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var k=E[1];if(Array.isArray(k)&&!(k.length<1)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(let he=1;he<k.length;he++)k[he]=""}}}}return Me(Q)}catch{return _}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zl;function Aa(){}v(Aa,ot),Aa.prototype.g=function(){return new XMLHttpRequest},Zl=new Aa;function Pi(h){return encodeURIComponent(String(h))}function ed(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function Ls(h,_,E,k){this.j=h,this.i=_,this.l=E,this.S=k||1,this.V=new ce(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var Yt={},mn={};function ri(h,_,E){h.M=1,h.A=ka(Zt(_)),h.u=E,h.R=!0,vo(h,null)}function vo(h,_){h.F=Date.now(),ai(h),h.B=Zt(h.A);var E=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),Eo(E.i,"t",k),h.C=0,E=h.j.L,h.h=new zs,h.g=pd(h.j,E?_:null,!h.u),h.P>0&&(h.O=new fn(p(h.Y,h,h.g),h.P)),_=h.V,E=h.g,k=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(ve[0]=H.toString()),H=ve);for(let Q=0;Q<H.length;Q++){const he=at(E,H[Q],k||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),vt(),nm(h.i,h.v,h.B,h.l,h.S,h.u)}Ls.prototype.ba=function(h){h=h.target;const _=this.O;_&&qs(h)==3?_.j():this.Y(h)},Ls.prototype.Y=function(h){try{if(h==this.g)e:{const ze=qs(this.g),Ft=this.g.ya(),lt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||ze!=4||Ft==7||(Ft==8||lt<=0?vt(3):vt(2)),oi(this);var _=this.g.ca();this.X=_;var E=im(this);if(this.o=_==200,Ju(this.i,this.v,this.B,this.l,this.S,ze,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,H=this.g;if((k=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(k)){var Q=k;break t}}Q=null}if(h=Q)ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,h);else{this.o=!1,this.m=3,st(12),es(this),ms(this);break e}}if(this.R){h=!0;let Dt;for(;!this.K&&this.C<E.length;)if(Dt=nd(this,E),Dt==mn){ze==4&&(this.m=4,st(14),h=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==Yt){this.m=4,st(15),ii(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else ii(this.i,this.l,Dt,null),li(this,Dt);if(td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||E.length!=0||this.h.h||(this.m=1,st(16),h=!1),this.o=this.o&&h,!h)ii(this.i,this.l,E,"[Invalid Chunked Response]"),es(this),ms(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),hc(he),he.P=!0,st(11))}}else ii(this.i,this.l,E,null),li(this,E);ze==4&&es(this),this.o&&!this.K&&(ze==4?dd(this.j,this):(this.o=!1,ai(this)))}else Oi(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),es(this),ms(this)}}}catch{}finally{}};function im(h){if(!td(h))return h.g.la();const _=vn(h.g);if(_==="")return"";let E="";const k=_.length,H=qs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return es(h),ms(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<k;Q++)h.h.h=!0,E+=h.h.i.decode(_[Q],{stream:!(H&&Q==k-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function td(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function nd(h,_){var E=h.C,k=_.indexOf(`
`,E);return k==-1?mn:(E=Number(_.substring(E,k)),isNaN(E)?Yt:(k+=1,k+E>_.length?mn:(_=_.slice(k,k+E),h.C=k+E,_)))}Ls.prototype.cancel=function(){this.K=!0,es(this)};function ai(h){h.T=Date.now()+h.H,_o(h,h.H)}function _o(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fs(p(h.aa,h),_)}function oi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ls.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(vt(),st(17)),es(this),this.m=2,ms(this)):_o(this,this.T-h)};function ms(h){h.j.I==0||h.K||dd(h.j,h)}function es(h){oi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,De(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function li(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||ui(E.h,h))){if(!h.L&&ui(E.h,h)&&E.I==3){try{var k=E.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ro(E),Er(E);else break e;ja(E),st(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fs(p(E.Va,E),6e3));ci(E.h)<=1&&E.ta&&(E.ta=void 0)}else gi(E,11)}else if((h.L||E.g==h)&&Ro(E),!D(_))for(H=E.Ba.g.parse(_),_=0;_<H.length;_++){let lt=H[_];const Dt=lt[0];if(!(Dt<=E.K))if(E.K=Dt,lt=lt[1],E.I==2)if(lt[0]=="c"){E.M=lt[1],E.ba=lt[2];const ys=lt[3];ys!=null&&(E.ka=ys,E.j.info("VER="+E.ka));const yi=lt[4];yi!=null&&(E.za=yi,E.j.info("SVER="+E.za));const Fs=lt[5];Fs!=null&&typeof Fs=="number"&&Fs>0&&(k=1.5*Fs,E.O=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Hs=h.g;if(Hs){const Pa=Hs.g?Hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pa){var Q=k.h;Q.g||Pa.indexOf("spdy")==-1&&Pa.indexOf("quic")==-1&&Pa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ec(Q,Q.h),Q.h=null))}if(k.G){const Co=Hs.g?Hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(k.wa=Co,ht(k.J,k.G,Co))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),k=E;var he=h;if(k.na=md(k,k.L?k.ba:null,k.W),he.L){tc(k.h,he);var ze=he,Ft=k.O;Ft&&(ze.H=Ft),ze.D&&(oi(ze),ai(ze)),k.g=he}else cd(k);E.i.length>0&&pi(E)}else lt[0]!="stop"&&lt[0]!="close"||gi(E,7);else E.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?gi(E,7):uc(E):lt[0]!="noop"&&E.l&&E.l.qa(lt),E.A=0)}}vt(4)}catch{}}var Qt=class{constructor(h,_){this.g=h,this.map=_}};function Wl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ci(h){return h.h?1:h.g?h.g.size:0}function ui(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ec(h,_){h.g?h.g.add(_):h.h=_}function tc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Wl.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return A(h.i)}var sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const k=h[E].indexOf("=");let H,Q=null;k>=0?(H=h[E].substring(0,k),Q=h[E].substring(k+1)):H=h[E],_(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ts(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof ts?(this.l=h.l,pn(this,h.j),this.o=h.o,this.g=h.g,gr(this,h.u),this.h=h.h,sc(this,od(h.i)),this.m=h.m):h&&(_=String(h).match(sd))?(this.l=!1,pn(this,_[1]||"",!0),this.o=di(_[2]||""),this.g=di(_[3]||"",!0),gr(this,_[4]),this.h=di(_[5]||"",!0),sc(this,_[6]||"",!0),this.m=di(_[7]||"")):(this.l=!1,this.i=new br(null,this.l))}ts.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ra(_,wo,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ra(_,wo,!0),"@"),h.push(Pi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ra(E,E.charAt(0)=="/"?ic:id,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ra(E,rd)),h.join("")},ts.prototype.resolve=function(h){const _=Zt(this);let E=!!h.j;E?pn(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var k=h.h;if(E)gr(_,h.u);else if(E=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var H=_.h.lastIndexOf("/");H!=-1&&(k=_.h.slice(0,H+1)+k)}if(H=k,H==".."||H==".")k="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){k=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let he=0;he<H.length;){const ze=H[he++];ze=="."?k&&he==H.length&&Q.push(""):ze==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),k&&he==H.length&&Q.push("")):(Q.push(ze),k=!0)}k=Q.join("/")}else k=H}return E?_.h=k:E=h.i.toString()!=="",E?sc(_,od(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Zt(h){return new ts(h)}function pn(h,_,E){h.j=E?di(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function gr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function sc(h,_,E){_ instanceof br?(h.i=_,To(h.i,h.l)):(E||(_=Ra(_,yr)),h.i=new br(_,h.l))}function ht(h,_,E){h.i.set(_,E)}function ka(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function di(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ra(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,qn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wo=/[#\/\?@]/g,id=/[#\?:]/g,ic=/[#\?]/g,yr=/[#\?@]/g,rd=/#/g;function br(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Fn(h){h.g||(h.g=new Map,h.h=0,h.i&&xo(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=br.prototype,t.add=function(h,_){Fn(this),this.i=null,h=vr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function ad(h,_){Fn(h),_=vr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function rc(h,_){return Fn(h),_=vr(h,_),h.g.has(_)}t.forEach=function(h,_){Fn(this),this.g.forEach(function(E,k){E.forEach(function(H){h.call(_,H,k,this)},this)},this)};function ac(h,_){Fn(h);let E=[];if(typeof _=="string")rc(h,_)&&(E=E.concat(h.g.get(vr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return Fn(this),this.i=null,h=vr(this,h),rc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=ac(this,h),h.length>0?String(h[0]):_):_};function Eo(h,_,E){ad(h,_),E.length>0&&(h.i=null,h.g.set(vr(h,_),A(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var E=_[k];const H=Pi(E);E=ac(this,E);for(let Q=0;Q<E.length;Q++){let he=H;E[Q]!==""&&(he+="="+Pi(E[Q])),h.push(he)}}return this.i=h.join("&")};function od(h){const _=new br;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function vr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function To(h,_){_&&!h.j&&(Fn(h),h.i=null,h.g.forEach(function(E,k){const H=k.toLowerCase();k!=H&&(ad(this,k),Eo(this,H,E))},h)),h.j=_}function Us(h,_){const E=new Os;if(c.Image){const k=new Image;k.onload=b(ps,E,"TestLoadImage: loaded",!0,_,k),k.onerror=b(ps,E,"TestLoadImage: error",!1,_,k),k.onabort=b(ps,E,"TestLoadImage: abort",!1,_,k),k.ontimeout=b(ps,E,"TestLoadImage: timeout",!1,_,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else _(!1)}function oc(h,_){const E=new Os,k=new AbortController,H=setTimeout(()=>{k.abort(),ps(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:k.signal}).then(Q=>{clearTimeout(H),Q.ok?ps(E,"TestPingServer: ok",!0,_):ps(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),ps(E,"TestPingServer: error",!1,_)})}function ps(h,_,E,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(E)}catch{}}function _r(){this.g=new Ve}function hi(h){this.i=h.Sb||null,this.h=h.ab||!1}v(hi,ot),hi.prototype.g=function(){return new Ca(this.i,this.h)};function Ca(h,_){Ct.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ca,Ct),t=Ca.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Bs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?xr(this):Bs(this),this.readyState==3&&So(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,xr(this))},t.Na=function(h){this.g&&(this.response=h,xr(this))},t.ga=function(){this.g&&xr(this)};function xr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Bs(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Bs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function gs(h){let _="";return Se(h,function(E,k){_+=k,_+=":",_+=E,_+=`\r
`}),_}function Na(h,_,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=gs(E),typeof h=="string"?E!=null&&Pi(E):ht(h,_,E))}function pt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(pt,Ct);var fi=/^https?$/i,lc=["POST","PUT"];t=pt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zl.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){Ia(this,Q);return}if(h=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)E.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())E.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(lc,_,void 0)>=0)||k||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of E)this.g.setRequestHeader(Q,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Ia(this,Q)}};function Ia(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,cc(h),Vi(h)}function cc(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qt(this,"complete"),qt(this,"abort"),Vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},t.Xa=function(){Da(this)};function Da(h){if(h.h&&typeof l<"u"){if(h.v&&qs(h)==4)setTimeout(h.Ca.bind(h),0);else if(qt(h,"readystatechange"),qs(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var k;if(k=Q===0){let he=String(h.D).match(sd)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),k=!fi.test(he?he.toLowerCase():"")}E=k}if(E)qt(h,"complete"),qt(h,"success");else{h.o=6;try{var H=qs(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",cc(h)}}finally{Vi(h)}}}}function Vi(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||qt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return qs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Be(_)}};function vn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(h){const _={};h=(h.g&&qs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(D(h[k]))continue;var E=ed(h[k]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[H]||[];_[H]=Q,Q.push(E)}Ne(_,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function wr(h){this.za=0,this.i=[],this.j=new Os,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,h),this.Za=mi("retryDelaySeedMs",1e4,h),this.Ta=mi("forwardChannelMaxRetries",2,h),this.va=mi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Wl(h&&h.concurrentRequestLimit),this.Ba=new _r,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=wr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,k){st(0),this.W=h,this.H=_||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.J=md(this,null,this.W),pi(this)};function uc(h){if(Ao(h),h.I==3){var _=h.V++,E=Zt(h.J);if(ht(E,"SID",h.M),ht(E,"RID",_),ht(E,"TYPE","terminate"),Ma(h,E),_=new Ls(h,h.j,_),_.M=2,_.A=ka(Zt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=pd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ai(_)}fd(h)}function Er(h){h.g&&(hc(h),h.g.cancel(),h.g=null)}function Ao(h){Er(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ro(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function pi(h){if(!Jl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ae||T(),ue||(ae(),ue=!0),R.add(_,h),h.D=0}}function ko(h,_){return ci(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fs(p(h.Ea,h,_),hd(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Ls(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ld(this,H,_),E=Zt(this.J),ht(E,"RID",h),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),Ma(this,E),Q&&(this.R?_="headers="+Pi(gs(Q))+"&"+_:this.u&&Na(E,this.u,Q)),ec(this.h,H),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",_),ht(E,"SID","null"),H.U=!0,ri(H,E,null)):ri(H,E,_),this.I=2}}else this.I==3&&(h?dc(this,h):this.i.length==0||Jl(this.h)||dc(this))};function dc(h,_){var E;_?E=_.l:E=h.V++;const k=Zt(h.J);ht(k,"SID",h.M),ht(k,"RID",E),ht(k,"AID",h.K),Ma(h,k),h.u&&h.o&&Na(k,h.u,h.o),E=new Ls(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ld(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ec(h.h,E),ri(E,k,_)}function Ma(h,_){h.H&&Se(h.H,function(E,k){ht(_,k,E)}),h.l&&Se({},function(E,k){ht(_,k,E)})}function ld(h,_,E){E=Math.min(h.i.length,E);const k=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let ze=-1;for(;;){const Ft=["count="+E];ze==-1?E>0?(ze=H[0].g,Ft.push("ofs="+ze)):ze=0:Ft.push("ofs="+ze);let lt=!0;for(let Dt=0;Dt<E;Dt++){var Q=H[Dt].g;const ys=H[Dt].map;if(Q-=ze,Q<0)ze=Math.max(0,H[Dt].g-100),lt=!1;else try{Q="req"+Q+"_"||"";try{var he=ys instanceof Map?ys:Object.entries(ys);for(const[yi,Fs]of he){let Hs=Fs;d(Fs)&&(Hs=Me(Fs)),Ft.push(Q+yi+"="+encodeURIComponent(Hs))}}catch(yi){throw Ft.push(Q+"type="+encodeURIComponent("_badmap")),yi}}catch{k&&k(ys)}}if(lt){he=Ft.join("&");break e}}he=void 0}return h=h.i.splice(0,E),_.G=h,he}function cd(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ae||T(),ue||(ae(),ue=!0),R.add(_,h),h.A=0}}function ja(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fs(p(h.Da,h),hd(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ud(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fs(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),Er(this),ud(this))};function hc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ud(h){h.g=new Ls(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Zt(h.na);ht(_,"RID","rpc"),ht(_,"SID",h.M),ht(_,"AID",h.K),ht(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(_,"TO",h.ia),ht(_,"TYPE","xmlhttp"),Ma(h,_),h.u&&h.o&&Na(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ka(Zt(_)),E.u=null,E.R=!0,vo(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Er(this),ja(this),st(19))};function Ro(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dd(h,_){var E=null;if(h.g==_){Ro(h),hc(h),h.g=null;var k=2}else if(ui(h.h,_))E=_.G,tc(h.h,_),k=1;else return;if(h.I!=0){if(_.o)if(k==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;k=je(),qt(k,new Xt(k,E)),pi(h)}else cd(h);else if(H=_.m,H==3||H==0&&_.X>0||!(k==1&&ko(h,_)||k==2&&ja(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),H){case 1:gi(h,5);break;case 4:gi(h,10);break;case 3:gi(h,6);break;default:gi(h,2)}}}function hd(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function gi(h,_){if(h.j.info("Error code "+_),_==2){var E=p(h.bb,h),k=h.Ua;const H=!k;k=new ts(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pn(k,"https"),ka(k),H?Us(k.toString(),E):oc(k.toString(),E)}else st(2);h.I=0,h.l&&h.l.pa(_),fd(h),Ao(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function fd(h){if(h.I=0,h.ja=[],h.l){const _=nc(h.h);(_.length!=0||h.i.length!=0)&&(I(h.ja,_),I(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function md(h,_,E){var k=E instanceof ts?Zt(E):new ts(E);if(k.g!="")_&&(k.g=_+"."+k.g),gr(k,k.u);else{var H=c.location;k=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const Q=new ts(null);k&&pn(Q,k),_&&(Q.g=_),H&&gr(Q,H),E&&(Q.h=E),k=Q}return E=h.G,_=h.wa,E&&_&&ht(k,E,_),ht(k,"VER",h.ka),Ma(h,k),k}function pd(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new pt(new hi({ab:E})):new pt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gd(){}t=gd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Tr(){}Tr.prototype.g=function(h,_){return new Vn(h,_)};function Vn(h,_){Ct.call(this),this.g=new wr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Li(this)}v(Vn,Ct),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){uc(this.g)},Vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Me(h),h=E);_.i.push(new Qt(_.Ya++,h)),_.I==3&&pi(_)},Vn.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,Vn.Z.N.call(this)};function yd(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(yd,Ge);function bd(){Rn.call(this),this.status=1}v(bd,Rn);function Li(h){this.g=h}v(Li,gd),Li.prototype.ra=function(){qt(this.g,"a")},Li.prototype.qa=function(h){qt(this.g,new yd(h))},Li.prototype.pa=function(h){qt(this.g,new bd)},Li.prototype.oa=function(){qt(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,bS=function(){return new Tr},yS=function(){return je()},gS=xe,Yg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Hh=Sa,Ql.COMPLETE="complete",pS=Ql,Nt.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,su=Nt,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,mS=pt}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const Dw="@firebase/firestore",Mw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new Fy("@firebase/firestore");function al(){return fo.logLevel}function pe(t,...e){if(fo.logLevel<=Qe.DEBUG){const n=e.map(e0);fo.debug(`Firestore (${Ll}): ${t}`,...n)}}function ur(t,...e){if(fo.logLevel<=Qe.ERROR){const n=e.map(e0);fo.error(`Firestore (${Ll}): ${t}`,...n)}}function Sl(t,...e){if(fo.logLevel<=Qe.WARN){const n=e.map(e0);fo.warn(`Firestore (${Ll}): ${t}`,...n)}}function e0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,vS(t,i,n)}function vS(t,e,n){let i=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ur(i),new Error(i)}function dt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||vS(e,a,i)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class lP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cP{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ar,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ar)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new _S(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class uP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new uP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=fP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ze(t,e){return t<e?-1:t>e?1:0}function Qg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return fg(a)===fg(l)?Ze(a,l):fg(a)?1:-1}return Ze(t.length,e.length)}const mP=55296,pP=57343;function fg(t){const e=t.charCodeAt(0);return e>=mP&&e<=pP}function Al(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__name__";class wi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Re(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=wi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const i=wi.isNumericId(e),a=wi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?wi.extractNumericId(e).compare(wi.extractNumericId(n)):Qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class Tt extends wi{construct(e,n,i){return new Tt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const gP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends wi{construct(e,n,i){return new An(e,n,i)}static isValidIdentifier(e){return gP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pw}static keyField(){return new An([Pw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(n)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Tt.fromString(e))}static fromName(e){return new Ee(Tt.fromString(e).popFirst(5))}static empty(){return new Ee(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yP(t,e,n,i){if(e===!0&&i===!0)throw new me(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vw(t){if(!Ee.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ow(t){if(Ee.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(t);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fu(t,e){if(!wS(t))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=-62135596800,zw=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*zw);return new Rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Lw)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zw}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:an("string",Rt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Rt(0,0))}static max(){return new Pe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function bP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(i===1e9?new Rt(n+1,0):new Rt(n,i));return new aa(a,Ee.empty(),e)}function vP(t){return new aa(t.readTime,t.key,Eu)}class aa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new aa(Pe.min(),Ee.empty(),Eu)}static max(){return new aa(Pe.max(),Ee.empty(),Eu)}}function _P(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==xP)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,i)=>{n(e)}))}static reject(e){return new re(((n,i)=>{i(e)}))}static waitFor(e){return new re(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next((a=>a?re.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new re(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((b=>{c[p]=b,++d,d===l&&i(c)}),(b=>a(b)))}}))}static doWhile(e,n){return new re(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function EP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-1;function Of(t){return t==null}function uf(t){return t===0&&1/t==-1/0}function TP(t){return typeof t=="number"&&Number.isInteger(t)&&!uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="";function SP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Uw(e)),e=AP(t.get(n),e);return Uw(e)}function AP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case ES:n+="";break;default:n+=l}}return n}function Uw(t){return t+ES+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Sn.RED,this.left=a??Sn.EMPTY,this.right=l??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new Sn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Sn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new ds([])}unionWith(e){let n=new dn(An.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new SS("Invalid base64 string: "+l):l}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const kP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=kP.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="server_timestamp",kS="__type__",RS="__previous_value__",CS="__local_write_time__";function s0(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kS])==null?void 0:i.stringValue)===AS}function Lf(t){const e=t.mapValue.fields[RS];return s0(e)?Lf(e):e}function Tu(t){const e=oa(t.mapValue.fields[CS].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,i,a,l,c,d,f,p,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=b}}const df="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||df}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===df}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="__type__",CP="__max__",Ah={mapValue:{}},IS="__vector__",hf="value";function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s0(t)?4:IP(t)?9007199254740991:NP(t)?10:11:Re(28295,{value:t})}function ji(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=oa(a.timestampValue),d=oa(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return la(a.bytesValue).isEqual(la(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return $t(a.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(a.geoPointValue.longitude)===$t(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return $t(a.integerValue)===$t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=$t(a.doubleValue),d=$t(l.doubleValue);return c===d?uf(c)===uf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Bw(c)!==Bw(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!ji(c[f],d[f])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function Au(t,e){return(t.values||[]).find((n=>ji(n,e)))!==void 0}function kl(t,e){if(t===e)return 0;const n=ca(t),i=ca(e);if(n!==i)return Ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=$t(l.integerValue||l.doubleValue),f=$t(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return Fw(t.timestampValue,e.timestampValue);case 4:return Fw(Tu(t),Tu(e));case 5:return Qg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=la(l),f=la(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const b=Ze(d[p],f[p]);if(b!==0)return b}return Ze(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ze($t(l.latitude),$t(c.latitude));return d!==0?d:Ze($t(l.longitude),$t(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Hw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var x,A,I,M;const d=l.fields||{},f=c.fields||{},p=(x=d[hf])==null?void 0:x.arrayValue,b=(A=f[hf])==null?void 0:A.arrayValue,v=Ze(((I=p==null?void 0:p.values)==null?void 0:I.length)||0,((M=b==null?void 0:b.values)==null?void 0:M.length)||0);return v!==0?v:Hw(p,b)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ah.mapValue&&c===Ah.mapValue)return 0;if(l===Ah.mapValue)return 1;if(c===Ah.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=c.fields||{},b=Object.keys(p);f.sort(),b.sort();for(let v=0;v<f.length&&v<b.length;++v){const x=Qg(f[v],b[v]);if(x!==0)return x;const A=kl(d[f[v]],p[b[v]]);if(A!==0)return A}return Ze(f.length,b.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function Fw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=oa(t),i=oa(e),a=Ze(n.seconds,i.seconds);return a!==0?a:Ze(n.nanos,i.nanos)}function Hw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=kl(n[a],i[a]);if(l)return l}return Ze(n.length,i.length)}function Rl(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=oa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return la(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Zg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Zg(n.fields[c])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function Gh(t){switch(ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lf(t);return e?16+Gh(e):16;case 5:return 2*t.stringValue.length;case 6:return la(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Gh(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ya(i.fields,((l,c)=>{a+=l.length+Gh(c)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function Gw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wg(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function $w(t){return!!t&&"nullValue"in t}function Kw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $h(t){return!!t&&"mapValue"in t}function NP(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NS])==null?void 0:i.stringValue)===IS}function uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ya(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=uu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return{...t}}function IP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!$h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=An.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=uu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());$h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];$h(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ya(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Qn(uu(this.value))}}function DS(t){const e=[];return ya(t.fields,((n,i)=>{const a=new An([n]);if($h(i)){const l=DS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,Pe.min(),Pe.min(),Pe.min(),Qn.empty(),0)}static newFoundDocument(e,n,i,a){return new Dn(e,1,n,Pe.min(),i,a,0)}static newNoDocument(e,n){return new Dn(e,2,n,Pe.min(),Pe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Pe.min(),Pe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.position=e,this.inclusive=n}}function Xw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),n.key):i=kl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function DP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{}class rn extends MS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new jP(e,n,i):n==="array-contains"?new OP(e,i):n==="in"?new LP(e,i):n==="not-in"?new zP(e,i):n==="array-contains-any"?new UP(e,i):new rn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new PP(e,i):new VP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends MS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Js(e,n)}matches(e){return jS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jS(t){return t.op==="and"}function PS(t){return MP(t)&&jS(t)}function MP(t){for(const e of t.filters)if(e instanceof Js)return!1;return!0}function Jg(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(PS(t))return t.filters.map((e=>Jg(e))).join(",");{const e=t.filters.map((n=>Jg(n))).join(",");return`${t.op}(${e})`}}function VS(t,e){return t instanceof rn?(function(i,a){return a instanceof rn&&i.op===a.op&&i.field.isEqual(a.field)&&ji(i.value,a.value)})(t,e):t instanceof Js?(function(i,a){return a instanceof Js&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&VS(c,a.filters[d])),!0):!1})(t,e):void Re(19439)}function OS(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`})(t):t instanceof Js?(function(n){return n.op.toString()+" {"+n.getFilters().map(OS).join(" ,")+"}"})(t):"Filter"}class jP extends rn{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class PP extends rn{constructor(e,n){super(e,"in",n),this.keys=LS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VP extends rn{constructor(e,n){super(e,"not-in",n),this.keys=LS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function LS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class OP extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&Au(n.arrayValue,this.value)}}class LP extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class zP extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class UP extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Au(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Qw(t,e=null,n=[],i=[],a=null,l=null,c=null){return new BP(t,e,n,i,a,l,c)}function r0(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Jg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Rl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Rl(i))).join(",")),e.Te=n}return e.Te}function a0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yw(t.startAt,e.startAt)&&Yw(t.endAt,e.endAt)}function ey(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qP(t,e,n,i,a,l,c,d){return new Bl(t,e,n,i,a,l,c,d)}function o0(t){return new Bl(t)}function Zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zS(t){return t.collectionGroup!==null}function du(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new dn(An.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ku(l,i))})),n.has(An.keyField().canonicalString())||e.Ie.push(new ku(An.keyField(),i))}return e.Ie}function ki(t){const e=Le(t);return e.Ee||(e.Ee=FP(e,du(t))),e.Ee}function FP(t,e){if(t.limitType==="F")return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ku(a.field,l)}));const n=t.endAt?new ff(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ff(t.startAt.position,t.startAt.inclusive):null;return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ty(t,e){const n=t.filters.concat([e]);return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mf(t,e,n){return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return a0(ki(t),ki(e))&&t.limitType===e.limitType}function US(t){return`${r0(ki(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>OS(a))).join(", ")}]`),Of(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Rl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Rl(a))).join(",")),`Target(${i})`})(ki(t))}; limitType=${t.limitType})`}function Uf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of du(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,f){const p=Xw(c,d,f);return c.inclusive?p<=0:p<0})(i.startAt,du(i),a)||i.endAt&&!(function(c,d,f){const p=Xw(c,d,f);return c.inclusive?p>=0:p>0})(i.endAt,du(i),a))})(t,e)}function HP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BS(t){return(e,n)=>{let i=!1;for(const a of du(t)){const l=GP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function GP(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),p=d.data.field(l);return f!==null&&p!==null?kl(f,p):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Ot(Ee.comparator);function dr(){return $P}const qS=new Ot(Ee.comparator);function iu(...t){let e=qS;for(const n of t)e=e.insert(n.key,n);return e}function FS(t){let e=qS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function no(){return hu()}function HS(){return hu()}function hu(){return new yo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const KP=new Ot(Ee.comparator),XP=new dn(Ee.comparator);function We(...t){let e=XP;for(const n of t)e=e.add(n);return e}const YP=new dn(Ze);function QP(){return YP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function GS(t){return{integerValue:""+t}}function ZP(t,e){return TP(e)?GS(e):l0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function WP(t,e,n){return t instanceof pf?(function(a,l){const c={fields:{[kS]:{stringValue:AS},[CS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&s0(l)&&(l=Lf(l)),l&&(c.fields[RS]=l),{mapValue:c}})(n,e):t instanceof Ru?KS(t,e):t instanceof Cu?XS(t,e):(function(a,l){const c=$S(a,l),d=Ww(c)+Ww(a.Ae);return Wg(c)&&Wg(a.Ae)?GS(d):l0(a.serializer,d)})(t,e)}function JP(t,e,n){return t instanceof Ru?KS(t,e):t instanceof Cu?XS(t,e):n}function $S(t,e){return t instanceof gf?(function(i){return Wg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class pf extends Bf{}class Ru extends Bf{constructor(e){super(),this.elements=e}}function KS(t,e){const n=YS(e);for(const i of t.elements)n.some((a=>ji(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Cu extends Bf{constructor(e){super(),this.elements=e}}function XS(t,e){let n=YS(e);for(const i of t.elements)n=n.filter((a=>!ji(a,i)));return{arrayValue:{values:n}}}class gf extends Bf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ww(t){return $t(t.integerValue||t.doubleValue)}function YS(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eV(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Ru&&a instanceof Ru||i instanceof Cu&&a instanceof Cu?Al(i.elements,a.elements,ji):i instanceof gf&&a instanceof gf?ji(i.Ae,a.Ae):i instanceof pf&&a instanceof pf})(t.transform,e.transform)}class tV{constructor(e,n){this.version=e,this.transformResults=n}}class Zs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zs}static exists(e){return new Zs(void 0,e)}static updateTime(e){return new Zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qf{}function QS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c0(t.key,Zs.none()):new Hu(t.key,t.data,Zs.none());{const n=t.data,i=Qn.empty();let a=new dn(An.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ba(t.key,i,new ds(a.toArray()),Zs.none())}}function nV(t,e,n){t instanceof Hu?(function(a,l,c){const d=a.value.clone(),f=eE(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ba?(function(a,l,c){if(!Kh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=eE(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(ZS(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,i){return t instanceof Hu?(function(l,c,d,f){if(!Kh(l.precondition,c))return d;const p=l.value.clone(),b=tE(l.fieldTransforms,f,c);return p.setAll(b),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof ba?(function(l,c,d,f){if(!Kh(l.precondition,c))return d;const p=tE(l.fieldTransforms,f,c),b=c.data;return b.setAll(ZS(l)),b.setAll(p),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(l,c,d){return Kh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function sV(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=$S(i.transform,a||null);l!=null&&(n===null&&(n=Qn.empty()),n.set(i.field,l))}return n||null}function Jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Al(i,a,((l,c)=>eV(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hu extends qf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ba extends qf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ZS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function eE(t,e,n){const i=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,JP(c,d,n[a]))}return i}function tE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,WP(l,c,e))}return i}class c0 extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iV extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&nV(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=fu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=fu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=HS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=QS(c,d);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Pe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,i)=>Jw(n,i)))&&Al(this.baseMutations,e.baseMutations,((n,i)=>Jw(n,i)))}}class u0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){dt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return KP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new u0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,nt;function lV(t){switch(t){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function WS(t){if(t===void 0)return ur("GRPC error has no .code"),ne.UNKNOWN;switch(t){case nn.OK:return ne.OK;case nn.CANCELLED:return ne.CANCELLED;case nn.UNKNOWN:return ne.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ne.INTERNAL;case nn.UNAVAILABLE:return ne.UNAVAILABLE;case nn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case nn.NOT_FOUND:return ne.NOT_FOUND;case nn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case nn.ABORTED:return ne.ABORTED;case nn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case nn.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:t})}}(nt=nn||(nn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new ia([4294967295,4294967295],0);function nE(t){const e=cV().encode(t),n=new fS;return n.update(e),new Uint8Array(n.digest())}function sE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ia([n,i],0),new ia([a,l],0)]}class d0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(i<0)throw new ru(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ia.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(ia.fromNumber(i)));return a.compare(uV)===1&&(a=new ia([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nE(e),[i,a]=sE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new d0(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=nE(e),[i,a]=sE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ff(Pe.min(),a,new Ot(Ze),dr(),We())}}class Gu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Gu(i,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class JS{constructor(e,n){this.targetId=e,this.Ce=n}}class eA{constructor(e,n,i=kn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class iE{constructor(){this.ve=0,this.Fe=rE(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),i=We();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}})),new Gu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=rE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dV{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=kh(),this.He=kh(),this.Ye=new Ot(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ey(l))if(i===0){const c=new Ee(l.path);this.et(n,c,Dn.newNoDocument(c,Pe.min()))}else dt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=la(i).toUint8Array()}catch(f){if(f instanceof SS)return Sl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new d0(c,a,l)}catch(f){return Sl(f instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ey(d.target)){const f=new Ee(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Dn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=We();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ff(e,n,this.Ye,this.je,i);return this.je=dr(),this.Je=kh(),this.He=kh(),this.Ye=new Ot(Ze),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kh(){return new Ot(Ee.comparator)}function rE(){return new Ot(Ee.comparator)}const hV={asc:"ASCENDING",desc:"DESCENDING"},fV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mV={and:"AND",or:"OR"};class pV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gV(t,e){return yf(t,e.toTimestamp())}function Ri(t){return dt(!!t,49232),Pe.fromTimestamp((function(n){const i=oa(n);return new Rt(i.seconds,i.nanos)})(t))}function h0(t,e){return sy(t,e).canonicalString()}function sy(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nA(t){const e=Tt.fromString(t);return dt(oA(e),10190,{key:e.toString()}),e}function iy(t,e){return h0(t.databaseId,e.path)}function mg(t,e){const n=nA(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(iA(n))}function sA(t,e){return h0(t.databaseId,e)}function yV(t){const e=nA(t);return e.length===4?Tt.emptyPath():iA(e)}function ry(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iA(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aE(t,e,n){return{name:iy(t,e),fields:n.value.mapValue.fields}}function bV(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,b){return p.useProto3Json?(dt(b===void 0||typeof b=="string",58123),kn.fromBase64String(b||"")):(dt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),kn.fromUint8Array(b||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const b=p.code===void 0?ne.UNKNOWN:WS(p.code);return new me(b,p.message||"")})(c);n=new eA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=mg(t,i.document.name),l=Ri(i.document.updateTime),c=i.document.createTime?Ri(i.document.createTime):Pe.min(),d=new Qn({mapValue:{fields:i.document.fields}}),f=Dn.newFoundDocument(a,l,c,d),p=i.targetIds||[],b=i.removedTargetIds||[];n=new Xh(p,b,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=mg(t,i.document),l=i.readTime?Ri(i.readTime):Pe.min(),c=Dn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Xh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=mg(t,i.document),l=i.removedTargetIds||[];n=new Xh([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new oV(a,l),d=i.targetId;n=new JS(d,c)}}return n}function vV(t,e){let n;if(e instanceof Hu)n={update:aE(t,e.key,e.value)};else if(e instanceof c0)n={delete:iy(t,e.key)};else if(e instanceof ba)n={update:aE(t,e.key,e.data),updateMask:RV(e.fieldMask)};else{if(!(e instanceof iV))return Re(16599,{Vt:e.type});n={verify:iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof pf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof gf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:gV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(t,e.precondition)),n}function _V(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Ri(a.updateTime):Ri(l);return c.isEqual(Pe.min())&&(c=Ri(l)),new tV(c,a.transformResults||[])})(n,e)))):[]}function xV(t,e){return{documents:[sA(t,e.path)]}}function wV(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=sA(t,a);const l=(function(p){if(p.length!==0)return aA(Js.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((b=>(function(x){return{field:ll(x.field),direction:SV(x.dir)}})(b)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ny(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function EV(t){let e=yV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){dt(i===1,65062);const b=n.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];n.where&&(l=(function(v){const x=rA(v);return x instanceof Js&&PS(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((x=>(function(I){return new ku(cl(I.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let x;return x=typeof v=="object"?v.value:v,Of(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(v){const x=!!v.before,A=v.values||[];return new ff(A,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const x=!v.before,A=v.values||[];return new ff(A,x)})(n.endAt)),qP(e,a,c,l,d,"F",f,p)}function TV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=cl(n.unaryFilter.field);return rn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=cl(n.unaryFilter.field);return rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=cl(n.unaryFilter.field);return rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=cl(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(cl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Js.create(n.compositeFilter.filters.map((i=>rA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function SV(t){return hV[t]}function AV(t){return fV[t]}function kV(t){return mV[t]}function ll(t){return{fieldPath:t.canonicalString()}}function cl(t){return An.fromServerFormat(t.fieldPath)}function aA(t){return t instanceof rn?(function(n){if(n.op==="=="){if(Kw(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if($w(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kw(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if($w(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:AV(n.op),value:n.value}}})(t):t instanceof Js?(function(n){const i=n.getFilters().map((a=>aA(a)));return i.length===1?i[0]:{compositeFilter:{op:kV(n.op),filters:i}}})(t):Re(54877,{filter:t})}function RV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,i,a,l=Pe.min(),c=Pe.min(),d=kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.yt=e}}function NV(t){const e=EV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.Cn=new DV}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(aa.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class DV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new dn(Tt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new dn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(lA,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",MV=1048576;function cE([t,e],[n,i]){const a=Ze(t,n);return a===0?Ze(e,i):a}class jV{constructor(e){this.Ir=e,this.buffer=new dn(cE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();cE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PV{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(lE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?pe(lE,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Vr(3e5)}))}}class VV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Vf.ce);const i=new jV(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(oE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,d,f,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,d=Date.now(),this.removeTargets(e,i,n)))).next((v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(p=Date.now(),al()<=Qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function OV(t,e){return new VV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.changes=new yo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&fu(i.mutation,a,ds.empty(),Rt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,We()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=We()){const a=no();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=iu();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=no();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,We())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=dr();const c=hu(),d=(function(){return hu()})();return n.forEach(((f,p)=>{const b=i.get(p.key);a.has(p.key)&&(b===void 0||b.mutation instanceof ba)?l=l.insert(p.key,p):b!==void 0?(c.set(p.key,b.mutation.getFieldMask()),fu(b.mutation,p,b.mutation.getFieldMask(),Rt.now())):c.set(p.key,ds.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,b)=>c.set(p,b))),n.forEach(((p,b)=>d.set(p,new zV(b,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=hu();let a=new Ot(((c,d)=>c-d)),l=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let b=i.get(f)||ds.empty();b=d.applyToLocalView(p,b),i.set(f,b);const v=(a.get(d.batchId)||We()).add(f);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,b=f.value,v=HS();b.forEach((x=>{if(!l.has(x)){const A=QS(n.get(x),i.get(x));A!==null&&v.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return re.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):re.resolve(no());let d=Eu,f=l;return c.next((p=>re.forEach(p,((b,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{f=f.insert(b,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,We()))).next((b=>({batchId:d,changes:FS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((i=>{let a=iu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(f=>{const p=(function(v,x){return new Bl(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((b=>{b.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,p)=>{const b=p.getKey();c.get(b)===null&&(c=c.insert(b,Dn.newInvalidDocument(b)))}));let d=iu();return c.forEach(((f,p)=>{const b=l.get(f);b!==void 0&&fu(b.mutation,p,ds.empty(),Rt.now()),Uf(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ri(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:NV(a.bundledQuery),readTime:Ri(a.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.overlays=new Ot(Ee.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=no();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const a=no(),l=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Ot(((p,b)=>p-b));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let b=l.get(p.largestBatchId);b===null&&(b=no(),l=l.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const d=no(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,b)=>d.set(p,b))),!(d.size()>=a)););return re.resolve(d)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new aV(n,i));let l=this.qr.get(n);l===void 0&&(l=We(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.Qr=new dn(yn.$r),this.Ur=new dn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new yn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ee(new Tt([])),i=new yn(n,e),a=new yn(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new Tt([])),i=new yn(n,e),a=new yn(n,e+1);let l=We();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new yn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(yn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rV(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new yn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?n0:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new yn(n,0),a=new yn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new dn(Ze);return n.forEach((a=>{const l=new yn(a,0),c=new yn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new yn(new Ee(l),0);let d=new dn(Ze);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(f.Yr)),!0)}),c),re.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(n.mutations,(a=>{const l=new yn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new yn(n,0),a=this.Zr.firstAfterOrEqual(i);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let i=dr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Dn.newInvalidDocument(a))})),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=dr();const c=n.path,d=new Ee(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:b}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||_P(vP(b),i)<=0||(a.has(b.key)||Uf(n,b))&&(l=l.insert(b.key,b.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Re(9500)}ii(e,n){return re.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new $V(this)}getSize(e){return re.resolve(this.size)}}class $V extends LV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.persistence=e,this.si=new yo((n=>r0(n)),a0),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new f0,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),re.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vf(0),this.li=!1,this.li=!0,this.hi=new FV,this.referenceDelegate=e(this),this.Pi=new KV(this),this.indexManager=new IV,this.remoteDocumentCache=(function(a){return new GV(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new CV(n),this.Ii=new BV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new HV(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const a=new XV(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class XV extends wP{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.Ri=new f0,this.Vi=null}static mi(e){return new m0(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const a=Ee.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bf{constructor(e,n){this.persistence=e,this.pi=new yo((i=>SP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=OV(this,n)}static mi(e,n){return new bf(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(i++,l.removeEntry(c,Pe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gh(e.data.value)),n}br(e,n,i){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=We(),a=We();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new p0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AI()?8:EP(Pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new YV;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(al()<=Qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(al()<=Qe.DEBUG&&pe("QueryEngine","Query:",ol(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(al()<=Qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):re.resolve())}ys(e,n){if(Zw(n))return re.resolve(null);let i=ki(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=mf(n,null,"F"),i=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=We(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.Ds(n,d);return this.Cs(n,p,c,f.readTime)?this.ys(e,mf(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,i,a){return Zw(n)||a.isEqual(Pe.min())?re.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?re.resolve(null):(al()<=Qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ol(n)),this.vs(e,c,n,bP(a,Eu)).next((d=>d)))}))}Ds(e,n){let i=new dn(BS(e));return n.forEach(((a,l)=>{Uf(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return al()<=Qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(e,n,aa.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="LocalStore",ZV=3e8;class WV{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ot(Ze),this.xs=new yo((l=>r0(l)),a0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JV(t,e,n,i){return new WV(t,e,n,i)}async function uA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let f=We();for(const p of a){c.push(p.batchId);for(const b of p.mutations)f=f.add(b.key)}for(const p of l){d.push(p.batchId);for(const b of p.mutations)f=f.add(b.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function eO(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,b){const v=p.batch,x=v.keys();let A=re.resolve();return x.forEach((I=>{A=A.next((()=>b.getEntry(f,I))).next((M=>{const P=p.docVersions.get(I);dt(P!==null,48541),M.version.compareTo(P)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),b.addEntry(M)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,v)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=We();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function dA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tO(t,e){const n=Le(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((b,v)=>{const x=a.get(v);if(!x)return;d.push(n.Pi.removeMatchingKeys(l,b.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,b.addedDocuments,v))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(kn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):b.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(b.resumeToken,i)),a=a.insert(v,A),(function(M,P,U){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=ZV?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,A,b)&&d.push(n.Pi.updateTargetData(l,A))}));let f=dr(),p=We();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,b))})),d.push(nO(l,c,e.documentUpdates).next((b=>{f=b.ks,p=b.qs}))),!i.isEqual(Pe.min())){const b=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(b)}return re.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function nO(t,e,n){let i=We(),a=We();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=dr();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):pe(g0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function sO(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=n0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function iO(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new ea(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ay(t,e,n){const i=Le(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ul(c))throw c;pe(g0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function uE(t,e,n){const i=Le(t);let a=Pe.min(),l=We();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,b){const v=Le(f),x=v.xs.get(b);return x!==void 0?re.resolve(v.Ms.get(x)):v.Pi.getTargetData(p,b)})(i,c,ki(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Pe.min(),n?l:We()))).next((d=>(rO(i,HP(e),d),{documents:d,Qs:l})))))}function rO(t,e,n){let i=t.Os.get(e)||Pe.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class dE{constructor(){this.activeTargetIds=QP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aO{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(hE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function oy(){return Rh===null?Rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===df?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=oy(),d=this.zo(e,n.toUriEncodedString());pe(pg,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(d),b=Pl(p);return this.Jo(e,d,f,i,b).then((v=>(pe(pg,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Sl(pg,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",i),v}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=lO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class dO extends cO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=oy();return new Promise(((d,f)=>{const p=new mS;p.setWithCredentials(!0),p.listenOnce(pS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Hh.NO_ERROR:const v=p.getResponseJson();pe(Nn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case Hh.TIMEOUT:pe(Nn,`RPC '${e}' ${c} timed out`),f(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const x=p.getStatus();if(pe(Nn,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const M=(function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN})(I.status);f(new me(M,I.message))}else f(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(Nn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);pe(Nn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",b,i,15)}))}T_(e,n,i){const a=oy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=bS(),d=yS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const b=l.join("");pe(Nn,`Creating RPC '${e}' stream ${a}: ${b}`,f);const v=c.createWebChannel(b,f);this.I_(v);let x=!1,A=!1;const I=new uO({Yo:P=>{A?pe(Nn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(x||(pe(Nn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),pe(Nn,`RPC '${e}' stream ${a} sending:`,P),v.send(P))},Zo:()=>v.close()}),M=(P,U,Y)=>{P.listen(U,(F=>{try{Y(F)}catch(le){setTimeout((()=>{throw le}),0)}}))};return M(v,su.EventType.OPEN,(()=>{A||(pe(Nn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),M(v,su.EventType.CLOSE,(()=>{A||(A=!0,pe(Nn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(v))})),M(v,su.EventType.ERROR,(P=>{A||(A=!0,Sl(Nn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),I.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),M(v,su.EventType.MESSAGE,(P=>{var U;if(!A){const Y=P.data[0];dt(!!Y,16349);const F=Y,le=(F==null?void 0:F.error)||((U=F[0])==null?void 0:U.error);if(le){pe(Nn,`RPC '${e}' stream ${a} received error:`,le);const ae=le.status;let ue=(function(C){const j=nn[C];if(j!==void 0)return WS(j)})(ae),R=le.message;ue===void 0&&(ue=ne.INTERNAL,R="Unknown error status: "+ae+" with message "+le.message),A=!0,I.a_(new me(ue,R)),v.close()}else pe(Nn,`RPC '${e}' stream ${a} received:`,Y),I.u_(Y)}})),M(d,gS.STAT_EVENT,(P=>{P.stat===Yg.PROXY?pe(Nn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Yg.NOPROXY&&pe(Nn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){return new pV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class fA{constructor(e,n,i,a,l,c,d,f){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hO extends fA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bV(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?Ri(c.readTime):Pe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=ry(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=ey(f)?{documents:xV(l,f)}:{query:wV(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=tA(l,c.resumeToken);const p=ny(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=yf(l,c.snapshotVersion.toTimestamp());const p=ny(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=TV(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=ry(this.serializer),n.removeTarget=e,this.q_(n)}}class fO extends fA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_V(e.writeResults,e.commitTime),i=Ri(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=ry(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>vV(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{}class pO extends mO{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,sy(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ne.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,sy(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class yO{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{bo(this)&&(pe(mo,"Restarting streams for network reachability change."),await(async function(f){const p=Le(f);p.Ea.add(4),await $u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Gf(p)})(this))}))})),this.Ra=new gO(i,a)}}async function Gf(t){if(bo(t))for(const e of t.da)await e(!0)}async function $u(t){for(const e of t.da)await e(!1)}function mA(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_0(n)?v0(n):ql(n).O_()&&b0(n,e))}function y0(t,e){const n=Le(t),i=ql(n);n.Ia.delete(e),i.O_()&&pA(n,e),n.Ia.size===0&&(i.O_()?i.L_():bo(n)&&n.Ra.set("Unknown"))}function b0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ql(t).Y_(e)}function pA(t,e){t.Va.Ue(e),ql(t).Z_(e)}function v0(t){t.Va=new dV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ql(t).start(),t.Ra.ua()}function _0(t){return bo(t)&&!ql(t).x_()&&t.Ia.size>0}function bo(t){return Le(t).Ea.size===0}function gA(t){t.Va=void 0}async function bO(t){t.Ra.set("Online")}async function vO(t){t.Ia.forEach(((e,n)=>{b0(t,e)}))}async function _O(t,e){gA(t),_0(t)?(t.Ra.ha(e),v0(t)):t.Ra.set("Unknown")}async function xO(t,e,n){if(t.Ra.set("Online"),e instanceof eA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(i){pe(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vf(t,i)}else if(e instanceof Xh?t.Va.Ze(e):e instanceof JS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const i=await dA(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const b=l.Ia.get(p);b&&l.Ia.set(p,b.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const b=l.Ia.get(f);if(!b)return;l.Ia.set(f,b.withResumeToken(kn.EMPTY_BYTE_STRING,b.snapshotVersion)),pA(l,f);const v=new ea(b.target,f,p,b.sequenceNumber);b0(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){pe(mo,"Failed to raise snapshot:",i),await vf(t,i)}}async function vf(t,e,n){if(!Ul(e))throw e;t.Ea.add(1),await $u(t),t.Ra.set("Offline"),n||(n=()=>dA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(mo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gf(t)}))}function yA(t,e){return e().catch((n=>vf(t,n,e)))}async function $f(t){const e=Le(t),n=ua(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:n0;for(;wO(e);)try{const a=await sO(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,EO(e,a)}catch(a){await vf(e,a)}bA(e)&&vA(e)}function wO(t){return bo(t)&&t.Ta.length<10}function EO(t,e){t.Ta.push(e);const n=ua(t);n.O_()&&n.X_&&n.ea(e.mutations)}function bA(t){return bo(t)&&!ua(t).x_()&&t.Ta.length>0}function vA(t){ua(t).start()}async function TO(t){ua(t).ra()}async function SO(t){const e=ua(t);for(const n of t.Ta)e.ea(n.mutations)}async function AO(t,e,n){const i=t.Ta.shift(),a=u0.from(i,e,n);await yA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await $f(t)}async function kO(t,e){e&&ua(t).X_&&await(async function(i,a){if((function(c){return lV(c)&&c!==ne.ABORTED})(a.code)){const l=i.Ta.shift();ua(i).B_(),await yA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await $f(i)}})(t,e),bA(t)&&vA(t)}async function pE(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),pe(mo,"RemoteStore received new credentials");const i=bo(n);n.Ea.add(3),await $u(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gf(n)}async function RO(t,e){const n=Le(t);e?(n.Ea.delete(2),await Gf(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function ql(t){return t.ma||(t.ma=(function(n,i,a){const l=Le(n);return l.sa(),new hO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:bO.bind(null,t),t_:vO.bind(null,t),r_:_O.bind(null,t),H_:xO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),_0(t)?v0(t):t.Ra.set("Unknown")):(await t.ma.stop(),gA(t))}))),t.ma}function ua(t){return t.fa||(t.fa=(function(n,i,a){const l=Le(n);return l.sa(),new fO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TO.bind(null,t),r_:kO.bind(null,t),ta:SO.bind(null,t),na:AO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await $f(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(mo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new x0(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w0(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Ul(t))return new me(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=iu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new xl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.ga=new Ot(Ee.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Nl{constructor(e,n,i,a,l,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Nl(e,n,xl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NO{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Le(n),l=a.queries;a.queries=yE(),l.forEach(((c,d)=>{for(const f of d.Sa)f.onError(i)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function yE(){return new yo((t=>US(t)),zf)}async function _A(t,e){const n=Le(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new CO,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=w0(c,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&E0(n)}async function xA(t,e){const n=Le(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function IO(t,e){const n=Le(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&E0(n)}function DO(t,e,n){const i=Le(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function E0(t){t.Ca.forEach((e=>{e.next()}))}var ly,bE;(bE=ly||(ly={})).Ma="default",bE.Cache="cache";class wA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.key=e}}class TA{constructor(e){this.key=e}}class MO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=BS(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new gE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,v)=>{const x=a.get(b),A=Uf(this.query,v)?v:null,I=!!x&&this.mutatedKeys.has(x.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;x&&A?x.data.isEqual(A.data)?I!==M&&(i.track({type:3,doc:A}),P=!0):this.su(x,A)||(i.track({type:2,doc:A}),P=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(d=!0)):!x&&A?(i.track({type:0,doc:A}),P=!0):x&&!A&&(i.track({type:1,doc:x}),P=!0,(f||p)&&(d=!0)),P&&(A?(c=c.add(A),l=M?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),i.track({type:1,doc:b})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,v)=>(function(A,I){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:P})}};return M(A)-M(I)})(b.type,v.type)||this.eu(b.doc,v.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,c.length!==0||p?{snapshot:new Nl(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new TA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new EA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const T0="SyncEngine";class jO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class PO{constructor(e){this.key=e,this.hu=!1}}class VO{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new yo((d=>US(d)),zf),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ee.comparator),this.Au=new Map,this.Ru=new f0,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OO(t,e,n=!0){const i=NA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await SA(i,e,n,!0),a}async function LO(t,e){const n=NA(t);await SA(n,e,!0,!1)}async function SA(t,e,n,i){const a=await iO(t.localStore,ki(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await zO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&mA(t.remoteStore,a),d}async function zO(t,e,n,i,a){t.pu=(v,x,A)=>(async function(M,P,U,Y){let F=P.view.ru(U);F.Cs&&(F=await uE(M.localStore,P.query,!1).then((({documents:R})=>P.view.ru(R,F))));const le=Y&&Y.targetChanges.get(P.targetId),ae=Y&&Y.targetMismatches.get(P.targetId)!=null,ue=P.view.applyChanges(F,M.isPrimaryClient,le,ae);return _E(M,P.targetId,ue.au),ue.snapshot})(t,v,x,A);const l=await uE(t.localStore,e,!0),c=new MO(e,l.Qs),d=c.ru(l.documents),f=Gu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,f);_E(t,n,p.au);const b=new jO(e,n,c);return t.Tu.set(e,b),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function UO(t,e,n){const i=Le(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!zf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ay(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&y0(i.remoteStore,a.targetId),cy(i,a.targetId)})).catch(zl)):(cy(i,a.targetId),await ay(i.localStore,a.targetId,!0))}async function BO(t,e){const n=Le(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),y0(n.remoteStore,i.targetId))}async function qO(t,e,n){const i=YO(t);try{const a=await(function(c,d){const f=Le(c),p=Rt.now(),b=d.reduce(((A,I)=>A.add(I.key)),We());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=dr(),M=We();return f.Ns.getEntries(A,b).next((P=>{I=P,I.forEach(((U,Y)=>{Y.isValidDocument()||(M=M.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,I))).next((P=>{v=P;const U=[];for(const Y of d){const F=sV(Y,v.get(Y.key).overlayedDocument);F!=null&&U.push(new ba(Y.key,F,DS(F.value.mapValue),Zs.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,U,d)})).next((P=>{x=P;const U=P.applyToLocalDocumentSet(v,M);return f.documentOverlayCache.saveOverlays(A,P.batchId,U)}))})).then((()=>({batchId:x.batchId,changes:FS(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let p=c.Vu[c.currentUser.toKey()];p||(p=new Ot(Ze)),p=p.insert(d,f),c.Vu[c.currentUser.toKey()]=p})(i,a.batchId,n),await Ku(i,a.changes),await $f(i.remoteStore)}catch(a){const l=w0(a,"Failed to persist write");n.reject(l)}}async function AA(t,e){const n=Le(t);try{const i=await tO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?dt(c.hu,14607):a.removedDocuments.size>0&&(dt(c.hu,42227),c.hu=!1))})),await Ku(n,i,e)}catch(i){await zl(i)}}function vE(t,e,n){const i=Le(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Le(c);f.onlineState=d;let p=!1;f.queries.forEach(((b,v)=>{for(const x of v.Sa)x.va(d)&&(p=!0)})),p&&E0(f)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function FO(t,e,n){const i=Le(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Ot(Ee.comparator);c=c.insert(l,Dn.newNoDocument(l,Pe.min()));const d=We().add(l),f=new Ff(Pe.min(),new Map,new Ot(Ze),c,d);await AA(i,f),i.du=i.du.remove(l),i.Au.delete(e),S0(i)}else await ay(i.localStore,e,!1).then((()=>cy(i,e,n))).catch(zl)}async function HO(t,e){const n=Le(t),i=e.batch.batchId;try{const a=await eO(n.localStore,e);RA(n,i,null),kA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ku(n,a)}catch(a){await zl(a)}}async function GO(t,e,n){const i=Le(t);try{const a=await(function(c,d){const f=Le(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return f.mutationQueue.lookupMutationBatch(p,d).next((v=>(dt(v!==null,37113),b=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,b,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>f.localDocuments.getDocuments(p,b)))}))})(i.localStore,e);RA(i,e,n),kA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ku(i,a)}catch(a){await zl(a)}}function kA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function RA(t,e,n){const i=Le(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||CA(t,i)}))}function CA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(y0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),S0(t))}function _E(t,e,n){for(const i of n)i instanceof EA?(t.Ru.addReference(i.key,e),$O(t,i)):i instanceof TA?(pe(T0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||CA(t,i.key)):Re(19791,{wu:i})}function $O(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(pe(T0,"New document in limbo: "+n),t.Eu.add(i),S0(t))}function S0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(Tt.fromString(e)),i=t.fu.next();t.Au.set(i,new PO(n)),t.du=t.du.insert(n,i),mA(t.remoteStore,new ea(ki(o0(n.path)),i,"TargetPurposeLimboResolution",Vf.ce))}}async function Ku(t,e,n){const i=Le(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{c.push(i.pu(f,e,n).then((p=>{var b;if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:(b=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:b.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=p0.As(f.targetId,p);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,p){const b=Le(f);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>re.forEach(p,(x=>re.forEach(x.Es,(A=>b.persistence.referenceDelegate.addReference(v,x.targetId,A))).next((()=>re.forEach(x.ds,(A=>b.persistence.referenceDelegate.removeReference(v,x.targetId,A)))))))))}catch(v){if(!Ul(v))throw v;pe(g0,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const A=b.Ms.get(x),I=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(I);b.Ms=b.Ms.insert(x,M)}}})(i.localStore,l))}async function KO(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){pe(T0,"User change. New user:",e.toKey());const i=await uA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new me(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ku(n,i.Ls)}}function XO(t,e){const n=Le(t),i=n.Au.get(e);if(i&&i.hu)return We().add(i.key);{let a=We();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function NA(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FO.bind(null,e),e.Pu.H_=IO.bind(null,e.eventManager),e.Pu.yu=DO.bind(null,e.eventManager),e}function YO(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GO.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JV(this.persistence,new QV,e.initialUser,this.serializer)}Cu(e){return new cA(m0.mi,this.serializer)}Du(e){return new aO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class QO extends _f{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof bf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new PV(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new cA((i=>bf.mi(i,n)),this.serializer)}}class uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KO.bind(null,this.syncEngine),await RO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NO})()}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),i=(function(l){return new dO(l)})(e.databaseInfo);return(function(l,c,d,f){return new pO(l,c,d,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new yO(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>vE(this.syncEngine,n,0)),(function(){return fE.v()?new fE:new oO})())}createSyncEngine(e,n){return(function(a,l,c,d,f,p,b){const v=new VO(a,l,c,d,f,p);return b&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Le(a);pe(mo,"RemoteStore shutting down."),l.Ea.add(5),await $u(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class ZO{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=t0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{pe(da,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(pe(da,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=w0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function yg(t,e){t.asyncQueue.verifyOperationInProgress(),pe(da,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await uA(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WO(t);pe(da,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>pE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>pE(e.remoteStore,a))),t._onlineComponents=e}async function WO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(da,"Using user provided OfflineComponentProvider");try{await yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Sl("Error using user provided cache. Falling back to memory cache: "+n),await yg(t,new _f)}}else pe(da,"Using default OfflineComponentProvider"),await yg(t,new QO(void 0));return t._offlineComponents}async function DA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(da,"Using user provided OnlineComponentProvider"),await xE(t,t._uninitializedComponentsProvider._online)):(pe(da,"Using default OnlineComponentProvider"),await xE(t,new uy))),t._onlineComponents}function JO(t){return DA(t).then((e=>e.syncEngine))}async function MA(t){const e=await DA(t),n=e.eventManager;return n.onListen=OO.bind(null,e.syncEngine),n.onUnlisten=UO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BO.bind(null,e.syncEngine),n}function e4(t,e,n={}){const i=new ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const b=new IA({next:x=>{b.Nu(),c.enqueueAndForget((()=>xA(l,v)));const A=x.docs.has(d);!A&&x.fromCache?p.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&f&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new wA(o0(d.path),b,{includeMetadataChanges:!0,qa:!0});return _A(l,v)})(await MA(t),t.asyncQueue,e,n,i))),i.promise}function t4(t,e,n={}){const i=new ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const b=new IA({next:x=>{b.Nu(),c.enqueueAndForget((()=>xA(l,v))),x.fromCache&&f.source==="server"?p.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new wA(d,b,{includeMetadataChanges:!0,qa:!0});return _A(l,v)})(await MA(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firestore.googleapis.com",EE=!0;class TE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PA,this.ssl=EE}else this.host=e.host,this.ssl=e.ssl??EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MV)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new oP;switch(i.type){case"firstParty":return new dP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=wE.get(n);i&&(pe("ComponentProvider","Removing Datastore"),wE.delete(n),i.terminate())})(this),Promise.resolve()}}function n4(t,e,n,i={}){var p;t=Mi(t,Kf);const a=Pl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(S1(`https://${d}`),A1("Firestore",!0)),l.host!==PA&&l.host!==d&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:i};if(!lo(f,c)&&(t._setSettings(f),i.mockUserToken)){let b,v;if(typeof i.mockUserToken=="string")b=i.mockUserToken,v=In.MOCK_USER;else{b=yI(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new In(x)}t._authCredentials=new lP(new _S(b,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Kt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Fu(n,Kt._jsonSchema))return new Kt(e,i||null,new Ee(Tt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:an("string",Kt._jsonSchemaVersion),referencePath:an("string")};class ra extends va{constructor(e,n,i){super(e,n,o0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ee(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function Ch(t,e,...n){if(t=bn(t),xS("collection","path",e),t instanceof Kf){const i=Tt.fromString(e,...n);return Ow(i),new ra(t,null,i)}{if(!(t instanceof Kt||t instanceof ra))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tt.fromString(e,...n));return Ow(i),new ra(t.firestore,null,i)}}function Ei(t,e,...n){if(t=bn(t),arguments.length===1&&(e=t0.newId()),xS("doc","path",e),t instanceof Kf){const i=Tt.fromString(e,...n);return Vw(i),new Kt(t,null,new Ee(i))}{if(!(t instanceof Kt||t instanceof ra))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tt.fromString(e,...n));return Vw(i),new Kt(t.firestore,t instanceof ra?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class AE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hA(this,"async_queue_retry"),this._c=()=>{const i=gg();i&&pe(SE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;pe(SE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",kE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=x0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fl extends Kf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new AE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AE(e),this._firestoreClient=void 0,await e}}}function s4(t,e){const n=typeof t=="object"?t:N1(),i=typeof t=="string"?t:df,a=Gy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=pI("firestore");l&&n4(a,...l)}return a}function A0(t){if(t._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i4(t),t._firestoreClient}function i4(t){var i,a,l;const e=t._freezeSettings(),n=(function(d,f,p,b){return new RP(d,f,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,jA(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(kn.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cs(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,Cs._jsonSchema))return Cs.fromBase64String(e.bytes)}}Cs._jsonSchemaVersion="firestore/bytes/1.0",Cs._jsonSchema={type:an("string",Cs._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:an("string",Ci._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ni(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:an("string",Ni._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^__.*__$/;class a4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class VA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ba(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:t})}}class R0{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new R0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OA(this.Ac)&&r4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class o4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hf(e)}Cc(e,n,i,a=!1){return new R0({Ac:e,methodName:n,Dc:i,path:An.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C0(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new o4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l4(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);N0("Data must be an object, but it was:",c,i);const d=LA(i,c);let f,p;if(l.merge)f=new ds(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const v of l.mergeFields){const x=dy(e,v,n);if(!c.contains(x))throw new me(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);UA(b,x)||b.push(x)}f=new ds(b),p=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=c.fieldTransforms;return new a4(new Qn(d),f,p)}class Yf extends k0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}function c4(t,e,n,i){const a=t.Cc(1,e,n);N0("Data must be an object, but it was:",a,i);const l=[],c=Qn.empty();ya(i,((f,p)=>{const b=I0(e,f,n);p=bn(p);const v=a.yc(b);if(p instanceof Yf)l.push(b);else{const x=Xu(p,v);x!=null&&(l.push(b),c.set(b,x))}}));const d=new ds(l);return new VA(c,d,a.fieldTransforms)}function u4(t,e,n,i,a,l){const c=t.Cc(1,e,n),d=[dy(e,i,n)],f=[a];if(l.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(dy(e,l[x])),f.push(l[x+1]);const p=[],b=Qn.empty();for(let x=d.length-1;x>=0;--x)if(!UA(p,d[x])){const A=d[x];let I=f[x];I=bn(I);const M=c.yc(A);if(I instanceof Yf)p.push(A);else{const P=Xu(I,M);P!=null&&(p.push(A),b.set(A,P))}}const v=new ds(p);return new VA(b,v,c.fieldTransforms)}function d4(t,e,n,i=!1){return Xu(n,t.Cc(i?4:3,e))}function Xu(t,e){if(zA(t=bn(t)))return N0("Unsupported field value:",e,t),LA(t,e);if(t instanceof k0)return(function(i,a){if(!OA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let f=Xu(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Rt.fromDate(i);return{timestampValue:yf(a.serializer,l)}}if(i instanceof Rt){const l=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yf(a.serializer,l)}}if(i instanceof Ci)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cs)return{bytesValue:tA(a.serializer,i._byteString)};if(i instanceof Kt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:h0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ni)return(function(c,d){return{mapValue:{fields:{[NS]:{stringValue:IS},[hf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return l0(d.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Pf(i)}`)})(t,e)}function LA(t,e){const n={};return TS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(t,((i,a)=>{const l=Xu(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function zA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Ci||t instanceof Cs||t instanceof Kt||t instanceof k0||t instanceof Ni)}function N0(t,e,n){if(!zA(n)||!wS(n)){const i=Pf(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function dy(t,e,n){if((e=bn(e))instanceof Xf)return e._internalPath;if(typeof e=="string")return I0(t,e);throw xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const h4=new RegExp("[~\\*/\\[\\]]");function I0(t,e,n){if(e.search(h4)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xf(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new me(ne.INVALID_ARGUMENT,d+t+f)}function UA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f4 extends BA{data(){return super.data()}}function Qf(t,e){return typeof e=="string"?I0(t,e):e instanceof Xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}class M0 extends D0{}function bg(t,e,...n){let i=[];e instanceof D0&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof j0)).length,d=l.filter((f=>f instanceof Zf)).length;if(c>1||c>0&&d>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Zf extends M0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Zf(e,n,i)}_apply(e){const n=this._parse(e);return qA(e._query,n),new va(e.firestore,e.converter,ty(e._query,n))}_parse(e){const n=C0(e.firestore);return(function(l,c,d,f,p,b,v){let x;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){NE(v,b);const I=[];for(const M of v)I.push(CE(f,l,M));x={arrayValue:{values:I}}}else x=CE(f,l,v)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||NE(v,b),x=d4(d,c,v,b==="in"||b==="not-in");return rn.create(p,b,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function p4(t,e,n){const i=e,a=Qf("where",t);return Zf._create(a,i,n)}class j0 extends D0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)qA(c,f),c=ty(c,f)})(e._query,n),new va(e.firestore,e.converter,ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P0 extends M0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new P0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ku(l,c)})(e._query,this._field,this._direction);return new va(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Bl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function RE(t,e="asc"){const n=e,i=Qf("orderBy",t);return P0._create(i,n)}class V0 extends M0{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new V0(e,n,i)}_apply(e){return new va(e.firestore,e.converter,mf(e._query,this._limit,this._limitType))}}function g4(t){return V0._create("limit",t,"F")}function CE(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Tt.fromString(n));if(!Ee.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gw(t,new Ee(i))}if(n instanceof Kt)return Gw(t,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function NE(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y4{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ya(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,a,l;const n=(l=(a=(i=e.fields)==null?void 0:i[hf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>$t(c.doubleValue)));return new Ni(n)}convertGeoPoint(e){return new Ci($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Lf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Tt.fromString(e);dt(oA(i),9688,{name:e});const a=new Su(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(n)||ur(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends BA{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Qf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:an("string",ro._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Yh extends ro{data(e={}){return super.data(e)}}class wl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new au(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Yh(this._firestore,this._userDataWriter,i.key,i,new au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Yh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Yh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,b=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),b=c.indexOf(d.doc.key)),{type:v4(d.type),doc:f,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){t=Mi(t,Kt);const e=Mi(t.firestore,Fl);return e4(A0(e),t._key).then((n=>x4(e,t,n)))}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:an("string",wl._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class FA extends y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function vg(t){t=Mi(t,va);const e=Mi(t.firestore,Fl),n=A0(e),i=new FA(e);return m4(t._query),t4(n,t._query).then((a=>new wl(e,i,t,a)))}function HA(t,e,n){t=Mi(t,Kt);const i=Mi(t.firestore,Fl),a=b4(t.converter,e);return O0(i,[l4(C0(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Zs.none())])}function ul(t,e,n,...i){t=Mi(t,Kt);const a=Mi(t.firestore,Fl),l=C0(a);let c;return c=typeof(e=bn(e))=="string"||e instanceof Xf?u4(l,"updateDoc",t._key,e,n,i):c4(l,"updateDoc",t._key,e),O0(a,[c.toMutation(t._key,Zs.exists(!0))])}function _4(t){return O0(Mi(t.firestore,Fl),[new c0(t._key,Zs.none())])}function O0(t,e){return(function(i,a){const l=new ar;return i.asyncQueue.enqueueAndForget((async()=>qO(await JO(i),a,l))),l.promise})(A0(t),e)}function x4(t,e,n){const i=n.docs.get(e._key),a=new FA(t);return new ro(t,a,e._key,i,new au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ll=a})(Vl),Tl(new co("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Fl(new cP(i.getProvider("auth-internal")),new hP(c,i.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(p.options.projectId,b)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),sa(Dw,Mw,e),sa(Dw,Mw,"esm2020")})();const w4={apiKey:"AIzaSyCJLR0gKSrzN3VCyZ74AeAFL82WuMI0Z0k",authDomain:"zenbaki-osoak-2dbh.firebaseapp.com",projectId:"zenbaki-osoak-2dbh",storageBucket:"zenbaki-osoak-2dbh.firebasestorage.app",messagingSenderId:"402362957412",appId:"1:402362957412:web:b89a1b9e802426ae74e971"},GA=C1(w4),Nh=rP(GA),us=s4(GA),un={theory_intro:50,theory_operations:50,theory_multiplication:50,theory_powers:50,theory_advanced:50,ordering_easy:100,ordering_medium:150,ordering_hard:200,addition_easy:100,addition_medium:150,addition_hard:200,subtraction_easy:100,subtraction_medium:150,subtraction_hard:200,multiplication_easy:100,multiplication_medium:150,multiplication_hard:200,division_easy:100,division_medium:150,division_hard:200,powers_easy:100,powers_medium:150,powers_hard:200,roots_easy:100,roots_medium:150,roots_hard:200,combined_easy:100,combined_medium:150,combined_hard:200,mixed_easy:150,mixed_medium:250,mixed_hard:500},$A=[{id:"first_steps",title:"Lehen Urratsak",description:"Lortu zure lehenengo 100 XP.",icon:"footprint",xpReward:50,condition:t=>t.xp>=100},{id:"streak_5",title:"Beroketa (5 Egun)",description:"Mantendu 5 eguneko erratxa.",icon:"local_fire_department",xpReward:100,condition:t=>t.streak>=5},{id:"streak_10",title:"Sutan (10 Egun)",description:"Mantendu 10 eguneko erratxa.",icon:"whatshot",xpReward:300,condition:t=>t.streak>=10},{id:"streak_20",title:"Geldiezin (20 Egun)",description:"Mantendu 20 eguneko erratxa.",icon:"volcano",xpReward:1e3,condition:t=>t.streak>=20},{id:"level_5",title:"Ikasle Aurreratua",description:"Iritsi 5. Mailara.",icon:"school",xpReward:250,condition:t=>t.level>=5},{id:"level_10",title:"Matematika Maisua",description:"Iritsi 10. Mailara.",icon:"military_tech",xpReward:1e3,condition:t=>t.level>=10},{id:"level_20",title:"Zenbakien Jainkoa",description:"Iritsi 20. Mailara.",icon:"auto_awesome",xpReward:5e3,condition:t=>t.level>=20},{id:"ord_bronze",title:"Ordenatzaile (Bronce)",description:"200 XP Ordenan.",icon:"sort",xpReward:50,condition:t=>xt(t,"ordering")>=200},{id:"ord_silver",title:"Ordenatzaile (Plata)",description:"500 XP Ordenan.",icon:"sort",xpReward:150,condition:t=>xt(t,"ordering")>=500},{id:"ord_gold",title:"Ordenatzaile (Oro)",description:"1000 XP Ordenan.",icon:"sort",xpReward:300,condition:t=>xt(t,"ordering")>=1e3},{id:"add_bronze",title:"Batzaile (Bronce)",description:"200 XP Batuketetan.",icon:"add_circle",xpReward:50,condition:t=>xt(t,"addition")>=200},{id:"add_silver",title:"Batzaile (Plata)",description:"500 XP Batuketetan.",icon:"add_circle",xpReward:150,condition:t=>xt(t,"addition")>=500},{id:"add_gold",title:"Batzaile (Oro)",description:"1000 XP Batuketetan.",icon:"add_circle",xpReward:300,condition:t=>xt(t,"addition")>=1e3},{id:"sub_bronze",title:"Kentzaile (Bronce)",description:"200 XP Kenketetan.",icon:"remove_circle",xpReward:50,condition:t=>xt(t,"subtraction")>=200},{id:"sub_silver",title:"Kentzaile (Plata)",description:"500 XP Kenketetan.",icon:"remove_circle",xpReward:150,condition:t=>xt(t,"subtraction")>=500},{id:"sub_gold",title:"Kentzaile (Oro)",description:"1000 XP Kenketetan.",icon:"remove_circle",xpReward:300,condition:t=>xt(t,"subtraction")>=1e3},{id:"mul_bronze",title:"Biderkatzaile (Bronce)",description:"200 XP Biderketetan.",icon:"close",xpReward:50,condition:t=>xt(t,"multiplication")>=200},{id:"mul_silver",title:"Biderkatzaile (Plata)",description:"500 XP Biderketetan.",icon:"close",xpReward:150,condition:t=>xt(t,"multiplication")>=500},{id:"mul_gold",title:"Biderkatzaile (Oro)",description:"1000 XP Biderketetan.",icon:"close",xpReward:300,condition:t=>xt(t,"multiplication")>=1e3},{id:"div_bronze",title:"Zatitzaile (Bronce)",description:"200 XP Zatiketetan.",icon:"percent",xpReward:50,condition:t=>xt(t,"division")>=200},{id:"div_silver",title:"Zatitzaile (Plata)",description:"500 XP Zatiketetan.",icon:"percent",xpReward:150,condition:t=>xt(t,"division")>=500},{id:"div_gold",title:"Zatitzaile (Oro)",description:"1000 XP Zatiketetan.",icon:"percent",xpReward:300,condition:t=>xt(t,"division")>=1e3},{id:"pow_bronze",title:"Potentzia (Bronce)",description:"200 XP Berreketetan.",icon:"expand_less",xpReward:50,condition:t=>xt(t,"powers")>=200},{id:"pow_silver",title:"Potentzia (Plata)",description:"500 XP Berreketetan.",icon:"expand_less",xpReward:150,condition:t=>xt(t,"powers")>=500},{id:"pow_gold",title:"Potentzia (Oro)",description:"1000 XP Berreketetan.",icon:"expand_less",xpReward:300,condition:t=>xt(t,"powers")>=1e3},{id:"roo_bronze",title:"Erro (Bronce)",description:"200 XP Erroetan.",icon:"check",xpReward:50,condition:t=>xt(t,"roots")>=200},{id:"roo_silver",title:"Erro (Plata)",description:"500 XP Erroetan.",icon:"check",xpReward:150,condition:t=>xt(t,"roots")>=500},{id:"roo_gold",title:"Erro (Oro)",description:"1000 XP Erroetan.",icon:"check",xpReward:300,condition:t=>xt(t,"roots")>=1e3},{id:"com_bronze",title:"Konbinatu (Bronce)",description:"200 XP Konbinatuetan.",icon:"function",xpReward:50,condition:t=>xt(t,"combined")>=200},{id:"com_silver",title:"Konbinatu (Plata)",description:"500 XP Konbinatuetan.",icon:"function",xpReward:150,condition:t=>xt(t,"combined")>=500},{id:"com_gold",title:"Konbinatu (Oro)",description:"1000 XP Konbinatuetan.",icon:"function",xpReward:300,condition:t=>xt(t,"combined")>=1e3},{id:"mix_bronze",title:"Expertua (Bronce)",description:"200 XP Mistoan.",icon:"psychology",xpReward:50,condition:t=>xt(t,"mixed")>=200},{id:"mix_silver",title:"Expertua (Plata)",description:"500 XP Mistoan.",icon:"psychology",xpReward:150,condition:t=>xt(t,"mixed")>=500},{id:"mix_gold",title:"Expertua (Oro)",description:"1000 XP Mistoan.",icon:"psychology",xpReward:300,condition:t=>xt(t,"mixed")>=1e3}],IE=[{id:"avatar_wolf",type:"avatar",name:"Otsoa",description:"Otsoaren indarra zure perfilerako.",price:100,icon:"pets",previewUrl:"https://ui-avatars.com/api/?name=Wolf&background=374151&color=fff"},{id:"avatar_eagle",type:"avatar",name:"Arranoa",description:"Arranoaren ikusmena.",price:150,icon:"flight",previewUrl:"https://ui-avatars.com/api/?name=Eagle&background=b91c1c&color=fff"},{id:"avatar_bear",type:"avatar",name:"Hartza",description:"Hartzaren sendotasuna.",price:200,icon:"forest",previewUrl:"https://ui-avatars.com/api/?name=Bear&background=15803d&color=fff"},{id:"frame_gold",type:"frame",name:"Urrezko Markoa",description:"Distira berezia zure abatarrentzat.",price:500,icon:"crop_square",requiresLevel:5},{id:"frame_neon",type:"frame",name:"Neon Markoa",description:"Etorkizuneko estiloa.",price:800,icon:"blur_on",requiresLevel:10},{id:"theme_dark_matrix",type:"theme",name:"Matrix Gaia",description:"Kodearen munduan sartu.",price:1e3,icon:"terminal",requiresLevel:15}],xt=(t,e)=>{let n=0;for(const i in t.gameXp)i.startsWith(e)&&(n+=t.gameXp[i]);return n},DE=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(t){return console.error("Error fetching IP",t),"unknown"}},E4=()=>{const t=[],e=[50,100,200][Math.floor(Math.random()*3)];t.push({id:`xp_${Date.now()}`,type:"xp",description:`Lortu ${e} XP gaur.`,target:e,progress:0,reward:Math.floor(e/5),completed:!1});const n=[1,3,5][Math.floor(Math.random()*3)];return t.push({id:`games_${Date.now()}`,type:"games",description:`Jolastu ${n} jolas.`,target:n,progress:0,reward:n*10+20,completed:!1}),Math.random()>.5?t.push({id:`theory_${Date.now()}`,type:"theory",description:"Osatu teoria lezio bat edo errepasatu.",target:1,progress:0,reward:50,completed:!1}):t.push({id:`xp_hard_${Date.now()}`,type:"xp",description:"Lortu 300 XP guztira.",target:300,progress:0,reward:100,completed:!1}),t},T4=t=>{const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString();(!t.lastMissionDate||new Date(t.lastMissionDate).getDate()!==e.getDate())&&(t.missions=E4(),t.lastMissionDate=n);const i=new Date(t.lastLoginDate),a=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),l=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),c=1440*60*1e3;return l>a&&(l-a===c?t.streak+=1:l-a>c&&(t.streak=1)),t.lastLoginDate=e.toISOString(),t},eo={login:async(t,e)=>{const i=(await HM(Nh,t,e)).user.uid,a=Ei(us,"users",i),l=await hl(a);if(l.exists()){let c=l.data();const d=await DE(),f=c.streak;return c=T4(c),(f!==c.streak||c.lastLoginDate!==l.data().lastLoginDate||c.lastIp!==d||c.missions!==l.data().missions)&&(await ul(a,{streak:c.streak,lastLoginDate:c.lastLoginDate,lastIp:d,missions:c.missions,lastMissionDate:c.lastMissionDate}),c.lastIp=d),c.coins===void 0&&(c.coins=0),c.inventory||(c.inventory=[]),c}else throw new Error("Erabiltzailearen datuak ez dira aurkitu.")},loginAsGuest:async()=>({uid:"guest_"+Date.now(),email:"guest@zoa.eus",displayName:"Gonbidatua",photoURL:"https://ui-avatars.com/api/?name=Guest&background=e2e8f0&color=64748b",xp:0,level:1,streak:0,lastLoginDate:new Date().toISOString(),completedLessons:[],gameXp:{},unlockedAchievements:[],coins:50,inventory:[]}),register:async(t,e,n)=>{const a=(await FM(Nh,t,e)).user.uid,l={uid:a,email:t,displayName:n,photoURL:`https://ui-avatars.com/api/?name=${n}&background=136dec&color=fff`,xp:0,level:1,streak:1,lastLoginDate:new Date().toISOString(),lastIp:await DE(),completedLessons:[],gameXp:{},unlockedAchievements:[],isAdmin:t==="admin@zoa.eus",coins:50,inventory:[]};return await HA(Ei(us,"users",a),l),l},logout:async()=>{await XM(Nh)},onAuthStateChanged:t=>KM(Nh,t),getUserProfile:async t=>{const e=Ei(us,"users",t),n=await hl(e);if(n.exists()){const i=n.data();return{...i,coins:i.coins||0,inventory:i.inventory||[]}}return null}},hs={updateUserProgress:async(t,e,n)=>{const i=Ei(us,"users",t),a=await hl(i);if(!a.exists())throw new Error("User not found");const l=a.data();l.gameXp||(l.gameXp={}),l.unlockedAchievements||(l.unlockedAchievements=[]),l.coins===void 0&&(l.coins=0);let c=0;const d=l.gameXp[n]||0;let f=0;if(e>=0){const b=un[n]||9999,v=Math.max(0,b-d);c=Math.min(e,v),c>0&&(l.xp+=c,l.gameXp[n]=d+c,n.startsWith("theory_")&&!l.completedLessons.includes(n)&&(l.completedLessons.push(n),f+=50),f+=Math.floor(c/5))}else{const b=Math.abs(e),v=Math.min(b,d);v>0&&(l.gameXp[n]=d-v,l.xp=Math.max(0,l.xp-v)),c=-v}l.coins+=f;const p=[];return c>=0&&(l.level=Math.floor(l.xp/500)+1,$A.forEach(b=>{l.unlockedAchievements.includes(b.id)||b.condition(l)&&(l.unlockedAchievements.push(b.id),l.xp+=b.xpReward,l.coins+=100,l.level=Math.floor(l.xp/500)+1,p.push(b))})),l.missions&&l.missions.forEach(b=>{if(b.completed)return;let v=!1;b.type==="xp"&&c>0&&(b.progress+=c,v=!0),b.type==="theory"&&n.startsWith("theory_")&&c>0&&(b.progress+=1,v=!0),b.type==="games"&&!n.startsWith("theory_")&&c>0&&(b.progress+=1,v=!0),v&&b.progress>=b.target&&(b.completed=!0,l.coins+=b.reward)}),await ul(i,{xp:l.xp,level:l.level,gameXp:l.gameXp,completedLessons:l.completedLessons,unlockedAchievements:l.unlockedAchievements,coins:l.coins,missions:l.missions}),{user:l,actualXpAdded:c,newAchievements:p}},async startSession(t,e){const n=Ch(us,"sessions"),i=Ei(n),a={id:i.id,userId:t,startTime:new Date().toISOString(),deviceInfo:e,ip:"unknown",sectionsVisited:{}};return await HA(i,a),i.id},async updateSession(t,e){const n=Ei(us,"sessions",t);await ul(n,{sectionsVisited:e})},async endSession(t,e){const n=Ei(us,"sessions",t),i=await hl(n);if(i.exists()){const a=i.data(),l=new Date(a.startTime).getTime(),c=new Date,d=Math.floor((c.getTime()-l)/1e3);await ul(n,{endTime:c.toISOString(),duration:d,sectionsVisited:e})}},async getUserSessions(t){const e=Ch(us,"sessions"),n=bg(e,p4("userId","==",t));return(await vg(n)).docs.map(l=>l.data()).sort((l,c)=>new Date(c.startTime).getTime()-new Date(l.startTime).getTime())},async getUserAnalytics(t){const e=await this.getUserSessions(t);if(e.length===0)return{userId:t,totalTime:0,totalSessions:0,lastSessionDate:new Date().toISOString(),popularSections:{}};const n=e.reduce((a,l)=>a+(l.duration||0),0),i={};return e.forEach(a=>{const l=a.sectionsVisited||{};Object.entries(l).forEach(([c,d])=>{d>5&&(i[c]=(i[c]||0)+1)})}),{userId:t,totalTime:n,totalSessions:e.length,lastSessionDate:e[0].startTime,popularSections:i}},updateProfile:async(t,e)=>{const n=Ei(us,"users",t);return await ul(n,e),(await hl(n)).data()},getLeaderboard:async()=>{const t=bg(Ch(us,"users"),RE("xp","desc"),g4(10)),e=await vg(t),n=[];return e.forEach(i=>{n.push(i.data())}),n},getAllUsers:async()=>{const t=bg(Ch(us,"users"),RE("lastLoginDate","desc")),e=await vg(t),n=[];return e.forEach(i=>{n.push(i.data())}),n},kickUser:async t=>{await _4(Ei(us,"users",t))},buyItem:async(t,e)=>{const n=Ei(us,"users",t),i=await hl(n);if(!i.exists())return{success:!1,message:"Erabiltzailea ez da aurkitu"};const a=i.data(),l=a.inventory||[],c=a.coins||0;if(l.includes(e.id))return{success:!1,message:"Dagoeneko baduzu item hau!"};if(c<e.price)return{success:!1,message:"Ez duzu txanpon nahikorik."};const d=c-e.price,f=[...l,e.id];return await ul(n,{coins:d,inventory:f}),{success:!0,message:"Erosketa osatuta!",newUser:{...a,coins:d,inventory:f}}}},KA=N.createContext(void 0),S4=({children:t})=>{const[e,n]=N.useState([]),i=N.useCallback((l,c)=>{const d=Date.now().toString()+Math.random().toString().slice(2,8);n(f=>[...f,{id:d,type:l,message:c}]),setTimeout(()=>{n(f=>f.filter(p=>p.id!==d))},3e3)},[]),a=N.useCallback(l=>{n(c=>c.filter(d=>d.id!==l))},[]);return g.jsx(KA.Provider,{value:{addToast:i,removeToast:a,toasts:e},children:t})},Hl=()=>{const t=N.useContext(KA);if(t===void 0)throw new Error("useToast must be used within an ToastProvider");return t},XA=N.createContext(void 0),A4=({children:t})=>{const[e,n]=N.useState(null),[i,a]=N.useState(!0),[l,c]=N.useState([]),{addToast:d}=Hl();N.useEffect(()=>{const A=eo.onAuthStateChanged(async I=>{if(I)try{const M=await eo.getUserProfile(I.uid);n(M||null)}catch(M){console.error("Error fetching profile",M),n(null)}else n(null);a(!1)});return()=>A()},[]);const f=async(A,I)=>{const M=await eo.login(A,I);n(M)},p=async()=>{const A=await eo.loginAsGuest();n(A)},b=async(A,I,M)=>{const P=await eo.register(A,I,M);n(P)},v=async()=>{await eo.logout(),n(null)},x=async(A,I)=>{if(!e||e.uid.startsWith("guest_"))return 0;try{const{user:M,actualXpAdded:P,newAchievements:U}=await hs.updateUserProgress(e.uid,A,I);return n(M),U&&U.length>0&&c(U),P}catch(M){return console.error("XP Error",M),0}};return g.jsxs(XA.Provider,{value:{user:e,loading:i,login:f,loginAsGuest:p,register:b,logout:v,addXp:x},children:[!i&&t,l.length>0&&g.jsx(aI,{achievements:l,onClose:()=>c([])})]})},js=()=>{const t=N.useContext(XA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},L0=N.createContext({});function z0(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const U0=typeof window<"u",YA=U0?N.useLayoutEffect:N.useEffect,Wf=N.createContext(null);function B0(t,e){t.indexOf(e)===-1&&t.push(e)}function q0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hr=(t,e,n)=>n>e?e:n<t?t:n;let F0=()=>{};const fr={},QA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ZA(t){return typeof t=="object"&&t!==null}const WA=t=>/^0[^.\s]+$/u.test(t);function H0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ds=t=>t,k4=(t,e)=>n=>e(t(n)),Yu=(...t)=>t.reduce(k4),Nu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class G0{constructor(){this.subscriptions=[]}add(e){return B0(this.subscriptions,e),()=>q0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ii=t=>t*1e3,Is=t=>t/1e3;function JA(t,e){return e?t*(1e3/e):0}const ek=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,R4=1e-7,C4=12;function N4(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=ek(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>R4&&++d<C4);return c}function Qu(t,e,n,i){if(t===e&&n===i)return Ds;const a=l=>N4(l,0,1,t,n);return l=>l===0||l===1?l:ek(a(l),e,i)}const tk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nk=t=>e=>1-t(1-e),sk=Qu(.33,1.53,.69,.99),$0=nk(sk),ik=tk($0),rk=t=>(t*=2)<1?.5*$0(t):.5*(2-Math.pow(2,-10*(t-1))),K0=t=>1-Math.sin(Math.acos(t)),ak=nk(K0),ok=tk(K0),I4=Qu(.42,0,1,1),D4=Qu(0,0,.58,1),lk=Qu(.42,0,.58,1),M4=t=>Array.isArray(t)&&typeof t[0]!="number",ck=t=>Array.isArray(t)&&typeof t[0]=="number",j4={linear:Ds,easeIn:I4,easeInOut:lk,easeOut:D4,circIn:K0,circInOut:ok,circOut:ak,backIn:$0,backInOut:ik,backOut:sk,anticipate:rk},P4=t=>typeof t=="string",ME=t=>{if(ck(t)){F0(t.length===4);const[e,n,i,a]=t;return Qu(e,n,i,a)}else if(P4(t))return j4[t];return t},Ih=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V4(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(b){c.has(b)&&(p.schedule(b),t()),b(d)}const p={schedule:(b,v=!1,x=!1)=>{const I=x&&a?n:i;return v&&c.add(b),I.has(b)||I.add(b),b},cancel:b=>{i.delete(b),c.delete(b)},process:b=>{if(d=b,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(b))}};return p}const O4=40;function uk(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ih.reduce((F,le)=>(F[le]=V4(l),F),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:b,update:v,preRender:x,render:A,postRender:I}=c,M=()=>{const F=fr.useManualTiming?a.timestamp:performance.now();n=!1,fr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(F-a.timestamp,O4),1)),a.timestamp=F,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),b.process(a),v.process(a),x.process(a),A.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(M))},P=()=>{n=!0,i=!0,a.isProcessing||t(M)};return{schedule:Ih.reduce((F,le)=>{const ae=c[le];return F[le]=(ue,R=!1,T=!1)=>(n||P(),ae.schedule(ue,R,T)),F},{}),cancel:F=>{for(let le=0;le<Ih.length;le++)c[Ih[le]].cancel(F)},state:a,steps:c}}const{schedule:jt,cancel:ha,state:Tn,steps:_g}=uk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ds,!0);let Qh;function L4(){Qh=void 0}const Zn={now:()=>(Qh===void 0&&Zn.set(Tn.isProcessing||fr.useManualTiming?Tn.timestamp:performance.now()),Qh),set:t=>{Qh=t,queueMicrotask(L4)}},dk=t=>e=>typeof e=="string"&&e.startsWith(t),hk=dk("--"),z4=dk("var(--"),X0=t=>z4(t)?U4.test(t.split("/*")[0].trim()):!1,U4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Iu={...Gl,transform:t=>hr(0,1,t)},Dh={...Gl,default:1},mu=t=>Math.round(t*1e5)/1e5,Y0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B4(t){return t==null}const q4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Q0=(t,e)=>n=>!!(typeof n=="string"&&q4.test(n)&&n.startsWith(t)||e&&!B4(n)&&Object.prototype.hasOwnProperty.call(n,e)),fk=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(Y0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},F4=t=>hr(0,255,t),xg={...Gl,transform:t=>Math.round(F4(t))},so={test:Q0("rgb","red"),parse:fk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+xg.transform(t)+", "+xg.transform(e)+", "+xg.transform(n)+", "+mu(Iu.transform(i))+")"};function H4(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const hy={test:Q0("#"),parse:H4,transform:so.transform},Zu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yr=Zu("deg"),Di=Zu("%"),Ce=Zu("px"),G4=Zu("vh"),$4=Zu("vw"),jE={...Di,parse:t=>Di.parse(t)/100,transform:t=>Di.transform(t*100)},fl={test:Q0("hsl","hue"),parse:fk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Di.transform(mu(e))+", "+Di.transform(mu(n))+", "+mu(Iu.transform(i))+")"},sn={test:t=>so.test(t)||hy.test(t)||fl.test(t),parse:t=>so.test(t)?so.parse(t):fl.test(t)?fl.parse(t):hy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?so.transform(t):fl.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},K4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Y0))==null?void 0:e.length)||0)+(((n=t.match(K4))==null?void 0:n.length)||0)>0}const mk="number",pk="color",Y4="var",Q4="var(",PE="${}",Z4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(Z4,f=>(sn.test(f)?(i.color.push(l),a.push(pk),n.push(sn.parse(f))):f.startsWith(Q4)?(i.var.push(l),a.push(Y4),n.push(f)):(i.number.push(l),a.push(mk),n.push(parseFloat(f))),++l,PE)).split(PE);return{values:n,split:d,indexes:i,types:a}}function gk(t){return Du(t).values}function yk(t){const{split:e,types:n}=Du(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===mk?l+=mu(a[c]):d===pk?l+=sn.transform(a[c]):l+=a[c]}return l}}const W4=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function J4(t){const e=gk(t);return yk(t)(e.map(W4))}const fa={test:X4,parse:gk,createTransformer:yk,getAnimatableNone:J4};function wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function e3({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=wg(f,d,t+1/3),l=wg(f,d,t),c=wg(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function wf(t,e){return n=>n>0?e:t}const Vt=(t,e,n)=>t+(e-t)*n,Eg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},t3=[hy,so,fl],n3=t=>t3.find(e=>e.test(t));function VE(t){const e=n3(t);if(!e)return!1;let n=e.parse(t);return e===fl&&(n=e3(n)),n}const OE=(t,e)=>{const n=VE(t),i=VE(e);if(!n||!i)return wf(t,e);const a={...n};return l=>(a.red=Eg(n.red,i.red,l),a.green=Eg(n.green,i.green,l),a.blue=Eg(n.blue,i.blue,l),a.alpha=Vt(n.alpha,i.alpha,l),so.transform(a))},fy=new Set(["none","hidden"]);function s3(t,e){return fy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function i3(t,e){return n=>Vt(t,e,n)}function Z0(t){return typeof t=="number"?i3:typeof t=="string"?X0(t)?wf:sn.test(t)?OE:o3:Array.isArray(t)?bk:typeof t=="object"?sn.test(t)?OE:r3:wf}function bk(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Z0(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function r3(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Z0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function a3(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const o3=(t,e)=>{const n=fa.createTransformer(e),i=Du(t),a=Du(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?fy.has(t)&&!a.values.length||fy.has(e)&&!i.values.length?s3(t,e):Yu(bk(a3(i,a),a.values),n):wf(t,e)};function vk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):Z0(t)(t,e)}const l3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>jt.update(e,n),stop:()=>ha(e),now:()=>Tn.isProcessing?Tn.timestamp:Zn.now()}},_k=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ef=2e4;function W0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ef;)e+=n,i=t.next(e);return e>=Ef?1/0:e}function c3(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(W0(i),Ef);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Is(a)}}const u3=5;function xk(t,e,n){const i=Math.max(e-u3,0);return JA(n-t(i),e-i)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tg=.001;function d3({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:i=Bt.mass}){let a,l,c=1-e;c=hr(Bt.minDamping,Bt.maxDamping,c),t=hr(Bt.minDuration,Bt.maxDuration,Is(t)),c<1?(a=p=>{const b=p*c,v=b*t,x=b-n,A=my(p,c),I=Math.exp(-v);return Tg-x/A*I},l=p=>{const v=p*c*t,x=v*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,I=Math.exp(-v),M=my(Math.pow(p,2),c);return(-a(p)+Tg>0?-1:1)*((x-A)*I)/M}):(a=p=>{const b=Math.exp(-p*t),v=(p-n)*t+1;return-Tg+b*v},l=p=>{const b=Math.exp(-p*t),v=(n-p)*(t*t);return b*v});const d=5/t,f=f3(a,l,d);if(t=Ii(t),isNaN(f))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const h3=12;function f3(t,e,n){let i=n;for(let a=1;a<h3;a++)i=i-t(i)/e(i);return i}function my(t,e){return t*Math.sqrt(1-e*e)}const m3=["duration","bounce"],p3=["stiffness","damping","mass"];function LE(t,e){return e.some(n=>t[n]!==void 0)}function g3(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!LE(t,p3)&&LE(t,m3))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*hr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const n=d3(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function Tf(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:b,duration:v,velocity:x,isResolvedFromDuration:A}=g3({...n,velocity:-Is(n.velocity||0)}),I=x||0,M=p/(2*Math.sqrt(f*b)),P=c-l,U=Is(Math.sqrt(f/b)),Y=Math.abs(P)<5;i||(i=Y?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=Y?Bt.restDelta.granular:Bt.restDelta.default);let F;if(M<1){const ae=my(U,M);F=ue=>{const R=Math.exp(-M*U*ue);return c-R*((I+M*U*P)/ae*Math.sin(ae*ue)+P*Math.cos(ae*ue))}}else if(M===1)F=ae=>c-Math.exp(-U*ae)*(P+(I+U*P)*ae);else{const ae=U*Math.sqrt(M*M-1);F=ue=>{const R=Math.exp(-M*U*ue),T=Math.min(ae*ue,300);return c-R*((I+M*U*P)*Math.sinh(T)+ae*P*Math.cosh(T))/ae}}const le={calculatedDuration:A&&v||null,next:ae=>{const ue=F(ae);if(A)d.done=ae>=v;else{let R=ae===0?I:0;M<1&&(R=ae===0?Ii(I):xk(F,ae,ue));const T=Math.abs(R)<=i,C=Math.abs(c-ue)<=a;d.done=T&&C}return d.value=d.done?c:ue,d},toString:()=>{const ae=Math.min(W0(le),Ef),ue=_k(R=>le.next(ae*R).value,ae,30);return ae+"ms "+ue},toTransition:()=>{}};return le}Tf.applyToOptions=t=>{const e=c3(t,100,Tf);return t.ease=e.ease,t.duration=Ii(e.duration),t.type="keyframes",t};function py({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:b}){const v=t[0],x={done:!1,value:v},A=T=>d!==void 0&&T<d||f!==void 0&&T>f,I=T=>d===void 0?f:f===void 0||Math.abs(d-T)<Math.abs(f-T)?d:f;let M=n*e;const P=v+M,U=c===void 0?P:c(P);U!==P&&(M=U-v);const Y=T=>-M*Math.exp(-T/i),F=T=>U+Y(T),le=T=>{const C=Y(T),j=F(T);x.done=Math.abs(C)<=p,x.value=x.done?U:j};let ae,ue;const R=T=>{A(x.value)&&(ae=T,ue=Tf({keyframes:[x.value,I(x.value)],velocity:xk(F,T,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:b}))};return R(0),{calculatedDuration:null,next:T=>{let C=!1;return!ue&&ae===void 0&&(C=!0,le(T),R(T)),ae!==void 0&&T>=ae?ue.next(T-ae):(!C&&le(T),x)}}}function y3(t,e,n){const i=[],a=n||fr.mix||vk,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Ds:e;d=Yu(f,d)}i.push(d)}return i}function b3(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(F0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=y3(e,i,a),f=d.length,p=b=>{if(c&&b<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(b<t[v+1]);v++);const x=Nu(t[v],t[v+1],b);return d[v](x)};return n?b=>p(hr(t[0],t[l-1],b)):p}function v3(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Nu(0,e,i);t.push(Vt(n,1,a))}}function _3(t){const e=[0];return v3(e,t.length-1),e}function x3(t,e){return t.map(n=>n*e)}function w3(t,e){return t.map(()=>e||lk).splice(0,t.length-1)}function pu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=M4(i)?i.map(ME):ME(i),l={done:!1,value:e[0]},c=x3(n&&n.length===e.length?n:_3(e),t),d=b3(c,e,{ease:Array.isArray(a)?a:w3(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const E3=t=>t!==null;function J0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(E3),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const T3={decay:py,inertia:py,tween:pu,keyframes:pu,spring:Tf};function wk(t){typeof t.type=="string"&&(t.type=T3[t.type])}class eb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const S3=t=>t/100;class tb extends eb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Zn.now()&&this.tick(Zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wk(e);const{type:n=pu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||pu;f!==pu&&typeof d[0]!="number"&&(this.mixKeyframes=Yu(S3,vk(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=W0(p));const{calculatedDuration:b}=p;this.calculatedDuration=b,this.resolvedDuration=b+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:b,repeat:v,repeatType:x,repeatDelay:A,type:I,onUpdate:M,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,le=i;if(v){const T=Math.min(this.currentTime,a)/d;let C=Math.floor(T),j=T%1;!j&&T>=1&&(j=1),j===1&&C--,C=Math.min(C,v+1),!!(C%2)&&(x==="reverse"?(j=1-j,A&&(j-=A/d)):x==="mirror"&&(le=c)),F=hr(0,1,j)*d}const ae=Y?{done:!1,value:b[0]}:le.next(F);l&&(ae.value=l(ae.value));let{done:ue}=ae;!Y&&f!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return R&&I!==py&&(ae.value=J0(b,this.options,P,this.speed)),M&&M(ae.value),R&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Is(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Is(e)}get time(){return Is(this.currentTime)}set time(e){var n;e=Ii(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Is(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=l3,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function A3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const io=t=>t*180/Math.PI,gy=t=>{const e=io(Math.atan2(t[1],t[0]));return yy(e)},k3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gy,rotateZ:gy,skewX:t=>io(Math.atan(t[1])),skewY:t=>io(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},yy=t=>(t=t%360,t<0&&(t+=360),t),zE=gy,UE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),BE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),R3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UE,scaleY:BE,scale:t=>(UE(t)+BE(t))/2,rotateX:t=>yy(io(Math.atan2(t[6],t[5]))),rotateY:t=>yy(io(Math.atan2(-t[2],t[0]))),rotateZ:zE,rotate:zE,skewX:t=>io(Math.atan(t[4])),skewY:t=>io(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function by(t){return t.includes("scale")?1:0}function vy(t,e){if(!t||t==="none")return by(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=R3,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=k3,a=d}if(!a)return by(e);const l=i[e],c=a[1].split(",").map(N3);return typeof l=="function"?l(c):c[l]}const C3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vy(n,e)};function N3(t){return parseFloat(t.trim())}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kl=new Set($l),qE=t=>t===Gl||t===Ce,I3=new Set(["x","y","z"]),D3=$l.filter(t=>!I3.has(t));function M3(t){const e=[];return D3.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vy(e,"x"),y:(t,{transform:e})=>vy(e,"y")};ao.translateX=ao.x;ao.translateY=ao.y;const oo=new Set;let _y=!1,xy=!1,wy=!1;function Ek(){if(xy){const t=Array.from(oo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=M3(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xy=!1,_y=!1,oo.forEach(t=>t.complete(wy)),oo.clear()}function Tk(){oo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xy=!0)})}function j3(){wy=!0,Tk(),Ek(),wy=!1}class nb{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),_y||(_y=!0,jt.read(Tk),jt.resolveKeyframes(Ek))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}A3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P3=t=>t.startsWith("--");function V3(t,e,n){P3(e)?t.style.setProperty(e,n):t.style[e]=n}const O3=H0(()=>window.ScrollTimeline!==void 0),L3={};function z3(t,e){const n=H0(t);return()=>L3[e]??n()}const Sk=z3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ou=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,FE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function Ak(t,e){if(t)return typeof t=="function"?Sk()?_k(t,e):"ease-out":ck(t)?ou(t):Array.isArray(t)?t.map(n=>Ak(n,e)||FE.easeOut):FE[t]}function U3(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const b={[e]:n};f&&(b.offset=f);const v=Ak(d,a);Array.isArray(v)&&(b.easing=v);const x={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(b,x)}function kk(t){return typeof t=="function"&&"applyToOptions"in t}function B3({type:t,...e}){return kk(t)&&Sk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class q3 extends eb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,F0(typeof e.type!="string");const p=B3(e);this.animation=U3(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const b=J0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(b):V3(n,i,b),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Is(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Is(e)}get time(){return Is(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ii(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&O3()?(this.animation.timeline=e,Ds):n(this)}}const Rk={anticipate:rk,backInOut:ik,circInOut:ok};function F3(t){return t in Rk}function H3(t){typeof t.ease=="string"&&F3(t.ease)&&(t.ease=Rk[t.ease])}const HE=10;class G3 extends q3{constructor(e){H3(e),wk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new tb({...c,autoplay:!1}),f=Ii(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-HE).value,d.sample(f).value,HE),d.stop()}}const GE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fa.test(t)||t==="0")&&!t.startsWith("url("));function $3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function K3(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=GE(a,e),d=GE(l,e);return!c||!d?!1:$3(t)||(n==="spring"||kk(n))&&i}function Ey(t){t.duration=0,t.type="keyframes"}const X3=new Set(["opacity","clipPath","filter","transform"]),Y3=H0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q3(t){var b;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(((b=e==null?void 0:e.owner)==null?void 0:b.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return Y3()&&n&&X3.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Z3=40;class W3 extends eb{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:b,...v}){var I;super(),this.stop=()=>{var M,P;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Zn.now();const x={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:b,...v},A=(b==null?void 0:b.KeyframeResolver)||nb;this.keyframeResolver=new A(d,(M,P,U)=>this.onKeyframesResolved(M,P,x,!U),f,p,b),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:b}=i;this.resolvedAt=Zn.now(),K3(e,l,c,d)||((fr.instantAnimations||!f)&&(b==null||b(J0(e,i,n))),e[0]=e[e.length-1],Ey(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Z3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!p&&Q3(x)?new G3({...x,element:x.motionValue.owner.current}):new tb(x);A.finished.then(()=>this.notifyFinished()).catch(Ds),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),j3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const J3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function e5(t){const e=J3.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function Ck(t,e,n=1){const[i,a]=e5(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return QA(c)?parseFloat(c):c}return X0(a)?Ck(a,e,n+1):a}function sb(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Nk=new Set(["width","height","top","left","right","bottom",...$l]),t5={test:t=>t==="auto",parse:t=>t},Ik=t=>e=>e.test(t),Dk=[Gl,Ce,Di,Yr,$4,G4,t5],$E=t=>Dk.find(Ik(t));function n5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WA(t):!0}const s5=new Set(["brightness","contrast","saturate","opacity"]);function i5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Y0)||[];if(!i)return t;const a=n.replace(i,"");let l=s5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const r5=/\b([a-z-]*)\(.*?\)/gu,Ty={...fa,getAnimatableNone:t=>{const e=t.match(r5);return e?e.map(i5).join(" "):t}},KE={...Gl,transform:Math.round},a5={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:Yr,skewX:Yr,skewY:Yr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Iu,originX:jE,originY:jE,originZ:Ce},ib={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...a5,zIndex:KE,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:KE},o5={...ib,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Ty,WebkitFilter:Ty},Mk=t=>o5[t];function jk(t,e){let n=Mk(t);return n!==Ty&&(n=fa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const l5=new Set(["auto","none","0"]);function c5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!l5.has(l)&&Du(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=jk(n,a)}class u5 extends nb{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),X0(p))){const b=Ck(p,n.current);b!==void 0&&(e[f]=b),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Nk.has(i)||e.length!==2)return;const[a,l]=e,c=$E(a),d=$E(l);if(c!==d)if(qE(c)&&qE(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else ao[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||n5(e[a]))&&i.push(a);i.length&&c5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=ao[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function d5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Pk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Vk(t){return ZA(t)&&"offsetHeight"in t}const XE=30,h5=t=>!isNaN(parseFloat(t));class f5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=Zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=h5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G0);const i=this.events[e].add(n);return e==="change"?()=>{i(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XE);return JA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(t,e){return new f5(t,e)}const{schedule:rb}=uk(queueMicrotask,!1),Ys={x:!1,y:!1};function Ok(){return Ys.x||Ys.y}function m5(t){return t==="x"||t==="y"?Ys[t]?null:(Ys[t]=!0,()=>{Ys[t]=!1}):Ys.x||Ys.y?null:(Ys.x=Ys.y=!0,()=>{Ys.x=Ys.y=!1})}function Lk(t,e){const n=d5(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function YE(t){return!(t.pointerType==="touch"||Ok())}function p5(t,e,n={}){const[i,a,l]=Lk(t,n),c=d=>{if(!YE(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const b=v=>{YE(v)&&(p(v),f.removeEventListener("pointerleave",b))};f.addEventListener("pointerleave",b,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const zk=(t,e)=>e?t===e?!0:zk(t,e.parentElement):!1,ab=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,g5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y5(t){return g5.has(t.tagName)||t.tabIndex!==-1}const Zh=new WeakSet;function QE(t){return e=>{e.key==="Enter"&&t(e)}}function Sg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=QE(()=>{if(Zh.has(n))return;Sg(n,"down");const a=QE(()=>{Sg(n,"up")}),l=()=>Sg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function ZE(t){return ab(t)&&!Ok()}function v5(t,e,n={}){const[i,a,l]=Lk(t,n),c=d=>{const f=d.currentTarget;if(!ZE(d))return;Zh.add(f);const p=e(f,d),b=(A,I)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Zh.has(f)&&Zh.delete(f),ZE(A)&&typeof p=="function"&&p(A,{success:I})},v=A=>{b(A,f===window||f===document||n.useGlobalTarget||zk(f,A.target))},x=A=>{b(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Vk(d)&&(d.addEventListener("focus",p=>b5(p,a)),!y5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Uk(t){return ZA(t)&&"ownerSVGElement"in t}function _5(t){return Uk(t)&&t.tagName==="svg"}const jn=t=>!!(t&&t.getVelocity),x5=[...Dk,sn,fa],w5=t=>x5.find(Ik(t)),ob=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function WE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function E5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=WE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():WE(t[a],null)}}}}function T5(...t){return N.useCallback(E5(...t),t)}class S5 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=Vk(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function A5({children:t,isPresent:e,anchorX:n,root:i}){const a=N.useId(),l=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=N.useContext(ob),f=T5(l,t==null?void 0:t.ref);return N.useInsertionEffect(()=>{const{width:p,height:b,top:v,left:x,right:A}=c.current;if(e||!l.current||!p||!b)return;const I=n==="left"?`left: ${x}`:`right: ${A}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");d&&(M.nonce=d);const P=i??document.head;return P.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${b}px !important;
            ${I}px !important;
            top: ${v}px !important;
          }
        `),()=>{P.contains(M)&&P.removeChild(M)}},[e]),g.jsx(S5,{isPresent:e,childRef:l,sizeRef:c,children:N.cloneElement(t,{ref:f})})}const k5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const p=z0(R5),b=N.useId();let v=!0,x=N.useMemo(()=>(v=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const I of p.values())if(!I)return;i&&i()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,i]);return l&&v&&(x={...x}),N.useMemo(()=>{p.forEach((A,I)=>p.set(I,!1))},[n]),N.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),c==="popLayout"&&(t=g.jsx(A5,{isPresent:n,anchorX:d,root:f,children:t})),g.jsx(Wf.Provider,{value:x,children:t})};function R5(){return new Map}function Bk(t=!0){const e=N.useContext(Wf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Mh=t=>t.key||"";function JE(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const qk=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[p,b]=Bk(c),v=N.useMemo(()=>JE(t),[t]),x=c&&!p?[]:v.map(Mh),A=N.useRef(!0),I=N.useRef(v),M=z0(()=>new Map),[P,U]=N.useState(v),[Y,F]=N.useState(v);YA(()=>{A.current=!1,I.current=v;for(let ue=0;ue<Y.length;ue++){const R=Mh(Y[ue]);x.includes(R)?M.delete(R):M.get(R)!==!0&&M.set(R,!1)}},[Y,x.length,x.join("-")]);const le=[];if(v!==P){let ue=[...v];for(let R=0;R<Y.length;R++){const T=Y[R],C=Mh(T);x.includes(C)||(ue.splice(R,0,T),le.push(T))}return l==="wait"&&le.length&&(ue=le),F(JE(ue)),U(v),null}const{forceRender:ae}=N.useContext(L0);return g.jsx(g.Fragment,{children:Y.map(ue=>{const R=Mh(ue),T=c&&!p?!1:v===Y||x.includes(R),C=()=>{if(M.has(R))M.set(R,!0);else return;let j=!0;M.forEach(O=>{O||(j=!1)}),j&&(ae==null||ae(),F(I.current),c&&(b==null||b()),i&&i())};return g.jsx(k5,{isPresent:T,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:T?void 0:C,anchorX:d,children:ue},R)})})},Fk=N.createContext({strict:!1}),eT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dl={};for(const t in eT)Dl[t]={isEnabled:e=>eT[t].some(n=>!!e[n])};function C5(t){for(const e in t)Dl[e]={...Dl[e],...t[e]}}const N5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||N5.has(t)}let Hk=t=>!Sf(t);function I5(t){typeof t=="function"&&(Hk=e=>e.startsWith("on")?!Sf(e):t(e))}try{I5(require("@emotion/is-prop-valid").default)}catch{}function D5(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Hk(a)||n===!0&&Sf(a)||!e&&!Sf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Jf=N.createContext({});function em(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Mu(t){return typeof t=="string"||Array.isArray(t)}const lb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cb=["initial",...lb];function tm(t){return em(t.animate)||cb.some(e=>Mu(t[e]))}function Gk(t){return!!(tm(t)||t.variants)}function M5(t,e){if(tm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Mu(n)?n:void 0,animate:Mu(i)?i:void 0}}return t.inherit!==!1?e:{}}function j5(t){const{initial:e,animate:n}=M5(t,N.useContext(Jf));return N.useMemo(()=>({initial:e,animate:n}),[tT(e),tT(n)])}function tT(t){return Array.isArray(t)?t.join(" "):t}function nT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=nT(t,e.target.x),i=nT(t,e.target.y);return`${n}% ${i}%`}},P5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=fa.parse(t);if(a.length>5)return i;const l=fa.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const p=Vt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Sy={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:P5};function $k(t,{layout:e,layoutId:n}){return Kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sy[t]||t==="opacity")}const V5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O5=$l.length;function L5(t,e,n){let i="",a=!0;for(let l=0;l<O5;l++){const c=$l[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=Pk(d,ib[c]);if(!f){a=!1;const b=V5[c]||c;i+=`${b}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function ub(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Kl.has(f)){c=!0;continue}else if(hk(f)){a[f]=p;continue}else{const b=Pk(p,ib[f]);f.startsWith("origin")?(d=!0,l[f]=b):i[f]=b}}if(e.transform||(c||n?i.transform=L5(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:b=0}=l;i.transformOrigin=`${f} ${p} ${b}`}}const db=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kk(t,e,n){for(const i in e)!jn(e[i])&&!$k(i,n)&&(t[i]=e[i])}function z5({transformTemplate:t},e){return N.useMemo(()=>{const n=db();return ub(n,e,t),Object.assign({},n.vars,n.style)},[e])}function U5(t,e){const n=t.style||{},i={};return Kk(i,n,t),Object.assign(i,z5(t,e)),i}function B5(t,e){const n={},i=U5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const q5={offset:"stroke-dashoffset",array:"stroke-dasharray"},F5={offset:"strokeDashoffset",array:"strokeDasharray"};function H5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?q5:F5;t[l.offset]=Ce.transform(-i);const c=Ce.transform(e),d=Ce.transform(n);t[l.array]=`${c} ${d}`}function Xk(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,p,b){if(ub(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(b==null?void 0:b.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&H5(v,a,l,c,!1)}const Yk=()=>({...db(),attrs:{}}),Qk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G5(t,e,n,i){const a=N.useMemo(()=>{const l=Yk();return Xk(l,e,Qk(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Kk(l,t.style,t),a.style={...l,...a.style}}return a}const $5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hb(t){return typeof t!="string"||t.includes("-")?!1:!!($5.indexOf(t)>-1||/[A-Z]/u.test(t))}function K5(t,e,n,{latestValues:i},a,l=!1){const d=(hb(t)?G5:B5)(e,i,a,t),f=D5(e,typeof t=="string",l),p=t!==N.Fragment?{...f,...d,ref:n}:{},{children:b}=e,v=N.useMemo(()=>jn(b)?b.get():b,[b]);return N.createElement(t,{...p,children:v})}function sT(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function fb(t,e,n,i){if(typeof e=="function"){const[a,l]=sT(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=sT(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Wh(t){return jn(t)?t.get():t}function X5({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:Y5(n,i,a,t),renderState:e()}}function Y5(t,e,n,i){const a={},l=i(t,{});for(const x in l)a[x]=Wh(l[x]);let{initial:c,animate:d}=t;const f=tm(t),p=Gk(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let b=n?n.initial===!1:!1;b=b||c===!1;const v=b?d:c;if(v&&typeof v!="boolean"&&!em(v)){const x=Array.isArray(v)?v:[v];for(let A=0;A<x.length;A++){const I=fb(t,x[A]);if(I){const{transitionEnd:M,transition:P,...U}=I;for(const Y in U){let F=U[Y];if(Array.isArray(F)){const le=b?F.length-1:0;F=F[le]}F!==null&&(a[Y]=F)}for(const Y in M)a[Y]=M[Y]}}}return a}const Zk=t=>(e,n)=>{const i=N.useContext(Jf),a=N.useContext(Wf),l=()=>X5(t,e,i,a);return n?l():z0(l)};function mb(t,e,n){var l;const{style:i}=t,a={};for(const c in i)(jn(i[c])||e.style&&jn(e.style[c])||$k(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const Q5=Zk({scrapeMotionValuesFromProps:mb,createRenderState:db});function Wk(t,e,n){const i=mb(t,e,n);for(const a in t)if(jn(t[a])||jn(e[a])){const l=$l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const Z5=Zk({scrapeMotionValuesFromProps:Wk,createRenderState:Yk}),W5=Symbol.for("motionComponentSymbol");function ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function J5(t,e,n){return N.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ml(n)&&(n.current=i))},[e])}const pb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eL="framerAppearId",Jk="data-"+pb(eL),eR=N.createContext({});function tL(t,e,n,i,a){var M,P;const{visualElement:l}=N.useContext(Jf),c=N.useContext(Fk),d=N.useContext(Wf),f=N.useContext(ob).reducedMotion,p=N.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const b=p.current,v=N.useContext(eR);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&nL(p.current,n,a,v);const x=N.useRef(!1);N.useInsertionEffect(()=>{b&&x.current&&b.update(n,d)});const A=n[Jk],I=N.useRef(!!A&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,A))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,A)));return YA(()=>{b&&(x.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),I.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!I.current&&b.animationState&&b.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,A)}),I.current=!1),b.enteringChildren=void 0)}),b}function nL(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:b}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&ml(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:b,layoutScroll:f,layoutRoot:p})}function tR(t){if(t)return t.options.allowProjection!==!1?t.projection:tR(t.parent)}function Ag(t,{forwardMotionProps:e=!1}={},n,i){n&&C5(n);const a=hb(t)?Z5:Q5;function l(d,f){let p;const b={...N.useContext(ob),...d,layoutId:sL(d)},{isStatic:v}=b,x=j5(d),A=a(d,v);if(!v&&U0){iL();const I=rL(b);p=I.MeasureLayout,x.visualElement=tL(t,A,b,i,I.ProjectionNode)}return g.jsxs(Jf.Provider,{value:x,children:[p&&x.visualElement?g.jsx(p,{visualElement:x.visualElement,...b}):null,K5(t,d,J5(A,x.visualElement,f),A,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=N.forwardRef(l);return c[W5]=t,c}function sL({layoutId:t}){const e=N.useContext(L0).id;return e&&t!==void 0?e+"-"+t:t}function iL(t,e){N.useContext(Fk).strict}function rL(t){const{drag:e,layout:n}=Dl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function aL(t,e){if(typeof Proxy>"u")return Ag;const n=new Map,i=(l,c)=>Ag(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Ag(c,void 0,t,e)),n.get(c))})}function nR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function oL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function kg(t){return t===void 0||t===1}function Ay({scale:t,scaleX:e,scaleY:n}){return!kg(t)||!kg(e)||!kg(n)}function to(t){return Ay(t)||sR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sR(t){return iT(t.x)||iT(t.y)}function iT(t){return t&&t!=="0%"}function Af(t,e,n){const i=t-n,a=e*i;return n+a}function rT(t,e,n,i,a){return a!==void 0&&(t=Af(t,a,i)),Af(t,n,i)+e}function ky(t,e=0,n=1,i,a){t.min=rT(t.min,e,n,i,a),t.max=rT(t.max,e,n,i,a)}function iR(t,{x:e,y:n}){ky(t.x,e.translate,e.scale,e.originPoint),ky(t.y,n.translate,n.scale,n.originPoint)}const aT=.999999999999,oT=1.0000000000001;function cL(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&gl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,iR(t,c)),i&&to(l.latestValues)&&gl(t,l.latestValues))}e.x<oT&&e.x>aT&&(e.x=1),e.y<oT&&e.y>aT&&(e.y=1)}function pl(t,e){t.min=t.min+e,t.max=t.max+e}function lT(t,e,n,i,a=.5){const l=Vt(t.min,t.max,a);ky(t,e,n,l,i)}function gl(t,e){lT(t.x,e.x,e.scaleX,e.scale,e.originX),lT(t.y,e.y,e.scaleY,e.scale,e.originY)}function rR(t,e){return nR(lL(t.getBoundingClientRect(),e))}function uL(t,e,n){const i=rR(t,n),{scroll:a}=e;return a&&(pl(i.x,a.offset.x),pl(i.y,a.offset.y)),i}const cT=()=>({translate:0,scale:1,origin:0,originPoint:0}),yl=()=>({x:cT(),y:cT()}),uT=()=>({min:0,max:0}),cn=()=>({x:uT(),y:uT()}),Ry={current:null},aR={current:!1};function dL(){if(aR.current=!0,!!U0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ry.current=t.matches;t.addEventListener("change",e),e()}else Ry.current=!1}const hL=new WeakMap;function fL(t,e,n){for(const i in e){const a=e[i],l=n[i];if(jn(a))t.addValue(i,a);else if(jn(l))t.addValue(i,Il(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Il(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const dT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mL{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Zn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,jt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=tm(n),this.isVariantNode=Gk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const A=v[x];f[x]!==void 0&&jn(A)&&A.set(f[x])}}mount(e){var n;this.current=e,hL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),aR.current||dL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ry.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ha(this.notifyUpdate),ha(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Kl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dl){const n=Dl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<dT.length;i++){const a=dT[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=fL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Il(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(QA(i)||WA(i))?i=parseFloat(i):!w5(i)&&fa.test(n)&&(i=jk(e,n)),this.setBaseTarget(e,jn(i)?i.get():i)),jn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=fb(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!jn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){rb.render(this.render)}}class oR extends mL{constructor(){super(...arguments),this.KeyframeResolver=u5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lR(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function pL(t){return window.getComputedStyle(t)}class gL extends oR{constructor(){super(...arguments),this.type="html",this.renderInstance=lR}readValueFromInstance(e,n){var i;if(Kl.has(n))return(i=this.projection)!=null&&i.isProjecting?by(n):C3(e,n);{const a=pL(e),l=(hk(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rR(e,n)}build(e,n,i){ub(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return mb(e,n,i)}}const cR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yL(t,e,n,i){lR(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(cR.has(a)?a:pb(a),e.attrs[a])}class bL extends oR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Kl.has(n)){const i=Mk(n);return i&&i.default||0}return n=cR.has(n)?n:pb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Wk(e,n,i)}build(e,n,i){Xk(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){yL(e,n,i,a)}mount(e){this.isSVGTag=Qk(e.tagName),super.mount(e)}}const vL=(t,e)=>hb(t)?new bL(e):new gL(e,{allowProjection:t!==N.Fragment});function El(t,e,n){const i=t.getProps();return fb(i,e,n!==void 0?n:i.custom,t)}const Cy=t=>Array.isArray(t);function _L(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Il(n))}function xL(t){return Cy(t)?t[t.length-1]||0:t}function wL(t,e){const n=El(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=xL(l[c]);_L(t,c,d)}}function EL(t){return!!(jn(t)&&t.add)}function Ny(t,e){const n=t.getValue("willChange");if(EL(n))return n.add(e);if(!n&&fr.WillChange){const i=new fr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function uR(t){return t.props[Jk]}const TL=t=>t!==null;function SL(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(TL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const AL={type:"spring",stiffness:500,damping:25,restSpeed:10},kL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RL={type:"keyframes",duration:.8},CL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NL=(t,{keyframes:e})=>e.length>2?RL:Kl.has(t)?t.startsWith("scale")?kL(e[1]):AL:CL;function IL({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...b}){return!!Object.keys(b).length}const gb=(t,e,n,i={},a,l)=>c=>{const d=sb(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ii(f);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};IL(d)||Object.assign(b,NL(t,b)),b.duration&&(b.duration=Ii(b.duration)),b.repeatDelay&&(b.repeatDelay=Ii(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let v=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(Ey(b),b.delay===0&&(v=!0)),(fr.instantAnimations||fr.skipAnimations)&&(v=!0,Ey(b),b.delay=0),b.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const x=SL(b.keyframes,d);if(x!==void 0){jt.update(()=>{b.onUpdate(x),b.onComplete()});return}}return d.isSync?new tb(b):new W3(b)};function DL({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function dR(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const b in d){const v=t.getValue(b,t.latestValues[b]??null),x=d[b];if(x===void 0||p&&DL(p,b))continue;const A={delay:n,...sb(l||{},b)},I=v.get();if(I!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===I&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const U=uR(t);if(U){const Y=window.MotionHandoffAnimation(U,b,jt);Y!==null&&(A.startTime=Y,M=!0)}}Ny(t,b),v.start(gb(b,v,x,t.shouldReduceMotion&&Nk.has(b)?{type:!1}:A,t,M));const P=v.animation;P&&f.push(P)}return c&&Promise.all(f).then(()=>{jt.update(()=>{c&&wL(t,c)})}),f}function hR(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,b)=>p.sortNodePosition(b)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}function Iy(t,e,n={}){var f;const i=El(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(dR(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:b=0,staggerChildren:v,staggerDirection:x}=a;return ML(t,e,p,b,v,x,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,b]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>b())}else return Promise.all([l(),c(n.delay)])}function ML(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Iy(f,e,{...c,delay:n+(typeof i=="function"?0:i)+hR(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function jL(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Iy(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Iy(t,e,n);else{const a=typeof e=="function"?El(t,e,n.custom):e;i=Promise.all(dR(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function fR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const PL=cb.length;function mR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<PL;n++){const i=cb[n],a=t.props[i];(Mu(a)||a===!1)&&(e[i]=a)}return e}const VL=[...lb].reverse(),OL=lb.length;function LL(t){return e=>Promise.all(e.map(({animation:n,options:i})=>jL(t,n,i)))}function zL(t){let e=LL(t),n=hT(),i=!0;const a=f=>(p,b)=>{var x;const v=El(t,b,f==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:A,transitionEnd:I,...M}=v;p={...p,...M,...I}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,b=mR(t.parent)||{},v=[],x=new Set;let A={},I=1/0;for(let P=0;P<OL;P++){const U=VL[P],Y=n[U],F=p[U]!==void 0?p[U]:b[U],le=Mu(F),ae=U===f?Y.isActive:null;ae===!1&&(I=P);let ue=F===b[U]&&F!==p[U]&&le;if(ue&&i&&t.manuallyAnimateOnMount&&(ue=!1),Y.protectedKeys={...A},!Y.isActive&&ae===null||!F&&!Y.prevProp||em(F)||typeof F=="boolean")continue;const R=UL(Y.prevProp,F);let T=R||U===f&&Y.isActive&&!ue&&le||P>I&&le,C=!1;const j=Array.isArray(F)?F:[F];let O=j.reduce(a(U),{});ae===!1&&(O={});const{prevResolvedValues:B={}}=Y,D={...B,...O},He=ie=>{T=!0,x.has(ie)&&(C=!0,x.delete(ie)),Y.needsAnimating[ie]=!0;const ee=t.getValue(ie);ee&&(ee.liveStyle=!1)};for(const ie in D){const ee=O[ie],Se=B[ie];if(A.hasOwnProperty(ie))continue;let Ne=!1;Cy(ee)&&Cy(Se)?Ne=!fR(ee,Se):Ne=ee!==Se,Ne?ee!=null?He(ie):x.add(ie):ee!==void 0&&x.has(ie)?He(ie):Y.protectedKeys[ie]=!0}Y.prevProp=F,Y.prevResolvedValues=O,Y.isActive&&(A={...A,...O}),i&&t.blockInitialAnimation&&(T=!1);const et=ue&&R;T&&(!et||C)&&v.push(...j.map(ie=>{const ee={type:U};if(typeof ie=="string"&&i&&!et&&t.manuallyAnimateOnMount&&t.parent){const{parent:Se}=t,Ne=El(Se,ie);if(Se.enteringChildren&&Ne){const{delayChildren:L}=Ne.transition||{};ee.delay=hR(Se.enteringChildren,t,L)}}return{animation:ie,options:ee}}))}if(x.size){const P={};if(typeof p.initial!="boolean"){const U=El(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(P.transition=U.transition)}x.forEach(U=>{const Y=t.getBaseTarget(U),F=t.getValue(U);F&&(F.liveStyle=!0),P[U]=Y??null}),v.push({animation:P})}let M=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(v):Promise.resolve()}function d(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var A;return(A=x.animationState)==null?void 0:A.setActive(f,p)}),n[f].isActive=p;const b=c(f);for(const x in n)n[x].protectedKeys={};return b}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=hT()}}}function UL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fR(e,t):!1}function Za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hT(){return{animate:Za(!0),whileInView:Za(),whileHover:Za(),whileTap:Za(),whileDrag:Za(),whileFocus:Za(),exit:Za()}}class _a{constructor(e){this.isMounted=!1,this.node=e}update(){}}class BL extends _a{constructor(e){super(e),e.animationState||(e.animationState=zL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();em(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let qL=0;class FL extends _a{constructor(){super(...arguments),this.id=qL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HL={animation:{Feature:BL},exit:{Feature:FL}};function ju(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const GL=t=>e=>ab(e)&&t(e,Wu(e));function gu(t,e,n,i){return ju(t,e,GL(n),i)}const pR=1e-4,$L=1-pR,KL=1+pR,gR=.01,XL=0-gR,YL=0+gR;function Ln(t){return t.max-t.min}function QL(t,e,n){return Math.abs(t-e)<=n}function fT(t,e,n,i=.5){t.origin=i,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$L&&t.scale<=KL||isNaN(t.scale))&&(t.scale=1),(t.translate>=XL&&t.translate<=YL||isNaN(t.translate))&&(t.translate=0)}function yu(t,e,n,i){fT(t.x,e.x,n.x,i?i.originX:void 0),fT(t.y,e.y,n.y,i?i.originY:void 0)}function mT(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function ZL(t,e,n){mT(t.x,e.x,n.x),mT(t.y,e.y,n.y)}function pT(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function kf(t,e,n){pT(t.x,e.x,n.x),pT(t.y,e.y,n.y)}function ks(t){return[t("x"),t("y")]}const yR=({current:t})=>t?t.ownerDocument.defaultView:null,gT=(t,e)=>Math.abs(t-e);function WL(t,e){const n=gT(t.x,e.x),i=gT(t.y,e.y);return Math.sqrt(n**2+i**2)}class bR{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Cg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,I=WL(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!I)return;const{point:M}=x,{timestamp:P}=Tn;this.history.push({...M,timestamp:P});const{onStart:U,onMove:Y}=this.handlers;A||(U&&U(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,x)},this.handlePointerMove=(x,A)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Rg(A,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(x,A)=>{this.end();const{onEnd:I,onSessionEnd:M,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Cg(x.type==="pointercancel"?this.lastMoveEventInfo:Rg(A,this.transformPagePoint),this.history);this.startEvent&&I&&I(x,U),M&&M(x,U)},!ab(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=Wu(e),f=Rg(d,this.transformPagePoint),{point:p}=f,{timestamp:b}=Tn;this.history=[{...p,timestamp:b}];const{onSessionStart:v}=n;v&&v(e,Cg(f,this.history)),this.removeListeners=Yu(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ha(this.updatePoint)}}function Rg(t,e){return e?{point:e(t.point)}:t}function yT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cg({point:t},e){return{point:t,delta:yT(t,vR(e)),offset:yT(t,JL(e)),velocity:e6(e,.1)}}function JL(t){return t[0]}function vR(t){return t[t.length-1]}function e6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=vR(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ii(e)));)n--;if(!i)return{x:0,y:0};const l=Is(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function t6(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Vt(n,t,i.max):Math.min(t,n)),t}function bT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function n6(t,{top:e,left:n,bottom:i,right:a}){return{x:bT(t.x,n,a),y:bT(t.y,e,i)}}function vT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function s6(t,e){return{x:vT(t.x,e.x),y:vT(t.y,e.y)}}function i6(t,e){let n=.5;const i=Ln(t),a=Ln(e);return a>i?n=Nu(e.min,e.max-i,t.min):i>a&&(n=Nu(t.min,t.max-a,e.min)),hr(0,1,n)}function r6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dy=.35;function a6(t=Dy){return t===!1?t=0:t===!0&&(t=Dy),{x:_T(t,"left","right"),y:_T(t,"top","bottom")}}function _T(t,e,n){return{min:xT(t,e),max:xT(t,n)}}function xT(t,e){return typeof t=="number"?t:t[e]||0}const o6=new WeakMap;class l6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(v).point)},c=(v,x)=>{const{drag:A,dragPropagation:I,onDragStart:M}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m5(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ks(U=>{let Y=this.getAxisMotionValue(U).get()||0;if(Di.test(Y)){const{projection:F}=this.visualElement;if(F&&F.layout){const le=F.layout.layoutBox[U];le&&(Y=Ln(le)*(parseFloat(Y)/100))}}this.originPoint[U]=Y}),M&&jt.postRender(()=>M(v,x)),Ny(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:M,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:U}=x;if(I&&this.currentDirection===null){this.currentDirection=c6(U),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",x.point,U),this.updateAxis("y",x.point,U),this.visualElement.render(),P&&P(v,x)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ks(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new bR(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:i,contextWindow:yR(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&jt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!jh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=t6(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&ml(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=n6(i.layoutBox,e):this.constraints=!1,this.elastic=a6(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ks(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=r6(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ml(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=uL(i,a.root,this.visualElement.getTransformPagePoint());let c=s6(a.layout.layoutBox,l);if(n){const d=n(oL(c));this.hasMutatedConstraints=!!d,d&&(c=nR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=ks(b=>{if(!jh(b,n,this.currentDirection))return;let v=f&&f[b]||{};c&&(v={min:0,max:0});const x=a?200:1e6,A=a?40:1e7,I={type:"inertia",velocity:i?e[b]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(b,I)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ny(this.visualElement,e),i.start(gb(e,i,0,n,this.visualElement,!1))}stopAnimation(){ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ks(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ks(n=>{const{drag:i}=this.getProps();if(!jh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-Vt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ml(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ks(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=i6({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ks(c=>{if(!jh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(Vt(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;o6.set(this.visualElement,this);const e=this.visualElement.current,n=gu(e,"pointerdown",f=>{const{drag:p,dragListener:b=!0}=this.getProps();p&&b&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ml(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),jt.read(i);const c=ju(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(ks(b=>{const v=this.getAxisMotionValue(b);v&&(this.originPoint[b]+=f[b].translate,v.set(v.get()+f[b].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Dy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function jh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function c6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class u6 extends _a{constructor(e){super(e),this.removeGroupControls=Ds,this.removeListeners=Ds,this.controls=new l6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const wT=t=>(e,n)=>{t&&jt.postRender(()=>t(e,n))};class d6 extends _a{constructor(){super(...arguments),this.removePointerDownListener=Ds}onPointerDown(e){this.session=new bR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:wT(e),onStart:wT(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&jt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ng=!1;class h6 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Ng&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Ng=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||jt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Ng=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _R(t){const[e,n]=Bk(),i=N.useContext(L0);return g.jsx(h6,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(eR),isPresent:e,safeToRemove:n})}function f6(t,e,n){const i=jn(t)?t:Il(t);return i.start(gb("",i,e,n)),i.animation}const m6=(t,e)=>t.depth-e.depth;class p6{constructor(){this.children=[],this.isDirty=!1}add(e){B0(this.children,e),this.isDirty=!0}remove(e){q0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(m6),this.isDirty=!1,this.children.forEach(e)}}function g6(t,e){const n=Zn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ha(i),t(l-e))};return jt.setup(i,!0),()=>ha(i)}const xR=["TopLeft","TopRight","BottomLeft","BottomRight"],y6=xR.length,ET=t=>typeof t=="string"?parseFloat(t):t,TT=t=>typeof t=="number"||Ce.test(t);function b6(t,e,n,i,a,l){a?(t.opacity=Vt(0,n.opacity??1,v6(i)),t.opacityExit=Vt(e.opacity??1,0,_6(i))):l&&(t.opacity=Vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<y6;c++){const d=`border${xR[c]}Radius`;let f=ST(e,d),p=ST(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||TT(f)===TT(p)?(t[d]=Math.max(Vt(ET(f),ET(p),i),0),(Di.test(p)||Di.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,i))}function ST(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v6=wR(0,.5,ak),_6=wR(.5,.95,Ds);function wR(t,e,n){return i=>i<t?0:i>e?1:n(Nu(t,e,i))}function AT(t,e){t.min=e.min,t.max=e.max}function Xs(t,e){AT(t.x,e.x),AT(t.y,e.y)}function kT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function RT(t,e,n,i,a){return t-=e,t=Af(t,1/n,i),a!==void 0&&(t=Af(t,1/a,i)),t}function x6(t,e=0,n=1,i=.5,a,l=t,c=t){if(Di.test(e)&&(e=parseFloat(e),e=Vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Vt(l.min,l.max,i);t===l&&(d-=e),t.min=RT(t.min,e,n,d,a),t.max=RT(t.max,e,n,d,a)}function CT(t,e,[n,i,a],l,c){x6(t,e[n],e[i],e[a],e.scale,l,c)}const w6=["x","scaleX","originX"],E6=["y","scaleY","originY"];function NT(t,e,n,i){CT(t.x,e,w6,n?n.x:void 0,i?i.x:void 0),CT(t.y,e,E6,n?n.y:void 0,i?i.y:void 0)}function IT(t){return t.translate===0&&t.scale===1}function ER(t){return IT(t.x)&&IT(t.y)}function DT(t,e){return t.min===e.min&&t.max===e.max}function T6(t,e){return DT(t.x,e.x)&&DT(t.y,e.y)}function MT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TR(t,e){return MT(t.x,e.x)&&MT(t.y,e.y)}function jT(t){return Ln(t.x)/Ln(t.y)}function PT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class S6{constructor(){this.members=[]}add(e){B0(this.members,e),e.scheduleRender()}remove(e){if(q0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A6(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:b,rotateX:v,rotateY:x,skewX:A,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),b&&(i+=`rotate(${b}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),A&&(i+=`skewX(${A}deg) `),I&&(i+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const Ig=["","X","Y","Z"],k6=1e3;let R6=0;function Dg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function SR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",jt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&SR(i)}function AR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=R6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I6),this.nodes.forEach(P6),this.nodes.forEach(V6),this.nodes.forEach(D6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new p6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new G0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Uk(c)&&!_5(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let b,v=0;const x=()=>this.root.updateBlockedByResize=!1;jt.read(()=>{v=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,b&&b(),b=g6(x,250),Jh.hasAnimatedSinceResize&&(Jh.hasAnimatedSinceResize=!1,this.nodes.forEach(LT)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||B6,{onLayoutAnimationStart:M,onLayoutAnimationComplete:P}=p.getProps(),U=!this.targetLayout||!TR(this.targetLayout,A),Y=!v&&x;if(this.options.layoutRoot||this.resumeFrom||Y||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...sb(I,"layout"),onPlay:M,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(b,Y)}else v||LT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const v=this.path[b];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(j6),this.nodes.forEach(C6),this.nodes.forEach(N6)):this.nodes.forEach(OT),this.clearAllSnapshots();const d=Zn.now();Tn.delta=hr(0,1e3/60,d-Tn.timestamp),Tn.timestamp=d,Tn.isProcessing=!0,_g.update.process(Tn),_g.preRender.process(Tn),_g.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M6),this.sharedNodes.forEach(L6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ER(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,b=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||to(this.latestValues)||b)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),q6(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return cn();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(F6))){const{scroll:b}=this.root;b&&(pl(d.x,b.offset.x),pl(d.y,b.offset.y))}return d}removeElementScroll(c){var f;const d=cn();if(Xs(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const b=this.path[p],{scroll:v,options:x}=b;b!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Xs(d,c),pl(d.x,v.offset.x),pl(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const f=cn();Xs(f,c);for(let p=0;p<this.path.length;p++){const b=this.path[p];!d&&b.options.layoutScroll&&b.scroll&&b!==b.root&&gl(f,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),to(b.latestValues)&&gl(f,b.latestValues)}return to(this.latestValues)&&gl(f,this.latestValues),f}removeTransform(c){const d=cn();Xs(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!to(p.latestValues))continue;Ay(p.latestValues)&&p.updateSnapshot();const b=cn(),v=p.measurePageBox();Xs(b,v),NT(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,b)}return to(this.latestValues)&&NT(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:v}=this.options;if(!this.layout||!(b||v))return;this.resolvedRelativeTargetAt=Tn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xs(this.target,this.layout.layoutBox),iR(this.target,this.targetDelta)):Xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ay(this.parent.latestValues)||sR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),kf(this.relativeTargetOrigin,d,f),Xs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||b))return;Xs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;cL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=cn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kT(this.prevProjectionDelta.x,this.projectionDelta.x),kT(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!PT(this.projectionDelta.x,this.prevProjectionDelta.x)||!PT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yl(),this.projectionDelta=yl(),this.projectionDeltaWithTransform=yl()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},b={...this.latestValues},v=yl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=cn(),A=f?f.source:void 0,I=this.layout?this.layout.source:void 0,M=A!==I,P=this.getStack(),U=!P||P.members.length<=1,Y=!!(M&&!U&&this.options.crossfade===!0&&!this.path.some(U6));this.animationProgress=0;let F;this.mixTargetDelta=le=>{const ae=le/1e3;zT(v.x,c.x,ae),zT(v.y,c.y,ae),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z6(this.relativeTarget,this.relativeTargetOrigin,x,ae),F&&T6(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=cn()),Xs(F,this.relativeTarget)),M&&(this.animationValues=b,b6(b,p,this.latestValues,ae,Y,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{Jh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Il(0)),this.currentAnimation=f6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),c.onUpdate&&c.onUpdate(b)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:b}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&kR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||cn();const v=Ln(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const x=Ln(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}Xs(d,f),gl(d,b),yu(this.projectionDeltaWithTransform,this.layoutCorrected,d,b)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new S6),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Dg("z",c,p,this.animationValues);for(let b=0;b<Ig.length;b++)Dg(`rotate${Ig[b]}`,c,p,this.animationValues),Dg(`skew${Ig[b]}`,c,p,this.animationValues);c.render();for(const b in p)c.setStaticValue(b,p[b]),this.animationValues&&(this.animationValues[b]=p[b]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Wh(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Wh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!to(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const b=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=A6(this.projectionDeltaWithTransform,this.treeScale,b);f&&(v=f(b,v)),c.transform=v;const{x,y:A}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:c.opacity=p===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const I in Sy){if(b[I]===void 0)continue;const{correct:M,applyTo:P,isCSSVariable:U}=Sy[I],Y=v==="none"?b[I]:M(b[I],p);if(P){const F=P.length;for(let le=0;le<F;le++)c[P[le]]=Y}else U?this.options.visualElement.renderState.vars[I]=Y:c[I]=Y}this.options.layoutId&&(c.pointerEvents=p===this?Wh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(VT),this.root.sharedNodes.clear()}}}function C6(t){t.updateLayout()}function N6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ks(v=>{const x=c?e.measuredBox[v]:e.layoutBox[v],A=Ln(x);x.min=i[v].min,x.max=x.min+A}):kR(l,e.layoutBox,i)&&ks(v=>{const x=c?e.measuredBox[v]:e.layoutBox[v],A=Ln(i[v]);x.max=x.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+A)});const d=yl();yu(d,i,e.layoutBox);const f=yl();c?yu(f,t.applyTransform(a,!0),e.measuredBox):yu(f,i,e.layoutBox);const p=!ER(d);let b=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:A}=v;if(x&&A){const I=cn();kf(I,e.layoutBox,x.layoutBox);const M=cn();kf(M,i,A.layoutBox),TR(I,M)||(b=!0),v.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=I,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:b})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function I6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function M6(t){t.clearSnapshot()}function VT(t){t.clearMeasurements()}function OT(t){t.isLayoutDirty=!1}function j6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function P6(t){t.resolveTargetDelta()}function V6(t){t.calcProjection()}function O6(t){t.resetSkewAndRotation()}function L6(t){t.removeLeadSnapshot()}function zT(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UT(t,e,n,i){t.min=Vt(e.min,n.min,i),t.max=Vt(e.max,n.max,i)}function z6(t,e,n,i){UT(t.x,e.x,n.x,i),UT(t.y,e.y,n.y,i)}function U6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B6={duration:.45,ease:[.4,0,.1,1]},BT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qT=BT("applewebkit/")&&!BT("chrome/")?Math.round:Ds;function FT(t){t.min=qT(t.min),t.max=qT(t.max)}function q6(t){FT(t.x),FT(t.y)}function kR(t,e,n){return t==="position"||t==="preserve-aspect"&&!QL(jT(e),jT(n),.2)}function F6(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const H6=AR({attachResizeListener:(t,e)=>ju(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mg={current:void 0},RR=AR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mg.current){const t=new H6({});t.mount(window),t.setOptions({layoutScroll:!0}),Mg.current=t}return Mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),G6={pan:{Feature:d6},drag:{Feature:u6,ProjectionNode:RR,MeasureLayout:_R}};function HT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&jt.postRender(()=>l(e,Wu(e)))}class $6 extends _a{mount(){const{current:e}=this.node;e&&(this.unmount=p5(e,(n,i)=>(HT(this.node,i,"Start"),a=>HT(this.node,a,"End"))))}unmount(){}}class K6 extends _a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yu(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GT(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&jt.postRender(()=>l(e,Wu(e)))}class X6 extends _a{mount(){const{current:e}=this.node;e&&(this.unmount=v5(e,(n,i)=>(GT(this.node,i,"Start"),(a,{success:l})=>GT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const My=new WeakMap,jg=new WeakMap,Y6=t=>{const e=My.get(t.target);e&&e(t)},Q6=t=>{t.forEach(Y6)};function Z6({root:t,...e}){const n=t||document;jg.has(n)||jg.set(n,{});const i=jg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Q6,{root:t,...e})),i[a]}function W6(t,e,n){const i=Z6(e);return My.set(t,n),i.observe(t),()=>{My.delete(t),i.unobserve(t)}}const J6={some:0,all:1};class ez extends _a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:J6[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:b,onViewportLeave:v}=this.node.getProps(),x=p?b:v;x&&x(f)};return W6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tz(e,n))&&this.startObserver()}unmount(){}}function tz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nz={inView:{Feature:ez},tap:{Feature:X6},focus:{Feature:K6},hover:{Feature:$6}},sz={layout:{ProjectionNode:RR,MeasureLayout:_R}},iz={...HL,...nz,...G6,...sz},Mn=aL(iz,vL);function CR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=CR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function NR(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=CR(t))&&(i&&(i+=" "),i+=e);return i}const rz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},az=(t,e)=>({classGroupId:t,validator:e}),IR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Rf="-",$T=[],oz="arbitrary..",lz=t=>{const e=uz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return cz(c);const d=c.split(Rf),f=d[0]===""&&d.length>1?1:0;return DR(d,f,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=i[c],p=n[c];return f?p?rz(p,f):f:p||$T}return n[c]||$T}}},DR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=DR(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(Rf):t.slice(e).join(Rf),f=c.length;for(let p=0;p<f;p++){const b=c[p];if(b.validator(d))return b.classGroupId}},cz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?oz+i:void 0})(),uz=t=>{const{theme:e,classGroups:n}=t;return dz(n,e)},dz=(t,e)=>{const n=IR();for(const i in t){const a=t[i];yb(a,n,i,e)}return n},yb=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];hz(c,e,n,i)}},hz=(t,e,n,i)=>{if(typeof t=="string"){fz(t,e,n);return}if(typeof t=="function"){mz(t,e,n,i);return}pz(t,e,n,i)},fz=(t,e,n)=>{const i=t===""?e:MR(e,t);i.classGroupId=n},mz=(t,e,n,i)=>{if(gz(t)){yb(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(az(n,t))},pz=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,f]=a[c];yb(f,MR(e,d),n,i)}},MR=(t,e)=>{let n=t;const i=e.split(Rf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=n.nextPart.get(c);d||(d=IR(),n.nextPart.set(c,d)),n=d}return n},gz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,yz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},jy="!",KT=":",bz=[],XT=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),vz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,d=0,f=0,p;const b=a.length;for(let M=0;M<b;M++){const P=a[M];if(c===0&&d===0){if(P===KT){l.push(a.slice(f,M)),f=M+1;continue}if(P==="/"){p=M;continue}}P==="["?c++:P==="]"?c--:P==="("?d++:P===")"&&d--}const v=l.length===0?a:a.slice(f);let x=v,A=!1;v.endsWith(jy)?(x=v.slice(0,-1),A=!0):v.startsWith(jy)&&(x=v.slice(1),A=!0);const I=p&&p>f?p-f:void 0;return XT(l,A,x,I)};if(e){const a=e+KT,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):XT(bz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},_z=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=e.has(c);d||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},xz=t=>({cache:yz(t.cacheSize),parseClassName:vz(t),sortModifiers:_z(t),...lz(t)}),wz=/\s+/,Ez=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(wz);let f="";for(let p=d.length-1;p>=0;p-=1){const b=d[p],{isExternal:v,modifiers:x,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:M}=n(b);if(v){f=b+(f.length>0?" "+f:f);continue}let P=!!M,U=i(P?I.substring(0,M):I);if(!U){if(!P){f=b+(f.length>0?" "+f:f);continue}if(U=i(I),!U){f=b+(f.length>0?" "+f:f);continue}P=!1}const Y=x.length===0?"":x.length===1?x[0]:l(x).join(":"),F=A?Y+jy:Y,le=F+U;if(c.indexOf(le)>-1)continue;c.push(le);const ae=a(U,P);for(let ue=0;ue<ae.length;++ue){const R=ae[ue];c.push(F+R)}f=b+(f.length>0?" "+f:f)}return f},Tz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=jR(n))&&(a&&(a+=" "),a+=i);return a},jR=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=jR(t[i]))&&(n&&(n+=" "),n+=e);return n},Sz=(t,...e)=>{let n,i,a,l;const c=f=>{const p=e.reduce((b,v)=>v(b),t());return n=xz(p),i=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const p=i(f);if(p)return p;const b=Ez(f,n);return a(f,b),b};return l=c,(...f)=>l(Tz(...f))},Az=[],ln=t=>{const e=n=>n[t]||Az;return e.isThemeGetter=!0,e},PR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kz=/^\d+\/\d+$/,Rz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Iz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rl=t=>kz.test(t),Fe=t=>!!t&&!Number.isNaN(Number(t)),Xr=t=>!!t&&Number.isInteger(Number(t)),Pg=t=>t.endsWith("%")&&Fe(t.slice(0,-1)),er=t=>Rz.test(t),Mz=()=>!0,jz=t=>Cz.test(t)&&!Nz.test(t),OR=()=>!1,Pz=t=>Iz.test(t),Vz=t=>Dz.test(t),Oz=t=>!ye(t)&&!be(t),Lz=t=>Xl(t,UR,OR),ye=t=>PR.test(t),Wa=t=>Xl(t,BR,jz),Vg=t=>Xl(t,Fz,Fe),YT=t=>Xl(t,LR,OR),zz=t=>Xl(t,zR,Vz),Ph=t=>Xl(t,qR,Pz),be=t=>VR.test(t),eu=t=>Yl(t,BR),Uz=t=>Yl(t,Hz),QT=t=>Yl(t,LR),Bz=t=>Yl(t,UR),qz=t=>Yl(t,zR),Vh=t=>Yl(t,qR,!0),Xl=(t,e,n)=>{const i=PR.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Yl=(t,e,n=!1)=>{const i=VR.exec(t);return i?i[1]?e(i[1]):n:!1},LR=t=>t==="position"||t==="percentage",zR=t=>t==="image"||t==="url",UR=t=>t==="length"||t==="size"||t==="bg-size",BR=t=>t==="length",Fz=t=>t==="number",Hz=t=>t==="family-name",qR=t=>t==="shadow",Gz=()=>{const t=ln("color"),e=ln("font"),n=ln("text"),i=ln("font-weight"),a=ln("tracking"),l=ln("leading"),c=ln("breakpoint"),d=ln("container"),f=ln("spacing"),p=ln("radius"),b=ln("shadow"),v=ln("inset-shadow"),x=ln("text-shadow"),A=ln("drop-shadow"),I=ln("blur"),M=ln("perspective"),P=ln("aspect"),U=ln("ease"),Y=ln("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...le(),be,ye],ue=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],T=()=>[be,ye,f],C=()=>[rl,"full","auto",...T()],j=()=>[Xr,"none","subgrid",be,ye],O=()=>["auto",{span:["full",Xr,be,ye]},Xr,be,ye],B=()=>[Xr,"auto",be,ye],D=()=>["auto","min","max","fr",be,ye],He=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],et=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...T()],ie=()=>[rl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],ee=()=>[t,be,ye],Se=()=>[...le(),QT,YT,{position:[be,ye]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",Bz,Lz,{size:[be,ye]}],J=()=>[Pg,eu,Wa],oe=()=>["","none","full",p,be,ye],de=()=>["",Fe,eu,Wa],Te=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Fe,Pg,QT,YT],wt=()=>["","none",I,be,ye],at=()=>["none",Fe,be,ye],zn=()=>["none",Fe,be,ye],Jn=()=>[Fe,be,ye],Un=()=>[rl,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[er],breakpoint:[er],color:[Mz],container:[er],"drop-shadow":[er],ease:["in","out","in-out"],font:[Oz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[er],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[er],shadow:[er],spacing:["px",Fe],text:[er],"text-shadow":[er],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rl,ye,be,P]}],container:["container"],columns:[{columns:[Fe,ye,be,d]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Xr,"auto",be,ye]}],basis:[{basis:[rl,"full","auto",d,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,rl,"auto","initial","none",ye]}],grow:[{grow:["",Fe,be,ye]}],shrink:[{shrink:["",Fe,be,ye]}],order:[{order:[Xr,"first","last","none",be,ye]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...He(),"normal"]}],"justify-items":[{"justify-items":[...et(),"normal"]}],"justify-self":[{"justify-self":["auto",...et()]}],"align-content":[{content:["normal",...He()]}],"align-items":[{items:[...et(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...et(),{baseline:["","last"]}]}],"place-content":[{"place-content":He()}],"place-items":[{"place-items":[...et(),"baseline"]}],"place-self":[{"place-self":["auto",...et()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[d,"screen",...ie()]}],"min-w":[{"min-w":[d,"screen","none",...ie()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,eu,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,be,Vg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pg,ye]}],"font-family":[{font:[Uz,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,be,ye]}],"line-clamp":[{"line-clamp":[Fe,"none",be,Vg]}],leading:[{leading:[l,...T()]}],"list-image":[{"list-image":["none",be,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",be,Wa]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Fe,"auto",be,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Se()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xr,be,ye],radial:["",be,ye],conic:[Xr,be,ye]},qz,zz]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Te(),"hidden","none"]}],"divide-style":[{divide:[...Te(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,be,ye]}],"outline-w":[{outline:["",Fe,eu,Wa]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",b,Vh,Ph]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",v,Vh,Ph]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Fe,Wa]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",x,Vh,Ph]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Fe,be,ye]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[be,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Se()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ye]}],filter:[{filter:["","none",be,ye]}],blur:[{blur:wt()}],brightness:[{brightness:[Fe,be,ye]}],contrast:[{contrast:[Fe,be,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,Vh,Ph]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Fe,be,ye]}],"hue-rotate":[{"hue-rotate":[Fe,be,ye]}],invert:[{invert:["",Fe,be,ye]}],saturate:[{saturate:[Fe,be,ye]}],sepia:[{sepia:["",Fe,be,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ye]}],"backdrop-blur":[{"backdrop-blur":wt()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,be,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,be,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,be,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,be,ye]}],"backdrop-invert":[{"backdrop-invert":["",Fe,be,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,be,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,be,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,be,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",be,ye]}],ease:[{ease:["linear","initial",U,be,ye]}],delay:[{delay:[Fe,be,ye]}],animate:[{animate:["none",Y,be,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,be,ye]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:at()}],"rotate-x":[{"rotate-x":at()}],"rotate-y":[{"rotate-y":at()}],"rotate-z":[{"rotate-z":at()}],scale:[{scale:zn()}],"scale-x":[{"scale-x":zn()}],"scale-y":[{"scale-y":zn()}],"scale-z":[{"scale-z":zn()}],"scale-3d":["scale-3d"],skew:[{skew:Jn()}],"skew-x":[{"skew-x":Jn()}],"skew-y":[{"skew-y":Jn()}],transform:[{transform:[be,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Un()}],"translate-x":[{"translate-x":Un()}],"translate-y":[{"translate-y":Un()}],"translate-z":[{"translate-z":Un()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ye]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Fe,eu,Wa,Vg]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},FR=Sz(Gz);function $z(...t){return FR(NR(t))}const Ns=({className:t,variant:e="primary",size:n="md",leftIcon:i,rightIcon:a,children:l,...c})=>{const d="relative font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",f={primary:"bg-primary text-white shadow-lg shadow-blue-500/30 hover:bg-blue-600 hover:shadow-blue-500/50",secondary:"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700",ghost:"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",danger:"bg-red-500 text-white shadow-lg shadow-red-500/30 hover:bg-red-600"},p={sm:"h-8 px-3 text-xs",md:"h-11 px-6 text-sm",lg:"h-14 px-8 text-base"};return g.jsxs(Mn.button,{whileHover:{scale:1.02},whileTap:{scale:.95},className:$z(d,f[e],p[n],t),...c,children:[i&&g.jsx("span",{className:"text-[1.2em] flex",children:i}),l,a&&g.jsx("span",{className:"text-[1.2em] flex",children:a})]})},Kz=()=>{const t=ti(),e=ma(),{user:n,logout:i}=js(),{t:a}=hn(),[l,c]=N.useState(!1),[d,f]=N.useState(!1),[p,b]=N.useState(!1);N.useEffect(()=>{const I=()=>c(window.scrollY>20);return window.addEventListener("scroll",I),document.documentElement.classList.contains("dark")&&b(!0),()=>window.removeEventListener("scroll",I)},[]);const v=()=>{kt.click(),document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),b(!1)):(document.documentElement.classList.add("dark"),b(!0))},x=async()=>{kt.click(),await i(),e("/")},A=[{label:"Hasiera",path:"/",icon:"home"},{label:"Temarioa",path:"/topics",icon:"menu_book"},{label:"Jela",path:"/games",icon:"sports_esports"},{label:"Denda",path:"/shop",icon:"storefront"}];return n!=null&&n.isAdmin&&A.push({label:"Admin",path:"/admin",icon:"admin_panel_settings"}),g.jsxs(g.Fragment,{children:[g.jsxs("header",{className:`fixed top - 0 left - 0 right - 0 z - 50 transition - all duration - 300 border - b ${l?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md py-3 shadow-md border-slate-200 dark:border-slate-800":"bg-transparent py-5 border-transparent"} `,children:[g.jsxs("div",{className:"layout-container px-4 md:px-8 flex items-center justify-between",children:[g.jsxs(ut,{to:"/",className:"flex items-center gap-2 group",children:[g.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white shadow-lg group-hover:scale-105 transition-transform",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"calculate"})}),g.jsxs("span",{className:"font-black text-xl tracking-tight text-slate-900 dark:text-white hidden sm:block",children:["Zenbaki",g.jsx("span",{className:"text-primary",children:"Osoak"})]})]}),g.jsx("nav",{className:"hidden md:flex items-center gap-1 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-1.5 rounded-full border border-slate-200/50 dark:border-slate-700/50 shadow-sm",children:A.map(I=>{const M=t.pathname===I.path;return g.jsx(ut,{to:I.path,className:`relative px - 4 py - 2 rounded - full text - sm font - bold transition - all ${M?"text-primary bg-white dark:bg-slate-900 shadow-sm":"text-slate-500 hover:text-slate-900 dark:hover:text-white"} `,children:g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`material - symbols - outlined text - [20px] ${M?"filled":""} `,children:I.icon}),I.label]})},I.path)})}),g.jsxs("div",{className:"flex items-center gap-3",children:[n&&g.jsxs(ut,{to:"/shop",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-yellow-400/10 to-amber-500/10 dark:from-yellow-400/20 dark:to-amber-500/20 px-3 py-1.5 rounded-full border border-yellow-200 dark:border-yellow-900/50 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors cursor-pointer group",children:[g.jsx("span",{className:"material-symbols-outlined text-amber-500 group-hover:scale-110 transition-transform",children:"monetization_on"}),g.jsx("span",{className:"font-black text-amber-700 dark:text-amber-400 text-sm",children:n.coins||0})]}),g.jsx("button",{onClick:v,className:"size-10 rounded-full flex items-center justify-center text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:p?"light_mode":"dark_mode"})}),n?g.jsxs("div",{className:"group relative",children:[g.jsx(ut,{to:"/profile",children:g.jsx("div",{className:"size-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white dark:border-slate-700 shadow-md cursor-pointer hover:border-primary transition-colors",children:g.jsx("img",{src:n.photoURL,alt:"User",className:"size-full object-cover"})})}),g.jsxs("div",{className:"absolute right-0 top-10 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 p-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all translate-y-2 group-hover:translate-y-0 z-50",children:[g.jsxs("div",{className:"px-3 py-2 border-b border-slate-100 dark:border-slate-700 mb-2",children:[g.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:n.displayName}),g.jsxs("p",{className:"text-xs text-primary font-mono font-bold",children:[n.xp," XP"]})]}),g.jsxs("button",{onClick:x,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 text-sm font-medium transition-colors text-left",children:[g.jsx("span",{className:"material-symbols-outlined",children:"logout"})," Irten"]})]})]}):g.jsx(ut,{to:"/login",children:g.jsx(Ns,{size:"sm",children:"Sartu"})}),g.jsx("button",{className:"md:hidden size-10 flex items-center justify-center text-slate-900 dark:text-white",onClick:()=>f(!d),children:g.jsx("span",{className:"material-symbols-outlined",children:d?"close":"menu"})})]})]}),g.jsx(qk,{children:d&&g.jsx(Mn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 overflow-hidden",children:g.jsxs("nav",{className:"flex flex-col p-4 gap-2",children:[g.jsxs(ut,{to:"/",onClick:()=>f(!1),className:`flex items - center gap - 3 px - 4 py - 3 rounded - xl font - bold ${isActive("/")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[g.jsx("span",{className:"material-symbols-outlined",children:"home"})," ",a("nav_home")]}),g.jsxs(ut,{to:"/topics",onClick:()=>f(!1),className:`flex items - center gap - 3 px - 4 py - 3 rounded - xl font - bold ${isActive("/topics")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[g.jsx("span",{className:"material-symbols-outlined",children:"menu_book"})," ",a("nav_learn")]}),g.jsxs(ut,{to:"/games",onClick:()=>f(!1),className:`flex items - center gap - 3 px - 4 py - 3 rounded - xl font - bold ${isActive("/games")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[g.jsx("span",{className:"material-symbols-outlined",children:"sports_esports"})," ",a("nav_games")]}),g.jsxs(ut,{to:"/shop",onClick:()=>f(!1),className:`flex items - center gap - 3 px - 4 py - 3 rounded - xl font - bold ${isActive("/shop")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[g.jsx("span",{className:"material-symbols-outlined",children:"storefront"})," ",a("nav_shop")]}),(n==null?void 0:n.isAdmin)&&g.jsxs(ut,{to:"/admin",onClick:()=>f(!1),className:`flex items - center gap - 3 px - 4 py - 3 rounded - xl font - bold ${isActive("/admin")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[g.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"})," ",a("nav_admin")]}),n&&g.jsxs(ut,{to:"/profile",onClick:()=>f(!1),className:`flex items - center gap - 3 px - 4 py - 3 rounded - xl font - bold ${isActive("/profile")?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400"} `,children:[g.jsx("span",{className:"material-symbols-outlined",children:"account_circle"})," ",a("nav_profile")]}),!n&&g.jsxs("button",{onClick:()=>{signInWithGoogle(),f(!1)},className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:opacity-90 transition-opacity",children:[g.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),a("login")]}),n&&g.jsxs("button",{onClick:()=>{x(),f(!1)},className:"flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10",children:[g.jsx("span",{className:"material-symbols-outlined",children:"logout"})," ",a("logout")]})]})})})]}),g.jsx("div",{className:"h-[76px]"})]})},Xz=()=>{const{t}=hn();return g.jsx("footer",{className:"w-full border-t border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark py-10 px-10",children:g.jsxs("div",{className:"max-w-[1200px] mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[g.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[g.jsx("div",{className:"size-6 text-primary",children:g.jsx("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M39.5563 34.1455V13.8546C39.5563 15.708 36.8773 17.3437 32.7927 18.3189C30.2914 18.916 27.263 19.2655 24 19.2655C20.737 19.2655 17.7086 18.916 15.2073 18.3189C11.1227 17.3437 8.44365 15.708 8.44365 13.8546V34.1455C8.44365 35.9988 11.1227 37.6346 15.2073 38.6098C17.7086 39.2069 20.737 39.5564 24 39.5564C27.263 39.5564 30.2914 39.2069 32.7927 38.6098C36.8773 37.6346 39.5563 35.9988 39.5563 34.1455Z",fill:"currentColor"})})}),g.jsx("span",{className:"font-bold text-lg",children:t("hero_title")})]}),g.jsxs("div",{className:"flex gap-8 text-sm font-medium text-slate-600 dark:text-slate-400",children:[g.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:t("for_teachers")}),g.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:t("help")}),g.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:t("privacy")})]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:t("copyright")})]})})},Yz=()=>{const{toasts:t,removeToast:e}=Hl(),n=a=>{switch(a){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"xp":return"bg-yellow-400 text-slate-900 border-yellow-500 font-black";case"achievement":return"bg-purple-600 text-white border-purple-400 font-bold shadow-purple-500/50";default:return"bg-slate-800 text-white border-slate-900"}},i=a=>{switch(a){case"success":return"check_circle";case"error":return"error";case"xp":return"bolt";case"achievement":return"emoji_events";default:return"info"}};return g.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",children:t.map(a=>g.jsxs("div",{onClick:()=>e(a.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border-b-4 cursor-pointer animate-in slide-in-from-right fade-in duration-300 hover:scale-105 transition-transform ${n(a.type)}`,children:[g.jsx("span",{className:"material-symbols-outlined",children:i(a.type)}),g.jsx("span",{className:"text-sm font-bold",children:a.message})]},a.id))})},Qz=()=>{const{user:t}=js(),e=ti(),[n,i]=N.useState(null),a=N.useRef({}),l=N.useRef(e.pathname),c=N.useRef(Date.now()),d=N.useRef(null);return N.useEffect(()=>{t&&!n&&(async()=>{const p=navigator.userAgent;try{const b=await hs.startSession(t.uid,p);i(b),console.log("Session started:",b)}catch(b){console.error("Failed to start session:",b)}})()},[t,n]),N.useEffect(()=>{if(!n)return;const f=Date.now(),p=Math.floor((f-c.current)/1e3),b=l.current;p>0&&(a.current[b]=(a.current[b]||0)+p),l.current=e.pathname,c.current=f,hs.updateSession(n,a.current)},[e.pathname,n]),N.useEffect(()=>{if(n)return d.current=setInterval(()=>{const f=Date.now(),p=Math.floor((f-c.current)/1e3),b=l.current,v={...a.current};v[b]=(v[b]||0)+p,hs.updateSession(n,v)},3e4),()=>{d.current&&clearInterval(d.current)}},[n]),N.useEffect(()=>()=>{if(n){const f=Date.now(),p=Math.floor((f-c.current)/1e3),b=l.current;a.current[b]=(a.current[b]||0)+p,hs.endSession(n,a.current),console.log("Session ended:",n)}},[n]),null};function Zz(...t){return FR(NR(t))}const Ti=({className:t,variant:e="glass",hoverEffect:n=!0,children:i,...a})=>{const l="rounded-2xl p-6 transition-all duration-300 relative overflow-hidden",c={glass:"bg-surface-light/80 dark:bg-surface-dark/70 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-xl shadow-slate-200/50 dark:shadow-black/40",solid:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg",outline:"bg-transparent border-2 border-slate-200 dark:border-slate-700"},d=n?"hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/10 hover:border-primary/30 dark:hover:border-primary/30":"";return g.jsxs(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Zz(l,c[e],d,t),...a,children:[e==="glass"&&g.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-50"}),i]})},Wz=()=>{var c;const{user:t,loginAsGuest:e}=js(),{t:n}=hn(),[i,a]=N.useState(0),l=5e4;return N.useEffect(()=>{(async()=>{const p=(await hs.getLeaderboard()).reduce((b,v)=>b+v.xp,0);a(p)})()},[]),t?g.jsxs("main",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-7xl mx-auto w-full",children:[g.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[g.jsxs(Mn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[g.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:["Kaixo, ",g.jsxs("span",{className:"text-primary bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:[t.displayName,"!"]})]}),g.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 font-medium",children:"Prest zure abentura matematikoarekin jarraitzeko?"}),g.jsxs("div",{className:"flex gap-3 mt-6",children:[g.jsx(ut,{to:"/games",children:g.jsx(Ns,{size:"lg",leftIcon:g.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),children:"Jolastu"})}),g.jsx(ut,{to:"/progress",children:g.jsx(Ns,{variant:"secondary",size:"lg",leftIcon:g.jsx("span",{className:"material-symbols-outlined",children:"bar_chart"}),children:"Nire Aurrerapena"})})]})]}),g.jsxs(Ti,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white border-none relative overflow-visible",children:[g.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[g.jsx("div",{className:"size-24 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-inner",children:g.jsx("div",{className:"size-20 rounded-xl bg-cover bg-center",style:{backgroundImage:`url("${t.photoURL}")`}})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-blue-100 text-sm font-bold uppercase tracking-wider mb-1",children:"Zure Maila"}),g.jsx("div",{className:"text-4xl font-black",children:t.level}),g.jsx("div",{className:"w-full h-3 bg-black/20 rounded-full mt-3 overflow-hidden",children:g.jsx(Mn.div,{initial:{width:0},animate:{width:`${t.xp%500/5}%`},className:"h-full bg-white rounded-full"})}),g.jsxs("div",{className:"text-right text-xs mt-1 font-mono opacity-80",children:[t.xp%500," / 500 XP"]})]})]}),g.jsx("div",{className:"absolute -top-10 -right-10 size-40 rounded-full bg-white/10 blur-3xl"}),g.jsx("div",{className:"absolute -bottom-10 -left-10 size-40 rounded-full bg-blue-400/20 blur-3xl"})]})]}),g.jsx("section",{children:g.jsx(Ti,{className:"border-2 border-primary/20 bg-gradient-to-r from-slate-50 to-blue-50/50 dark:from-slate-800 dark:to-slate-800/50",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[g.jsxs("div",{className:"flex-1 w-full",children:[g.jsxs(Ti,{className:"p-6",children:[g.jsxs("h2",{className:"text-xl font-black mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"task_alt"}),n("daily_missions")]}),t?g.jsxs("div",{className:"space-y-4",children:[(c=t.missions)==null?void 0:c.map(d=>g.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:d.description}),d.completed?g.jsxs("span",{className:"text-xs font-black text-green-500 bg-green-100 px-2 py-0.5 rounded-full flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})," ",n("completed")]}):g.jsxs("span",{className:"text-xs font-bold text-amber-500 bg-amber-100 dark:bg-amber-900/30 px-2 py-0.5 rounded-full flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"})," ",d.reward]})]}),g.jsx("div",{className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full ${d.completed?"bg-green-500":"bg-blue-500"} transition-all duration-500`,style:{width:`${Math.min(100,d.progress/d.target*100)}%`}})}),g.jsxs("div",{className:"text-xs text-slate-400 mt-1 text-right",children:[d.progress," / ",d.target]})]},d.id)),!t.missions&&g.jsx("p",{className:"text-sm text-slate-500",children:"Kargatzen..."})]}):g.jsxs("div",{className:"text-center py-6 text-slate-400",children:[g.jsx("p",{children:"Sartu saioa misioak ikusteko."}),g.jsx(ut,{to:"/login",children:g.jsx(Ns,{size:"sm",variant:"secondary",className:"mt-2",children:"Hasi Saioa"})})]})]}),g.jsxs("div",{className:"flex justify-between items-end mb-4",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-3xl",children:"trophy"}),"Klasearen Helburua"]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Guztion artean lortu behar dugu!"})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("span",{className:"text-3xl font-black text-primary",children:i.toLocaleString()}),g.jsxs("span",{className:"text-slate-400 font-bold",children:[" / ",l.toLocaleString()," XP"]})]})]}),g.jsx("div",{className:"w-full h-8 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden shadow-inner relative",children:g.jsx(Mn.div,{initial:{width:0},animate:{width:`${Math.min(100,i/l*100)}%`},className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 relative",children:g.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,.15)_25%,transparent_25%,transparent_50%,rgba(255,255,255,.15)_50%,rgba(255,255,255,.15)_75%,transparent_75%,transparent)] bg-[length:1rem_1rem] animate-[progress-bar-stripes_1s_linear_infinite]"})})}),g.jsxs("p",{className:"text-center text-sm font-bold text-slate-500 mt-2",children:[Math.round(i/l*100),"% osatuta - Jarraitu horrela!"]})]}),g.jsxs("div",{className:"shrink-0 text-center bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm rotate-3 hover:rotate-0 transition-transform duration-300",children:[g.jsx("div",{className:"text-4xl mb-2",children:""}),g.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:"Sari Berezia"}),g.jsx("div",{className:"text-xs text-slate-400",children:"50k XP lortzean"})]})]})})}),g.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(ut,{to:"/topics",className:"contents",children:g.jsxs(Ti,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-blue-500",children:[g.jsx("div",{className:"size-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"menu_book"})}),g.jsx("h3",{className:"text-xl font-bold mb-1",children:"Teoria"}),g.jsx("p",{className:"text-slate-500 text-sm",children:"Ikasi eta errepasatu kontzeptuak jokoan hasi aurretik."})]})}),g.jsx(ut,{to:"/games",className:"contents",children:g.jsxs(Ti,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-green-500",children:[g.jsx("div",{className:"size-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"joystick"})}),g.jsx("h3",{className:"text-xl font-bold mb-1",children:"Jolastu"}),g.jsx("p",{className:"text-slate-500 text-sm",children:"Jarri zure gaitasunak proban eta irabazi XP!"})]})}),g.jsx(ut,{to:"/progress",className:"contents",children:g.jsxs(Ti,{hoverEffect:!0,className:"group cursor-pointer border-l-4 border-l-purple-500",children:[g.jsx("div",{className:"size-12 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"military_tech"})}),g.jsx("h3",{className:"text-xl font-bold mb-1",children:"Lorpenak"}),g.jsx("p",{className:"text-slate-500 text-sm",children:"Begiratu zure dominak eta desblokeatu berriak."})]})})]})]}):g.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-20 left-10 size-64 bg-primary/20 rounded-full blur-[100px] animate-pulse"}),g.jsx("div",{className:"absolute bottom-20 right-10 size-80 bg-purple-500/20 rounded-full blur-[100px] animate-pulse",style:{animationDelay:"1s"}}),g.jsxs("div",{className:"relative z-10 max-w-2xl space-y-8",children:[g.jsxs(Mn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[g.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 dark:text-white leading-tight mb-4",children:["Zenbaki ",g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600",children:"Osoen"}),g.jsx("br",{})," Abentura"]}),g.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium max-w-lg mx-auto",children:"Ikasi matematikak jolasten! Irabazi puntuak, igo mailaz eta bihurtu klaseko txapelduna."})]}),g.jsxs(Mn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[g.jsx(ut,{to:"/login",children:g.jsx(Ns,{size:"lg",className:"w-full sm:w-auto shadow-xl shadow-primary/30",children:"Hasi Saioa"})}),g.jsx("button",{onClick:e,children:g.jsx(Ns,{variant:"ghost",size:"lg",className:"w-full sm:w-auto",children:"Gonbidatu gisa sartu"})})]}),g.jsx(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-12",children:[{icon:"sports_esports",label:"Jolasak"},{icon:"military_tech",label:"Lorpenak"},{icon:"school",label:"Teoria"},{icon:"group",label:"Lagunak"}].map((d,f)=>g.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border border-slate-200 dark:border-slate-700",children:[g.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:d.icon}),g.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:d.label})]},f))})]})]})},bu=[{id:"intro",title:"1. Unitatea: Oinarriak",description:"Zenbaki osoen definizioa (Z), ordenatzea eta balio absolutua.",content:`
            <h3>Zer dira Zenbaki Osoak (Z)?</h3>
            <p>Zenbaki osoen multzoa (Z) hiru motatako zenbakiek osatzen dute:</p>
            <ul>
                <li><strong>Positiboak:</strong> (+1, +2...)  "Daukadana".</li>
                <li><strong>Zero:</strong> (0)  Muga.</li>
                <li><strong>Negatiboak:</strong> (-1, -2...)  "Zor dudana" edo "Zero azpitik".</li>
            </ul>
            <br/>
            <h3>Zuzen Erreala eta Ordena</h3>
            <p>Zenbakiak lerro batean ordenatzen dira. Eskuinerantz handitzen dira.</p>
            <p><strong>Garrantzitsua:</strong> Negatiboetan, zenbakia zenbat eta "handiagoa" iruditu (0tik urrunago), orduan eta <strong>txikiagoa</strong> da balioa (-100 < -1).</p>
        `,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correct:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correct:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correct:0}]},{id:"operations",title:"2. Unitatea: Batuketa eta Kenketa",description:"Parentesiak kendu eta eragiketa sinpleak.",content:`
            <h3>1. Pausoa: Parentesiak Kendu</h3>
            <p>Zenbaki baten aurrean zeinu bat badago:</p>
            <ul>
                <li><strong>Zeinu berdinak (+ + edo - -)</strong>  Positibo bihurtzen da (+).</li>
                <li><strong>Zeinu ezberdinak (+ - edo - +)</strong>  Negatibo bihurtzen da (-).</li>
            </ul>
            <br/>
            <h3>2. Pausoa: Eragiketa Egin</h3>
            <ul>
                <li><strong>Zeinu Berdina:</strong> Zenbakiak BATU eta zeinua mantendu. (+5+3=+8)</li>
                <li><strong>Zeinu Ezberdina:</strong> Zenbakiak KENDU eta handienaren zeinua jarri. (+5-3=+2)</li>
            </ul>
        `,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correct:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correct:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correct:2}]},{id:"multiplication",title:"3. Unitatea: Biderketa eta Zatiketa",description:"Zeinuen legea eta parentesi anitzak.",content:`
            <h3>Zeinuen Legea</h3>
            <p>Biderketetan eta zatiketetan arau hau betetzen da BETI:</p>
            <ul>
                <li>+  + = +</li>
                <li>-  - = +</li>
                <li>+  - = -</li>
                <li>-  + = -</li>
            </ul>
            <p><strong>Aholkua:</strong> Lagunaren araua: "Nire lagunaren (+) laguna (+) nire laguna da (+)". "Nire etsaien (-) etsaia (-) nire laguna da (+)".</p>
        `,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correct:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correct:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correct:2}]},{id:"powers",title:"4. Unitatea: Berreketak",description:"Potentziak, erro karratuak eta propietateak.",content:`
            <h3>Berreketen Propietateak</h3>
            <ul>
                <li><strong>Biderketa (Oinarri berdina):</strong> Berretzaileak BATU (a^n  a^m = a^(n+m)).</li>
                <li><strong>Zatiketa (Oinarri berdina):</strong> Berretzaileak KENDU (a^n : a^m = a^(n-m)).</li>
                <li><strong>Berreketaren Berreketa:</strong> Berretzaileak BIDERKATU ((a^n)^m = a^(nm)).</li>
            </ul>
            <br/>
            <h3>Zeinuen Araua (Oinarri Negatiboa)</h3>
            <ul>
                <li><strong>Berretzaile BIKOITIA (2, 4...):</strong> Emaitza POSITIBOA (+).</li>
                <li><strong>Berretzaile BAKOITIA (3, 5...):</strong> Oinarriaren zeinua mantendu.</li>
            </ul>
        `,quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correct:0},{question:"Zein da (-2)^2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correct:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correct:1}]},{id:"advanced",title:"5. Unitatea: Konbinatuak",description:"Eragiketen hierarkia (PEMDAS).",content:`
            <h3>Eragiketen Hierarkia (PEMDAS)</h3>
            <p>Ordena hau jarraitu behar da beti:</p>
            <ol>
                <li><strong>P</strong>arentesiak ( ) [ ]</li>
                <li><strong>E</strong>rroak eta Potentziak</li>
                <li><strong>M</strong>/<strong>D</strong>: Biderketak eta Zatiketak (Ezkerretik eskuinera)</li>
                <li><strong>A</strong>/<strong>S</strong>: Batuketak eta Kenketak (Ezkerretik eskuinera)</li>
            </ol>
        `,quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correct:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correct:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correct:1}]}],Jz=()=>{const{user:t}=js(),{t:e}=hn();if(!t)return g.jsx(tr,{to:"/",replace:!0});const n=a=>t.completedLessons.includes(a),i=a=>{if(t!=null&&t.isAdmin||a===0)return!1;const l=bu[a-1].id;return!n(l)};return g.jsxs("main",{className:"flex-1 p-4 md:p-8 max-w-5xl mx-auto w-full",children:[g.jsxs(Mn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[g.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-4xl text-blue-500",children:"menu_book"}),e("topics_title")]}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg max-w-2xl mx-auto",children:e("topics_subtitle")})]}),g.jsx("div",{className:"relative space-y-8 before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent dark:before:via-slate-700",children:bu.map((a,l)=>{const c=i(l),d=n(a.id);return g.jsxs(Mn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},className:`relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group ${c?"opacity-70 grayscale":""}`,children:[g.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-4 shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10 shadow-xl ${d?"bg-green-500 border-green-100 dark:border-green-900 text-white":c?"bg-slate-200 border-slate-100 dark:bg-slate-700 dark:border-slate-800 text-slate-400":"bg-blue-500 border-blue-100 dark:border-blue-900 text-white animate-pulse"}`,children:g.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:d?"check":c?"lock":"priority_high"})}),g.jsx(ut,{to:c?"#":`/theory/${a.id}`,className:`w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] ${c?"cursor-not-allowed pointer-events-none":""}`,children:g.jsxs(Ti,{hoverEffect:!c,className:`p-6 border-l-4 ${d?"border-l-green-500":"border-l-blue-500"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase tracking-wide ${d?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":c?"bg-slate-100 text-slate-500":"bg-blue-100 text-blue-700"}`,children:[e("unit")," ",l+1]}),d&&g.jsxs("span",{className:"text-green-500 font-bold text-xs flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"verified"})," ",e("completed")]})]}),g.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:a.title}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:a.description}),g.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-slate-500",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"school"})," ",e("theory")]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"quiz"})," ",e("quiz")]})]})]})})]},a.id)})})]})},e9=()=>{const{t}=hn(),[e,n]=N.useState(0);return g.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsx("section",{children:g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border-l-4 border-primary mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:t("theory_intro_title")}),g.jsx("p",{children:t("theory_intro_desc")}),g.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[g.jsx("li",{dangerouslySetInnerHTML:{__html:t("theory_intro_pos")}}),g.jsx("li",{dangerouslySetInnerHTML:{__html:t("theory_intro_zero")}}),g.jsx("li",{dangerouslySetInnerHTML:{__html:t("theory_intro_neg")}})]})]})}),g.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-inner",children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-primary",children:"linear_scale"}),t("theory_interactive_title")]}),g.jsx("p",{className:"mb-6 text-sm",children:t("theory_interactive_desc")}),g.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center select-none overflow-hidden my-4 bg-slate-50 dark:bg-black/20 rounded-xl border border-slate-200 dark:border-slate-700",children:[g.jsx("div",{className:"absolute w-[90%] h-1 bg-slate-300 dark:bg-slate-600 rounded-full"}),g.jsx("div",{className:"absolute w-[90%] flex justify-between px-4",children:[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(i=>g.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[g.jsx("div",{className:`w-0.5 ${i===0?"h-6 bg-slate-800 dark:bg-white":"h-3 bg-slate-400"}`}),g.jsx("span",{className:`text-xs font-bold ${i===0?"text-slate-900 dark:text-white":"text-slate-400"}`,children:i})]},i))}),g.jsx(Mn.div,{drag:"x",dragConstraints:{left:-250,right:250},dragElastic:.1,onDrag:(i,a)=>{},className:"size-12 bg-primary text-white rounded-full flex items-center justify-center shadow-xl cursor-grab active:cursor-grabbing z-10 font-black border-4 border-white dark:border-slate-800",style:{x:0},whileHover:{scale:1.1},whileTap:{scale:.95},children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pan_tool_alt"})})]}),g.jsx("div",{className:"text-center mt-4",children:g.jsx("p",{className:"text-sm text-slate-500 italic",children:t("theory_interactive_tip")})}),g.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-900/30 mt-6",children:[g.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 mb-2",children:t("theory_warning_title")}),g.jsx("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:t("theory_warning_desc")}}),g.jsx("div",{className:"mt-2 font-mono bg-white dark:bg-slate-800 p-2 rounded text-center border border-red-200 dark:border-red-900 animate-pulse",children:"-100 < -1"})]})]})]})},t9=()=>{const{t}=hn(),[e,n]=N.useState(0),i=()=>n(a=>(a+1)%3);return g.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("section",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-6 rounded-2xl border border-yellow-200 dark:border-yellow-800",children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600",children:"layers_clear"}),t("theory_op_step1_title")]}),g.jsx("p",{className:"mb-4",children:t("theory_op_step1_desc")}),g.jsx("div",{onClick:i,className:"cursor-pointer bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border-2 border-yellow-400 flex flex-col items-center justify-center min-h-[160px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:g.jsxs(qk,{mode:"wait",children:[e===0&&g.jsxs(Mn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[g.jsx("div",{className:"text-4xl font-mono font-black text-slate-400 mb-2",children:"+(+5)"}),g.jsx("div",{className:"text-sm text-slate-500",children:t("theory_op_tap_simplify")})]},"step0"),e===1&&g.jsxs(Mn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[g.jsx("div",{className:"text-4xl font-mono font-black text-green-500 mb-2",children:"+5"}),g.jsx("div",{className:"text-sm text-green-600 font-bold",children:t("theory_op_same_sign")})]},"step1"),e===2&&g.jsxs(Mn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center",children:[g.jsx("div",{className:"text-4xl font-mono font-black text-red-500 mb-2",children:"-(-5)"}),g.jsx("div",{className:"text-sm text-red-600 font-bold",children:t("theory_op_example_more")})]},"step2")]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 text-center font-mono font-bold",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[g.jsxs("span",{className:"text-slate-400",children:["+(+a) ",t("or")," -(-a)"]})," ",g.jsx("br",{})," ",g.jsx("span",{className:"text-green-600 text-xl",children:t("theory_op_rule_same")})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[g.jsxs("span",{className:"text-slate-400",children:["+(-a) ",t("or")," -(+a)"]})," ",g.jsx("br",{})," ",g.jsx("span",{className:"text-red-600 text-xl",children:t("theory_op_rule_diff")})]})]})]}),g.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-primary",children:"calculate"}),t("theory_op_step2_title")]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 p-5 rounded-xl",children:[g.jsx("h4",{className:"font-bold text-green-800 dark:text-green-300 mb-2",children:t("theory_op_same_title")}),g.jsx("p",{className:"text-sm mb-2",dangerouslySetInnerHTML:{__html:t("theory_op_same_desc")}}),g.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[g.jsx("li",{children:"+5 +3 = +8"}),g.jsx("li",{children:"-5 -3 = -8"})]})]}),g.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 p-5 rounded-xl",children:[g.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:t("theory_op_diff_title")}),g.jsx("p",{className:"text-sm mb-2",dangerouslySetInnerHTML:{__html:t("theory_op_diff_desc")}}),g.jsxs("ul",{className:"font-mono text-sm bg-white/50 dark:bg-black/20 p-2 rounded",children:[g.jsx("li",{children:"+5 -3 = +2 (5 > 3)"}),g.jsx("li",{children:"-5 +3 = -2 (5 > 3)"})]})]})]})]})]})},n9=()=>{const{t}=hn();return g.jsx("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:g.jsxs("section",{className:"bg-purple-50 dark:bg-purple-900/10 p-6 rounded-2xl border border-purple-200 dark:border-purple-800",children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-purple-600",children:"close"}),t("theory_mult_title")]}),g.jsx("p",{className:"mb-6",children:t("theory_mult_desc")}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx(Oh,{s1:"+",s2:"+",res:"+",color:"green"}),g.jsx(Oh,{s1:"+",s2:"-",res:"-",color:"red"}),g.jsx(Oh,{s1:"-",s2:"+",res:"-",color:"red"}),g.jsx(Oh,{s1:"-",s2:"-",res:"+",color:"green"})]}),g.jsxs("div",{className:"mt-8 p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[g.jsx("h4",{className:"font-bold mb-2",children:t("theory_mult_tip_title")}),g.jsx("p",{className:"text-sm",children:t("theory_mult_tip_desc")}),g.jsxs("ul",{className:"text-sm list-disc pl-5 mt-1 space-y-1",children:[g.jsx("li",{children:t("theory_mult_rule_1")}),g.jsx("li",{children:t("theory_mult_rule_2")})]})]})]})})},Oh=({s1:t,s2:e,res:n,color:i})=>{const[a,l]=N.useState(!1),{t:c}=hn();return g.jsxs("button",{onClick:()=>l(!a),className:`p-6 rounded-xl flex flex-col items-center justify-center gap-2 border-2 transition-all duration-300 ${a?i==="green"?"bg-green-100 border-green-400":"bg-red-100 border-red-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-primary"}`,children:[g.jsxs("div",{className:"flex items-center gap-2 text-2xl font-black text-slate-400",children:[g.jsx("span",{className:"text-slate-900 dark:text-white",children:t}),g.jsx("span",{children:""}),g.jsx("span",{className:"text-slate-900 dark:text-white",children:e})]}),g.jsx("div",{className:"h-12 flex items-center justify-center w-full",children:a?g.jsxs(Mn.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:`text-4xl font-black ${i==="green"?"text-green-600":"text-red-600"}`,children:["= ",n]}):g.jsx("span",{className:"text-sm text-primary font-bold bg-primary/10 px-3 py-1 rounded-full",children:c("theory_mult_tap")})})]})},ZT={intro:{title:"1. Unitatea: Oinarriak",nextLink:"/games?mode=ordering&difficulty=easy",nextLabel:"Praktikatu: Ordena",Component:e9,quiz:[{question:"Zer motatako zenbakiek osatzen dute Z multzoa?",options:["Bakarrik positiboek","Positiboek, negatiboek eta zeroak","Zatikiak eta hamartarrak"],correctIdx:1},{question:"Zuzen errealean, zenbaki bat zenbat eta eskuinerago egon...",options:["Orduan eta txikiagoa da","Orduan eta handiagoa da","Berdin dio"],correctIdx:1},{question:"Zein da handiagoa: -2 ala -10?",options:["-2 handiagoa da","-10 handiagoa da","Berdinak dira"],correctIdx:0}]},operations:{title:"2. Unitatea: Batuketa eta Kenketa",nextLink:"/games?mode=addition&difficulty=easy",nextLabel:"Praktikatu: Batuketak",Component:t9,quiz:[{question:"Zer bihurtzen da '-(+5)' espresioa?",options:["+5","-5","5 (zeinu gabe)"],correctIdx:1},{question:"Zeinu berdineko bi zenbaki operatzeko...",options:["Batu eta zeinua mantendu","Kendu eta handienaren zeinua jarri","Biderkatu"],correctIdx:0},{question:"Zenbat da -5 + 2?",options:["-7","+3","-3"],correctIdx:2}]},multiplication:{title:"3. Unitatea: Biderketa eta Zatiketa",nextLink:"/games?mode=multiplication&difficulty=easy",nextLabel:"Praktikatu: Biderketak",Component:n9,quiz:[{question:"Zer zeinu dauka 'minus bider minus' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Zero"],correctIdx:0},{question:"Zer zeinu dauka 'positibo zati negatibo' eragiketak?",options:["Positiboa (+)","Negatiboa (-)","Depende zenbakiaz"],correctIdx:1},{question:"Zenbat da (-2)  (-3)?",options:["-6","+5","+6"],correctIdx:2}]},powers:{title:"4. Unitatea: Berreketak eta Erroketak",nextLink:"/games?mode=powers&difficulty=easy",nextLabel:"Praktikatu: Berreketak",staticContent:g.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("section",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-200 dark:border-indigo-800",children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-indigo-600",children:"functions"}),"Berreketen Propietateak"]}),g.jsx("p",{className:"mb-6 text-sm",children:"Hiru arau nagusi hauek buruz jakin behar dituzu eragiketak egiteko:"}),g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-green-500 shadow-sm",children:[g.jsx("div",{className:"size-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 font-bold text-lg",children:""}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Biderketa (Oinarri berdina)"}),g.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",g.jsx("strong",{children:"BATU"})," egiten dira."]}),g.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",g.jsx("sup",{children:"n"}),"  a",g.jsx("sup",{children:"m"})," = a",g.jsx("sup",{children:"n+m"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-red-500 shadow-sm",children:[g.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 font-bold text-lg",children:":"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Zatiketa (Oinarri berdina)"}),g.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",g.jsx("strong",{children:"KENDU"})," egiten dira."]}),g.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["a",g.jsx("sup",{children:"n"})," : a",g.jsx("sup",{children:"m"})," = a",g.jsx("sup",{children:"n-m"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border-l-4 border-blue-500 shadow-sm",children:[g.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 font-bold text-lg",children:"()"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Berreketaren Berreketa"}),g.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Berretzaileak ",g.jsx("strong",{children:"BIDERKATU"})," egiten dira."]}),g.jsxs("code",{className:"bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded text-sm font-mono text-indigo-600",children:["(a",g.jsx("sup",{children:"n"}),")",g.jsx("sup",{children:"m"})," = a",g.jsx("sup",{children:"nm"})]})]})]})]})]}),g.jsxs("section",{className:"bg-surface-light dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-slate-500",children:"exposure"}),"Zeinuen Araua (Oinarri Negatiboa)"]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[g.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BIKOITIA (2, 4...)"}),g.jsxs("p",{className:"text-sm",children:["Emaitza ",g.jsx("span",{className:"text-green-600 font-bold",children:"POSITIBOA (+)"}),"."]}),g.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-3)",g.jsx("sup",{children:"2"})," = +9"]})]}),g.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-black/20",children:[g.jsx("p",{className:"font-bold text-sm mb-1",children:"Berretzaile BAKOITIA (3, 5...)"}),g.jsx("p",{className:"text-sm",children:"Oinarriaren zeinua mantendu."}),g.jsxs("p",{className:"font-mono text-xs mt-1 text-slate-500",children:["(-2)",g.jsx("sup",{children:"3"})," = -8"]})]})]})]})]}),quiz:[{question:"Zer egiten da berretzaileekin oinarri berdineko biderketan?",options:["Batu","Biderkatu","Kendu"],correctIdx:0},{question:"Zein da (-2) ber 2 eragiketaren zeinua?",options:["Negatiboa (bakoitia delako)","Positiboa (bikoitia delako)","Zero"],correctIdx:1},{question:"Nola sinplifikatzen da (a^2)^3?",options:["a^5","a^6","a^8"],correctIdx:1}]},advanced:{title:"5. Unitatea: Konbinatuak (PEMDAS)",nextLink:"/games?mode=combined&difficulty=easy",nextLabel:"Praktikatu: Konbinatuak",staticContent:g.jsxs("div",{className:"flex flex-col gap-8 text-slate-700 dark:text-slate-300 leading-relaxed animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-2xl border border-orange-200 dark:border-orange-800",children:[g.jsx("h3",{className:"text-xl font-black text-orange-700 dark:text-orange-300 mb-2",children:"Eragiketen Hierarkia"}),g.jsx("p",{children:"Dena nahastuta dagoenean, ordena hau jarraitu behar da derrigorrez:"})]}),g.jsxs("section",{className:"flex flex-col items-center w-full max-w-lg mx-auto relative",children:[g.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 h-full w-1 bg-slate-200 dark:bg-slate-700 -z-10"}),g.jsxs("div",{className:"w-full bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-purple-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[g.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-purple-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"1"}),g.jsx("div",{className:"flex justify-between items-center",children:g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Parentesiak ( ) [ ]"})})]}),g.jsxs("div",{className:"w-[95%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-indigo-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[g.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-indigo-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"2"}),g.jsx("div",{className:"flex justify-between items-center",children:g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Berreketak eta Erroak"})})]}),g.jsxs("div",{className:"w-[90%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-blue-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[g.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-blue-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"3"}),g.jsx("div",{className:"flex justify-between items-center",children:g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Biderketa eta Zatiketa"})})]}),g.jsxs("div",{className:"w-[80%] bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md border-l-8 border-green-500 mb-4 transform hover:scale-105 transition-transform z-10 relative",children:[g.jsx("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 bg-green-500 text-white size-8 rounded-full flex items-center justify-center font-bold shadow-lg",children:"4"}),g.jsx("div",{className:"flex justify-between items-center",children:g.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Batuketa eta Kenketa"})})]})]})]}),quiz:[{question:"Zer ebatzi behar da lehenengo?",options:["Biderketak","Parentesiak","Berreketak"],correctIdx:1},{question:"Parentesien ondoren, zer dator?",options:["Batuketak","Biderketak","Berreketak eta Erroak"],correctIdx:2},{question:"Zenbat da 2 + 3  4?",options:["20","14","10"],correctIdx:1}]}},s9=()=>{const{topicId:t}=c1(),{user:e,addXp:n}=js(),{t:i}=hn();ma();const a=t||"intro",l=`theory_${a} `,c=ZT[a]||ZT.intro,[d,f]=N.useState(new Array(3).fill(-1)),[p,b]=N.useState(!1),[v,x]=N.useState(!1),A=T=>e&&e.gameXp[T]||0,I=(e==null?void 0:e.isAdmin)===!0,M=!I&&A("ordering_hard")<un.ordering_hard,P=A("addition_hard")>=un.addition_hard||A("subtraction_hard")>=un.subtraction_hard,U=!I&&!P,Y=A("multiplication_hard")>=un.multiplication_hard||A("division_hard")>=un.division_hard,F=!I&&!Y,le=A("powers_hard")>=un.powers_hard||A("roots_hard")>=un.roots_hard,ae=!I&&!le;if(t==="operations"&&M)return g.jsx(tr,{to:"/topics",replace:!0});if(t==="multiplication"&&U)return g.jsx(tr,{to:"/topics",replace:!0});if(t==="powers"&&F)return g.jsx(tr,{to:"/topics",replace:!0});if(t==="advanced"&&ae)return g.jsx(tr,{to:"/topics",replace:!0});N.useEffect(()=>{e&&e.completedLessons.includes(l)?(x(!0),f(c.quiz.map(T=>T.correctIdx)),b(!0)):(f(new Array(3).fill(-1)),b(!1),x(!1))},[l,e,c.quiz]);const ue=async()=>{if(d.some(C=>C===-1))return;b(!0),d.every((C,j)=>C===c.quiz[j].correctIdx)?(kt.win(),x(!0),e&&!e.completedLessons.includes(l)&&await n(50,l)):kt.wrong()};return bu.find(T=>T.id===t)?g.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-10 flex justify-center",children:g.jsxs("div",{className:"max-w-[900px] w-full flex flex-col gap-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx(ut,{to:"/topics",children:g.jsx(Ns,{variant:"ghost",leftIcon:g.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),children:i("back_to_topics")})}),g.jsxs("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:[i("unit")," ",bu.findIndex(T=>T.id===t)+1]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-slate-100 dark:border-slate-700 pb-6",children:[g.jsx("div",{className:"size-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/30",children:g.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:i(`unit_${bu.findIndex(T=>T.id===t)+1}`)}),g.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight",children:c.title})]})]}),v?g.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 font-bold bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg",children:[g.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Teoria menperatuta!"]}):g.jsx("button",{onClick:ue,className:"w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:scale-105 transition-transform",children:"Egiaztatu Erantzunak"}),g.jsxs(ut,{to:c.nextLink,onClick:T=>!v&&T.preventDefault(),className:`w-full md:w-auto flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-bold shadow-lg transition-all 
                        ${v?"bg-primary hover:bg-blue-600 text-white hover:-translate-y-1 cursor-pointer":"bg-slate-200 dark:bg-slate-700 text-slate-400 cursor-not-allowed opacity-70"}`,children:[g.jsx("span",{children:c.nextLabel}),g.jsx("span",{className:"material-symbols-outlined",children:v?"sports_esports":"lock"})]})]})]})}):g.jsx(tr,{to:"/topics",replace:!0})},i9=({text:t})=>{if(!t.includes("^")&&!t.includes(""))return g.jsx("div",{className:"flex items-center justify-center flex-wrap gap-1",children:t.split(" ").map((n,i)=>g.jsx("span",{className:n==="?"?"text-slate-400 animate-pulse":["+","-","","","(",")",":",""].includes(n)?"text-slate-400 mx-1":"text-primary",children:n},i))});const e=t.split(" ");return g.jsx("div",{className:"flex items-center justify-center flex-wrap gap-2 text-4xl md:text-5xl lg:text-6xl font-black text-slate-900 dark:text-white font-display tracking-tight",children:e.map((n,i)=>{if(n==="="||n==="?"||n===""||n===":")return g.jsx("span",{className:"text-slate-400 mx-1",children:n},i);const a=n.split(/(\^)/);return g.jsx("div",{className:"flex items-start text-primary",children:a.map((l,c)=>l==="^"?null:c>0&&a[c-1]==="^"?g.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-[-0.5em]",children:l.replace(/[\(\)]/g,"")},c):g.jsx("span",{children:l},c))},i)})})},r9=({text:t,type:e})=>{if(t.startsWith(""))return g.jsxs("div",{className:"flex items-center gap-1 text-5xl md:text-6xl font-black text-primary",children:[g.jsx("span",{className:"text-slate-400",children:""}),g.jsx("span",{children:t.replace("","").replace("= ?","")}),g.jsx("span",{className:"text-slate-400 ml-4",children:"= ?"})]});if(t.includes("^")){const n=t.split(" = ?")[0],i=(l,c)=>{if(l.includes(")^")){const[d,f]=l.split(")^"),p=d.replace("(",""),[b,v]=p.split("^");return g.jsxs("div",{className:"flex items-start",children:[g.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:"("}),g.jsx("span",{className:"text-primary",children:b}),g.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:v}),g.jsx("span",{className:"text-slate-400 text-4xl md:text-5xl self-center",children:")"}),g.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},c)}if(l.includes("^")){const[d,f]=l.split("^");return g.jsxs("div",{className:"flex items-start",children:[g.jsx("span",{className:"text-primary",children:d}),g.jsx("sup",{className:"text-2xl md:text-3xl text-primary/80 mt-1",children:f})]},c)}return g.jsx("span",{children:l},c)},a=n.split(" ");return g.jsxs("div",{className:"flex items-center justify-center flex-wrap gap-2 text-5xl md:text-6xl font-black",children:[a.map((l,c)=>["",":"].includes(l)?g.jsx("span",{className:"text-slate-400 mx-2",children:l},c):i(l,c)),g.jsx("span",{className:"text-slate-400 ml-2",children:"= ?"})]})}return g.jsx(i9,{text:t})},a9=()=>{const{user:t,addXp:e}=js(),{t:n}=hn(),{addToast:i}=Hl(),[a]=W2(),l=ma(),[c,d]=N.useState("ordering"),[f,p]=N.useState("easy"),[b,v]=N.useState(null),[x,A]=N.useState(null),[I,M]=N.useState(1),[P,U]=N.useState(0),[Y,F]=N.useState(0),[le,ae]=N.useState(""),[ue,R]=N.useState(!1),[T,C]=N.useState(null),j=N.useRef(null),O=N.useRef(null),[B,D]=N.useState(0),[He,et]=N.useState({sequence:[],currentStep:0,completedIds:[]}),K=ce=>t?t.completedLessons.includes(ce):!1,ie=ce=>t&&t.gameXp[ce]||0,ee=(t==null?void 0:t.isAdmin)===!0,Se=ee||ie("ordering_hard")>=un.ordering_hard,Ne=ee||ie("addition_hard")>=un.addition_hard||ie("subtraction_hard")>=un.subtraction_hard,L=ee||ie("multiplication_hard")>=un.multiplication_hard||ie("division_hard")>=un.division_hard,J=ee||ie("powers_hard")>=un.powers_hard||ie("roots_hard")>=un.roots_hard,oe=ee||(t?t.level>=5:!1),de=ce=>{switch(ce){case"ordering":return"theory_intro";case"addition":case"subtraction":return"theory_operations";case"multiplication":case"division":return"theory_multiplication";case"powers":case"roots":return"theory_powers";case"combined":return"theory_advanced";default:return null}},Te=(ce,ve)=>{if(ve==="easy")return!1;const De=un[`${ce}_easy`]||100;if(ve==="medium")return ie(`${ce}_easy`)<De;const Me=un[`${ce}_medium`]||150;return ve==="hard"?ie(`${ce}_medium`)<Me:!0};N.useEffect(()=>{let ce=a.get("mode");const ve=a.get("difficulty");ce==="mixed"&&!oe&&(ce="ordering"),ce==="combined"&&!J&&(ce="ordering"),(ce==="powers"||ce==="roots")&&!L&&(ce="ordering"),(ce==="multiplication"||ce==="division")&&!Ne&&(ce="ordering"),(ce==="addition"||ce==="subtraction")&&!Se&&(ce="ordering");const De=de(ce||"ordering");if(De&&!K(De)){i("error","Joko hau desblokeatzeko Teoria irakurri eta testa gainditu behar duzu!"),l("/topics");return}ce||(ce="ordering"),d(ce);let Me=ve||"easy";return Te(ce,Me)&&(Me="easy"),p(Me),Ps(ce,Me),()=>{j.current&&clearInterval(j.current),O.current&&clearTimeout(O.current)}},[a,oe,J,Se,Ne,L]),N.useEffect(()=>{if(f==="hard"&&!ue&&(!x||(b==null?void 0:b.type)==="ordering")){j.current&&clearInterval(j.current);const ve=c==="combined"||c==="mixed"||(b==null?void 0:b.type)==="ordering"?45:30;((b==null?void 0:b.type)!=="ordering"||He.currentStep===0)&&C(ve),j.current=window.setInterval(()=>{C(De=>De!==null&&De>0?De-1:(Ie(),0))},1e3)}else(b==null?void 0:b.type)!=="ordering"&&(j.current&&clearInterval(j.current),C(null));return()=>{j.current&&clearInterval(j.current)}},[I,f,ue,c,b]);const Ie=()=>{j.current&&clearInterval(j.current),kt.wrong(),Vs(),F(0),(b==null?void 0:b.type)!=="ordering"?(A({val:"Denbora!",isCorrect:!1}),ae("Denbora agortu da. Azkarrago hurrengoan!")):(ae("Denbora agortu da! Saiatu azkarrago."),A({val:"Denbora!",isCorrect:!1})),O.current=window.setTimeout(()=>{Ct()},2e3)},fe=(ce,ve)=>{const De=Math.floor(Math.random()*(ve-ce+1))+ce;return De===0?0:De},wt=()=>`${c}_${f}`,at=()=>un[wt()]||100,zn=()=>(t==null?void 0:t.gameXp[wt()])||0,Jn=ce=>{let ve=ce==="easy"?4:5,De=ce==="easy"?10:ce==="medium"?25:100;const Me=new Set;for(;Me.size<ve;){let ot=fe(-De,De);ot!==0&&Me.add(ot)}const Be=Array.from(Me).sort((ot,Nt)=>ot-Nt),Ve=Array.from(Me).sort(()=>Math.random()-.5).map(ot=>({val:ot.toString(),isCorrect:!0,id:ot}));et({sequence:Be,currentStep:0,completedIds:[]}),v({text:"Ordenatu zenbakiak TXIKIENETIK HANDIERA",options:Ve,type:"ordering",orderingSequence:Be}),ae("Gogoratu: Zenbaki negatiboetan, zenbat eta urrunago zerotik, orduan eta txikiagoa.")},Un=ce=>{const ve=ce==="hard"?fe(1,4):fe(1,2);let De=ce==="easy"?5:10,Me=fe(-De,De),Be=fe(-De,De),Ve=fe(-De,De);Me===0&&(Me=2),Be===0&&(Be=3),Ve===0&&(Ve=-2);let ot="",Nt=0,It=0;ve===1?(ot=`${Me} + ${Be<0?`(${Be})`:Be}  ${Ve<0?`(${Ve})`:Ve}`,Nt=Me+Be*Ve,It=(Me+Be)*Ve):ve===2?(ot=`(${Me} ${Be<0?"-":"+"} ${Math.abs(Be)})  ${Ve<0?`(${Ve})`:Ve}`,Nt=(Me+Be)*Ve,It=Me+Be*Ve):ve===3?(Ve=Ve===0?2:Ve,Be=Ve*fe(1,5)*(Math.random()>.5?1:-1),ot=`${Me} - ${Be<0?`(${Be})`:Be} : ${Ve<0?`(${Ve})`:Ve}`,Nt=Me-Be/Ve,It=(Me-Be)/Ve):(ot=`${Me<0?`(${Me})`:Me}  ${Be<0?`(${Be})`:Be} - ${Ve<0?`(${Ve})`:Ve}`,Nt=Me*Be-Ve,It=Me*(Be-Ve));let Ge=-Nt,Rn=Nt+fe(1,5)*(Math.random()>.5?1:-1);const xe=new Set([Nt,It,Ge,Rn]);for(;xe.size<4;)xe.add(fe(-50,50));const tt=Array.from(xe).sort(()=>Math.random()-.5).map(je=>({val:`${je}`,isCorrect:je===Nt}));v({text:ot+" = ?",options:tt,type:"quiz"}),ae("Hierarkia (PEMDAS): Parentesiak lehenengo, gero Berreketak/Erroak, gero Biderketa/Zatiketa, azkenik Batuketa/Kenketa.")},Ps=(ce,ve)=>{if(O.current&&clearTimeout(O.current),A(null),ae(""),et({sequence:[],currentStep:0,completedIds:[]}),ce==="ordering"){Jn(ve);return}if(ce==="combined"){Un(ve);return}let De=ce;if(ce==="mixed"){const xe=Math.random();if(xe<.15){Jn(ve);return}if(xe<.35){Un(ve);return}De=["addition","subtraction","multiplication","division","powers","roots"][fe(0,5)]}let Me=ve==="easy"?9:ve==="medium"?20:50,Be=fe(-Me,Me),Ve=fe(-Me,Me),ot="",Nt="",It="";const Ge=new Set;if(De==="powers"){const xe=fe(1,3);let tt=ve==="easy"?fe(2,9):fe(2,15),je=fe(2,5),Et=fe(2,5),vt=0,Lt=0,st=0,Xt=0;if(xe===1)ot="",It=`${tt}^${je}  ${tt}^${Et} = ?`,vt=je+Et,Lt=je*Et,st=Math.abs(je-Et),Xt=vt+1,ae(`Oinarri berdineko biderketan, berretzaileak BATU egiten dira (${je} + ${Et} = ${vt}).`);else if(xe===2){if(Et>=je){let fs=je;je=Et+fe(1,3),Et=fs}ot=":",It=`${tt}^${je} : ${tt}^${Et} = ?`,vt=je-Et,Lt=je+Et,st=Math.floor(je/Et),Xt=vt+2,ae(`Oinarri berdineko zatiketan, berretzaileak KENDU egiten dira (${je} - ${Et} = ${vt}).`)}else ot="()",It=`(${tt}^${je})^${Et} = ?`,vt=je*Et,Lt=je+Et,st=Math.pow(je,Et),Xt=vt-1,ae(`Berreketaren berreketan, berretzaileak BIDERKATU egiten dira (${je}  ${Et} = ${vt}).`);for(Nt=`${tt}^${vt}`,Ge.add(Nt),Ge.add(`${tt}^${Lt}`),st!==vt&&st!==Lt&&Ge.add(`${tt}^${st}`),Ge.add(`${tt}^${Xt}`);Ge.size<4;)Ge.add(`${tt}^${vt+fe(1,5)*(Math.random()>.5?1:-1)}`)}else if(De==="roots"){let xe=ve==="easy"?fe(1,10):fe(1,15);xe===0&&(xe=2),Be=xe*xe;let tt=xe;It=`${Be} = ?`,Nt=tt.toString(),Ge.add(Nt),Ge.add((xe+1).toString()),Ge.add((xe-1).toString()),Ge.add(Math.floor(Be/2).toString()),ae(`Erantzuna: ${xe}, zeren ${xe} = ${Be}.`)}else{let xe=Be,tt=Ve;if(De==="division"){Ve===0&&(Ve=2);const st=fe(-10,10);tt=Ve,xe=(st===0?2:st)*tt}let je=0;switch(De){case"addition":ot="+",je=xe+tt;break;case"subtraction":ot="-",je=xe-tt;break;case"multiplication":ot="",je=xe*tt;break;case"division":ot=":",je=xe/tt;break}It=`${xe<0?`(${xe})`:xe} ${ot} ${tt<0?`(${tt})`:tt} = ?`,Nt=je>0?`+${je}`:`${je}`,Ge.add(Nt);const Et=Math.random()>.5?1:2,vt=je+(Math.random()>.5?Et:-Et);Ge.add(vt>0?`+${vt}`:`${vt}`);let Lt=0;for(ot==="+"?Lt=xe-tt:ot==="-"||ot===""?Lt=xe+tt:ot===":"&&(Lt=xe-tt),Lt!==je&&Ge.add(Lt>0?`+${Lt}`:`${Lt}`),Math.random()<.2&&je!==0&&Ge.add(je>0?`${-je}`:`+${-je}`);Ge.size<4;){const st=Math.max(5,Math.abs(je)*.4),Xt=fe(je-st,je+st);Xt!==je&&Ge.add(Xt>0?`+${Xt}`:`${Xt}`)}ae(`Erantzuna: ${Nt}.`)}const Rn=Array.from(Ge).sort(()=>Math.random()-.5).map(xe=>({val:xe,isCorrect:xe===Nt}));v({text:It,options:Rn,type:"quiz"})},Bn=ce=>{const ve=f==="hard"?25:f==="medium"?15:10,De=ce*(f==="hard"?3:2);return ve+De},ni=async ce=>{const ve=await e(ce,wt());ve>0?(i("xp",`+${ve} XP`),D(De=>De+ve)):ce>0?i("info","Zailtasun honetako XP muga lortu duzu! Saiatu hurrengoa."):ve<0&&(i("error",`-${Math.abs(ve)} XP (Penalizazioa)`),D(De=>De+ve))},Vs=async()=>{const ve=Bn(Y)*1.5;await ni(-ve)},xa=ce=>{if(!b||!b.orderingSequence)return;const ve=b.orderingSequence[He.currentStep],De=parseInt(ce.val);if(De===ve){kt.click();const Me=[...He.completedIds,De];if(Me.length===b.orderingSequence.length){kt.correct(),et(Ve=>({...Ve,completedIds:Me})),A({val:"Zuzena!",isCorrect:!0});const Be=Bn(Y);U(Ve=>Ve+Be),F(Ve=>Ve+1),ni(Be),O.current=window.setTimeout(()=>{Ct()},1500)}else et(Be=>({...Be,currentStep:Be.currentStep+1,completedIds:Me}))}else kt.wrong(),Vs(),F(0),i("error","Ordena okerra! Saiatu berriro.")},wa=ce=>{if(!x){if((b==null?void 0:b.type)==="ordering"){xa(ce);return}if(A(ce),j.current&&clearInterval(j.current),ce.isCorrect){kt.correct();const ve=Bn(Y);U(De=>De+ve),F(De=>De+1),ni(ve)}else kt.wrong(),Vs(),F(0);O.current=window.setTimeout(()=>{Ct()},1500)}},Ct=()=>{kt.click(),I<5?(M(ce=>ce+1),Ps(c,f)):qt()},qt=async()=>{if(R(!0),kt.win(),P>=(f==="hard"?50:30)){const ce=f==="hard"?50:f==="medium"?30:10;await ni(ce),i("success",`Jokoa amaituta! Bonus: ${ce} XP`)}else i("success","Jokoa amaituta!")},si=()=>{kt.click(),R(!1),M(1),U(0),F(0),D(0),Ps(c,f)};if(ue){const ce=P>(f==="hard"?100:50)?3:P>(f==="hard"?50:30)?2:1;return g.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[ce===3&&g.jsx(y1,{}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 md:p-12 text-center max-w-md w-full border border-slate-200 dark:border-slate-700 animate-in zoom-in-95 duration-300 relative z-10",children:[g.jsx("div",{className:"mb-6 flex justify-center gap-2",children:[1,2,3].map(ve=>g.jsx("span",{className:`material-symbols-outlined text-6xl ${ve<=ce?"text-yellow-400 fill-current animate-bounce":"text-slate-200 dark:text-slate-700"}`,style:{animationDelay:`${ve*100}ms`},children:"star"},ve))}),g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:n(ce===3?"excellent":ce===2?"very_good":"good")}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:[P," ",n("points_scored"),B!==0&&g.jsxs("span",{className:`block mt-2 font-bold ${B>0?"text-yellow-500":"text-red-500"}`,children:[B>0?`+${B}`:B," XP ",n("this_session")]}),B===0&&g.jsx("span",{className:"block mt-2 text-xs text-slate-400 uppercase font-bold",children:n("xp_cap_reached")})]}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("button",{onClick:si,className:"w-full py-3 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold flex items-center justify-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined",children:"replay"}),n("play_again")]}),g.jsx(ut,{to:"/topics",className:"w-full py-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-bold",children:n("back_to_topics")})]})]})]})}const Ea=at(),pr=zn(),fn=pr>=Ea;return g.jsx("main",{className:"layout-container flex h-full grow flex-col",children:g.jsx("div",{className:"w-full flex flex-1 justify-center py-5 px-4 md:px-8",children:g.jsxs("div",{className:"layout-content-container flex flex-col max-w-[1200px] flex-1 gap-8",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:[fn&&g.jsx("div",{className:"absolute inset-0 bg-yellow-500/10 flex items-center justify-center font-black text-yellow-600 dark:text-yellow-400 opacity-20 -rotate-12 text-3xl",children:"MAX"}),g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-500",children:"stars"}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:["XP (",f,")"]})]}),g.jsxs("div",{className:"flex items-end gap-2",children:[g.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:pr}),g.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-1",children:["/ ",Ea]})]}),g.jsx("div",{className:"w-full h-1 bg-slate-100 dark:bg-slate-700 rounded-full mt-1",children:g.jsx("div",{className:`h-full rounded-full transition-all ${fn?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Math.min(100,pr/Ea*100)}%`}})})]}),g.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"material-symbols-outlined text-primary",children:"school"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:n("level")})]}),g.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:t?t.level:1})]}),g.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"local_fire_department"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:n("streak")})]}),g.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:Y})]}),g.jsxs("div",{className:"flex flex-col gap-1 rounded-xl p-4 bg-white dark:bg-[#1a2634] shadow-sm border border-slate-100 dark:border-slate-800",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"material-symbols-outlined text-blue-400",children:"score"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium uppercase tracking-wider",children:n("score")})]}),g.jsx("p",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:P})]})]}),g.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[g.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6 order-2 lg:order-1",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1 bg-white dark:bg-[#1a2634] rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"tune"}),g.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-bold",children:n("difficulty")})]}),g.jsx("div",{className:"flex gap-1",children:["easy","medium","hard"].map(ce=>{const ve=Te(c,ce);return g.jsxs("button",{disabled:ve,onClick:()=>{kt.click(),p(ce),Ps(c,ce),M(1),U(0),D(0)},className:`px-3 py-1 text-xs font-bold rounded-full capitalize border flex items-center gap-1 transition-all
                                ${f===ce?"bg-primary text-white border-primary":ve?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-transparent cursor-not-allowed opacity-70":"bg-transparent text-slate-500 border-slate-200 dark:border-slate-700 hover:border-primary/50"}`,children:[ve&&g.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"lock"}),ce]},ce)})})]}),T!==null&&g.jsxs("div",{className:`w-20 bg-white dark:bg-[#1a2634] rounded-xl p-2 shadow-sm border flex items-center justify-center font-mono text-xl font-bold ${T<10?"text-red-500 border-red-500 animate-pulse":"text-slate-900 dark:text-white border-slate-200 dark:border-slate-800"}`,children:[T,"s"]})]}),g.jsxs("div",{className:"flex flex-col bg-white dark:bg-[#1a2634] rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 overflow-hidden relative",children:[g.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-slate-400 text-sm",children:"quiz"}),g.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:[n("question")," ",I,"/5"]})]}),g.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ce,ve)=>g.jsx("div",{className:`h-1.5 w-6 rounded-full ${ve<I-1?"bg-green-500":ve===I-1?"bg-blue-500 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`},ve))})]}),g.jsx("div",{className:"p-8 md:p-12 flex flex-col items-center justify-center gap-8 min-h-[400px]",children:b&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-center w-full",children:[g.jsx("p",{className:"text-slate-400 text-sm font-medium mb-4 uppercase tracking-wider",children:b.type==="ordering"?n("order_nums"):n(c==="combined"?"calc_hierarchy":c==="powers"?"simplify":"calc_res")}),b.type!=="ordering"?g.jsx(r9,{text:b.text,type:b.type}):g.jsx("div",{className:"flex flex-col items-center gap-6 w-full",children:g.jsxs("div",{className:"flex gap-2 items-center justify-center flex-wrap min-h-[60px] p-4 bg-slate-100 dark:bg-slate-900 rounded-xl w-full",children:[He.completedIds.map(ce=>g.jsx("div",{className:"size-12 rounded-lg bg-green-500 text-white flex items-center justify-center font-bold text-lg animate-in zoom-in",children:ce},ce)),He.completedIds.length===0&&g.jsx("span",{className:"text-slate-400 italic",children:n("select_smallest")})]})})]}),g.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md mt-4",children:b.options.map((ce,ve)=>b.type==="ordering"&&He.completedIds.includes(ce.id)?g.jsx("div",{className:"h-[76px]"},ve):g.jsx("button",{onClick:()=>wa(ce),disabled:!!x&&b.type!=="ordering",className:`group relative flex items-center justify-center py-6 px-4 rounded-xl border-2 transition-all 
                                    ${x===ce&&b.type!=="ordering"?ce.isCorrect?"border-green-500 bg-green-500/10":"border-red-500 bg-red-500/10":"border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-primary/5 active:bg-primary/10"}`,children:g.jsx("div",{className:`text-2xl font-bold transition-colors ${x===ce&&b.type!=="ordering"?ce.isCorrect?"text-green-600":"text-red-600":"text-slate-700 dark:text-slate-200 group-hover:text-primary"}`,children:ce.val.includes("^")?g.jsxs("div",{className:"flex items-start",children:[g.jsx("span",{children:ce.val.split("^")[0]}),g.jsx("sup",{className:"text-sm mt-1",children:ce.val.split("^")[1]})]}):ce.val})},ve))})]})}),x&&g.jsxs("div",{className:`border-t p-4 md:px-8 md:py-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-bottom-2 fade-in duration-300 ${x.isCorrect||(b==null?void 0:b.type)==="ordering"?"bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800/30":"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800/30"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`size-10 rounded-full flex items-center justify-center ${x.isCorrect||(b==null?void 0:b.type)==="ordering"?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-300"}`,children:g.jsx("span",{className:"material-symbols-outlined",children:x.isCorrect||(b==null?void 0:b.type)==="ordering"?"celebration":"help"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:`font-bold text-lg leading-tight ${x.isCorrect||(b==null?void 0:b.type)==="ordering"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:x.isCorrect||(b==null?void 0:b.type)==="ordering"?(b==null?void 0:b.type)==="ordering"?n("correct_ordering"):n("correct_excl"):n("wrong_excl")}),(b==null?void 0:b.type)!=="ordering"&&g.jsx("p",{className:`${x.isCorrect?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"} text-sm`,children:x.isCorrect?n("correct_answer"):le})]})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold opacity-60 text-slate-600 dark:text-slate-300",children:[n("loading_next"),g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"progress_activity"})]})]})]})]}),g.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6 order-1 lg:order-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-lg",children:n("game_modes")}),g.jsx(ut,{className:"text-primary text-sm font-medium hover:underline",to:"/topics",children:n("theory")})]}),g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[g.jsxs("button",{disabled:!oe,onClick:()=>{oe&&(kt.click(),d("mixed"),p("easy"),M(1),U(0),D(0))},className:`relative p-5 rounded-2xl border-2 shadow-sm flex flex-col items-center gap-3 transition-all text-center group ${oe?c==="mixed"?"bg-primary border-primary text-white shadow-lg shadow-primary/20":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:border-primary/50":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 opacity-60 cursor-not-allowed"}`,children:[!oe&&g.jsx("div",{className:"absolute top-2 right-2 text-slate-400",children:g.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),g.jsx("div",{className:`size-14 rounded-full flex items-center justify-center border-4 border-white/20 shrink-0 ${c==="mixed"?"bg-white/20 text-white":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"}`,children:g.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shuffle"})}),g.jsxs("div",{children:[g.jsx("h4",{className:`font-black text-xl leading-none ${c==="mixed"?"text-white":"text-slate-900 dark:text-white"}`,children:"Nahastuta"}),g.jsx("p",{className:`text-xs mt-1 font-bold uppercase tracking-wide opacity-80 ${c==="mixed"?"text-blue-100":"text-slate-500"}`,children:"Azterketa Orokorra"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("button",{disabled:!K("theory_intro"),onClick:()=>{K("theory_intro")&&(kt.click(),d("ordering"),p("easy"),M(1),U(0),D(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${K("theory_intro")?c==="ordering"?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/20 ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-amber-50 dark:hover:bg-amber-900/10 hover:border-amber-500/50":"opacity-50 grayscale cursor-not-allowed"}`,children:[g.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${c==="ordering"?"bg-white/20 text-white":"bg-amber-100 dark:bg-amber-900/30 text-amber-600"}`,children:g.jsx("span",{className:"material-symbols-outlined",children:"sort"})}),g.jsx("span",{className:`text-sm font-bold ${c==="ordering"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Ordena"})]}),g.jsxs("button",{disabled:!J||!K("theory_advanced"),onClick:()=>{J&&K("theory_advanced")&&(kt.click(),d("combined"),p("easy"),M(1),U(0),D(0))},className:`p-4 rounded-xl border shadow-sm flex flex-col items-center gap-2 transition-all ${!J||!K("theory_advanced")?"bg-slate-50 dark:bg-slate-800 opacity-50 cursor-not-allowed border-slate-200":c==="combined"?"bg-purple-600 border-purple-600 text-white shadow-lg shadow-purple-600/20 ring-2 ring-purple-600 ring-offset-2 dark:ring-offset-[#101822]":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-purple-50 dark:hover:bg-purple-900/10 hover:border-purple-600/50"}`,children:[g.jsx("div",{className:`size-10 rounded-full flex items-center justify-center border-2 border-white/20 ${c==="combined"?"bg-white/20 text-white":"bg-purple-100 dark:bg-purple-900/30 text-purple-600"}`,children:g.jsx("span",{className:"material-symbols-outlined",children:"function"})}),g.jsx("span",{className:`text-sm font-bold ${c==="combined"?"text-white":"text-slate-700 dark:text-slate-300"}`,children:"Konbinatuak"}),(!J||!K("theory_advanced"))&&g.jsx("span",{className:"material-symbols-outlined text-xs absolute top-2 right-2 text-slate-400",children:"lock"})]})]})]}),g.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-2"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"2. Unitatea"}),g.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!Se||!K("theory_operations")?"opacity-50 pointer-events-none":""}`,children:[g.jsxs("button",{disabled:!Se,onClick:()=>{d("addition"),p("easy"),M(1),U(0),D(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="addition"?"bg-green-600 border-green-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-green-50 dark:hover:bg-green-900/10"}`,children:[g.jsx("div",{className:"size-8 rounded bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center font-black text-lg",children:"+"}),g.jsx("span",{className:`text-sm font-bold ${c==="addition"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Batuketa"}),(!Se||!K("theory_operations"))&&g.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),g.jsxs("button",{disabled:!Se,onClick:()=>{d("subtraction"),p("easy"),M(1),U(0),D(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="subtraction"?"bg-red-500 border-red-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-red-50 dark:hover:bg-red-900/10"}`,children:[g.jsx("div",{className:"size-8 rounded bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center font-black text-lg",children:"-"}),g.jsx("span",{className:`text-sm font-bold ${c==="subtraction"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Kenketa"}),(!Se||!K("theory_operations"))&&g.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),g.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"3. Unitatea"}),g.jsxs("div",{className:`grid grid-cols-2 gap-3 mb-4 ${!Ne||!K("theory_multiplication")?"opacity-50 pointer-events-none":""}`,children:[g.jsxs("button",{disabled:!Ne,onClick:()=>{d("multiplication"),p("easy"),M(1),U(0),D(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="multiplication"?"bg-orange-500 border-orange-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-orange-50 dark:hover:bg-orange-900/10"}`,children:[g.jsx("div",{className:"size-8 rounded bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center font-black text-lg",children:""}),g.jsx("span",{className:`text-sm font-bold ${c==="multiplication"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Biderketa"}),(!Ne||!K("theory_multiplication"))&&g.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),g.jsxs("button",{disabled:!Ne,onClick:()=>{d("division"),p("easy"),M(1),U(0),D(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="division"?"bg-teal-500 border-teal-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[g.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:":"}),g.jsx("span",{className:`text-sm font-bold ${c==="division"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Zatiketa"}),(!Ne||!K("theory_multiplication"))&&g.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]}),g.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 px-1",children:"4. Unitatea"}),g.jsxs("div",{className:`grid grid-cols-2 gap-3 ${!L||!K("theory_powers")?"opacity-50 pointer-events-none":""}`,children:[g.jsxs("button",{disabled:!L,onClick:()=>{d("powers"),p("easy"),M(1),U(0),D(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="powers"?"bg-indigo-500 border-indigo-500 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/10"}`,children:[g.jsx("div",{className:"size-8 rounded bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-black text-xs",children:"x"}),g.jsx("span",{className:`text-sm font-bold ${c==="powers"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Berreketak"}),(!L||!K("theory_powers"))&&g.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]}),g.jsxs("button",{disabled:!L,onClick:()=>{d("roots"),p("easy"),M(1),U(0),D(0)},className:`p-3 rounded-xl border transition-all flex items-center gap-3 ${c==="roots"?"bg-teal-600 border-teal-600 text-white shadow-md":"bg-white dark:bg-[#1a2634] border-slate-200 dark:border-slate-700 hover:bg-teal-50 dark:hover:bg-teal-900/10"}`,children:[g.jsx("div",{className:"size-8 rounded bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 flex items-center justify-center font-black text-lg",children:""}),g.jsx("span",{className:`text-sm font-bold ${c==="roots"?"text-white":"text-slate-700 dark:text-slate-200"}`,children:"Erroketak"}),(!L||!K("theory_powers"))&&g.jsx("span",{className:"material-symbols-outlined text-xs ml-auto",children:"lock"})]})]})]})]})]})]})]})})})},o9=()=>{var f;const{user:t}=js(),[e,n]=N.useState([]),{t:i}=hn();if(N.useEffect(()=>{(async()=>{const b=await hs.getLeaderboard();n(b)})()},[t==null?void 0:t.xp]),!t)return g.jsx(tr,{to:"/",replace:!0});const a=Math.min(100,Math.floor(t.xp/9e3*100)),l=p=>{const v={theory_intro:"cat_theory_intro",theory_operations:"cat_theory_operations",theory_multiplication:"cat_theory_multiplication",theory_powers:"cat_theory_powers",theory_advanced:"cat_theory_advanced",ordering_easy:"cat_ordering_easy",ordering_medium:"cat_ordering_medium",ordering_hard:"cat_ordering_hard",combined_easy:"cat_combined_easy",combined_medium:"cat_combined_medium",combined_hard:"cat_combined_hard",mixed_easy:"cat_mixed_easy",mixed_medium:"cat_mixed_medium",mixed_hard:"cat_mixed_hard",addition_easy:"cat_addition_easy",addition_medium:"cat_addition_medium",addition_hard:"cat_addition_hard",subtraction_easy:"cat_subtraction_easy",subtraction_medium:"cat_subtraction_medium",subtraction_hard:"cat_subtraction_hard",multiplication_easy:"cat_multiplication_easy",multiplication_medium:"cat_multiplication_medium",multiplication_hard:"cat_multiplication_hard",division_easy:"cat_division_easy",division_medium:"cat_division_medium",division_hard:"cat_division_hard",powers_easy:"cat_powers_easy",powers_medium:"cat_powers_medium",powers_hard:"cat_powers_hard",roots_easy:"cat_roots_easy",roots_medium:"cat_roots_medium",roots_hard:"cat_roots_hard"}[p];return v?i(v):p},c=Object.entries(un).reduce((p,[b,v])=>{let x="group_basics";b.includes("theory")?x="group_theory":b.includes("ordering")?x="group_ordering":b.includes("combined")?x="group_combined":b.includes("mixed")?x="group_mixed":b.includes("addition")||b.includes("subtraction")?x="group_add_sub":b.includes("multiplication")||b.includes("division")?x="group_mult_div":(b.includes("powers")||b.includes("roots"))&&(x="group_pow_root");const A=i(x);return p[A]||(p[A]=[]),p[A].push({key:b,limit:v,current:t.gameXp[b]||0}),p},{}),d=$A||[];return g.jsx("main",{className:"flex-1 px-4 md:px-10 lg:px-40 py-8",children:g.jsxs("div",{className:"mx-auto max-w-[1100px] flex flex-col gap-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("h1",{className:"text-slate-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]",children:i("progress_welcome").replace("{0}",t.displayName.split(" ")[0])}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base font-normal leading-normal",children:i("progress_summary")})]}),g.jsxs(ut,{to:"/games",className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-all shadow-lg shadow-blue-500/20",children:[g.jsx("span",{className:"material-symbols-outlined",children:"play_circle"}),g.jsx("span",{children:i("keep_playing")})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[g.jsx("div",{className:"size-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mb-1",children:g.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),g.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[t.xp," XP"]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:i("score_label")})]}),g.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[g.jsx("div",{className:"size-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-primary mb-1",children:g.jsx("span",{className:"material-symbols-outlined",children:"donut_large"})}),g.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:["%",a]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:i("course_completed")})]}),g.jsxs("div",{className:"flex flex-col gap-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 items-center text-center shadow-sm",children:[g.jsx("div",{className:"size-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-1",children:g.jsx("span",{className:"material-symbols-outlined",children:"emoji_events"})}),g.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[((f=t.achievements)==null?void 0:f.length)||0,"/",d.length]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:i("achievements_label")})]})]}),g.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 shadow-sm",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex gap-6 justify-between items-end",children:[g.jsx("p",{className:"text-slate-900 dark:text-white text-base font-bold leading-normal",children:i("global_progress")}),g.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-xs font-bold",children:["%",a]})]}),g.jsx("div",{className:"w-full rounded-full bg-slate-100 dark:bg-slate-700 h-3 overflow-hidden",children:g.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500 ease-out",style:{width:`${a}%`}})}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-normal leading-normal",children:a<30?i("progress_good_start"):a<70?i("progress_very_good"):i("progress_almost_there")})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:i("medals_achievements")}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(p=>{var v;const b=(v=t.achievements)==null?void 0:v.includes(p.id);return g.jsxs("div",{className:`flex gap-4 p-4 rounded-xl border transition-all ${b?"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 shadow-sm":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 opacity-60 grayscale"}`,children:[g.jsx("div",{className:`size-12 rounded-full flex items-center justify-center shrink-0 ${b?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-slate-200 dark:bg-slate-700 text-slate-400"}`,children:g.jsx("span",{className:"material-symbols-outlined",children:p.icon})}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("h4",{className:`font-bold ${b?"text-slate-900 dark:text-white":"text-slate-500"}`,children:p.title}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:p.description}),b&&g.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mt-1",children:i("xp_earned").replace("{0}",p.xpReward.toString())})]})]},p.id)})})]}),g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx("h2",{className:"text-slate-900 dark:text-white text-[22px] font-bold leading-tight tracking-[-0.015em]",children:i("game_details")}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Object.entries(c).map(([p,b])=>g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm",children:[g.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:p}),g.jsx("div",{className:"flex flex-col gap-4",children:b.map(v=>g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[g.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:l(v.key)}),g.jsxs("span",{className:`${v.current>=v.limit?"text-green-500 font-bold":"text-slate-400"}`,children:[v.current," / ",v.limit," XP"]})]}),g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 h-2 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full rounded-full transition-all ${v.current>=v.limit?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,v.current/v.limit*100)}%`}})})]},v.key))})]},p))})]})]}),g.jsxs("div",{className:"flex flex-col gap-6",children:[g.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 flex flex-col gap-4",children:[g.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:i("your_level")}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"size-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-2xl font-black text-primary border-4 border-primary/20",children:t.level}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-slate-900 dark:text-white font-bold mb-1",children:i("student_level").replace("{0}",t.level.toString())}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i("next_level_xp").replace("{0}",(500-t.xp%500).toString())}),g.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2 mt-2",children:g.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${t.xp%500/5}%`}})})]})]})]}),g.jsxs("div",{className:"rounded-xl bg-gradient-to-b from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 p-5 text-white flex flex-col gap-4 shadow-lg",children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 pb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-400",children:"trophy"}),g.jsx("h3",{className:"font-bold text-lg",children:i("leaderboard")})]}),g.jsx("span",{className:"text-xs bg-white/10 px-2 py-1 rounded",children:i("this_week")})]}),g.jsx("div",{className:"flex flex-col gap-2",children:e.map((p,b)=>g.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${p.uid===t.uid?"bg-primary/20 border border-primary/50":"hover:bg-white/5"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:`text-sm font-bold w-4 ${b===0?"text-yellow-400":b===1?"text-slate-300":b===2?"text-amber-600":"text-slate-500"}`,children:b+1}),g.jsx("div",{className:"size-8 rounded-full bg-slate-700 bg-cover bg-center",style:{backgroundImage:`url("${p.photoURL}")`}}),g.jsxs("span",{className:`text-sm font-medium ${p.uid===t.uid?"text-white font-bold":"text-slate-300"}`,children:[p.displayName," ",p.uid===t.uid&&i("you_suffix")]})]}),g.jsx("span",{className:"text-sm font-bold text-white",children:p.xp})]},p.uid))})]})]})]})]})})},l9=()=>{const[t,e]=N.useState(""),[n,i]=N.useState(""),[a,l]=N.useState(""),{login:c,loginAsGuest:d}=js(),{t:f}=hn(),p=ma(),b=async x=>{x.preventDefault(),l("");try{await c(t,n),p("/progress")}catch{l(f("login_error_check_data"))}},v=async()=>{try{await d(),p("/progress")}catch{l(f("login_error_guest"))}};return g.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:g.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[g.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:f("login_title_welcome")}),g.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:f("login_subtitle")}),a&&g.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:a}),g.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:f("email_label")}),g.jsx("input",{type:"email",required:!0,value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:f("email_placeholder")})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:f("password_label")}),g.jsx("input",{type:"password",required:!0,value:n,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:f("password_placeholder_dots")})]}),g.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:f("login_button")})]}),g.jsxs("div",{className:"flex items-center gap-4 my-6",children:[g.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"}),g.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:f("or")}),g.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"})]}),g.jsxs("button",{onClick:v,className:"w-full py-3.5 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-white font-bold transition-all border border-slate-200 dark:border-slate-600 flex items-center justify-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined",children:"person"}),f("guest_continue")]}),g.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:[f("no_account")," ",g.jsx(ut,{to:"/register",className:"text-primary font-bold hover:underline",children:f("register_here")})]})]})})},c9=()=>{const[t,e]=N.useState(""),[n,i]=N.useState(""),[a,l]=N.useState(""),[c,d]=N.useState(""),{register:f}=js(),{t:p}=hn(),b=ma(),v=async x=>{x.preventDefault(),d("");try{await f(n,a,t),b("/progress")}catch{d(p("register_error"))}};return g.jsx("main",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4",children:g.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[g.jsx("h1",{className:"text-3xl font-black text-center text-slate-900 dark:text-white mb-2",children:p("register_title")}),g.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:p("register_subtitle")}),c&&g.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:c}),g.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:p("name_label")}),g.jsx("input",{type:"text",required:!0,value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:p("name_placeholder")})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:p("email_label")}),g.jsx("input",{type:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:p("email_placeholder")})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1",children:p("password_label")}),g.jsx("input",{type:"password",required:!0,value:a,onChange:x=>l(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all",placeholder:p("password_placeholder_dots")})]}),g.jsx("button",{type:"submit",className:"mt-2 w-full py-3.5 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-0.5",children:p("register_btn")})]}),g.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:[p("already_account")," ",g.jsx(ut,{to:"/login",className:"text-primary font-bold hover:underline",children:p("login_link")})]})]})})},WT=["https://ui-avatars.com/api/?name=User&background=136dec&color=fff","https://ui-avatars.com/api/?name=User&background=0d9488&color=fff","https://ui-avatars.com/api/?name=User&background=7c3aed&color=fff","https://ui-avatars.com/api/?name=User&background=db2777&color=fff","https://ui-avatars.com/api/?name=User&background=ea580c&color=fff"],u9=()=>{const{user:t}=js(),{t:e}=hn(),[n,i]=N.useState((t==null?void 0:t.displayName)||""),[a,l]=N.useState((t==null?void 0:t.photoURL)||WT[0]),[c,d]=N.useState(!1),[f,p]=N.useState("");if(!t)return g.jsx(tr,{to:"/",replace:!0});const b=async x=>{x.preventDefault(),d(!0),p(""),kt.click();try{await hs.updateProfile(t.uid,{displayName:n,photoURL:a}),p(e("changes_saved")),kt.correct(),setTimeout(()=>window.location.reload(),1e3)}catch{p(e("error")),kt.wrong()}finally{d(!1)}},v=async()=>{window.confirm(e("delete_account_confirm"))&&alert(e("delete_account_contact"))};return g.jsx("main",{className:"flex-1 flex flex-col items-center py-10 px-4",children:g.jsxs("div",{className:"w-full max-w-lg p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700",children:[g.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 border-b border-slate-100 dark:border-slate-700 pb-4",children:e("my_profile")}),f&&g.jsx("div",{className:"mb-6 p-4 rounded-xl bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 font-bold text-center",children:f}),g.jsxs("form",{onSubmit:b,className:"flex flex-col gap-6",children:[g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e("choose_avatar")}),g.jsx("div",{className:"flex gap-3 justify-center flex-wrap",children:WT.map((x,A)=>g.jsx("button",{type:"button",onClick:()=>{l(x),kt.click()},className:`size-14 rounded-full border-4 transition-transform hover:scale-110 ${a===x?"border-primary":"border-transparent"}`,style:{backgroundImage:`url("${x}")`,backgroundSize:"cover"}},A))})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e("username")}),g.jsx("input",{type:"text",value:n,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),g.jsxs("div",{className:"flex flex-col gap-2 opacity-60",children:[g.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:e("email_read_only")}),g.jsx("input",{type:"email",value:t.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 cursor-not-allowed"})]}),g.jsx("button",{type:"submit",disabled:c,className:"mt-4 w-full py-4 rounded-xl bg-primary hover:bg-blue-600 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed",children:e(c?"saving":"save_changes")})]}),g.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:[g.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm uppercase tracking-wide mb-3",children:e("danger_zone")}),g.jsxs("button",{type:"button",onClick:v,className:"text-red-500 hover:text-red-700 text-sm font-bold flex items-center gap-2 hover:underline",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"}),e("delete_account")]})]})]})})},d9=()=>{const{user:t}=js(),{t:e}=hn(),{addToast:n}=Hl(),[i,a]=N.useState([]),[l,c]=N.useState(!0),[d,f]=N.useState(null);N.useEffect(()=>{p()},[t]);const p=async()=>{if(t!=null&&t.isAdmin){const v=await hs.getAllUsers();a(v),c(!1)}},b=async v=>{try{await hs.kickUser(v),n("success",e("user_kicked_success")),f(null),p()}catch{n("error",e("user_kicked_error"))}};return!t||!t.isAdmin?g.jsx(tr,{to:"/",replace:!0}):g.jsxs("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:[g.jsxs("div",{className:"w-full max-w-7xl",children:[g.jsxs("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-4xl text-red-500",children:"admin_panel_settings"}),e("admin_panel")]}),l?g.jsx("div",{className:"flex justify-center p-12",children:g.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-primary",children:"loader"})}):g.jsx(Ti,{className:"p-0 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:e("user")}),g.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider",children:e("email")}),g.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"XP"}),g.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:e("level")}),g.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:e("last_login")}),g.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-center",children:"IP"}),g.jsx("th",{className:"p-5 text-xs font-black text-slate-500 uppercase tracking-wider text-right",children:e("actions")})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:i.map(v=>g.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[g.jsxs("td",{className:"p-4 flex items-center gap-3",children:[g.jsx("div",{className:"size-10 rounded-full bg-cover bg-center bg-slate-200 shadow-sm border border-slate-200 dark:border-slate-700",style:{backgroundImage:`url("${v.photoURL}")`}}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:v.displayName}),v.isAdmin&&g.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-wider",children:"Admin"})]})]}),g.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400 font-mono text-xs",children:v.email}),g.jsx("td",{className:"p-4 text-center font-bold text-primary",children:v.xp}),g.jsx("td",{className:"p-4 text-center",children:g.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300",children:v.level})}),g.jsx("td",{className:"p-4 text-center text-xs text-slate-500",children:new Date(v.lastLoginDate).toLocaleDateString()}),g.jsx("td",{className:"p-4 text-center text-xs font-mono text-slate-400",children:v.lastIp||"-"}),g.jsx("td",{className:"p-4 text-right",children:!v.isAdmin&&g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsxs(ut,{to:`/admin/user/${v.uid}`,className:"px-3 py-1.5 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 font-bold text-xs flex items-center gap-1 hover:bg-blue-200 transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"visibility"}),e("view")]}),g.jsx(Ns,{variant:"danger",size:"sm",leftIcon:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"person_remove"}),onClick:()=>f(v.uid),children:e("kick")})]})})]},v.uid))})]})})})]}),d&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs(Ti,{className:"max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[g.jsx("div",{className:"size-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center mb-4 mx-auto",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:e("are_you_sure")}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-center text-sm",children:e("kick_confirmation_text")}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(Ns,{variant:"ghost",className:"flex-1",onClick:()=>f(null),children:e("cancel")}),g.jsx(Ns,{variant:"danger",className:"flex-1",onClick:()=>b(d),children:e("kick")})]})]})})]})},h9=()=>{const{userId:t}=c1(),[e,n]=N.useState(null),[i,a]=N.useState(null),[l,c]=N.useState([]),[d,f]=N.useState(!0),{addToast:p}=Hl(),{t:b}=hn();if(N.useEffect(()=>{(async()=>{if(t)try{const A=await eo.getUserProfile(t);n(A);const I=await hs.getUserAnalytics(t);a(I);const M=await hs.getUserSessions(t);c(M)}catch(A){console.error(A),p("error",b("error"))}finally{f(!1)}})()},[t]),d)return g.jsx("div",{className:"p-8 text-center",children:b("loading")});if(!e)return g.jsx("div",{className:"p-8 text-center",children:b("user")+" "+b("no_data")});const v=x=>{const A=Math.floor(x/3600),I=Math.floor(x%3600/60),M=x%60;return`${A}h ${I}m ${M}s`};return g.jsxs("div",{className:"flex-1 p-6 md:p-10 bg-slate-50 dark:bg-slate-900 min-h-screen",children:[g.jsxs(ut,{to:"/admin",className:"text-slate-500 hover:text-primary mb-6 flex items-center gap-2 font-bold",children:[g.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),b("admin_return")]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 mb-8 flex flex-col md:flex-row items-center gap-6",children:[g.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-24 h-24 rounded-full border-4 border-primary"}),g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white",children:e.displayName}),g.jsx("p",{className:"text-slate-500",children:e.email}),g.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 justify-center md:justify-start",children:[g.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-bold",children:[b("level")," ",e.level]}),g.jsxs("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-bold",children:[e.xp," XP"]}),g.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-bold",children:[i==null?void 0:i.totalSessions," ",b("sessions_total")]}),g.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold text-nowrap",children:[" ",v((i==null?void 0:i.totalTime)||0)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-md border border-slate-200 dark:border-slate-700",children:[g.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-slate-900 dark:text-white",children:[g.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"bar_chart"}),b("most_used_sections")]}),g.jsxs("div",{className:"space-y-3",children:[(i==null?void 0:i.popularSections)&&Object.entries(i.popularSections).sort((x,A)=>A[1]-x[1]).slice(0,5).map(([x,A])=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[g.jsx("span",{className:"font-mono text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:x}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-24 bg-slate-200 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-primary",style:{width:`${Math.min(100,A*5)}%`}})}),g.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:A})]})]},x)),(!(i!=null&&i.popularSections)||Object.keys(i.popularSections).length===0)&&g.jsx("p",{className:"text-slate-500",children:b("no_data")})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-md border border-slate-200 dark:border-slate-700",children:[g.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-slate-900 dark:text-white",children:[g.jsx("span",{className:"material-symbols-outlined text-purple-500",children:"history"}),b("last_sessions")]}),g.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2",children:[l.map(x=>g.jsxs("div",{className:"p-4 border border-slate-100 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:new Date(x.startTime).toLocaleDateString()}),g.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(x.startTime).toLocaleTimeString()," - ",x.endTime?new Date(x.endTime).toLocaleTimeString():b("active")]})]}),g.jsx("span",{className:"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-xs px-2 py-1 rounded font-mono",children:x.duration?v(x.duration):"..."})]}),g.jsx("p",{className:"text-xs text-slate-400 truncate",title:x.deviceInfo,children:x.deviceInfo})]},x.id)),l.length===0&&g.jsx("p",{className:"text-slate-500",children:b("no_sessions")})]})]})]})]})},f9=()=>{const{user:t}=js(),{addToast:e}=Hl(),{t:n}=hn(),[i,a]=N.useState(null),l=IE.filter(f=>f.type==="avatar"),c=IE.filter(f=>f.type==="frame"),d=async f=>{if(t){a(f.id),kt.click();try{const p=await hs.buyItem(t.uid,f);p.success?(e("success",p.message),kt.correct(),setTimeout(()=>window.location.reload(),1e3)):(e("error",p.message),kt.wrong())}catch{e("error",n("error_buying"))}finally{a(null)}}};return t?g.jsx("main",{className:"flex-1 p-6 md:p-10 flex flex-col items-center",children:g.jsxs("div",{className:"w-full max-w-6xl",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 gap-6",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white flex items-center gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-4xl text-purple-500",children:"storefront"}),n("shop_title")]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 text-lg",children:n("shop_subtitle")})]}),g.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-white px-8 py-4 rounded-2xl shadow-lg shadow-amber-500/30 flex items-center gap-4 transform hover:scale-105 transition-transform",children:[g.jsx("div",{className:"size-12 rounded-full bg-white/20 flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-3xl",children:"monetization_on"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold uppercase text-yellow-100 tracking-wider",children:n("balance")}),g.jsx("p",{className:"text-3xl font-black",children:t.coins||0})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-12",children:[g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6 flex items-center gap-2 border-b border-slate-200 dark:border-slate-800 pb-2",children:[g.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"face"}),n("special_avatars")]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(f=>g.jsx(JT,{item:f,user:t,onBuy:d,buying:i===f.id},f.id))})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6 flex items-center gap-2 border-b border-slate-200 dark:border-slate-800 pb-2",children:[g.jsx("span",{className:"material-symbols-outlined text-green-500",children:"crop_square"}),n("frames")]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(f=>g.jsx(JT,{item:f,user:t,onBuy:d,buying:i===f.id},f.id))})]})]})]})}):null},JT=({item:t,user:e,onBuy:n,buying:i})=>{var f,p;const{t:a}=hn(),l=(f=e.inventory)==null?void 0:f.includes(t.id),c=e.coins>=t.price,d=t.requiresLevel?e.level<t.requiresLevel:!1;return g.jsxs(Ti,{className:`relative flex flex-col p-0 overflow-hidden group ${d?"opacity-60 grayscale":""}`,children:[g.jsxs("div",{className:"h-40 bg-slate-100 dark:bg-slate-800 flex items-center justify-center relative overflow-hidden",children:[t.previewUrl?g.jsx("img",{src:t.previewUrl,alt:t.name,className:"size-24 rounded-full shadow-lg group-hover:scale-110 transition-transform duration-300"}):g.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-400",children:t.icon}),l&&g.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-sm",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"}),a("owned")]})]}),g.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h3",{className:"font-black text-lg text-slate-900 dark:text-white leading-tight",children:t.name}),g.jsxs("div",{className:"text-xs font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded-lg flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"monetization_on"}),t.price]})]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 flex-1",children:t.description}),d?g.jsxs("div",{className:"w-full py-2 bg-slate-100 text-slate-500 rounded-lg text-xs font-bold text-center flex items-center justify-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"}),a("level_required").replace("{0}",((p=t.requiresLevel)==null?void 0:p.toString())||"1")]}):l?g.jsx(Ns,{variant:"secondary",className:"w-full opacity-50 cursor-default",disabled:!0,children:a("purchased")}):g.jsx(Ns,{variant:c?"primary":"secondary",className:"w-full",onClick:()=>n(t),disabled:!c||i,children:a(i?"buying":c?"buy":"insufficient_funds")})]})]})},m9=()=>g.jsx(S4,{children:g.jsx(A4,{children:g.jsx(rI,{children:g.jsx(K2,{children:g.jsxs("div",{className:"flex flex-col min-h-screen",children:[g.jsx(Kz,{}),g.jsx(Qz,{}),g.jsxs(E2,{children:[g.jsx(As,{path:"/",element:g.jsx(Wz,{})}),g.jsx(As,{path:"/topics",element:g.jsx(Jz,{})}),g.jsx(As,{path:"/theory",element:g.jsx(s9,{})}),g.jsx(As,{path:"/games",element:g.jsx(a9,{})}),g.jsx(As,{path:"/progress",element:g.jsx(o9,{})}),g.jsx(As,{path:"/login",element:g.jsx(l9,{})}),g.jsx(As,{path:"/register",element:g.jsx(c9,{})}),g.jsx(As,{path:"/profile",element:g.jsx(u9,{})}),g.jsx(As,{path:"/shop",element:g.jsx(f9,{})}),g.jsx(As,{path:"/admin",element:g.jsx(d9,{})}),g.jsx(As,{path:"/admin/user/:userId",element:g.jsx(h9,{})})]}),g.jsx(Xz,{}),g.jsx(Yz,{})]})})})})});class p9 extends t1.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?g.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",color:"red"},children:[g.jsx("h1",{children:"Something went wrong."}),g.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),g.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}const HR=document.getElementById("root");if(!HR)throw new Error("Could not find root element to mount to");const g9=IN.createRoot(HR);g9.render(g.jsx(t1.StrictMode,{children:g.jsx(p9,{children:g.jsx(m9,{})})}));
